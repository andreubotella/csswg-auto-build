<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>CSS Grid Layout Module Level 3</title>
  <meta content="ED" name="w3c-status">
  <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-ED" rel="stylesheet">
  <meta content="Bikeshed version 0ef803fdf, updated Tue Jan 6 11:59:39 2026 -0800" name="generator">
  <link href="https://www.w3.org/TR/css-grid-3/" rel="canonical">
  <link href="https://drafts.csswg.org/csslogo.ico" rel="icon">
  <meta content="b5d5a3c04df0be5902065e191661ae64fc42f87b" name="revision">
  <meta content="dark light" name="color-scheme">
  <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css">
<style>
:is(section, p).option {
	border-right: 1em double;
	padding-right: 1em;
}
:is(section, p).option.grid {
	border-right-color: #be2596;
}
:is(section, p).option.masonry {
	border-right-color: #96be25;
}
:is(span, a).option {
	font-weight: bold;
}
:is(span, a).option * {
	color: inherit;
}
:is(span, a).option.grid {
	color: #be2596;
}
:is(span, a).option.masonry {
	color: #658118
}
</style>
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */
/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example " counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
    --dfnpanel-target-bg: #ffc;
    --dfnpanel-target-outline: orange;
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
        --dfnpanel-target-bg: #333;
        --dfnpanel-target-outline: silver;
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel a:focus {
    outline: 5px auto Highlight;
    outline: 5px auto -webkit-focus-ring-color;
}
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: 8px;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
    transition: left 1s ease-out, bottom 1s ease-out;
}

.dfn-panel .link-item:hover {
    text-decoration: underline;
}
.dfn-panel .link-item .copy-icon {
    opacity: 0;
}
.dfn-panel .link-item:hover .copy-icon,
.dfn-panel .link-item .copy-icon:focus {
    opacity: 1;
}

.dfn-panel .copy-icon {
    display: inline-block;
    margin-right: 0.5em;
    width: 0.85em;
    height: 1em;
    border-radius: 3px;
    background-color: #ccc;
    cursor: pointer;
}

.dfn-panel .copy-icon .icon {
    width: 100%;
    height: 100%;
    background-color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
}

.dfn-panel .copy-icon .icon::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 1px solid black;
    background-color: #ccc;
    opacity: 0.25;
    transform: translate(3px, -3px);
}

.dfn-panel .copy-icon:active .icon::before {
    opacity: 1;
}

.dfn-paneled[role="button"] { cursor: help; }

.highlighted {
    animation: target-fade 3s;
}

@keyframes target-fade {
    from {
        background-color: var(--dfnpanel-target-bg);
        outline: 5px solid var(--dfnpanel-target-outline);
    }
    to {
        color: var(--a-normal-text);
        background-color: transparent;
        outline: transparent;
    }
}
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-mdn-anno */
:root {
	--mdn-bg: #EEE;
	--mdn-shadow: #999;
	--mdn-nosupport-text: #ccc;
	--mdn-pass: green;
	--mdn-fail: red;
}
@media (prefers-color-scheme: dark) {
	:root {
		--mdn-bg: #222;
		--mdn-shadow: #444;
		--mdn-nosupport-text: #666;
		--mdn-pass: #690;
		--mdn-fail: #d22;
	}
}
.mdn-anno {
	background: var(--mdn-bg, #EEE);
	border-radius: .25em;
	box-shadow: 0 0 3px var(--mdn-shadow, #999);
	color: var(--text, black);
	font: 1em sans-serif;
	hyphens: none;
	max-width: min-content;
	overflow: hidden;
	padding: 0.2em;
	position: absolute;
	right: 0.3em;
	top: auto;
	white-space: nowrap;
	word-wrap: normal;
	z-index: 8;
}
.mdn-anno.unpositioned {
	display: none;
}
.mdn-anno.overlapping-main {
	opacity: .2;
	transition: opacity .1s;
}
.mdn-anno[open] {
	opacity: 1;
	z-index: 9;
	min-width: 9em;
}
.mdn-anno:hover {
	opacity: 1;
	outline: var(--text, black) 1px solid;
}
.mdn-anno > summary {
	font-weight: normal;
	text-align: right;
	cursor: pointer;
	display: block;
}
.mdn-anno > summary > .less-than-two-engines-flag {
	color: var(--mdn-fail);
	padding-right: 2px;
}
.mdn-anno > summary > .all-engines-flag {
	color: var(--mdn-pass);
	padding-right: 2px;
}
.mdn-anno > summary > span {
	color: #fff;
	background-color: #000;
	font-weight: normal;
	font-family: zillaslab, Palatino, "Palatino Linotype", serif;
	padding: 2px 3px 0px 3px;
	line-height: 1.3em;
	vertical-align: top;
}
.mdn-anno > .feature {
	margin-top: 20px;
}
.mdn-anno > .feature:not(:first-of-type) {
	border-top: 1px solid #999;
	margin-top: 6px;
	padding-top: 2px;
}
.mdn-anno > .feature > .less-than-two-engines-text {
	color: var(--mdn-fail);
}
.mdn-anno > .feature > .all-engines-text {
	color: var(--mdn-pass);
}
.mdn-anno > .feature > p {
	font-size: .75em;
	margin-top: 6px;
	margin-bottom: 0;
}
.mdn-anno > .feature > p + p {
	margin-top: 3px;
}
.mdn-anno > .feature > .support {
	display: block;
	font-size: 0.6em;
	margin: 0;
	padding: 0;
	margin-top: 2px;
}
.mdn-anno > .feature > .support + div {
	padding-top: 0.5em;
}
.mdn-anno > .feature > .support > hr {
	display: block;
	border: none;
	border-top: 1px dotted #999;
	padding: 3px 0px 0px 0px;
	margin: 2px 3px 0px 3px;
}
.mdn-anno > .feature > .support > hr::before {
	content: "";
}
.mdn-anno > .feature > .support > span {
	padding: 0.2em 0;
	display: block;
	display: table;
}
.mdn-anno > .feature > .support > span.no {
	color: var(--mdn-nosupport-text);
	filter: grayscale(100%);
}
.mdn-anno > .feature > .support > span.no::before {
	opacity: 0.5;
}
.mdn-anno > .feature > .support > span:first-of-type {
	padding-top: 0.5em;
}
.mdn-anno > .feature > .support > span > span {
	padding: 0 0.5em;
	display: table-cell;
}
.mdn-anno > .feature > .support > span > span:first-child {
	width: 100%;
}
.mdn-anno > .feature > .support > span > span:last-child {
	width: 100%;
	white-space: pre;
	padding: 0;
}
.mdn-anno > .feature > .support > span::before {
	content: ' ';
	display: table-cell;
	min-width: 1.5em;
	height: 1.5em;
	background: no-repeat center center;
	background-size: contain;
	text-align: right;
	font-size: 0.75em;
	font-weight: bold;
}
.mdn-anno > .feature > .support > .chrome_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
}
.mdn-anno > .feature > .support > .firefox_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
}
.mdn-anno > .feature > .support > .chrome::before {
	background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
}
.mdn-anno > .feature > .support > .edge_blink::before {
	background-image: url(https://resources.whatwg.org/browser-logos/edge.svg);
}
.mdn-anno > .feature > .support > .edge::before {
	background-image: url(https://resources.whatwg.org/browser-logos/edge_legacy.svg);
}
.mdn-anno > .feature > .support > .firefox::before {
	background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
}
.mdn-anno > .feature > .support > .ie::before {
	background-image: url(https://resources.whatwg.org/browser-logos/ie.png);
}
.mdn-anno > .feature > .support > .safari_ios::before {
	background-image: url(https://resources.whatwg.org/browser-logos/safari-ios.svg);
}
.mdn-anno > .feature > .support > .nodejs::before {
	background-image: url(https://nodejs.org/favicon.ico);
}
.mdn-anno > .feature > .support > .opera_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
}
.mdn-anno > .feature > .support > .opera::before {
	background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
}
.mdn-anno > .feature > .support > .safari::before {
	background-image: url(https://resources.whatwg.org/browser-logos/safari.png);
}
.mdn-anno > .feature > .support > .samsunginternet_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/samsung.svg);
}
.mdn-anno > .feature > .support > .webview_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/android-webview.png);
}
.name-slug-mismatch {
	color: red;
}
.caniuse-status:hover {
	z-index: 9;
}
/* dt, li, .issue, .note, and .example are "position: relative", so to put annotation at right margin, must move to right of containing block */;
.h-entry:not(.status-LS) dt > .mdn-anno, .h-entry:not(.status-LS) li > .mdn-anno, .h-entry:not(.status-LS) .issue > .mdn-anno, .h-entry:not(.status-LS) .note > .mdn-anno, .h-entry:not(.status-LS) .example > .mdn-anno {
	right: -6.7em;
}
.h-entry p + .mdn-anno {
	margin-top: 0;
}
 h2 + .mdn-anno.after {
	margin: -48px 0 0 0;
}
 h3 + .mdn-anno.after {
	margin: -46px 0 0 0;
}
 h4 + .mdn-anno.after {
	margin: -42px 0 0 0;
}
 h5 + .mdn-anno.after {
	margin: -40px 0 0 0;
}
 h6 + .mdn-anno.after {
	margin: -40px 0 0 0;
}
</style>
<style>/* Boilerplate: style-ref-hints */
:root {
    --ref-hint-bg: #ddd;
    --ref-hint-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --ref-hint-bg: #222;
        --ref-hint-text: var(--text);
    }
}

.ref-hint {
    display: inline-block;
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.5em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--ref-hint-bg);
    color: var(--ref-hint-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}

.ref-hint * { margin: 0; padding: 0; text-indent: 0; }

.ref-hint ul { padding: 0 0 0 1em; list-style: none; }
</style>
<style>/* Boilerplate: style-selflinks */
:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
<style>/* Boilerplate: style-wpt */
:root {
    --wpt-border: hsl(0, 0%, 60%);
    --wpt-bg: hsl(0, 0%, 95%);
    --wpt-text: var(--text);
    --wptheading-text: hsl(0, 0%, 30%);
}
@media (prefers-color-scheme: dark) {
    :root {
        --wpt-border: hsl(0, 0%, 30%);
        --wpt-bg: var(--borderedblock-bg);
        --wpt-text: var(--text);
        --wptheading-text: hsl(0, 0%, 60%);
    }
}
.wpt-tests-block {
    list-style: none;
    border-left: .5em solid var(--wpt-border);
    background: var(--wpt-bg);
    color: var(--wpt-text);
    margin: 1em auto;
    padding: .5em;
}
.wpt-tests-block summary {
    color: var(--wptheading-text);
    font-weight: normal;
    text-transform: uppercase;
}
.wpt-tests-block summary::marker{
    color: var(--wpt-border);
}
.wpt-tests-block summary:hover::marker{
    color: var(--wpt-text);
}
/*
   The only content  of a wpt test block in its closed state is the <summary>,
   which contains the word TESTS,
   and that is absolutely positioned.
   In that closed state, wpt test blocks are styled
   to have a top margin whose height is exactly equal
   to the height of the absolutely positioned <summary>,
   and no other background/padding/margin/border.
   The wpt test block elements will therefore allow the maring
   of the previous/next block elements
   to collapse through them;
   if this combined margin would be larger than its own top margin,
   it stays as is,
   and therefore the pre-existing vertical rhythm of the document is undisturbed.
   If that combined margin would be smaller, it is grown to that size.
   This means that the wpt test block ensures
   that there's always enough vertical space to insert the summary,
   without adding more than is needed.
*/
.wpt-tests-block:not([open]){
    padding: 0;
    border: none;
    background: none;
    font-size: 0.75em;
    line-height: 1;
    position: relative;
    margin: 1em 0 0;
}
.wpt-tests-block:not([open]) summary {
    position: absolute;
    right: 0;
    bottom: 0;
}
/*
   It is possible that both the last child of a block element
   and the block element itself
   would be annotated with a <wpt> block each.
   If the block element has a padding or a border,
   that's fine, but otherwise
   the bottom margin of the block and of its last child would collapse
   and both <wpt> elements would overlap, being both placed there.
   To avoid that, add 1px of padding to the <wpt> element annotating the last child
   to prevent the bottom margin of the block and of its last child from collapsing
   (and as much negative margin,
   as wel only want to prevent margin collapsing,
   but are not trying to actually take more space).
*/
.wpt-tests-block:not([open]):last-child {
    padding-bottom: 1px;
    margin-bottom: -1px;
}
/*
   Exception to the previous rule:
   don't do that in non-last list items,
   because it's not necessary,
   and would therefore consume more space than strictly needed.
   Lists must have list items as children, not <wpt> elements,
   so a <wpt> element cannot be a sibling of a list item,
   and the collision that the previous rule avoids cannot happen.
*/
li:not(:last-child) > .wpt-tests-block:not([open]):last-child,
dd:not(:last-child) > .wpt-tests-block:not([open]):last-child {
    padding-bottom: 0;
    margin-bottom: 0;
}
.wpt-tests-block:not([open]):not(:hover){
    opacity: 0.5;
}
.wpt-tests-list {
    list-style: none;
    display: grid;
    margin: 0;
    padding: 0;
    grid-template-columns: 1fr max-content auto auto;
    grid-column-gap: .5em;
}
.wpt-tests-block hr:last-child {
    display: none;
}
.wpt-test {
    display: contents;
}
.wpt-test > a {
    text-decoration: underline;
    border: none;
}
.wpt-test > .wpt-name { grid-column: 1; }
.wpt-test > .wpt-results { grid-column: 2; }
.wpt-test > .wpt-live { grid-column: 3; }
.wpt-test > .wpt-source { grid-column: 4; }

.wpt-test > .wpt-results {
    display: flex;
    gap: .1em;
}
.wpt-test .wpt-result {
    display: inline-block;
    height: 1em;
    width: 1em;
    border-radius: 50%;
    position: relative;
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/">
    <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
</a>
</p>
   <h1 class="no-ref p-name" id="title">CSS Grid Layout Module Level 3</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types/#ED">Editor’s Draft</a>,
    <time class="dt-updated" datetime="2026-02-09">9 February 2026</time></p>
   <details open>
    <summary>More details about this document</summary>
    <div data-fill-with="spec-metadata">
     <dl>
      <dt>This version:
      <dd><a class="u-url" href="https://drafts.csswg.org/css-grid-3/">https://drafts.csswg.org/css-grid-3/</a>
      <dt>Latest published version:
      <dd><a href="https://www.w3.org/TR/css-grid-3/">https://www.w3.org/TR/css-grid-3/</a>
      <dt>Feedback:
      <dd><a href="https://github.com/w3c/csswg-drafts/labels/css-grid-3">CSSWG Issues Repository</a>
      <dd><a href="#issues-index">Inline In Spec</a>
      <dt class="editor">Editors:
      <dd class="editor h-card p-author vcard" data-editor-id="42199"><a class="fn p-name u-url url" href="http://www.xanthir.com/contact/">Tab Atkins Jr.</a> (<span class="org p-org">Google</span>)
      <dd class="editor h-card p-author vcard" data-editor-id="35400"><a class="fn p-name u-url url" href="http://fantasai.inkedblade.net/contact">Elika J. Etemad / fantasai</a> (<span class="org p-org">Apple</span>)
      <dd class="editor h-card p-author vcard" data-editor-id="52801"><a class="fn p-name u-url url" href="http://jensimmons.com/">Jen Simmons</a> (<span class="org p-org">Apple</span>)
      <dd class="editor h-card p-author vcard" data-editor-id="138640"><a class="fn p-name u-url url" href="https://brandonstewart.net">Brandon Stewart</a> (<span class="org p-org">Apple</span>)
      <dt class="editor">Former Editor:
      <dd class="editor h-card p-author vcard"><a class="email fn p-name u-email" href="mailto:mailto:mats@mozilla.com">Mats Palmgren</a> (<span class="org p-org">Mozilla</span>)
      <dt>Suggest an Edit for this Spec:
      <dd><a href="https://github.com/w3c/csswg-drafts/blob/main/css-grid-3/Overview.bs">GitHub Editor</a>
     </dl>
    </div>
   </details>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> © 2026 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/copyright/software-license/" rel="license" title="W3C Software and Document License">permissive document license</a> rules apply.
</p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="heading no-num no-ref no-toc settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This module introduces a one-dimensional grid layout mode for <a href="https://www.w3.org/TR/css-grid-2/">CSS Grid</a> containers.</p>
   


<a href="https://www.w3.org/TR/CSS/">CSS</a> is a language for describing the rendering of structured documents
(such as HTML and XML)
on screen, on paper, etc.


  </div>
  <h2 class="heading no-num no-ref no-toc settled" id="sotd"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p>
	This is a public copy of the editors’ draft.
	It is provided for discussion only and may change at any moment.
	Its publication here does not imply endorsement of its contents by W3C.
	Don’t cite this document other than as work in progress.

</p>
   <p>Please send feedback
	by <a href="https://github.com/w3c/csswg-drafts/issues">filing issues in GitHub</a> (preferred),
	including the spec code “css-grid” in the title, like this:
	“[css-grid] <i>…summary of comment…</i>”.
	All issues and comments are <a href="https://lists.w3.org/Archives/Public/public-css-archive/">archived</a>.
	Alternately, feedback can be sent to the (<a href="https://lists.w3.org/Archives/Public/www-style/">archived</a>) public mailing list
	<a href="mailto:www-style@w3.org?Subject=%5Bcss-grid%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a>.

</p>
   <p>This document is governed by the
	<a href="https://www.w3.org/policies/process/20250818/" id="w3c_process_revision">18 August 2025 W3C Process Document</a>.

</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-ref no-toc" id="contents">Table of Contents</h2>
   <ol class="toc">
    <li>
     <a href="#intro"><span class="secno">1</span> <span class="content">
Introduction</span></a>
     <ol class="toc">
      <li>
       <a href="#background"><span class="secno">1.1</span> <span class="content">
Background and Motivation</span></a>
       <ol class="toc">
        <li><a href="#waterfall"><span class="secno">1.1.1</span> <span class="content">
Waterfall Layout with Auto-placed Items</span></a>
        <li><a href="#collapse"><span class="secno">1.1.2</span> <span class="content">
One-dimensional Grid Layout</span></a>
       </ol>
      <li><a href="#values"><span class="secno">1.2</span> <span class="content">
Value Definitions</span></a>
     </ol>
    <li>
     <a href="#grid-lanes-model"><span class="secno">2</span> <span class="content">
Grid Lanes Layout Model</span></a>
     <ol class="toc">
      <li><a href="#order-accessibility"><span class="secno">2.1</span> <span class="content">
Reordering and Accessibility</span></a>
      <li><a href="#grid-lanes-containers"><span class="secno">2.2</span> <span class="content">
Establishing Grid Lanes Layout</span></a>
      <li><a href="#grid-lanes-orientation"><span class="secno">2.3</span> <span class="content">
Orienting Grid Lanes Layout</span></a>
     </ol>
    <li>
     <a href="#grid-lanes-track-templates"><span class="secno">3</span> <span class="content">
Grid Lanes Track Specification</span></a>
     <ol class="toc">
      <li>
       <a href="#grid-lanes-track-properties"><span class="secno">3.1</span> <span class="content">
Declaring Grid Lanes Track Templates: the <span class="css">grid-template-*</span> properties</span></a>
       <ol class="toc">
        <li><a href="#intrinsic-auto-repeat"><span class="secno">3.1.1</span> <span class="content">
Intrinsic Tracks and repeat()</span></a>
       </ol>
      <li><a href="#subgrids"><span class="secno">3.2</span> <span class="content">
Subgrids</span></a>
      <li>
       <a href="#repeat-notation"><span class="secno">3.3</span> <span class="content">
Track Repetition: the <span class="css">repeat()</span> notation</span></a>
       <ol class="toc">
        <li><a href="#repeat-auto-fit"><span class="secno">3.3.1</span> <span class="content">
repeat(auto-fit)</span></a>
       </ol>
      <li>
       <a href="#track-sizing"><span class="secno">3.4</span> <span class="content">
Grid Axis Track Sizing</span></a>
       <ol class="toc">
        <li><a href="#track-sizing-subgrid"><span class="secno">3.4.1</span> <span class="content">
Subgrid Item Contributions</span></a>
        <li><a href="#track-sizing-performance"><span class="secno">3.4.2</span> <span class="content">
Optimized Track Sizing</span></a>
       </ol>
     </ol>
    <li>
     <a href="#grid-lanes-track-placement"><span class="secno">4</span> <span class="content">
Grid Lanes Item Placement</span></a>
     <ol class="toc">
      <li><a href="#grid-lanes-placement"><span class="secno">4.1</span> <span class="content">
Specifying Grid Axis Item Placement: the <span class="css">grid-column-*</span> and <span class="css">grid-row-*</span> properties</span></a>
      <li><a href="#placement-tolerance"><span class="secno">4.2</span> <span class="content">
Placement Precision: the <span class="property">flow-tolerance</span> property</span></a>
      <li><a href="#grid-lanes-dense-packing"><span class="secno">4.3</span> <span class="content">
Dense Placement: the <span class="css">dense</span> keyword</span></a>
      <li>
       <a href="#grid-lanes-layout-algorithm"><span class="secno">4.4</span> <span class="content">
Grid Lanes Layout and Placement Algorithm</span></a>
       <ol class="toc">
        <li><a href="#containing-block"><span class="secno">4.4.1</span> <span class="content">
Containing Block</span></a>
        <li><a href="#rtl-example"><span class="secno">4.4.2</span> <span class="content">
Placement and Writing Modes</span></a>
       </ol>
     </ol>
    <li><a href="#intrinsic-sizes"><span class="secno">5</span> <span class="content">
Sizing Grid Containers</span></a>
    <li>
     <a href="#alignment"><span class="secno">6</span> <span class="content">
Alignment and Spacing</span></a>
     <ol class="toc">
      <li><a href="#gutters"><span class="secno">6.1</span> <span class="content">
Gutters: the <span class="property">row-gap</span>, <span class="property">column-gap</span>, and <span class="property">gap</span> properties</span></a>
      <li><a href="#grid-axis-alignment"><span class="secno">6.2</span> <span class="content">
Grid-axis Alignment: the <span class="property">align-content</span>/<span class="property">justify-content</span>, <span class="property">align-self</span>/<span class="property">justify-self</span>, and <span class="property">align-items</span>/<span class="property">justify-items</span> properties</span></a>
      <li><a href="#stacking-content-alignment"><span class="secno">6.3</span> <span class="content">
Stacking-axis Content Distribution: the <span class="property">align-content</span>/<span class="property">justify-content</span> properties</span></a>
      <li><a href="#stacking-self-alignment"><span class="secno">6.4</span> <span class="content">
Stacking-axis Self Alignment: the <span class="property">align-self</span>/<span class="property">justify-self</span> and <span class="property">align-items</span>/<span class="property">justify-items</span> properties</span></a>
      <li><a href="#grid-lanes-baseline-alignment"><span class="secno">6.5</span> <span class="content">
Baseline Alignment</span></a>
     </ol>
    <li>
     <a href="#pagination"><span class="secno">7</span> <span class="content">
Fragmentation</span></a>
     <ol class="toc">
      <li><a href="#stacking-axis-pagination"><span class="secno">7.1</span> <span class="content">
Fragmentation in the stacking axis</span></a>
      <li><a href="#grid-axis-pagination"><span class="secno">7.2</span> <span class="content">
Fragmentation in the Grid Axis</span></a>
     </ol>
    <li><a href="#abspos"><span class="secno">8</span> <span class="content">
Absolute Positioning</span></a>
    <li><a href="#graceful-degradation"><span class="secno">9</span> <span class="content">
Graceful Degradation</span></a>
    <li><a href="#acknowledgements"><span class="secno">10</span> <span class="content">
Acknowledgements</span></a>
    <li><a href="#security"><span class="secno">11</span> <span class="content">
Security Considerations</span></a>
    <li><a href="#privacy"><span class="secno">12</span> <span class="content">
Privacy Considerations</span></a>
    <li>
     <a href="#changes"><span class="secno"></span> <span class="content">
Changes</span></a>
     <ol class="toc">
      <li><a href="#changes-3"><span class="secno"></span> <span class="content">
Additions Since Level 2</span></a>
      <li><a href="#recent-changes"><span class="secno"></span> <span class="content">
Recent Changes</span></a>
     </ol>
    <li>
     <a href="#w3c-conformance"><span class="secno"></span> <span class="content">
Conformance</span></a>
     <ol class="toc">
      <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">
Document conventions</span></a>
      <li><a href="#w3c-conformance-classes"><span class="secno"></span> <span class="content">
Conformance classes</span></a>
      <li>
       <a href="#w3c-partial"><span class="secno"></span> <span class="content">
Partial implementations</span></a>
       <ol class="toc">
        <li><a href="#w3c-conform-future-proofing"><span class="secno"></span> <span class="content">
Implementations of Unstable and Proprietary Features</span></a>
       </ol>
      <li><a href="#w3c-testing"><span class="secno"></span> <span class="content">
Non-experimental implementations</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#property-index"><span class="secno"></span> <span class="content">Property Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">
Introduction</span><a class="self-link" href="#intro"></a></h2>
   <p><em>This section is not normative.</em></p>
   <p>Grid Layout is a layout model for CSS
	that has powerful abilities to control the sizing and positioning
	of boxes and their contents.
	Grid Layout is optimized for 2-dimensional layouts:
	those in which alignment of content is desired in both dimensions.</p>
   <figure>
    
		<img alt="An example of grid layout:
		          two rows of items,
		          the first being four items — the last of which spans both rows,
		          and the second being two items —
		          the first of which spans the first two columns —
		          plus the spanned item from the first row." height="70" src="images/grid-layout.png" width="486">
		
    <figcaption>Representative Grid layout example</figcaption>
   </figure>
   <p>Although many layouts can be expressed with regular Grid Layout,
	restricting items into a grid in both axes also makes it impossible
	to express some common layouts on the Web.</p>
   <p>This module defines a variant of <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-layout" id="ref-for-grid-layout">Grid Layout</a> that removes that restriction
	so that items can be placed into Grid-like tracks in one axis
	while stacking one after another in the other.
	Items not explicitly placed into specific tracks
	are placed into the column (or row) with the most remaining space
	based on the layout size of the items placed so far.</p>
   <h3 class="heading settled" data-level="1.1" id="background"><span class="secno">1.1. </span><span class="content">
Background and Motivation</span><a class="self-link" href="#background"></a></h3>
   <h4 class="heading settled" data-level="1.1.1" id="waterfall"><span class="secno">1.1.1. </span><span class="content">
Waterfall Layout with Auto-placed Items</span><a class="self-link" href="#waterfall"></a></h4>
   <p><a data-link-type="dfn" href="#grid-lanes-layout" id="ref-for-grid-lanes-layout">Grid lanes layout</a>, sometimes also called “masonry layout” or “waterfall layout”,
	is a common Web design pattern where a number of items—​commonly images or short article summaries—​are placed one by one into columns
	in a way that loosely resembles masonry construction.
	Unlike <a data-link-type="biblio" href="#biblio-css-multicol-1" title="CSS Multi-column Layout Module Level 1">multi-column layout</a> and <a data-link-type="biblio" href="#biblio-css-flexbox-1" title="CSS Flexible Box Layout Module Level 1">multi-line column flex layout</a>,
	where content is placed vertically in the first column
	until it must spills over to the second column,
	<a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#auto-placement" id="ref-for-auto-placement">automatic placement</a> in <span id="ref-for-grid-lanes-layout①">grid lanes layout</span> selects a column for each new item
	such that it is generally closer to the top of the layout than items placed later.</p>
   <div class="example" id="example-1d7a673e">
    <a class="self-link" href="#example-1d7a673e"></a>
		The traditional Pinterest search results page exemplifies this layout:

		
    <figure>
     
			<img alt="An example of grid lanes layout:
			          four columns of items,
			          each item is placed into the column with the smallest height so far." height="608" src="images/pinterest.png" width="775">
			
     <figcaption>Representative grid lanes layout example</figcaption>
    </figure>
    <p>Here, each item has a different height
		(depending on the content and the width of the column),
		and inspecting the DOM reveals
		(as the visual content itself gives no indication of ordering)
		that each item has been placed into the column with the smallest height so far.</p>
   </div>
   <p>This layout superficially looks similar to multi-column layout;
	but it has the advantage that scrolling down
	will naturally lead to “later” items in the layout
	(such as those less relevant in the search results).</p>
   <p>It’s not possible to achieve this layout using earlier CSS layout models,
	unless you know up-front how tall each item will be,
	or use JavaScript for content measurement or placement.</p>
   <p>Using <a class="css" data-link-type="propdesc" href="https://drafts.csswg.org/css-display-4/#propdef-display" id="ref-for-propdef-display">display: grid-lanes</a> together with <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-grid-2/#propdef-grid-template-columns" id="ref-for-propdef-grid-template-columns">grid-template-columns</a>
	yields this type of <a data-link-type="dfn" href="#grid-lanes-layout" id="ref-for-grid-lanes-layout②">grid lanes layout</a></p>
   <h4 class="heading settled" data-level="1.1.2" id="collapse"><span class="secno">1.1.2. </span><span class="content">
One-dimensional Grid Layout</span><a class="self-link" href="#collapse"></a></h4>
   <p><a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-layout" id="ref-for-grid-layout①">Grid layout</a> allows for powerful track sizing and explicit placement in two axes,
	but sometimes a layout only needs alignment of its items in one dimension.</p>
   <p>Using <a data-link-type="dfn" href="#grid-lanes-layout" id="ref-for-grid-lanes-layout③">grid lanes layout</a> together with explicitly-positioned items
	allows for this type of one-dimensional grid layout.</p>
   <div class="example" id="example-a1b07c6f">
    <a class="self-link" href="#example-a1b07c6f"></a>
		This example <a href="https://github.com/w3c/csswg-drafts/issues/10233#issuecomment-2071279204">by Douglas Graham</a>
		uses explicit positioning to place each item into its assigned column;
		but there are no rows.
		Instead, items in each column stack one after the other.
		This layout can’t be duplicated in <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-layout" id="ref-for-grid-layout②">grid layout</a>
		because the “spanning” relationships among the items in adjacent columns
		is not fixed: it depends on their relative heights
		and whether the optional banner or advertisement items are included.
		It also can’t be duplicated in <a data-link-type="dfn" href="https://drafts.csswg.org/css-flexbox-1/#flex-layout" id="ref-for-flex-layout">flex layout</a>
		because the source order of the items
		(which is used for reading, sequential navigation, and one-column mobile phone layout)
		goes back and forth between the two columns.

		
    <figure>
     
			<img alt="In one-column layout:
			          the header, followed by an optional banner, the secondary navigation,
			          the main content area, an advertisement block, and finally the footer.
			          In two-column layout:
			          the header spanning both columns on top,
			          the footer spanning both columns at the bottom,
			          in the wider left column the optional banner followed by the main content area,
			          and in the narrow left column the secondary navigation followed by the advertisement block." height="492" src="images/masonry-page-layout.png" width="731">
			
     <figcaption>
				Comparison of one-column and two-column variants of a one-dimensional grid layout.
			</figcaption>
    </figure>
   </div>
   <h3 class="heading settled" data-level="1.2" id="values"><span class="secno">1.2. </span><span class="content">
Value Definitions</span><a class="self-link" href="#values"></a></h3>
   <p>This specification follows the <a href="https://www.w3.org/TR/CSS2/about.html#property-defs">CSS property definition conventions</a> from <a data-link-type="biblio" href="#biblio-css2" title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[CSS2]</a>
	using the <a href="https://www.w3.org/TR/css-values-3/#value-defs">value definition syntax</a> from <a data-link-type="biblio" href="#biblio-css-values-3" title="CSS Values and Units Module Level 3">[CSS-VALUES-3]</a>.
	Value types not defined in this specification are defined in CSS Values &amp; Units <a data-link-type="biblio" href="#biblio-css-values-3" title="CSS Values and Units Module Level 3">[CSS-VALUES-3]</a>.
	Combination with other CSS modules may expand the definitions of these value types.</p>
   <p>In addition to the property-specific values listed in their definitions,
	all properties defined in this specification
	also accept the <a data-link-type="dfn" href="https://drafts.csswg.org/css-values-4/#css-wide-keywords" id="ref-for-css-wide-keywords">CSS-wide keywords</a> as their property value.
	For readability they have not been repeated explicitly.</p>
   <h2 class="heading settled" data-level="2" id="grid-lanes-model"><span class="secno">2. </span><span class="bs-old-id" id="masonry-model"></span><span class="content">
Grid Lanes Layout Model</span><a class="self-link" href="#grid-lanes-model"></a></h2>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="grid-lanes-layout">Grid lanes layout</dfn>
	lays out items into pre-defined tracks similar to <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-layout" id="ref-for-grid-layout③">grid layout</a> in one axis
	(called the <dfn class="dfn-paneled" data-dfn-type="dfn" data-local-lt="grid-axis" data-noexport id="grid-axis">grid axis</dfn>),
	but flows them freely similar to <a data-link-type="dfn" href="https://drafts.csswg.org/css-flexbox-1/#flex-layout" id="ref-for-flex-layout①">flex layout</a> in the other
	(called the <dfn class="dfn-paneled" data-dfn-type="dfn" data-local-lt="stacking-axis" data-noexport id="stacking-axis">stacking axis</dfn>).
	Similar to <span id="ref-for-grid-layout④">grid layout</span> and unlike <span id="ref-for-flex-layout②">flex layout</span>,
	<a data-link-type="dfn" href="#grid-lanes-layout" id="ref-for-grid-lanes-layout④">grid lanes layout</a>’s auto-placement
	distributes items across the tracks
	to keep the lengths of those tracks as similar as possible.</p>
   <p><a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-item" id="ref-for-grid-item">Grid items</a> are formed and <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-4/#blockify" id="ref-for-blockify">blockified</a>
	exactly the same as in a regular <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-container" id="ref-for-grid-container">grid container</a>.</p>
   <p>All CSS properties work the same as in a regular <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-container" id="ref-for-grid-container①">grid container</a>
	unless otherwise specified by this specification.
	For example, <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-display-4/#propdef-order" id="ref-for-propdef-order">order</a> can be used to specify a different layout order for the items.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Subgrid items are supported,
	but subgridding only occurs in the <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis">grid axis</a>;
	see <a href="#subgrids">§ 3.2 Subgrids</a> for details.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="grid-lanes-container">grid lanes container</dfn> is a <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-container" id="ref-for-grid-container②">grid container</a> whose contents participate in <a data-link-type="dfn" href="#grid-lanes-layout" id="ref-for-grid-lanes-layout⑤">grid lanes layout</a>.
	A <a data-link-type="dfn" href="#grid-lanes-container" id="ref-for-grid-lanes-container">grid lanes container</a> creates column <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-track" id="ref-for-grid-track">tracks</a>
	if its <a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis">stacking axis</a> is the <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-4/#block-axis" id="ref-for-block-axis">block axis</a>,
	or row <span id="ref-for-grid-track①">tracks</span>
	if its <span id="ref-for-stacking-axis①">stacking axis</span> is the <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-4/#inline-axis" id="ref-for-inline-axis">inline axis</a>.</p>
   <table class="data">
    <caption>Comparing Grid Lanes Containers</caption>
    <tbody>
     <tr>
      <th style="writing-mode: vertical-rl; writing-mode: sideways-lr">
				Column Lanes
			
      <td>
<pre>grid-template-columns: 1fr 2fr 3fr;
</pre>
      <td>
				<img alt="Column grid lanes layout lays out items in columns,
					     but ordered across the columns,
					     placing each item in the then-shortest column." height="146" src="images/masonry-columns.png" width="216">
		
     <tr>
      <th style="writing-mode: vertical-rl; writing-mode: sideways-lr">
				Row Lanes
			
      <td>
<pre>grid-template-rows: 1fr 2fr 3fr;
</pre>
      <td>
				<img alt="Row grid lanes layout lays out items in rows,
					     but ordered down across the rows,
					     placing each item in the then-shortest row." height="214" src="images/masonry-rows.png" width="143">
	
   </table>
   <h3 class="heading settled" data-level="2.1" id="order-accessibility"><span class="secno">2.1. </span><span class="content">
Reordering and Accessibility</span><a class="self-link" href="#order-accessibility"></a></h3>
   <p>Although <a data-link-type="dfn" href="#grid-lanes-layout" id="ref-for-grid-lanes-layout⑥">grid lanes layout</a> generally progresses in a forwards fashion
	(placing the next item endward of the current item in at least one axis,
	matching the natural “reading order”),
	it can switch between endward in the inline or block axis in a seemingly arbitrary manner.
	In simple cases, the <a class="css property" data-link-type="property" href="#propdef-flow-tolerance" id="ref-for-propdef-flow-tolerance">flow-tolerance</a> property can help reduce
	the feeling of backtracking due to small sizing differences in the <a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis②">stacking axis</a>
	when laying out auto-placed items.
	But when <a href="#grid-lanes-layout-algorithm">auto-placement</a> is mixed with <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#definite-grid-position" id="ref-for-definite-grid-position">explicit placement</a> or spanning items,
	some amount of backtracking may occur.</p>
   <div class="example" id="example-0b32dd26">
    <a class="self-link" href="#example-0b32dd26"></a>
		For example, in the following markup sample,
		the fourth item is a spanner that doesn’t fit
		in the remaining empty column on the first line.
		It ends up positioned into the into the first column,
		which is the highest available space into which it will fit.
		The next few items, which have a span of 1,
		end up laying out “above” it in the empty column,
		violating the natural reading order.

		
<pre class="highlight"><c- p>&lt;</c-><c- f>section</c-> <c- e>class</c-><c- o>=</c-><c- s>masonry</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>item</c-><c- p>></c->1<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>item</c-><c- p>></c->2<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"item tall"</c-><c- p>></c->3<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"item wide"</c-><c- p>></c->4<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>item</c-><c- p>></c->5<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>item</c-><c- p>></c->6<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>item</c-><c- p>></c->7<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>section</c-><c- p>></c->
<c- p>&lt;</c-><c- f>style</c-><c- p>></c->
<c- p>.</c-><c- nc>masonry</c-> <c- p>{</c->
  <c- k>display</c-><c- p>:</c-> <c- k>grid</c-><c- o>-</c-><c- n>lanes</c-><c- p>;</c->
  <c- k>grid-template-columns</c-><c- p>:</c-> <c- nf>repeat</c-><c- p>(</c-><c- mi>5</c-><c- p>,</c-> <c- kc>auto</c-><c- p>);</c->
<c- p>}</c->
<c- p>.</c-><c- nc>item</c-> <c- p>{</c-> <c- k>height</c-><c- p>:</c-> <c- mi>50</c-><c- b>px</c-><c- p>;</c-> <c- p>}</c->
<c- p>.</c-><c- nc>item</c-><c- p>.</c-><c- nc>wide</c-> <c- p>{</c-> <c- k>grid-column</c-><c- p>:</c-> <c- n>span</c-> <c- mi>3</c-><c- p>;</c-> <c- p>}</c->
<c- p>.</c-><c- nc>item</c-><c- p>.</c-><c- nc>tall</c-> <c- p>{</c-> <c- k>height</c-><c- p>:</c-> <c- mi>90</c-><c- b>px</c-><c- p>;</c-> <c- p>}</c->
<c- p>&lt;/</c-><c- f>style</c-><c- p>></c->
</pre>
    <figure>
     
			<img alt="In this example, the first row is items 1, 2, 3, 5, 6,
			          with item 3 slightly taller than the others.
			          Item 4 spans the first three columns, and is placed
			          just below item 3, while item 7 is tucked under item 5." height="214" src="images/masonry-reorder-span.png" width="514">
			
     <figcaption>Auto-placed grid lanes layout with mixed-height items and mixed span sizes</figcaption>
    </figure>
    
		Similarly, items explicitly placed into specific tracks can leave gaps behind them,
		into which subsequent auto-placed items can be placed visually out-of-order.
	
   </div>
   <p>Authors should be aware of these possibilities
	and design layouts where such backtracking is minimized
	so that focus and reading order can be more easily followed.
	Alternatively, if the items do not have an inherent order,
	use the <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-display-4/#propdef-reading-flow" id="ref-for-propdef-reading-flow">reading-flow</a> property to allow the UA to re-order the items
	for reading and linear navigation.</p>
   <p class="issue" id="issue-f3901e05"><a class="self-link" href="#issue-f3901e05"></a> Or should reordering be the default behavior for auto-placed items here?</p>
   <div class="note" role="note">
    
		Techniques for reducing backtracking include:

    <ul>
     <li data-md>
      <p>Using appropriate values for <a class="css property" data-link-type="property" href="#propdef-flow-tolerance" id="ref-for-propdef-flow-tolerance①">flow-tolerance</a>,
i.e. values large enough to avoid gratuitous differentiation among similarly-sized tracks,
but not so large that meaningful differences get ignored.</p>
     <li data-md>
      <p>Using explicit placement in ways that help group related items together,
rather than ways that disrupt the natural order of items</p>
     <li data-md>
      <p>Avoiding the combination of mixed span sizes in the <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis①">grid axis</a>
and disparate item sizes in the <a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis③">stacking axis</a>,
which can cause items to get pulled out of order (see example above).</p>
    </ul>
   </div>
   <p>As with <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-layout" id="ref-for-grid-layout⑤">grid layout</a> and <a data-link-type="dfn" href="https://drafts.csswg.org/css-flexbox-1/#flex-layout" id="ref-for-flex-layout③">flex layout</a>
	authors can use the <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-display-4/#propdef-order" id="ref-for-propdef-order①">order</a> property to re-order items;
	the same caveats apply.
	See <a href="https://drafts.csswg.org/css-grid-2/#order-accessibility"><cite>CSS Grid Layout 2</cite> § 4 Reordering and Accessibility</a>
	and <a href="https://drafts.csswg.org/css-display-4/#order-accessibility"><cite>CSS Display 4</cite> § 3.1 Reordering and Accessibility</a>.</p>
   <h3 class="heading settled" data-level="2.2" id="grid-lanes-containers"><span class="secno">2.2. </span><span class="content">
Establishing Grid Lanes Layout</span><a class="self-link" href="#grid-lanes-containers"></a></h3>
   <table class="def partial propdef" data-link-for-hint="display">
    <tbody>
     <tr>
      <th>Name:
      <td><a class="css" data-link-type="property" href="https://drafts.csswg.org/css-display-4/#propdef-display" id="ref-for-propdef-display①">display</a>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">New values:</a>
      <td class="prod">grid-lanes <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one">|</a> inline-grid-lanes
   </table>
   <dl>
    <dt><dfn class="css dfn-paneled" data-dfn-for="display" data-dfn-type="value" data-export id="valdef-display-grid-lanes">grid-lanes</dfn>
		
    <dd>
			This value causes an element to generate a <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-4/#block-level" id="ref-for-block-level">block-level</a> <a data-link-type="dfn" href="#grid-lanes-container" id="ref-for-grid-lanes-container①">grid lanes container</a> box.

		
    <dt><dfn class="css dfn-paneled" data-dfn-for="display" data-dfn-type="value" data-export id="valdef-display-inline-grid-lanes">inline-grid-lanes</dfn>
		
    <dd>
			This value causes an element to generate an <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-4/#inline-level" id="ref-for-inline-level">inline-level</a> <a data-link-type="dfn" href="#grid-lanes-container" id="ref-for-grid-lanes-container②">grid lanes container</a> box.
	
   </dl>
   <p>A <a data-link-type="dfn" href="#grid-lanes-container" id="ref-for-grid-lanes-container③">grid lanes container</a> that is not <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#subgrid" id="ref-for-subgrid">subgridded</a> in its <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis②">grid axis</a> establishes
	an <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-4/#independent-formatting-context" id="ref-for-independent-formatting-context">independent formatting context</a>
	for its contents.</p>
   <div class="issue" id="issue-3be4bca6"><a class="self-link" href="#issue-3be4bca6"></a>
	ISSUE(12820): Write up how grid/masonry formatting contexts work more formally?
	</div>
   <h3 class="heading settled" data-level="2.3" id="grid-lanes-orientation"><span class="secno">2.3. </span><span class="content">
Orienting Grid Lanes Layout</span><a class="self-link" href="#grid-lanes-orientation"></a></h3>
   <p>The orientation of a <a data-link-type="dfn" href="#grid-lanes-container" id="ref-for-grid-lanes-container④">grid lanes container</a>,
	i.e. whether its <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis③">grid axis</a> is
	the <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-4/#inline-axis" id="ref-for-inline-axis①">inline axis</a> (establishing columns)
	or the <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-4/#block-axis" id="ref-for-block-axis①">block axis</a> (establishing rows)
	is determined by the <span class="issue" id="issue-d4908b1e"><a class="self-link" href="#issue-d4908b1e"></a>TBD</span> property.</p>
   <p>The <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#initial-value" id="ref-for-initial-value">initial value</a> of this property is <dfn class="css dfn-paneled" data-dfn-for="grid-auto-flow" data-dfn-type="value" data-export id="valdef-grid-auto-flow-normal">normal</dfn>,
	which determines the orientation from the <span class="css">grid-template-*</span> properties:</p>
   <ul>
    <li data-md>
     <p>If <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-grid-2/#propdef-grid-template-columns" id="ref-for-propdef-grid-template-columns①">grid-template-columns</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-grid-2/#valdef-grid-template-rows-none" id="ref-for-valdef-grid-template-rows-none">none</a>
and <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-grid-2/#propdef-grid-template-rows" id="ref-for-propdef-grid-template-rows">grid-template-rows</a> is not <span class="css" id="ref-for-valdef-grid-template-rows-none①">none</span>,
the <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-container" id="ref-for-grid-container③">grid container</a>’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-4/#block-axis" id="ref-for-block-axis②">block axis</a> is the <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis④">grid axis</a> (establishing rows).</p>
    <li data-md>
     <p>Otherwise (thus by default),
the <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-container" id="ref-for-grid-container④">grid container</a>’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-4/#inline-axis" id="ref-for-inline-axis②">inline axis</a> is the <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis⑤">grid axis</a> (establishing columns).</p>
   </ul>
   <div class="example" id="example-5742456b">
    <a class="self-link" href="#example-5742456b"></a>
		The following code will create a 2-column (“waterfall style”) <a data-link-type="dfn" href="#grid-lanes-container" id="ref-for-grid-lanes-container⑤">grid lanes container</a>
		that grows downward:

		
<pre class="css">.container {
  display: grid-lanes;
  grid-template-<strong>columns</strong>: 100px 200px;
}
</pre>
    <p>while the following code will create a 2-row (“brick wall style”) <a data-link-type="dfn" href="#grid-lanes-container" id="ref-for-grid-lanes-container⑥">grid lanes container</a>
		that grows horizontally:</p>
<pre class="css">.container {
  display: grid-lanes;
  grid-template-<strong>rows</strong>: 100px 200px;
}
</pre>
   </div>
   <p class="issue" id="issue-ff7d700c"><a class="self-link" href="#issue-ff7d700c"></a> Figure out whether we are re-using <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-grid-2/#propdef-grid-auto-flow" id="ref-for-propdef-grid-auto-flow">grid-auto-flow</a> here
	(and what it’s values mean)
	or defining a new property like <span class="css">grid-lanes-direction</span>. <a href="https://github.com/w3c/csswg-drafts/issues/12803">[Issue #12803]</a></p>
   <h2 class="heading settled" data-level="3" id="grid-lanes-track-templates"><span class="secno">3. </span><span class="bs-old-id" id="masonry-track-templates"></span><span class="content">
Grid Lanes Track Specification</span><a class="self-link" href="#grid-lanes-track-templates"></a></h2>
   <p>In the <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis⑥">grid axis</a>,
	the full power of <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-layout" id="ref-for-grid-layout⑥">grid layout</a> is available for track specification:</p>
   <ul>
    <li data-md>
     <p>Track sizes, line names, and areas can be specified on the <a data-link-type="dfn" href="#grid-lanes-container" id="ref-for-grid-lanes-container⑦">grid lanes container</a>’s <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis⑦">grid axis</a>,
just like in <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-layout" id="ref-for-grid-layout⑦">grid layout</a>.</p>
    <li data-md>
     <p>The <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#explicit-grid" id="ref-for-explicit-grid">explicit grid</a> and <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#implicit-grid" id="ref-for-implicit-grid">implicit grid</a> are formed in the same way as for a regular <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-container" id="ref-for-grid-container⑤">grid container</a>.</p>
    <li data-md>
     <p>Items can be <a href="#grid-lanes-track-placement">placed</a> against these grid templates just as in <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-layout" id="ref-for-grid-layout⑧">grid layout</a>.</p>
   </ul>
   <p>However,
	auto-placed items contribute sizing to all tracks,
	not just the track into which they are ultimately placed;
	see <a href="#track-sizing">§ 3.4 Grid Axis Track Sizing</a>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> This is because auto-placed items must be laid out <em>as</em> they are placed,
	so that each track knows how “full” it is
	(and therefore which track should receive the next auto-placed item);
	thus, the tracks themselves must already have a definite size
	so that the items know their <a data-link-type="dfn" href="https://drafts.csswg.org/css-sizing-3/#available" id="ref-for-available">available space</a> during layout.</p>
   <h3 class="heading settled" data-level="3.1" id="grid-lanes-track-properties"><span class="secno">3.1. </span><span class="content">
Declaring Grid Lanes Track Templates: the <span class="css">grid-template-*</span> properties</span><a class="self-link" href="#grid-lanes-track-properties"></a></h3>
   <p>The <span class="css">grid-template-*</span> and <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-grid-2/#propdef-grid-auto-rows" id="ref-for-propdef-grid-auto-rows">grid-auto-rows</a>/<a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-grid-2/#propdef-grid-auto-columns" id="ref-for-propdef-grid-auto-columns">grid-auto-columns</a> properties
	(and their shorthands)
	apply in the <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis⑧">grid axis</a> of the <a data-link-type="dfn" href="#grid-lanes-container" id="ref-for-grid-lanes-container⑧">grid lanes container</a>
	and establish tracks just as on regular <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-container" id="ref-for-grid-container⑥">grid containers</a>.
	(They are ignored in the <a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis④">stacking axis</a>.)</p>
   <h4 class="heading settled" data-level="3.1.1" id="intrinsic-auto-repeat"><span class="secno">3.1.1. </span><span class="bs-old-id" id="masonry-intrinsic-repeat"></span><span class="content">
Intrinsic Tracks and repeat()</span><a class="self-link" href="#intrinsic-auto-repeat"></a></h4>
   <p>Level 3 extends the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-gaps-1/#funcdef-repeat-line-color-repeat" id="ref-for-funcdef-repeat-line-color-repeat">repeat()</a> notation to allow repetitions where
	neither the <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#min-track-sizing-function" id="ref-for-min-track-sizing-function">min track sizing function</a> nor the <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#max-track-sizing-function" id="ref-for-max-track-sizing-function">max track sizing function</a> is <a data-link-type="dfn" href="https://drafts.csswg.org/css-sizing-3/#definite" id="ref-for-definite">definite</a>;
	in other words, the syntax for <a class="css production" data-link-type="type" href="#typedef-auto-repeat" id="ref-for-typedef-auto-repeat">&lt;auto-repeat></a> is relaxed to the following:</p>
<pre class="prod"><dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-auto-repeat"><a class="production" data-link-type="type" href="#typedef-auto-repeat" id="ref-for-typedef-auto-repeat①">&lt;auto-repeat></a></dfn> = repeat(  [ auto-fill <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①">|</a> auto-fit ] <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-comma" id="ref-for-comb-comma">,</a> [ <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-grid-2/#typedef-line-names" id="ref-for-typedef-line-names">&lt;line-names></a><a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt">?</a> <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-grid-2/#typedef-track-size" id="ref-for-typedef-track-size">&lt;track-size></a> ]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-one-plus" id="ref-for-mult-one-plus">+</a> <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-grid-2/#typedef-line-names" id="ref-for-typedef-line-names①">&lt;line-names></a><a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt①">?</a> )
</pre>
   <p>In order to resolve the number of repetitions,
	a hypothetical size is calculated for such tracks
	by initializing the track sizes (per <a href="https://drafts.csswg.org/css-grid-2/#algo-init"><cite>CSS Grid Layout 2</cite> § 12.4 Initialize Track Sizes</a>)
	and resolving intrinsic track sizes (per <a href="https://drafts.csswg.org/css-grid-2/#algo-content"><cite>CSS Grid Layout 2</cite> § 12.5 Resolve Intrinsic Track Sizes</a>)
	in accordance with <a href="#track-sizing">§ 3.4 Grid Axis Track Sizing</a>
	with the following assumptions:</p>
   <ul>
    <li data-md>
     <p>Ignore explicit item placement.
(That is, assume all items have an <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#automatic-grid-position" id="ref-for-automatic-grid-position">automatic position</a>.)</p>
    <li data-md>
     <p>Do not <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#collapsed-grid-track" id="ref-for-collapsed-grid-track">collapse</a> any tracks.</p>
    <li data-md>
     <p>Expand the repeated track listing to capture all possible <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#auto-placement" id="ref-for-auto-placement①">automatic placements</a> of each item,
i.e. repeat the track listing <code>2 + (<var>largest span</var> - 2)/(<var>number of tracks in repeat()</var>)</code> times,
rounded <em>down</em> to a whole number.</p>
   </ul>
   <p>The hypothetical size of each track in the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-gaps-1/#funcdef-repeat-line-color-repeat" id="ref-for-funcdef-repeat-line-color-repeat①">repeat()</a> listing
	is given by the largest track corresponding to that entry (by index) in the listing.</p>
   <div class="example" id="example-000330f4"><a class="self-link" href="#example-000330f4"></a>
		For example,
		given a template of <span class="css">repeat(auto-fill, 50px auto auto)</span>
		and a largest spanner of 2,
		you need to repeat the track listing twice,
		giving <span class="css">50px auto auto 50px auto auto</span>.
		After doing the hypothetical layout,
		the 2nd and 5th tracks are maxed together to provide a hypothetical size for the first <span class="css">auto</span>
		and the 3rd and 6th tracks are maxed together to provide a hypothetical size for the second <span class="css">auto</span>.
		Those concrete sizes are then used to determine how many repetitions will fill the container.
	</div>
   <p class="issue" id="issue-c70906df"><a class="self-link" href="#issue-c70906df"></a> Should this work also in Grid Layout somehow, or fall back to a single repetition? If so, how? <a href="https://github.com/w3c/csswg-drafts/issues/10915">[Issue #10915]</a></p>
   <p class="note" role="note"><span class="marker">Note:</span> This simplified layout heuristic is defined to be "good enough",
	while remaining fast and consistent.
	Ignoring placement is required just to make the concept coherent;
	before you know how many repetitions you need,
	you can’t tell what track an item
	(even one with a definite placement)
	will end up in.</p>
   <p class="issue" id="issue-5b45728c"><a class="self-link" href="#issue-5b45728c"></a> Technically, if your explicit placement does not enter or cross over the repetition,
	we can know its placement prior to resolving the reptition.
	Do we want to adjust the algorithm above to account for this?
	That is, given <span class="css">auto repeat(auto-fill, ...) auto</span>,
	if you explicitly place an item against line 1 or -1,
	we could let it only affect that track
	(rather than pretending it’ll go in every track).</p>
   <h3 class="heading settled" data-level="3.2" id="subgrids"><span class="secno">3.2. </span><span class="content">
Subgrids</span><a class="self-link" href="#subgrids"></a></h3>
   <p><a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#subgrid" id="ref-for-subgrid①">Subgridding</a> allows nested <a data-link-type="dfn" href="#grid-lanes-container" id="ref-for-grid-lanes-container⑨">grid lanes containers</a> (and <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-container" id="ref-for-grid-container⑦">grid containers</a>)
	to share track sizes.
	If the parent’s corresponding axis is a <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis⑨">grid axis</a>,
	the subgridded axis is taken from the parent container
	<a href="https://drafts.csswg.org/css-grid-2/#subgrids">as specified for grid containers</a>;
	if the parent’s corresponding axis is a <a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis⑤">stacking axis</a>,
	the subgridded axis also acts as a <span id="ref-for-stacking-axis⑥">stacking axis</span>.</p>
   <p class="issue" id="issue-ff7026b1"><a class="self-link" href="#issue-ff7026b1"></a> What if this conflicts with the lanes orientation, or results in both axes stacking?</p>
   <p>In <a data-link-type="dfn" href="#grid-lanes-layout" id="ref-for-grid-lanes-layout⑦">grid lanes layout</a>, auto-placed <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#subgrid" id="ref-for-subgrid②">subgrids</a>
	don’t inherit any line names from their parent grid,
	because that would make the placement of the item
	dependent on layout results;
	but the subgrid’s tracks are still aligned to the parent’s tracks as usual.</p>
   <div class="example" id="example-be8494db">
    <a class="self-link" href="#example-be8494db"></a>
		Here’s a subgrid <a href="examples/subgrid-example-1.html">example</a>:

		
<pre class="highlight language-css">&lt;style>
.grid <c- p>{</c->
  <c- k>display</c-><c- p>:</c-> inline-grid-lanes<c- p>;</c->
  <c- k>grid-template-rows</c-><c- p>:</c-> auto auto <c- m>100</c-><c- k>px</c-><c- p>;</c->
  <c- k>align-content</c-><c- p>:</c-> center<c- p>;</c->
  <c- k>height</c-><c- p>:</c-> <c- m>300</c-><c- k>px</c-><c- p>;</c->
  <c- k>border</c-><c- p>:</c-> <c- m>1</c-><c- k>px</c-> solid<c- p>;</c->
<c- p>}</c->

.grid > * <c- p>{</c->
  <c- k>margin</c-><c- p>:</c-> <c- m>5</c-><c- k>px</c-><c- p>;</c->
  <c- k>background</c-><c- p>:</c-> silver<c- p>;</c->
<c- p>}</c->
.grid > :nth-child<c- p>(</c-><c- m>2</c-><c- k>n</c-><c- p>)</c-> <c- p>{</c->
  <c- k>background</c-><c- p>:</c-> pink<c- p>;</c->
<c- p>}</c->

.grid subgrid <c- p>{</c->
  <c- k>display</c-><c- p>:</c-> grid<c- p>;</c->
  <c- k>grid</c-><c- p>:</c-> subgrid / subgrid<c- p>;</c->
  <c- k>grid-row</c-><c- p>:</c-> <c- m>2</c-> / span <c- m>2</c-><c- p>;</c->
  <c- k>grid-gap</c-><c- p>:</c-> <c- m>30</c-><c- k>px</c-><c- p>;</c->
<c- p>}</c->
.grid subgrid > * <c- p>{</c-> <c- k>background</c-><c- p>:</c-> cyan<c- p>;</c-> <c- p>}</c->
&lt;/style>
</pre>
<pre class="highlight language-html"><c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"grid"</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->1<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->2<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->3<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>subgrid</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>item</c-> <c- e>style</c-><c- o>=</c-><c- s>"height:100px"</c-><c- p>></c->subgrid.1<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>item</c-><c- p>></c->sub.2<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>item</c-><c- p>></c->s.3<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;/</c-><c- f>subgrid</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->4<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->5<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-> <c- e>style</c-><c- o>=</c-><c- s>"width: 80px"</c-><c- p>></c->6<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->7<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
</pre>
    <figure>
     
			<img alt height="315" src="images/subgrid-example-1.png" width="162">
			
     <figcaption>
				The rendering of the subgrid example above.
			</figcaption>
    </figure>
    <p>Note how the subgrid’s first item ("subgrid.1") contributes
		to the intrinsic size of the 2nd row in the parent grid.
		This is possible since the subgrid specified a definite position
		so we know which tracks it will occupy.
		Note also that trying to subgrid the parent’s <a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis⑦">stacking axis</a>
		results in the subgrid converting to a <a data-link-type="dfn" href="#grid-lanes-container" id="ref-for-grid-lanes-container①⓪">grid lanes container</a>
		with its <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-4/#inline-axis" id="ref-for-inline-axis③">inline axis</a> as the <span id="ref-for-stacking-axis⑧">stacking axis</span>.</p>
   </div>
   <p>A <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#subgrid" id="ref-for-subgrid③">subgrid</a> that is a <a data-link-type="dfn" href="#grid-lanes-container" id="ref-for-grid-lanes-container①①">grid lanes container</a>
	can be referred to as a <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="grid-lanes-subgrid">grid lanes subgrid</dfn>.
	To distinguish, a regular <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-container" id="ref-for-grid-container⑧">grid container</a> <span id="ref-for-subgrid④">subgrid</span>
	can be referred to as a <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="regular-grid-subgrid">regular grid subgrid</dfn>.</p>
   <h3 class="heading settled" data-level="3.3" id="repeat-notation"><span class="secno">3.3. </span><span class="content">
Track Repetition: the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-gaps-1/#funcdef-repeat-line-color-repeat" id="ref-for-funcdef-repeat-line-color-repeat②">repeat()</a> notation</span><a class="self-link" href="#repeat-notation"></a></h3>
   <p>This specification introduces new keywords and grid-lanes–specific behavior
	for the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-gaps-1/#funcdef-repeat-line-color-repeat" id="ref-for-funcdef-repeat-line-color-repeat③">repeat()</a> notation.</p>
   <h4 class="heading settled" data-level="3.3.1" id="repeat-auto-fit"><span class="secno">3.3.1. </span><span class="content">
repeat(auto-fit)</span><a class="self-link" href="#repeat-auto-fit"></a></h4>
   <p>In <a data-link-type="dfn" href="#grid-lanes-container" id="ref-for-grid-lanes-container①②">grid lanes containers</a> (as in regular <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-container" id="ref-for-grid-container⑨">grid containers</a>)
	<a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-grid-2/#valdef-repeat-auto-fit" id="ref-for-valdef-repeat-auto-fit">auto-fit</a> acts like <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-grid-2/#valdef-repeat-auto-fill" id="ref-for-valdef-repeat-auto-fill">auto-fill</a>,
	but with empty tracks <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#collapsed-grid-track" id="ref-for-collapsed-grid-track①">collapsed</a>.
	However, because placement occurs after track sizing,
	<span id="ref-for-grid-lanes-container①③">grid lanes containers</span> use a heuristic
	to determine if a track will be occupied:</p>
   <ul>
    <li data-md>
     <p>All tracks occupied by explicitly placed items are considered occupied.</p>
    <li data-md>
     <p>With the sum of the spans of all auto-placed items as <var>N</var>,
all unoccupied tracks up to the <var>N</var>th such track
are considered occupied.</p>
   </ul>
   <p>All tracks produced by the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-grid-2/#valdef-repeat-auto-fit" id="ref-for-valdef-repeat-auto-fit①">auto-fit</a> repetition and considered unoccupied by this heuristic
	are assumed “empty” and are <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#collapsed-grid-track" id="ref-for-collapsed-grid-track②">collapsed</a>.
	A <span id="ref-for-collapsed-grid-track③">collapsed grid track</span> cannot accept placement of auto-placed items.</p>
   <p class="note" role="note"><span class="marker">Note:</span> It is possible for an auto-placed item to be placed in a track when <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-grid-2/#valdef-repeat-auto-fill" id="ref-for-valdef-repeat-auto-fill①">auto-fill</a> is used
	that would be collapsed if <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-grid-2/#valdef-repeat-auto-fit" id="ref-for-valdef-repeat-auto-fit②">auto-fit</a> is used
	if there are auto-placed items with a span greater than 1
	mixed with explicitly-placed items that leave gaps too small for the auto-placed items.</p>
   <h3 class="heading settled" data-level="3.4" id="track-sizing"><span class="secno">3.4. </span><span class="content">
Grid Axis Track Sizing</span><a class="self-link" href="#track-sizing"></a></h3>
   <p>Track sizing works the same as in <a href="https://drafts.csswg.org/css-grid-2/#algo-track-sizing">CSS Grid</a>,
	except that when considering which items contribute to intrinsic sizes:</p>
   <ul>
    <li data-md>
     <p>All items explicitly placed in that track contribute, and</p>
    <li data-md>
     <p>All items with an <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#automatic-grid-position" id="ref-for-automatic-grid-position①">automatic grid position</a> contribute
(regardless of whether they are ultimately placed in that track).</p>
   </ul>
   <div class="example" id="example-6d22f73d">
    <a class="self-link" href="#example-6d22f73d"></a>
		For example, suppose there are two columns in the <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis①⓪">grid axis</a>
		and that

    <ul>
     <li data-md>
      <p>Items A, B, and C have no explicit position.</p>
     <li data-md>
      <p>Item D is explicitly placed into the first column.</p>
    </ul>
    <p>In this case, items A, B, C, and D all contribute to sizing the first column,
		while only A, B, and C (and not D) contribute to the second column.</p>
   </div>
   <p>In the case of spanning items with an <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#automatic-grid-position" id="ref-for-automatic-grid-position②">automatic grid position</a>,
	they are assumed to be placed at every possible start position,
	and contribute accordingly.</p>
   <div class="example" id="example-f3e866aa">
    <a class="self-link" href="#example-f3e866aa"></a>
		For example, suppose there are 5 columns in the <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis①①">grid axis</a>,
		with the middle having a fixed size of <span class="css">100px</span>
		and the other two being <span class="css">auto</span>-sized.
		For the purpose of track sizing,
		an item that spans 2 tracks
		and has an intrinsic contribution of 220px
		is essentially copied and assumed to exist:


    <ul>
     <li data-md>
      <p>At grid line 1,
contributing 110px to each of the first two tracks.</p>
     <li data-md>
      <p>At grid line 2,
contributing 120px to the second track.</p>
     <li data-md>
      <p>At grid line 3,
contributing 120px to the fourth track.</p>
     <li data-md>
      <p>At grid line 4,
contributing 110px to the fourth and fifth tracks.</p>
    </ul>
   </div>
   <p class="note" role="note"><span class="marker">Note:</span> This algorithm ensures that each track is at least big enough
	to accommodate every item that is ultimately placed in it,
	and does not create dependency cycles between placement and track sizing.
	However, depending on the variation in sizes,
	tracks could be larger than necessary:
	an exact fit is only guaranteed if
	all items are explicitly placed in the <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis①②">grid axis</a>
	or all items are the same size
	(or matching multiples of that size, in the case of spanning items).</p>
   <h4 class="heading settled" data-level="3.4.1" id="track-sizing-subgrid"><span class="secno">3.4.1. </span><span class="content">
Subgrid Item Contributions</span><a class="self-link" href="#track-sizing-subgrid"></a></h4>
   <p>When sizing the tracks of either a regular <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-container" id="ref-for-grid-container①⓪">grid container</a> or a <a data-link-type="dfn" href="#grid-lanes-container" id="ref-for-grid-lanes-container①④">grid lanes container</a>,
	a <a data-link-type="dfn" href="#grid-lanes-subgrid" id="ref-for-grid-lanes-subgrid">grid lanes subgrid</a> has special handling of items that have an <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#automatic-grid-position" id="ref-for-automatic-grid-position③">automatic grid position</a>:</p>
   <ul>
    <li data-md>
     <p>Any such item is placed into every possible <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#parent-grid" id="ref-for-parent-grid">parent grid</a> track
that could be spanned by the <a data-link-type="dfn" href="#grid-lanes-subgrid" id="ref-for-grid-lanes-subgrid①">grid lanes subgrid</a>.
(If the subgrid has a <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#definite-grid-position" id="ref-for-definite-grid-position①">definite grid position</a>, thus only the spanned tracks;
if it has an <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#automatic-grid-position" id="ref-for-automatic-grid-position④">automatic grid position</a>, then all tracks in the parent grid.)</p>
    <li data-md>
     <p>Any such item receives the largest margin/border/padding contribution
of each edge at which it could hypothetically be placed.
If the item spans the entire subgrid, it receives both.
(See <a href="https://www.w3.org/TR/css-grid-2/#subgrid-item-contribution">CSS Grid Layout §9</a>.)</p>
   </ul>
   <p>When sizing the tracks of a <a data-link-type="dfn" href="#grid-lanes-container" id="ref-for-grid-lanes-container①⑤">grid lanes container</a>,
	a <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#subgrid" id="ref-for-subgrid⑤">subgrid</a> with an <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#automatic-grid-position" id="ref-for-automatic-grid-position⑤">automatic grid position</a>
	(whether a <a data-link-type="dfn" href="#regular-grid-subgrid" id="ref-for-regular-grid-subgrid">regular grid subgrid</a> or <a data-link-type="dfn" href="#grid-lanes-subgrid" id="ref-for-grid-lanes-subgrid②">grid lanes subgrid</a>)
	also has special handling of its items:</p>
   <ul>
    <li data-md>
     <p><em>Every</em> item is placed into every possible <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#parent-grid" id="ref-for-parent-grid①">parent grid</a> track
that could be spanned by the <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#subgrid" id="ref-for-subgrid⑥">subgrid</a>,
(ignoring any explicit placement of the item).</p>
    <li data-md>
     <p>Explicitly-placed sub-items only receive the subgrid’s margin/border/padding contribution
when their explicit placement is at an edge of the subgrid
(as usual).</p>
   </ul>
   <p class="note" role="note"><span class="marker">Note:</span> Explicitly placed items inside an explicitly placed <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#subgrid" id="ref-for-subgrid⑦">subgrid</a>
	only ever contribute to their actual <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#parent-grid" id="ref-for-parent-grid②">parent grid</a> tracks.
	This is because in this case, just like in regular <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-layout" id="ref-for-grid-layout⑨">grid layout</a>,
	the item’s placement is known prior to track sizing.</p>
   <h4 class="heading settled" data-level="3.4.2" id="track-sizing-performance"><span class="secno">3.4.2. </span><span class="content">
Optimized Track Sizing</span><a class="self-link" href="#track-sizing-performance"></a></h4>
   <p>Track sizing can be optimized by aggregating items
	that have the same span size and placement
	into a single virtual item
	as follows:</p>
   <ol>
    <li>
     
			Separate all the <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-item" id="ref-for-grid-item①">grid items</a> into <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="item-groups">item groups</dfn>, according to the following properties:


     <ul>
      <li data-md>
       <p>the span of the item</p>
      <li data-md>
       <p>the placement of the item,
i.e. which tracks it is allowed to be placed in</p>
      <li data-md>
       <p>the item’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-align-3/#baseline-sharing-group" id="ref-for-baseline-sharing-group">baseline-sharing group</a></p>
     </ul>
     <p class="note" role="note"><span class="marker">Note:</span> For example, an item with span 2 placed in the second track
			will be in a different group than an item with span 2 that has an <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#automatic-grid-position" id="ref-for-automatic-grid-position⑥">automatic grid position</a>.</p>
    <li>
     
			For each <a data-link-type="dfn" href="#item-groups" id="ref-for-item-groups">item group</a>, synthesize a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="virtual-grid-item">virtual grid item</dfn>
			that has the maximum of every intrinsic size contribution
			among the items in that group.


     <p>If the items apply <a data-link-type="dfn" href="https://drafts.csswg.org/css-align-3/#baseline-alignment" id="ref-for-baseline-alignment">baseline alignment</a>,
			determine the baselines of the <a data-link-type="dfn" href="#virtual-grid-item" id="ref-for-virtual-grid-item">virtual grid item</a>
			by placing all of its items into a single hypothetical grid track
			and finding their shared baseline(s) and shims.
			Increase the group’s intrinsic size contributions accordingly.</p>
    <li>
			Place hypothetical copies of each <a data-link-type="dfn" href="#virtual-grid-item" id="ref-for-virtual-grid-item①">virtual grid item</a> into the <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis①③">grid axis</a> tracks
			in every position that the item could potentially occupy,
			and run the <a href="https://drafts.csswg.org/css-grid-2/#algo-track-sizing">track sizing algorithm</a> with those items.
			The resulting track sizes are the <a data-link-type="dfn" href="#grid-lanes-container" id="ref-for-grid-lanes-container①⑥">grid lanes container’s</a> track sizes.
	
   </ol>
   <p class="note" role="note"><span class="marker">Note:</span> This optimization should give the same results
	as the track sizing description <a href="#track-sizing">above</a>;
	if not this is an error, please
	<a href="https://github.com/w3c/csswg-drafts/issues">report it to the CSSWG</a>.</p>
   <h2 class="heading settled" data-level="4" id="grid-lanes-track-placement"><span class="secno">4. </span><span class="bs-old-id" id="masonry-track-placement"></span><span class="content">
Grid Lanes Item Placement</span><a class="self-link" href="#grid-lanes-track-placement"></a></h2>
   <p>In the <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis①④">grid axis</a>,
	items can be <em>explicitly placed</em> into tracks and span them using the familiar <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-placement-property" id="ref-for-grid-placement-property">grid-placement properties</a>’ syntax.
	Auto-placement, however, uses the <a href="#grid-lanes-layout-algorithm">§ 4.4 Grid Lanes Layout and Placement Algorithm</a>,
	placing each item with an <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#automatic-grid-position" id="ref-for-automatic-grid-position⑦">automatic grid position</a>
	into the “shortest” track available.</p>
   <div class="example" id="example-c504d9b3">
    <a class="self-link" href="#example-c504d9b3"></a>
		Here’s a grid lanes layout demonstrating explicitly placed and spanning items:

		
<pre class="highlight">.container <c- p>{</c->
  <c- k>grid-template-columns</c-><c- p>:</c-> <c- nf>repeat</c-><c- p>(</c-><c- m>3</c-><c- p>,</c-> auto<c- p>);</c->
<c- p>}</c->
.container > :nth-child<c- p>(</c-><c- m>2</c-><c- p>)</c-> <c- p>{</c->
  <c- c>/* auto-placed, but spanning. */</c->
  grid-column: span <c- m>2</c-><c- p>;</c->
<c- p>}</c->
.container > :nth-child<c- p>(</c-><c- m>3</c-><c- p>)</c-> <c- p>{</c->
  <c- c>/* manually placed */</c->
  grid-column: <c- m>3</c-><c- p>;</c->
<c- p>}</c->
<c- c>/* all other children are auto-placed */</c->
</pre>
    <figure>
     
			<img alt height="445" src="images/example-span-and-manual.png" width="770">
			
     <figcaption>Rendering of the example above.</figcaption>
    </figure>
   </div>
   <h3 class="heading settled" data-level="4.1" id="grid-lanes-placement"><span class="secno">4.1. </span><span class="content">
Specifying Grid Axis Item Placement: the <span class="css">grid-column-*</span> and <span class="css">grid-row-*</span> properties</span><a class="self-link" href="#grid-lanes-placement"></a></h3>
   <p>The <span class="css">grid-column-*</span> and <span class="css">grid-row-*</span> properties
	(and their shorthands)
	apply in the <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis①⑤">grid axis</a> of the items
	and establish placement just as in regular <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-layout" id="ref-for-grid-layout①⓪">grid layout</a>.</p>
   <h3 class="heading settled" data-level="4.2" id="placement-tolerance"><span class="secno">4.2. </span><span class="bs-old-id" id="item-slack"></span><span class="content">
Placement Precision: the <a class="css property" data-link-type="property" href="#propdef-flow-tolerance" id="ref-for-propdef-flow-tolerance②">flow-tolerance</a> property</span><a class="self-link" href="#placement-tolerance"></a></h3>
   <table class="def propdef" data-link-for-hint="flow-tolerance">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="css dfn-paneled" data-dfn-type="property" data-export id="propdef-flow-tolerance">flow-tolerance</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod">normal <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one②">|</a> <a class="css production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#typedef-length-percentage" id="ref-for-typedef-length-percentage">&lt;length-percentage></a> <span id="ref-for-comb-one③">|</span> infinite
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>normal
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td><a data-link-type="dfn" href="#grid-lanes-container" id="ref-for-grid-lanes-container①⑦">grid lanes containers</a>
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>no
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>relative to the <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis①⑥">grid-axis</a> <a data-link-type="dfn" href="https://drafts.csswg.org/css-box-4/#content-box" id="ref-for-content-box">content box</a> size of the <a data-link-type="dfn" href="#grid-lanes-container" id="ref-for-grid-lanes-container①⑧">grid lanes container</a>
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>a computed <a class="css production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#typedef-length-percentage" id="ref-for-typedef-length-percentage①">&lt;length-percentage></a> value
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      <td>as length
   </table>
   <p><a data-link-type="dfn" href="#grid-lanes-container" id="ref-for-grid-lanes-container①⑨">Grid lanes containers</a> are filled
	by placing each <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-item" id="ref-for-grid-item②">grid item</a>
	in whichever <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-track" id="ref-for-grid-track②">grid track</a> is currently the least filled.
	When multiple tracks are tied for least-filled,
	placing the items in order looks good.
	But if tracks are only <em>very slightly</em> different heights,
	it can look strange to have them not fill in order,
	as the height differences aren’t perceived as <em>meaningfully</em> different.</p>
   <p>The <a class="css property" data-link-type="property" href="#propdef-flow-tolerance" id="ref-for-propdef-flow-tolerance③">flow-tolerance</a> property specifies what the threshold is
	for considering tracks to be “the same height”,
	causing them to fill in order.</p>
   <dl>
    <dt data-md><dfn class="css dfn-paneled" data-dfn-for="flow-tolerance" data-dfn-type="value" data-export id="valdef-flow-tolerance-length-percentage"><a class="css production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#typedef-length-percentage" id="ref-for-typedef-length-percentage②">&lt;length-percentage></a></dfn>
    <dd data-md>
     <p>Specifies the <dfn class="dfn-paneled" data-dfn-for="grid lanes" data-dfn-type="dfn" data-noexport id="grid-lanes-tie-threshold">tie threshold</dfn>
for the <a data-link-type="dfn" href="#grid-lanes-container" id="ref-for-grid-lanes-container②⓪">grid lanes container</a>.
Placement positions are considered to be equally good (“tied”)
if they are within the specified distance
from the shortest position.</p>
     <p class="note" role="note"><span class="marker">Note:</span> The initial value is a “small” distance (<span class="css">1em</span>)
that is probably appropriate to represent “close enough”.</p>
    <dt data-md><dfn class="css dfn-paneled" data-dfn-for="flow-tolerance" data-dfn-type="value" data-export id="valdef-flow-tolerance-normal">normal</dfn>
    <dd data-md>
     <p>Resolves to a <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#used-value" id="ref-for-used-value">used value</a> of <span class="css">1em</span> in <a data-link-type="dfn" href="#grid-lanes-layout" id="ref-for-grid-lanes-layout⑧">grid lanes layout</a>
and a <span id="ref-for-used-value①">used value</span> of <span class="css">0</span> in all other layout modes.</p>
    <dt data-md><dfn class="css dfn-paneled" data-dfn-for="flow-tolerance" data-dfn-type="value" data-export id="valdef-flow-tolerance-infinite">infinite</dfn>
    <dd data-md>
     <p>Specifies an infinite <a data-link-type="dfn" href="#grid-lanes-tie-threshold" id="ref-for-grid-lanes-tie-threshold">tie threshold</a>.
This makes items distribute themselves strictly in order,
without considering the length of the tracks at all.</p>
     <p class="note" role="note"><span class="marker">Note:</span> This value can result in consecutive items being placed
in dramatically different positions in the <a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis⑨">stacking axis</a>,
which can be confusing to readers.
If the initial value (`1em`) is too small,
consider a larger value (such as `10em` or `50vh`)
instead of `infinite`.</p>
   </dl>
   <div class="example" id="example-ded661dc">
    <a class="self-link" href="#example-ded661dc"></a>
		In the following example,
		when placing the 5th item,
		the fourth column is the shortest,
		but the first column is <em>almost</em> as short.

		
    <figure>
			<img alt="An example grid lanes element with four columns.
				      Each column is already partially filled to different heights,
				      with the fourth column the shortest but the first column only slightly taller.
				      Depending on the tolerance value, the next item to be placed can choose either the first or fourth column." height="341" src="images/tolerance.png" width="720">
		</figure>
    <p>With the default tolerance of <span class="css">1em</span>,
		both the first and fourth columns are considered to be "tied",
		and so the first is chosen.</p>
    <p>If, instead, the tolerance is set to <span class="css">0px</span>,
		then there is no tie;
		only the fourth column is a possible placement.</p>
   </div>
   <p class="note" role="note"><span class="marker">Note:</span> We expect to apply this property to <a data-link-type="dfn" href="https://drafts.csswg.org/css-flexbox-1/#flex-layout" id="ref-for-flex-layout④">flex layout</a> in the future also,
	see <a href="https://github.com/w3c/csswg-drafts/issues/3071">discussions</a>
	on how that might work.</p>
   <h3 class="heading settled" data-level="4.3" id="grid-lanes-dense-packing"><span class="secno">4.3. </span><span class="content">
Dense Placement: the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-grid-2/#valdef-grid-auto-flow-dense" id="ref-for-valdef-grid-auto-flow-dense">dense</a> keyword</span><a class="self-link" href="#grid-lanes-dense-packing"></a></h3>
   <p>In <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-layout" id="ref-for-grid-layout①①">grid layout</a>, <a class="css" data-link-type="propdesc" href="https://drafts.csswg.org/css-grid-2/#propdef-grid-auto-flow" id="ref-for-propdef-grid-auto-flow①">grid-auto-flow: dense</a> allows backtracking
	during the <a href="https://drafts.csswg.org/css-grid-2/#auto-placement-algo">grid item placement algorithm</a>.
	The <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-grid-2/#valdef-grid-auto-flow-dense" id="ref-for-valdef-grid-auto-flow-dense①">dense</a> keyword similarly allows backtracking
	during the <a href="#grid-lanes-layout-algorithm">grid lanes placement algorithm</a>.
	However, because item placement and sizing are intertwined in <a data-link-type="dfn" href="#grid-lanes-layout" id="ref-for-grid-lanes-layout⑨">grid lanes layout</a>,
	an item can only backtrack into a compatible empty slot if
	the total used size of that slot’s tracks
	matches the used size of the item’s normal-placement tracks.</p>
   <p class="note" role="note"><span class="marker">Note:</span> This restriction avoids laying out the item more than once.</p>
   <h3 class="heading settled" data-level="4.4" id="grid-lanes-layout-algorithm"><span class="secno">4.4. </span><span class="content">
Grid Lanes Layout and Placement Algorithm</span><a class="self-link" href="#grid-lanes-layout-algorithm"></a></h3>
   <p>For each of the tracks in the <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis①⑦">grid axis</a>,
	keep a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="running-position">running position</dfn> initialized to zero.
	Maintain also a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="auto-placement-cursor">auto-placement cursor</dfn>,
	initially pointing to the first line.</p>
   <p>For each item in <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-4/#order-modified-document-order" id="ref-for-order-modified-document-order">order-modified document order</a>:</p>
   <ol>
    <li>
     
			If the item has a <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#definite-grid-position" id="ref-for-definite-grid-position②">definite grid position</a> in the <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis①⑧">grid axis</a>,
			use that placement.


     <p class="issue" id="issue-9c647ef6"><a class="self-link" href="#issue-9c647ef6"></a> Should this also update the placement cursor?</p>
     <p>Otherwise, resolve its <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis①⑨">grid axis</a> placement using these substeps:</p>
     <ol>
      <li>Starting at the first <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis②⓪">grid axis</a> line in the <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#implicit-grid" id="ref-for-implicit-grid①">implicit grid</a>,
					find the largest <a data-link-type="dfn" href="#running-position" id="ref-for-running-position">running position</a> of the <span id="ref-for-grid-axis②①">grid axis</span> tracks
					that the item would span if it were placed at this line,
					and call this position <var>max_pos</var>.
				
      <li>Repeat the previous step for each successive line number
					until the item would no longer fit inside the grid.
				
      <li>Let <var>possible lines</var> be the line that resulted in the smallest <var>max_pos</var>,
					and all lines that result in a <var>max_pos</var> within the <a data-link-type="dfn" href="#grid-lanes-tie-threshold" id="ref-for-grid-lanes-tie-threshold①">tie threshold</a> of this <var>max_pos</var>.
				
      <li>Choose the first line in <var>possible lines</var> greater than or equal to the <a data-link-type="dfn" href="#auto-placement-cursor" id="ref-for-auto-placement-cursor">auto-placement cursor</a>
					as the item’s position in the <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis②②">grid axis</a>;
					or if there are none such, choose the first one.
				
      <li>Update the <a data-link-type="dfn" href="#auto-placement-cursor" id="ref-for-auto-placement-cursor①">auto-placement cursor</a> to point to item’s last line.
			
     </ol>
    <li>
			Place the item in its <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis②③">grid axis</a> tracks
			at the maximum of the <a data-link-type="dfn" href="#running-position" id="ref-for-running-position①">running position</a>s
			of the tracks it spans.

		
    <li>
     
			Calculate the size of the item’s <a href="#containing-block">containing block</a>
			and then layout the item.
			Set the <a data-link-type="dfn" href="#running-position" id="ref-for-running-position②">running position</a> of the spanned  <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis②④">grid axis</a> tracks
			to <code><var>max_pos</var> + <a data-link-type="dfn" href="https://drafts.csswg.org/css-sizing-3/#outer-size" id="ref-for-outer-size">outer size</a> + <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-align-3/#propdef-grid-gap" id="ref-for-propdef-grid-gap">grid-gap</a></code>.


     <p>For this purpose, the <a data-link-type="dfn" href="https://drafts.csswg.org/css-sizing-3/#outer-size" id="ref-for-outer-size①">outer sizes</a> of the box are floored at zero.</p>
     <p class="note" role="note"><span class="marker">Note:</span> That is, if the box has sufficiently large negative margins,
			it won’t somehow count as a negative <em>size</em> here.
			The <a data-link-type="dfn" href="#running-position" id="ref-for-running-position③">running position</a> of a track never decreases,
			so a negative-sized box
			won’t cause future normally-sized items placed in the track
			to overlap previous items.</p>
    <li>
     
			If the <a data-link-type="dfn" href="#grid-lanes-container" id="ref-for-grid-lanes-container②①">grid lanes container</a> uses <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-grid-2/#valdef-grid-auto-flow-dense" id="ref-for-valdef-grid-auto-flow-dense②">dense</a> packing,
			and there exists skipped spaces in the layout
			(e.g. due to spanning items)
			into which the item, as it is sized now,
			could have fit if it were placed earlier,
			and where the spanned tracks have the same total used size
			as the tracks into which it is currently placed,
			then instead place it into the highest such space.
			If there are multiple valid spaces within the <a data-link-type="dfn" href="#grid-lanes-tie-threshold" id="ref-for-grid-lanes-tie-threshold②">tie threshold</a> of the highest space,
			place it in the <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-4/#css-start" id="ref-for-css-start">start</a>-most of them.
			Rewind the <a data-link-type="dfn" href="#auto-placement-cursor" id="ref-for-auto-placement-cursor②">auto-placement cursor</a> and the <a data-link-type="dfn" href="#running-position" id="ref-for-running-position④">running position</a>
			to their values before this item’s placement.


     <p class="note" role="note"><span class="marker">Note:</span> Items that <em>visually</em> intrude into preceding empty spaces
			(via negative margins, <a class="css" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-position" id="ref-for-propdef-position">position: relative</a>, transforms, etc.),
			do not affect the size of those empty spaces.
			Later items can get placed in those spaces
			and visually overlap these previous items.</p>
     <p class="note" role="note"><span class="marker">Note:</span> Dense packing both ignores the <a data-link-type="dfn" href="#auto-placement-cursor" id="ref-for-auto-placement-cursor③">auto-placement cursor</a> when backfilling,
			and does not update it after placement.
			If there aren’t any acceptable placement gaps to backfill, though,
			it places items exactly as when <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-grid-2/#valdef-grid-auto-flow-dense" id="ref-for-valdef-grid-auto-flow-dense③">dense</a> were not specified.</p>
   </ol>
   <p class="note" role="note"><span class="marker">Note:</span> This algorithm chooses the track
	that would result in the item being placed as highly as possible.
	If there are ties, it chooses the earliest such track,
	<em>after</em> the most recently placed item if possible
	(ensuring that it always “moves forward” even in the presence of ties).</p>
   <h4 class="heading settled" data-level="4.4.1" id="containing-block"><span class="secno">4.4.1. </span><span class="content">
Containing Block</span><a class="self-link" href="#containing-block"></a></h4>
   <p>The <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-4/#containing-block" id="ref-for-containing-block">containing block</a> for a <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-item" id="ref-for-grid-item③">grid item</a> participating in <a data-link-type="dfn" href="#grid-lanes-layout" id="ref-for-grid-lanes-layout①⓪">grid lanes layout</a>
	is formed by its <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-area" id="ref-for-grid-area">grid area</a> in the <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis②⑤">grid axis</a>
	and the <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-container" id="ref-for-grid-container①①">grid container</a>’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-box-4/#content-box" id="ref-for-content-box①">content box</a> in the <a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis①⓪">stacking axis</a>.</p>
   <h4 class="heading settled" data-level="4.4.2" id="rtl-example"><span class="secno">4.4.2. </span><span class="content">
Placement and Writing Modes</span><a class="self-link" href="#rtl-example"></a></h4>
   <p class="note" role="note"><span class="marker">Note:</span> Like all of <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-layout" id="ref-for-grid-layout①②">grid layout</a>,
	grid lanes layout and placement is sensitive to the <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-4/#writing-mode" id="ref-for-writing-mode">writing mode</a>.
	For example, for <a class="css" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction" id="ref-for-propdef-direction">direction: rtl</a>,
	items are placed right-to-left rather than left-to-right,
	whether the inline axis is a <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis②⑥">grid axis</a> or a <a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis①①">stacking axis</a>.</p>
   <div class="example" id="example-5f5333ca">
    <a class="self-link" href="#example-5f5333ca"></a>
		Here’s a simple <a href="examples/rtl-grid-axis.html">example</a> using <a class="css" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction" id="ref-for-propdef-direction①">direction: rtl</a> in the <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis②⑦">grid axis</a>:

		
<pre class="highlight language-css">&lt;style>
  .grid <c- p>{</c->
    <c- k>display</c-><c- p>:</c-> inline-grid-lanes<c- p>;</c->
    <c- k>direction</c-><c- p>:</c-> rtl<c- p>;</c->
    <c- k>grid-template-columns</c-><c- p>:</c-> <c- nf>repeat</c-><c- p>(</c-><c- m>4</c-><c- p>,</c-> <c- m>2</c-><c- k>ch</c-><c- p>);</c->
    <c- k>border</c-><c- p>:</c-> <c- m>1</c-><c- k>px</c-> solid<c- p>;</c->
  <c- p>}</c->

  item <c- p>{</c-> <c- k>background</c-><c- p>:</c-> silver <c- p>}</c->
  item:nth-child<c- p>(</c-><c- m>2</c-><c- k>n</c-><c- m>+1</c-><c- p>)</c-> <c- p>{</c->
    <c- k>background</c-><c- p>:</c-> pink<c- p>;</c->
    <c- k>height</c-><c- p>:</c-> <c- m>4</c-><c- k>em</c-><c- p>;</c->
  <c- p>}</c->
  &lt;/style>
</pre>
<pre class="highlight language-html"><c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"grid"</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->1<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-> <c- e>style</c-><c- o>=</c-><c- s>"grid-column:span 2"</c-><c- p>></c->2<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->3<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->4<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
</pre>
    <figure>
     
			<img alt height="107" src="images/rtl-grid-axis.png" width="128">
			
     <figcaption>Rendering of the <a class="css" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction" id="ref-for-propdef-direction②">direction: rtl</a> example above.</figcaption>
    </figure>
   </div>
   <div class="example" id="example-7bed5830">
    <a class="self-link" href="#example-7bed5830"></a>
		Here’s a simple <a href="examples/rtl-masonry-axis.html">example</a>
		using <a class="css" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction" id="ref-for-propdef-direction③">direction: rtl</a> in the <a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis①②">stacking axis</a>:

		
<pre class="highlight language-css">&lt;style>
.grid <c- p>{</c->
  <c- k>display</c-><c- p>:</c-> inline-grid-lanes<c- p>;</c->
  <c- k>direction</c-><c- p>:</c-> rtl<c- p>;</c->
  <c- k>width</c-><c- p>:</c-> <c- m>10</c-><c- k>ch</c-><c- p>;</c->
  <c- k>column-gap</c-><c- p>:</c-> <c- m>1</c-><c- k>ch</c-><c- p>;</c->
  <c- k>grid-template-rows</c-><c- p>:</c-> <c- nf>repeat</c-><c- p>(</c-><c- m>4</c-><c- p>,</c-> <c- m>2</c-><c- k>em</c-><c- p>);</c->
  <c- k>border</c-><c- p>:</c-> <c- m>1</c-><c- k>px</c-> solid<c- p>;</c->
<c- p>}</c->

item <c- p>{</c-> <c- k>background</c-><c- p>:</c-> silver <c- p>}</c->
item:nth-child<c- p>(</c-><c- m>2</c-><c- k>n</c-><c- m>+1</c-><c- p>)</c-> <c- p>{</c->
  <c- k>background</c-><c- p>:</c-> pink<c- p>;</c->
  <c- k>width</c-><c- p>:</c-> <c- m>4</c-><c- k>ch</c-><c- p>;</c->
<c- p>}</c->
&lt;/style>
</pre>
<pre class="highlight language-html"><c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"grid"</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->1<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-> <c- e>style</c-><c- o>=</c-><c- s>"grid-row:span 2"</c-><c- p>></c->2<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->3<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->4<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
</pre>
    <figure>
     
			<img alt height="107" src="images/rtl-masonry-axis.png" width="128">
			
     <figcaption>Rendering of the <a class="css" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction" id="ref-for-propdef-direction④">direction: rtl</a> example above.</figcaption>
    </figure>
   </div>
   <h2 class="heading settled" data-level="5" id="intrinsic-sizes"><span class="secno">5. </span><span class="content">
Sizing Grid Containers</span><a class="self-link" href="#intrinsic-sizes"></a></h2>
   <p><a href="https://drafts.csswg.org/css-grid-2/#intrinsic-sizes">Sizing Grid Containers</a> works the same as for regular <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-container" id="ref-for-grid-container①②">grid containers</a>
	but with the following replacement for the <a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis①③">stacking axis</a>:
	The <a data-link-type="dfn" href="https://drafts.csswg.org/css-sizing-3/#max-content" id="ref-for-max-content">max-content size</a> (<a data-link-type="dfn" href="https://drafts.csswg.org/css-sizing-3/#min-content" id="ref-for-min-content">min-content size</a>) of a <span id="ref-for-grid-container①③">grid container</span> in the <span id="ref-for-stacking-axis①④">stacking axis</span>
	is the size of the <a data-link-type="dfn" href="#stacking-range" id="ref-for-stacking-range">stacking range</a>
	when the <a data-link-type="dfn" href="#grid-lanes-container" id="ref-for-grid-lanes-container②②">grid lanes container</a> is sized under a <a data-link-type="dfn" href="https://drafts.csswg.org/css-sizing-3/#max-content-constraint" id="ref-for-max-content-constraint">max-content constraint</a> (<a data-link-type="dfn" href="https://drafts.csswg.org/css-sizing-3/#min-content-constraint" id="ref-for-min-content-constraint">min-content constraint</a>)
	in that axis.
	The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="stacking-range">stacking range</dfn> is the range between
	the startmost <a data-link-type="dfn" href="https://drafts.csswg.org/css-box-4/#outer-edge" id="ref-for-outer-edge">outer edge</a> among the first items of each track
	and the endmost <span id="ref-for-outer-edge①">outer edge</span> among the last items of each track.</p>
   <div class="example" id="example-51eed6fc">
    <a class="self-link" href="#example-51eed6fc"></a>
		Here’s a simple <a href="examples/grid-intrinsic-sizing-example-1.html">example</a>:

		
<pre class="highlight language-css">&lt;style>
.grid <c- p>{</c->
  <c- k>display</c-><c- p>:</c-> inline-grid-lanes<c- p>;</c->
  <c- k>grid-template-columns</c-><c- p>:</c-> <c- m>50</c-><c- k>px</c-> <c- m>100</c-><c- k>px</c-> auto<c- p>;</c->
  <c- k>grid-gap</c-><c- p>:</c-> <c- m>10</c-><c- k>px</c-><c- p>;</c->
  <c- k>border</c-><c- p>:</c-> <c- m>1</c-><c- k>px</c-> solid<c- p>;</c->
<c- p>}</c->
item <c- p>{</c-> <c- k>background</c-><c- p>:</c-> silver<c- p>;</c-> <c- k>margin</c-><c- p>:</c-> <c- m>5</c-><c- k>px</c-><c- p>;</c-> <c- p>}</c->
&lt;/style>
</pre>
<pre class="highlight language-html"><c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"grid"</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-> <c- e>style</c-><c- o>=</c-><c- s>"border:10px solid"</c-><c- p>></c->1<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->2<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->3<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-> <c- e>style</c-><c- o>=</c-><c- s>"height:50px"</c-><c- p>></c->4<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->5<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>item</c-><c- p>></c->6<c- p>&lt;/</c-><c- f>item</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
</pre>
    <figure>
     
			<img alt height="158" src="images/grid-intrinsic-sizing-example-1.png" width="294">
			
     <figcaption>Rendering of the <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-container" id="ref-for-grid-container①④">grid container</a> intrinsic sizing example above.</figcaption>
    </figure>
   </div>
   <h2 class="heading settled" data-level="6" id="alignment"><span class="secno">6. </span><span class="content">
Alignment and Spacing</span><a class="self-link" href="#alignment"></a></h2>
   <h3 class="heading settled" data-level="6.1" id="gutters"><span class="secno">6.1. </span><span class="content">
Gutters: the <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-align-3/#propdef-row-gap" id="ref-for-propdef-row-gap">row-gap</a>, <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-align-3/#propdef-column-gap" id="ref-for-propdef-column-gap">column-gap</a>, and <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-align-3/#propdef-gap" id="ref-for-propdef-gap">gap</a> properties</span><a class="self-link" href="#gutters"></a></h3>
   <p><a href="https://drafts.csswg.org/css-grid-2/#gutters">Gutters</a> are supported in both axes
	using the <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-align-3/#propdef-row-gap" id="ref-for-propdef-row-gap①">row-gap</a> and <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-align-3/#propdef-column-gap" id="ref-for-propdef-column-gap①">column-gap</a> properties (and their <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-align-3/#propdef-gap" id="ref-for-propdef-gap①">gap</a> <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#shorthand-property" id="ref-for-shorthand-property">shorthand</a>).
	In the <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis②⑧">grid axis</a> they work the same as in a regular <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-container" id="ref-for-grid-container①⑤">grid container</a>;
	see <a href="https://drafts.csswg.org/css-grid-2/#alignment"><cite>CSS Grid Layout 2</cite> §  11. Alignment and Spacing</a>.
	In the <a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis①⑤">stacking axis</a>,
	the gap is applied between the margin boxes of each pair of adjacent items.
	Margins do not collapse in either axis.</p>
   <h3 class="heading settled" data-level="6.2" id="grid-axis-alignment"><span class="secno">6.2. </span><span class="content">
Grid-axis Alignment: the <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-align-3/#propdef-align-content" id="ref-for-propdef-align-content">align-content</a>/<a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-align-3/#propdef-justify-content" id="ref-for-propdef-justify-content">justify-content</a>, <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-align-3/#propdef-align-self" id="ref-for-propdef-align-self">align-self</a>/<a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-align-3/#propdef-justify-self" id="ref-for-propdef-justify-self">justify-self</a>, and <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-align-3/#propdef-align-items" id="ref-for-propdef-align-items">align-items</a>/<a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-align-3/#propdef-justify-items" id="ref-for-propdef-justify-items">justify-items</a> properties</span><a class="self-link" href="#grid-axis-alignment"></a></h3>
   <p>In the <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis②⑨">grid axis</a>,
	the <a data-link-type="dfn" href="https://drafts.csswg.org/css-align-3/#box-alignment-properties" id="ref-for-box-alignment-properties">box alignment properties</a>
	work the same as in a regular <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-container" id="ref-for-grid-container①⑥">grid container</a>.
	See <a href="https://drafts.csswg.org/css-grid-2/#alignment"><cite>CSS Grid Layout 2</cite> §  11. Alignment and Spacing</a> and <a data-link-type="biblio" href="#biblio-css-align-3" title="CSS Box Alignment Module Level 3">CSS Box Alignment Level 3</a>.</p>
   <h3 class="heading settled" data-level="6.3" id="stacking-content-alignment"><span class="secno">6.3. </span><span class="content">
Stacking-axis Content Distribution: the <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-align-3/#propdef-align-content" id="ref-for-propdef-align-content①">align-content</a>/<a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-align-3/#propdef-justify-content" id="ref-for-propdef-justify-content①">justify-content</a> properties</span><a class="self-link" href="#stacking-content-alignment"></a></h3>
   <p>In the <a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis①⑥">stacking axis</a>,
	<a href="https://drafts.csswg.org/css-align-3/#content-distribution">content-distribution</a> is applied
	to the content as a whole, similarly to how it behaves in block containers.
	More specifically, the <a data-link-type="dfn" href="https://drafts.csswg.org/css-align-3/#alignment-subject" id="ref-for-alignment-subject">alignment subject</a> is the <a data-link-type="dfn" href="#stacking-range" id="ref-for-stacking-range①">stacking range</a>.</p>
   <figure>
    
		<img alt height="364" src="images/masonry-box.png" width="370">
		
    <figcaption>
			The extent of the alignment subject is indicated by the dashed border,
			while the alignment container is the whole container
			(indicated by the height of the column dividers).
			It defaults to start-aligning,
			but depending on (in this case) <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-align-3/#propdef-align-content" id="ref-for-propdef-align-content②">align-content</a>,
			the items can move down, as a block,
			to center- or end-align vertically.
		</figcaption>
   </figure>
   <p class="note" role="note"><span class="marker">Note:</span> There is only ever one <a data-link-type="dfn" href="https://drafts.csswg.org/css-align-3/#alignment-subject" id="ref-for-alignment-subject①">alignment subject</a>
	for these properties in the <a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis①⑦">stacking axis</a>,
	so the unique <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-align-3/#propdef-align-content" id="ref-for-propdef-align-content③">align-content</a> / <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-align-3/#propdef-justify-content" id="ref-for-propdef-justify-content②">justify-content</a> values boil down to
	<a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-align-3/#valdef-self-position-start" id="ref-for-valdef-self-position-start">start</a>,
	<a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-align-3/#valdef-self-position-center" id="ref-for-valdef-self-position-center">center</a>,
	<a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-align-3/#valdef-self-position-end" id="ref-for-valdef-self-position-end">end</a>,
	and <a data-link-type="dfn" href="https://drafts.csswg.org/css-align-3/#baseline-alignment" id="ref-for-baseline-alignment①">baseline alignment</a>.
	(The behavior of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-align-3/#valdef-justify-content-normal" id="ref-for-valdef-justify-content-normal">normal</a> and <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-align-3/#valdef-align-content-stretch" id="ref-for-valdef-align-content-stretch">stretch</a>
	is identical to <span class="css" id="ref-for-valdef-self-position-start①">start</span>,
	and the <a data-link-type="dfn" href="https://drafts.csswg.org/css-align-3/#distributed-alignment" id="ref-for-distributed-alignment">distributed alignment</a> values behave as their <a data-link-type="dfn" href="https://drafts.csswg.org/css-align-3/#fallback-alignment" id="ref-for-fallback-alignment">fallback alignments</a>.)
	If the <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-item" id="ref-for-grid-item④">grid items</a> overflow
	the <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-container" id="ref-for-grid-container①⑦">grid container</a>’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-box-4/#content-box" id="ref-for-content-box②">content box</a> in the <span id="ref-for-stacking-axis①⑧">stacking axis</span>,
	then the <a data-link-type="dfn" href="#stacking-range" id="ref-for-stacking-range②">stacking range</a> will be larger than the <span id="ref-for-grid-container①⑧">grid container</span>’s <span id="ref-for-content-box③">content box</span>.</p>
   <h3 class="heading settled" data-level="6.4" id="stacking-self-alignment"><span class="secno">6.4. </span><span class="content">
Stacking-axis Self Alignment: the <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-align-3/#propdef-align-self" id="ref-for-propdef-align-self①">align-self</a>/<a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-align-3/#propdef-justify-self" id="ref-for-propdef-justify-self①">justify-self</a> and <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-align-3/#propdef-align-items" id="ref-for-propdef-align-items①">align-items</a>/<a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-align-3/#propdef-justify-items" id="ref-for-propdef-justify-items①">justify-items</a> properties</span><a class="self-link" href="#stacking-self-alignment"></a></h3>
   <p>In the <a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis①⑨">stacking axis</a>,
	the <a data-link-type="dfn" href="https://drafts.csswg.org/css-align-3/#self-alignment-properties" id="ref-for-self-alignment-properties">self-alignment properties</a> only apply to items that are adjacent to a “gap” in the layout,
	i.e. placed in their <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-track" id="ref-for-grid-track③">grid track</a>(s) either immediately before a spanning item
	or as the last item.
	The <a data-link-type="dfn" href="https://drafts.csswg.org/css-align-3/#alignment-subject" id="ref-for-alignment-subject②">alignment subject</a> is the item’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-box-4/#margin-box" id="ref-for-margin-box">margin box</a>,
	and the <a data-link-type="dfn" href="https://drafts.csswg.org/css-align-3/#alignment-container" id="ref-for-alignment-container">alignment container</a> is that box plus the adjacent “gap”.
	For the last item in a track, the <span id="ref-for-alignment-container①">alignment container</span>
	extends to the lowest bottom outer edge
	among all the last items in all tracks.</p>
   <figure>
    
		<img alt="In a 4-column grid lanes container with 6 items,
				where the last item spans 3 columns
				and is pushed down by the 2nd item,
				leaving a gap below the items in the other three columns,
				alignment is possible for the items adjacent to this gap.
				The alignment container stretches from the top of the item
				to the bottom of the gap below it.
				For the last column,
				which the spanning item doesn&apos;t reach,
				it stretches to the bottom of the spanning item
				(the lowest item in the grid prior to alignment)." height="302" src="images/align-self.png" width="724">
		
    <figcaption>
			The three highlighted items are the only ones with "gaps" following them,
			so they’re the only ones that will respond to <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-align-3/#propdef-align-items" id="ref-for-propdef-align-items②">align-items</a>.
			Their <a data-link-type="dfn" href="https://drafts.csswg.org/css-align-3/#alignment-container" id="ref-for-alignment-container②">alignment containers</a> are indicated by the cross-hatched areas.
		</figcaption>
   </figure>
   <figure>
    <table>
     <thead>
      <tr>
       <th><a class="css" data-link-type="propdesc" href="https://drafts.csswg.org/css-align-3/#propdef-align-self" id="ref-for-propdef-align-self②">align-self: start</a>
				
       <th><a class="css" data-link-type="propdesc" href="https://drafts.csswg.org/css-align-3/#propdef-align-self" id="ref-for-propdef-align-self③">align-self: end</a>
		
     <tbody>
      <tr>
       <td><img alt="In a 3-column grid lanes container with 5 items,
						where the first and third items are short,
						the third item spans two columns,
						and the last item spands all three,
						if the second is taller than the first,
						and the fourth is taller than the second and third,
						two adjacent alignment containers are created:
						one as tall as the second item, into which the first item aligns,
						and one as tall as the third item minus the second item,
						into which the column-spanning fourth item aligns." height="440" src="images/self-align-stack-start.png" width="448">
				
       <td><img alt="When the items are aligned to the bottom,
						there is empty space above the fourth item.
						But this space, even though it is adjacent to the space for the first item,
						is not available for the first item,
						which aligns simply to the bottom of the second item." height="440" src="images/self-align-stack-end.png" width="448">
		
    </table>
    <figcaption>
			Alignment of an item does not affect the size or position
			of other items' <a data-link-type="dfn" href="https://drafts.csswg.org/css-align-3/#alignment-container" id="ref-for-alignment-container③">alignment containers</a>.
		</figcaption>
   </figure>
   <h3 class="heading settled" data-level="6.5" id="grid-lanes-baseline-alignment"><span class="secno">6.5. </span><span class="bs-old-id" id="masonry-baseline-alignment"></span><span class="content">
Baseline Alignment</span><a class="self-link" href="#grid-lanes-baseline-alignment"></a></h3>
   <p>Item <a data-link-type="dfn" href="https://drafts.csswg.org/css-align-3/#baseline-alignment" id="ref-for-baseline-alignment②">baseline alignment</a> inside the <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis③⓪">grid axis</a> tracks
	works as usual for a regular <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-container" id="ref-for-grid-container①⑨">grid container</a>,
	and the <span id="ref-for-grid-container②⓪">grid container</span>’s baseline is determined
	the same as for a regular <span id="ref-for-grid-container②①">grid container</span> in that axis.</p>
   <p><a data-link-type="dfn" href="https://drafts.csswg.org/css-align-3/#baseline-alignment" id="ref-for-baseline-alignment③">Baseline alignment</a> is not supported in the <a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis②⓪">stacking axis</a>.
	The <span id="ref-for-baseline-alignment④">baseline alignment</span> values of the <a data-link-type="dfn" href="https://drafts.csswg.org/css-align-3/#self-alignment-properties" id="ref-for-self-alignment-properties①">self-alignment properties</a>
	on <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-item" id="ref-for-grid-item⑤">grid items</a> are treated as their <a data-link-type="dfn" href="https://drafts.csswg.org/css-align-3/#fallback-alignment" id="ref-for-fallback-alignment①">fallback alignment</a> in this axis.
	The first baseline set of the <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-container" id="ref-for-grid-container②②">grid container</a> in this axis
	is generated from the highest <a data-link-type="dfn" href="https://drafts.csswg.org/css-align-3/#alignment-baseline" id="ref-for-alignment-baseline">alignment baseline</a>
	among the <span id="ref-for-grid-item⑥">grid items</span> placed first in each track,
	and the last baseline set from the lowest <span id="ref-for-alignment-baseline①">alignment baseline</span>
	among the <span id="ref-for-grid-item⑦">grid items</span> placed last in each track.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Whether an item is “first” or “last” depends only on placement
	(including <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-grid-2/#valdef-grid-auto-flow-dense" id="ref-for-valdef-grid-auto-flow-dense④">dense</a> packing adjustments),
	and is not affected by its actual position on the page,
	e.g. negative margins or <a data-link-type="dfn" href="https://www.w3.org/TR/CSS2/visuren.html#x34" id="ref-for-x34">relative positioning</a> are not considered.</p>
   <h2 class="heading settled" data-level="7" id="pagination"><span class="secno">7. </span><span class="content">
Fragmentation</span><a class="self-link" href="#pagination"></a></h2>
   <h3 class="heading settled" data-level="7.1" id="stacking-axis-pagination"><span class="secno">7.1. </span><span class="bs-old-id" id="masonry-axis-pagination"></span><span class="content">
Fragmentation in the stacking axis</span><a class="self-link" href="#stacking-axis-pagination"></a></h3>
   <p>Each <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis③①">grid axis</a> track is fragmented independently in the <a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis②①">stacking axis</a>.
	If a <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-item" id="ref-for-grid-item⑧">grid item</a> is fragmented,
	or has a <a data-link-type="dfn" href="https://drafts.csswg.org/css-break-4/#forced-break" id="ref-for-forced-break">forced break</a> before/after it,
	then the <a data-link-type="dfn" href="#running-position" id="ref-for-running-position⑤">running position</a> for the tracks that it spans in the <span id="ref-for-grid-axis③②">grid axis</span>
	are set to the size of the <a data-link-type="dfn" href="https://drafts.csswg.org/css-break-4/#fragmentainer" id="ref-for-fragmentainer">fragmentainer</a>
	so that no further items will be placed in those tracks.
	An item that is split into multiple fragments
	retains its placement in the <span id="ref-for-grid-axis③③">grid axis</span> for all its fragments.
	A grid item that is pushed, however,
	is placed again by the next <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-container" id="ref-for-grid-container②③">grid container</a> fragment.
	Placement continues until all items are placed or pushed to a new fragment.</p>
   <div class="example" id="example-c4746f2e">
    <a class="self-link" href="#example-c4746f2e"></a>
		Here’s an <a href="examples/fragmentation-block-axis-example.html">example</a>
		illustrating fragmentation of grid lanes layout with <a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis②②">stacking</a> in its <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-4/#block-axis" id="ref-for-block-axis③">block axis</a>.
		It renders like this:
		
    <figure style="max-width:100%">
     <video controls src="images/fragmentation-block-axis-example.mp4" style="max-width:100%"></video>
     <figcaption>
				Visualization of fragmentation in a <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-4/#block-axis" id="ref-for-block-axis④">block-axis</a> <a data-link-type="dfn" href="#grid-lanes-layout" id="ref-for-grid-lanes-layout①①">grid lanes layout</a>.
			</figcaption>
    </figure>
   </div>
   <h3 class="heading settled" data-level="7.2" id="grid-axis-pagination"><span class="secno">7.2. </span><span class="content">
Fragmentation in the Grid Axis</span><a class="self-link" href="#grid-axis-pagination"></a></h3>
   <p>Fragmentation in the <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis③④">grid axis</a> of a <a data-link-type="dfn" href="#grid-lanes-container" id="ref-for-grid-lanes-container②③">grid lanes container</a>
	is also supported.
	In this case the fragmentation behaves more like in a regular <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-container" id="ref-for-grid-container②④">grid container</a>;
	however, there’s a separate step to determine which <span id="ref-for-grid-axis③⑤">grid-axis</span> track
	each item is placed into,
	before fragmentation occurs.</p>
   <div class="example" id="example-dab6ab26">
    <a class="self-link" href="#example-dab6ab26"></a>
		Here’s an <a href="examples/fragmentation-inline-axis-example.html">example</a>
		illustrating fragmentation of grid lanes layout with <a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis②③">stacking</a> in its <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-4/#inline-axis" id="ref-for-inline-axis④">inline axis</a>.
		In this case the breaks occurs between the <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis③⑥">grid-axis</a> rows.
		It renders like this:
		
    <figure style="max-width:100%">
     <video controls src="images/fragmentation-inline-axis-example.mp4" style="max-width:100%"></video>
     <figcaption>
				Visualization of fragmentation in the <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-4/#block-axis" id="ref-for-block-axis⑤">block axis</a> with <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-4/#inline-axis" id="ref-for-inline-axis⑤">inline-axis</a> <a data-link-type="dfn" href="#grid-lanes-layout" id="ref-for-grid-lanes-layout①②">grid lanes layout</a>.
			</figcaption>
    </figure>
   </div>
   <h2 class="heading settled" data-level="8" id="abspos"><span class="secno">8. </span><span class="content">
Absolute Positioning</span><a class="self-link" href="#abspos"></a></h2>
   <p><a href="https://drafts.csswg.org/css-grid-1/#abspos-items">Grid-aligned absolute-positioned descendants</a> are supported
	in <a data-link-type="dfn" href="#grid-lanes-container" id="ref-for-grid-lanes-container②④">grid lanes containers</a> just as for regular <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-container" id="ref-for-grid-container②⑤">grid containers</a>;
	however, in the <a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis②④">stacking axis</a> there exist only two lines (in addition to the <span class="css">auto</span> lines) for placement:</p>
   <ul>
    <li data-md>
     <p>line 1 (line -2) corresponds to the start edge of the <a data-link-type="dfn" href="#stacking-range" id="ref-for-stacking-range③">stacking range</a></p>
    <li data-md>
     <p>line 2 (line -1) corresponds to the end edge of the <a data-link-type="dfn" href="#stacking-range" id="ref-for-stacking-range④">stacking range</a></p>
   </ul>
   <p class="issue" id="issue-4007c2e6"><a class="self-link" href="#issue-4007c2e6"></a> It might be useful to define a static position in the <a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis②⑤">stacking axis</a>.
	Maybe it could defined as the max (or min?) current <a data-link-type="dfn" href="#running-position" id="ref-for-running-position⑥">running position</a>
	of the <a data-link-type="dfn" href="#grid-axis" id="ref-for-grid-axis③⑦">grid-axis</a> tracks at that point?  Or the end of the item before it?</p>
   <h2 class="heading settled" data-level="9" id="graceful-degradation"><span class="secno">9. </span><span class="content">
Graceful Degradation</span><a class="self-link" href="#graceful-degradation"></a></h2>
   <p>Typically, a grid lanes design can be expected to degrade quite nicely
	in a UA that supports <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid-layout" id="ref-for-grid-layout①③">grid layout</a> but not <a data-link-type="dfn" href="#grid-lanes-layout" id="ref-for-grid-lanes-layout①③">grid lanes layout</a>.</p>
   <div class="example" id="example-c1a7752e">
    <a class="self-link" href="#example-c1a7752e"></a>


    <p>Here’s an <a href="examples/graceful-degradation-example.html">example</a>
		to illustrate this.</p>
<pre class="highlight language-css"><c- k>display</c-><c- p>:</c-> grid<c- p>;</c->
<c- k>display</c-><c- p>:</c-> grid-lanes<c- p>;</c-> <c- c>/* ignored in UAs that don't support grid lanes layout */</c->
grid-template-columns: <c- m>150</c-><c- k>px</c-> <c- m>100</c-><c- k>px</c-> <c- m>50</c-><c- k>px</c-><c- p>;</c->
</pre>
    <p>This creates a layout with three columns,
		but will have "more gaps" in the <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-4/#block-axis" id="ref-for-block-axis⑥">block axis</a> if the UA doesn’t support <a data-link-type="dfn" href="#grid-lanes-layout" id="ref-for-grid-lanes-layout①④">grid lanes layout</a>.
		Here’s what it looks like with grid lanes support for comparison:</p>
    <figure>
     <video controls src="images/graceful-degradation-example.mp4"></video>
     <figcaption>
				Rendering of the example in a UA with grid lanes support.
			</figcaption>
    </figure>
   </div>
   <h2 class="heading settled" data-level="10" id="acknowledgements"><span class="secno">10. </span><span class="content">
Acknowledgements</span><a class="self-link" href="#acknowledgements"></a></h2>
   <p>Special thanks goes to Cameron McCormack who wrote a masonry layout explainer document
	(from which was lifted the Background chapter) and presented it to the CSSWG,
	and to Mats Palmgren who developed the original version of this specification
	alongside a prototype implementation in Firefox.
	Thanks also to everyone who provided feedback on the <a href="https://github.com/w3c/csswg-drafts/issues/4650">initial proposal</a> for this feature
	as well as the <a href="https://github.com/w3c/csswg-drafts/issues?q=is%3Aissue%20state%3Aopen%20label%3A%22topic%3A%20masonry%22">many subsequent issues</a>,
	and to Noam Rosenthal particularly for <a href="https://martinfowler.com/bliki/TwoHardThings.html">naming it</a>.</p>
   <h2 class="heading settled" data-level="11" id="security"><span class="secno">11. </span><span class="content">
Security Considerations</span><a class="self-link" href="#security"></a></h2>
   <p>As a layout specification,
	this spec introduces no new security considerations
	beyond that exposed by CSS layout in general.</p>
   <h2 class="heading settled" data-level="12" id="privacy"><span class="secno">12. </span><span class="content">
Privacy Considerations</span><a class="self-link" href="#privacy"></a></h2>
   <p>As a layout specification,
	this spec introduces no new privacy considerations
	beyond that exposed by CSS layout in general.</p>
   <h2 class="heading no-num settled" id="changes"><span class="content">
Changes</span><a class="self-link" href="#changes"></a></h2>
   <h3 class="heading settled" id="changes-3"><span class="content">
Additions Since Level 2</span><a class="self-link" href="#changes-3"></a></h3>
   <p>The following features have been added since
	<a href="http://www.w3.org/TR/css-grid-2/">Level 2</a>:</p>
   <ul>
    <li>Added <a data-link-type="dfn" href="#grid-lanes-layout" id="ref-for-grid-lanes-layout①⑤">grid lanes layout</a>.
		
    <li>Expanded <span class="css">repeat(auto-fill)</span> and <span class="css">repeat(auto-fit)</span> to accept indefinite track sizing functions.
			(<a href="https://github.com/w3c/csswg-drafts/issues/9321">Issue 9321</a>,
			 <a href="https://github.com/w3c/csswg-drafts/issues/12899">Issue 12899</a>)
		
    <li>Introduced the <a class="css property" data-link-type="property" href="#propdef-flow-tolerance" id="ref-for-propdef-flow-tolerance④">flow-tolerance</a> property.
	
   </ul>
   <h3 class="heading no-num settled" id="recent-changes"><span class="content">
Recent Changes</span><a class="self-link" href="#recent-changes"></a></h3>
   <p>The following changes have been made since the
	<a href="https://www.w3.org/TR/2026/WD-css-grid-3-20260121/">21 January 2026 Working Draft</a>:</p>
   <ul>
    <li data-md>
     <p>Dropped the <span class="css">item-*</span> proposal for unified flow controls across layout modes.
(<a href="https://github.com/w3c/csswg-drafts/issues/11480">Issue 11480</a>)</p>
    <li data-md>
     <p>Simplified the sizing calcs for automatic-positioned <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#subgrid" id="ref-for-subgrid⑧">subgrids</a> in a <a data-link-type="dfn" href="#grid-lanes-container" id="ref-for-grid-lanes-container②⑤">grid lanes container</a>.
(<a href="https://github.com/w3c/csswg-drafts/issues/10926">Issue 10926</a>)</p>
    <li data-md>
     <p>Clarify that baseline values for <a data-link-type="dfn" href="https://drafts.csswg.org/css-align-3/#self-alignment-properties" id="ref-for-self-alignment-properties②">self-alignment properties</a> in the stacking axis
fall back to their fallback value.
(<a href="https://github.com/w3c/csswg-drafts/issues/10275">Issue 10275</a>)</p>
   </ul>
   <p>The following changes have been made since the
	<a href="https://www.w3.org/TR/2025/WD-css-grid-3-20251223/">23 December 2025 Working Draft</a>:</p>
   <ul>
    <li data-md>
     <p>Renamed <span class="css">item-tolerance</span> to <a class="css property" data-link-type="property" href="#propdef-flow-tolerance" id="ref-for-propdef-flow-tolerance⑤">flow-tolerance</a>.
(<a href="https://github.com/w3c/csswg-drafts/issues/10884">Issue 10884</a>)</p>
   </ul>
   <p>The following changes have been made since the
	<a href="https://www.w3.org/TR/2025/WD-css-grid-3-20251216/">16 December 2025 Working Draft</a>:</p>
   <ul>
    <li data-md>
     <p>Defined <a class="css" data-link-type="maybe" href="#valdef-grid-auto-flow-normal" id="ref-for-valdef-grid-auto-flow-normal">normal</a> as the initial value
for <a href="#grid-lanes-orientation">setting the track orientation</a>.</p>
    <li data-md>
     <p>Defined the <a data-link-type="dfn" href="https://drafts.csswg.org/css-align-3/#self-alignment-properties" id="ref-for-self-alignment-properties③">self-alignment properties</a>’ effect in the <a data-link-type="dfn" href="#stacking-axis" id="ref-for-stacking-axis②⑥">stacking axis</a>.
See <a href="#stacking-self-alignment">§ 6.4 Stacking-axis Self Alignment: the align-self/justify-self and align-items/justify-items properties</a>.</p>
   </ul>
   <p>The following changes have been made since the
	<a href="https://www.w3.org/TR/2025/WD-css-grid-3-20250917/">17 September 2025 Working Draft</a>:</p>
   <ul>
    <li data-md>
     <p>Defined a new inner display type, <a class="css" data-link-type="maybe" href="#valdef-display-grid-lanes" id="ref-for-valdef-display-grid-lanes">grid-lanes</a>, to establish <a data-link-type="dfn" href="#grid-lanes-layout" id="ref-for-grid-lanes-layout①⑥">grid lanes layout</a>,
and updated spec vocabulary to match.
(<a href="https://github.com/w3c/csswg-drafts/issues/12022">Issue 12022</a>)</p>
    <li data-md>
     <p>Dropped the unnecessary <span class="css">auto-areas</span> value from <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-gaps-1/#funcdef-repeat-line-color-repeat" id="ref-for-funcdef-repeat-line-color-repeat④">repeat()</a>.
(<a href="https://github.com/w3c/csswg-drafts/issues/10854">Issue 10854</a>)</p>
    <li data-md>
     <p>Adjusted heuristic for <span class="css">repeat(auto-fill)</span> and <span class="css">repeat(auto-fit)</span> with indefinite track sizing functions.
(<a href="https://github.com/w3c/csswg-drafts/issues/12899">Issue 12899</a>)</p>
    <li data-md>
     <p>Floored the contribution of items to a track’s <a data-link-type="dfn" href="#running-position" id="ref-for-running-position⑦">running position</a> at zero.
(<a href="https://github.com/w3c/csswg-drafts/issues/12918">Issue 12918</a>)</p>
    <li data-md>
     <p>Renamed <span class="css">item-tolerance</span> to <span class="css">flow-tolerance</span>.
(<a href="https://github.com/w3c/csswg-drafts/issues/10884">Issue 10884</a>)</p>
   </ul>
   <p>See also <a href="https://www.w3.org/TR/2025/WD-css-grid-3-20250917/#recent-changes">earlier changes</a>.</p>
  </main>
  <h2 class="heading no-num no-ref settled" id="w3c-conformance"><span class="content">
Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>
  <h3 class="heading no-ref settled" id="w3c-conventions"><span class="content">
Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>
  <p>Conformance requirements are expressed with a combination of
    descriptive assertions and RFC 2119 terminology. The key words “MUST”,
    “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
    “RECOMMENDED”, “MAY”, and “OPTIONAL” in the normative parts of this
    document are to be interpreted as described in RFC 2119.
    However, for readability, these words do not appear in all uppercase
    letters in this specification.

    </p>
  <p>All of the text of this specification is normative except sections
    explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a></p>
  <p>Examples in this specification are introduced with the words “for example”
    or are set apart from the normative text with <code>class="example"</code>,
    like this:

    </p>
  <div class="example" id="w3c-example">
   <a class="self-link" href="#w3c-example"></a>
        
   <p>This is an example of an informative example.</p>
  </div>
  <p>Informative notes begin with the word “Note” and are set apart from the
    normative text with <code>class="note"</code>, like this:

    </p>
  <p class="note" role="note">Note, this is an informative note.</p>
  <p>Advisements are normative sections styled to evoke special attention and are
    set apart from other normative text with <code>&lt;strong class="advisement"></code>, like
    this:

    <strong class="advisement">
        UAs MUST provide an accessible alternative.
    </strong></p>
  <details class="wpt-tests-block" dir="ltr" lang="en" open>
   <summary>Tests</summary>
   <p>Tests relating to the content of this specification
                     may be documented in “Tests” blocks like this one.
                     Any such block is non-normative.</p>
   <ul class="wpt-tests-list"></ul>
   <hr>
  </details>
  <h3 class="heading no-ref settled" id="w3c-conformance-classes"><span class="content">
Conformance classes</span><a class="self-link" href="#w3c-conformance-classes"></a></h3>
  <p>Conformance to this specification
    is defined for three conformance classes:
    </p>
  <dl>
   <dt>style sheet
            
   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
            style sheet</a>.
        
   <dt>renderer
            
   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
            that interprets the semantics of a style sheet and renders
            documents that use them.
        
   <dt>authoring tool
            
   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
            that writes a style sheet.
    
  </dl>
  <p>A style sheet is conformant to this specification
    if all of its statements that use syntax defined in this module are valid
    according to the generic CSS grammar and the individual grammars of each
    feature defined in this module.

    </p>
  <p>A renderer is conformant to this specification
    if, in addition to interpreting the style sheet as defined by the
    appropriate specifications, it supports all the features defined
    by this specification by parsing them correctly
    and rendering the document accordingly. However, the inability of a
    UA to correctly render a document due to limitations of the device
    does not make the UA non-conformant. (For example, a UA is not
    required to render color on a monochrome monitor.)

    </p>
  <p>An authoring tool is conformant to this specification
    if it writes style sheets that are syntactically correct according to the
    generic CSS grammar and the individual grammars of each feature in
    this module, and meet all other conformance requirements of style sheets
    as described in this module.

</p>
  <h3 class="heading no-ref settled" id="w3c-partial"><span class="content">
Partial implementations</span><a class="self-link" href="#w3c-partial"></a></h3>
  <p>So that authors can exploit the forward-compatible parsing rules to
    assign fallback values, CSS renderers <strong>must</strong>
    treat as invalid (and <a href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignore
    as appropriate</a>) any at-rules, properties, property values, keywords,
    and other syntactic constructs for which they have no usable level of
    support. In particular, user agents <strong>must not</strong> selectively
    ignore unsupported component values and honor supported values in a single
    multi-value property declaration: if any value is considered invalid
    (as unsupported values must be), CSS requires that the entire declaration
    be ignored.</p>
  <h4 class="heading settled" id="w3c-conform-future-proofing"><span class="content">
Implementations of Unstable and Proprietary Features</span><a class="self-link" href="#w3c-conform-future-proofing"></a></h4>
  <p>To avoid clashes with future stable CSS features,
        the CSSWG recommends <a href="http://www.w3.org/TR/CSS/#future-proofing">following best practices</a> for the implementation of <a href="http://www.w3.org/TR/CSS/#unstable">unstable</a> features and <a href="http://www.w3.org/TR/CSS/#proprietary-extension">proprietary extensions</a> to CSS.

</p>
  <h3 class="heading no-ref settled" id="w3c-testing"><span class="content">
Non-experimental implementations</span><a class="self-link" href="#w3c-testing"></a></h3>
  <p>Once a specification reaches the Candidate Recommendation stage,
    non-experimental implementations are possible, and implementors should
    release an unprefixed implementation of any CR-level feature they
    can demonstrate to be correctly implemented according to spec.

    </p>
  <p>To establish and maintain the interoperability of CSS across
    implementations, the CSS Working Group requests that non-experimental
    CSS renderers submit an implementation report (and, if necessary, the
    testcases used for that implementation report) to the W3C before
    releasing an unprefixed implementation of any CSS features. Testcases
    submitted to W3C are subject to review and correction by the CSS
    Working Group.

    </p>
  <p>Further information on submitting testcases and implementation reports
    can be found from on the CSS Working Group’s website at
    <a href="http://www.w3.org/Style/CSS/Test/">http://www.w3.org/Style/CSS/Test/</a>.
    Questions should be directed to the
    <a href="http://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a>
    mailing list.</p>
  <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="heading no-num no-ref settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="heading no-num no-ref settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#auto-placement-cursor">auto-placement cursor</a><span>, in § 4.4</span>
   <li><a href="#typedef-auto-repeat">&lt;auto-repeat></a><span>, in § 3.1.1</span>
   <li><a href="#propdef-flow-tolerance">flow-tolerance</a><span>, in § 4.2</span>
   <li><a href="#grid-axis">grid axis</a><span>, in § 2</span>
   <li><a href="#grid-axis">grid-axis</a><span>, in § 2</span>
   <li><a href="#valdef-display-grid-lanes">grid-lanes</a><span>, in § 2.2</span>
   <li><a href="#grid-lanes-container">grid lanes container</a><span>, in § 2</span>
   <li><a href="#grid-lanes-layout">Grid lanes layout</a><span>, in § 2</span>
   <li><a href="#grid-lanes-subgrid">grid lanes subgrid</a><span>, in § 3.2</span>
   <li><a href="#valdef-flow-tolerance-infinite">infinite</a><span>, in § 4.2</span>
   <li><a href="#valdef-display-inline-grid-lanes">inline-grid-lanes</a><span>, in § 2.2</span>
   <li><a href="#item-groups">item groups</a><span>, in § 3.4.2</span>
   <li><a href="#valdef-flow-tolerance-length-percentage">&lt;length-percentage></a><span>, in § 4.2</span>
   <li>
    normal
    <ul>
     <li><a href="#valdef-flow-tolerance-normal">value for flow-tolerance</a><span>, in § 4.2</span>
     <li><a href="#valdef-grid-auto-flow-normal">value for grid-auto-flow</a><span>, in § 2.3</span>
    </ul>
   <li><a href="#regular-grid-subgrid">regular grid subgrid</a><span>, in § 3.2</span>
   <li><a href="#running-position">running position</a><span>, in § 4.4</span>
   <li><a href="#stacking-axis">stacking axis</a><span>, in § 2</span>
   <li><a href="#stacking-axis">stacking-axis</a><span>, in § 2</span>
   <li><a href="#stacking-range">stacking range</a><span>, in § 5</span>
   <li><a href="#grid-lanes-tie-threshold">tie threshold</a><span>, in § 4.2</span>
   <li><a href="#virtual-grid-item">virtual grid item</a><span>, in § 3.4.2</span>
  </ul>
  <h3 class="heading no-num no-ref settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[CSS-ALIGN-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="ce1c3a64">align-content</span>
     <li><span class="dfn-paneled" id="14666244">align-items</span>
     <li><span class="dfn-paneled" id="48350e83">align-self</span>
     <li><span class="dfn-paneled" id="9cb30ff4">alignment baseline</span>
     <li><span class="dfn-paneled" id="e7a4e2e2">alignment container</span>
     <li><span class="dfn-paneled" id="d15331bf">alignment subject</span>
     <li><span class="dfn-paneled" id="8e662436">baseline alignment</span>
     <li><span class="dfn-paneled" id="80175c82">baseline-sharing group</span>
     <li><span class="dfn-paneled" id="8eefb8b8">box alignment properties</span>
     <li><span class="dfn-paneled" id="4bc11993">center</span>
     <li><span class="dfn-paneled" id="07cc8d20">column-gap</span>
     <li><span class="dfn-paneled" id="ca4fcf76">distributed alignment</span>
     <li><span class="dfn-paneled" id="2acd09de">end</span>
     <li><span class="dfn-paneled" id="bdadecb4">fallback alignment</span>
     <li><span class="dfn-paneled" id="15b5f7a0">gap</span>
     <li><span class="dfn-paneled" id="0bf6e64a">grid-gap</span>
     <li><span class="dfn-paneled" id="75f6cfb6">justify-content</span>
     <li><span class="dfn-paneled" id="2c77b30f">justify-items</span>
     <li><span class="dfn-paneled" id="0fdaa620">justify-self</span>
     <li><span class="dfn-paneled" id="eb309e21">normal</span>
     <li><span class="dfn-paneled" id="6fad7548">row-gap</span>
     <li><span class="dfn-paneled" id="876bb33c">self-alignment properties</span>
     <li><span class="dfn-paneled" id="b8850feb">start</span>
     <li><span class="dfn-paneled" id="9fe435f5">stretch</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-BOX-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="46c6a718">content box</span>
     <li><span class="dfn-paneled" id="154375a0">margin box</span>
     <li><span class="dfn-paneled" id="ba1eea86">outer edge</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-BREAK-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="b8c7a216">forced break</span>
     <li><span class="dfn-paneled" id="5d82066a">fragmentainer</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-CASCADE-5]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="9ea6bed2">initial value</span>
     <li><span class="dfn-paneled" id="56177fad">shorthand</span>
     <li><span class="dfn-paneled" id="a4eb3c57">used value</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-DISPLAY-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="8379845e">block-level</span>
     <li><span class="dfn-paneled" id="1a548a6a">blockify</span>
     <li><span class="dfn-paneled" id="ea663a43">containing block</span>
     <li><span class="dfn-paneled" id="e7f0dd6c">display</span>
     <li><span class="dfn-paneled" id="8141cabb">independent formatting context</span>
     <li><span class="dfn-paneled" id="d7fa3e1c">inline-level</span>
     <li><span class="dfn-paneled" id="f210b721">order</span>
     <li><span class="dfn-paneled" id="ba9b3d06">order-modified document order</span>
     <li><span class="dfn-paneled" id="ecf777ac">reading-flow</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-FLEXBOX-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="73a98e20">flex layout</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-GAPS-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="f776fb8b">repeat()</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-GRID-2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="cb1b7e0c">&lt;line-names></span>
     <li><span class="dfn-paneled" id="3c8dde05">&lt;track-size></span>
     <li><span class="dfn-paneled" id="d5412931">auto-fill</span>
     <li><span class="dfn-paneled" id="a079e809">auto-fit</span>
     <li><span class="dfn-paneled" id="62c91816">automatic grid position</span>
     <li><span class="dfn-paneled" id="492a1538">automatic placement</span>
     <li><span class="dfn-paneled" id="7aa66d70">automatic position</span>
     <li><span class="dfn-paneled" id="67df723c">collapsed grid track</span>
     <li><span class="dfn-paneled" id="53deb49f">definite grid position</span>
     <li><span class="dfn-paneled" id="f9ab2883">definite position</span>
     <li><span class="dfn-paneled" id="736dfced">dense</span>
     <li><span class="dfn-paneled" id="f6ac6c55">explicit grid</span>
     <li><span class="dfn-paneled" id="e3ccce60">grid area</span>
     <li><span class="dfn-paneled" id="f005b2f6">grid container</span>
     <li><span class="dfn-paneled" id="1044d688">grid item</span>
     <li><span class="dfn-paneled" id="a27e1637">grid layout</span>
     <li><span class="dfn-paneled" id="79b8b44f">grid track</span>
     <li><span class="dfn-paneled" id="e8bb041c">grid-auto-columns</span>
     <li><span class="dfn-paneled" id="72d5680b">grid-auto-flow</span>
     <li><span class="dfn-paneled" id="a28c0f38">grid-auto-rows</span>
     <li><span class="dfn-paneled" id="ef47d3e4">grid-placement property</span>
     <li><span class="dfn-paneled" id="e0f38f8e">grid-template-columns</span>
     <li><span class="dfn-paneled" id="b47c7071">grid-template-rows</span>
     <li><span class="dfn-paneled" id="fdb725d6">implicit grid</span>
     <li><span class="dfn-paneled" id="092a91e1">max track sizing function</span>
     <li><span class="dfn-paneled" id="2cde065f">min track sizing function</span>
     <li><span class="dfn-paneled" id="842c0376">none</span>
     <li><span class="dfn-paneled" id="5b6b2d06">parent grid</span>
     <li><span class="dfn-paneled" id="c6c2ab78">subgrid</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-POSITION-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="b8a0ba74">position</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-SIZING-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="11ee6625">available space</span>
     <li><span class="dfn-paneled" id="65a738ee">definite</span>
     <li><span class="dfn-paneled" id="0bd2791e">max-content constraint</span>
     <li><span class="dfn-paneled" id="26a40c98">max-content size</span>
     <li><span class="dfn-paneled" id="6dc3914f">min-content constraint</span>
     <li><span class="dfn-paneled" id="3f0db204">min-content size</span>
     <li><span class="dfn-paneled" id="d0e23e1f">outer size</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-VALUES-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="bedd9d42">+</span>
     <li><span class="dfn-paneled" id="9f9120ff">,</span>
     <li><span class="dfn-paneled" id="18222566">&lt;length-percentage></span>
     <li><span class="dfn-paneled" id="537cf076">?</span>
     <li><span class="dfn-paneled" id="358fd6ff">CSS-wide keywords</span>
     <li><span class="dfn-paneled" id="6ec67710">|</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-WRITING-MODES-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="5bc8bd12">direction</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-WRITING-MODES-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="e1ab41b7">block axis</span>
     <li><span class="dfn-paneled" id="32995ff0">block-axis</span>
     <li><span class="dfn-paneled" id="43667deb">inline axis</span>
     <li><span class="dfn-paneled" id="8f96f376">inline-axis</span>
     <li><span class="dfn-paneled" id="8067deca">start</span>
     <li><span class="dfn-paneled" id="a73617e0">writing mode</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="f285fdb1">relative positioning</span>
    </ul>
  </ul>
  <h2 class="heading no-num no-ref settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="heading no-num no-ref settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-css-align-3">[CSS-ALIGN-3]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://drafts.csswg.org/css-align/"><cite>CSS Box Alignment Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-align/">https://drafts.csswg.org/css-align/</a>
   <dt id="biblio-css-box-4">[CSS-BOX-4]
   <dd>Elika Etemad. <a href="https://drafts.csswg.org/css-box-4/"><cite>CSS Box Model Module Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/css-box-4/">https://drafts.csswg.org/css-box-4/</a>
   <dt id="biblio-css-break-4">[CSS-BREAK-4]
   <dd>Rossen Atanassov; Elika Etemad. <a href="https://drafts.csswg.org/css-break-4/"><cite>CSS Fragmentation Module Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/css-break-4/">https://drafts.csswg.org/css-break-4/</a>
   <dt id="biblio-css-cascade-5">[CSS-CASCADE-5]
   <dd>Elika Etemad; Miriam Suzanne; Tab Atkins Jr.. <a href="https://drafts.csswg.org/css-cascade-5/"><cite>CSS Cascading and Inheritance Level 5</cite></a>. URL: <a href="https://drafts.csswg.org/css-cascade-5/">https://drafts.csswg.org/css-cascade-5/</a>
   <dt id="biblio-css-display-4">[CSS-DISPLAY-4]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://drafts.csswg.org/css-display-4/"><cite>CSS Display Module Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/css-display-4/">https://drafts.csswg.org/css-display-4/</a>
   <dt id="biblio-css-flexbox-1">[CSS-FLEXBOX-1]
   <dd>Elika Etemad; Tab Atkins Jr.; Rossen Atanassov. <a href="https://drafts.csswg.org/css-flexbox/"><cite>CSS Flexible Box Layout Module Level 1</cite></a>. URL: <a href="https://drafts.csswg.org/css-flexbox/">https://drafts.csswg.org/css-flexbox/</a>
   <dt id="biblio-css-gaps-1">[CSS-GAPS-1]
   <dd>Kevin Babbitt. <a href="https://drafts.csswg.org/css-gaps-1/"><cite>CSS Gap Decorations Module Level 1</cite></a>. URL: <a href="https://drafts.csswg.org/css-gaps-1/">https://drafts.csswg.org/css-gaps-1/</a>
   <dt id="biblio-css-grid-1">[CSS-GRID-1]
   <dd>Tab Atkins Jr.; et al. <a href="https://drafts.csswg.org/css-grid-1/"><cite>CSS Grid Layout Module Level 1</cite></a>. URL: <a href="https://drafts.csswg.org/css-grid-1/">https://drafts.csswg.org/css-grid-1/</a>
   <dt id="biblio-css-grid-2">[CSS-GRID-2]
   <dd>Tab Atkins Jr.; et al. <a href="https://drafts.csswg.org/css-grid-2/"><cite>CSS Grid Layout Module Level 2</cite></a>. URL: <a href="https://drafts.csswg.org/css-grid-2/">https://drafts.csswg.org/css-grid-2/</a>
   <dt id="biblio-css-sizing-3">[CSS-SIZING-3]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://drafts.csswg.org/css-sizing-3/"><cite>CSS Box Sizing Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-sizing-3/">https://drafts.csswg.org/css-sizing-3/</a>
   <dt id="biblio-css-values-3">[CSS-VALUES-3]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://drafts.csswg.org/css-values-3/"><cite>CSS Values and Units Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-values-3/">https://drafts.csswg.org/css-values-3/</a>
   <dt id="biblio-css-values-4">[CSS-VALUES-4]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://drafts.csswg.org/css-values-4/"><cite>CSS Values and Units Module Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/css-values-4/">https://drafts.csswg.org/css-values-4/</a>
   <dt id="biblio-css-writing-modes-4">[CSS-WRITING-MODES-4]
   <dd>Elika Etemad; Koji Ishii. <a href="https://drafts.csswg.org/css-writing-modes-4/"><cite>CSS Writing Modes Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/css-writing-modes-4/">https://drafts.csswg.org/css-writing-modes-4/</a>
   <dt id="biblio-css2">[CSS2]
   <dd>Bert Bos; et al. <a href="https://drafts.csswg.org/css2/"><cite>Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification</cite></a>. URL: <a href="https://drafts.csswg.org/css2/">https://drafts.csswg.org/css2/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
  </dl>
  <h3 class="heading no-num no-ref settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-css-multicol-1">[CSS-MULTICOL-1]
   <dd>Florian Rivoal; Rachel Andrew. <a href="https://drafts.csswg.org/css-multicol/"><cite>CSS Multi-column Layout Module Level 1</cite></a>. URL: <a href="https://drafts.csswg.org/css-multicol/">https://drafts.csswg.org/css-multicol/</a>
   <dt id="biblio-css-position-3">[CSS-POSITION-3]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://drafts.csswg.org/css-position-3/"><cite>CSS Positioned Layout Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-position-3/">https://drafts.csswg.org/css-position-3/</a>
   <dt id="biblio-css-writing-modes-3">[CSS-WRITING-MODES-3]
   <dd>Elika Etemad; Koji Ishii. <a href="https://drafts.csswg.org/css-writing-modes-3/"><cite>CSS Writing Modes Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-writing-modes-3/">https://drafts.csswg.org/css-writing-modes-3/</a>
  </dl>
  <h2 class="heading no-num no-ref settled" id="property-index"><span class="content">Property Index</span><a class="self-link" href="#property-index"></a></h2>
  <div class="big-element-wrapper">
   <table class="index">
    <thead>
     <tr>
      <th scope="col">Name
      <th scope="col">Value
      <th scope="col">Initial
      <th scope="col">Applies to
      <th scope="col">Inh.
      <th scope="col">%ages
      <th scope="col">Anim­ation type
      <th scope="col">Canonical order
      <th scope="col">Com­puted value
    <tbody>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-flow-tolerance" id="ref-for-propdef-flow-tolerance⑥">flow-tolerance</a>
      <td>normal | &lt;length-percentage> | infinite
      <td>normal
      <td>grid lanes containers
      <td>no
      <td>relative to the grid-axis content box size of the grid lanes container
      <td>as length
      <td>per grammar
      <td>a computed &lt;length-percentage> value
   </table>
  </div>
  <h2 class="heading no-num no-ref settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> Or should reordering be the default behavior for auto-placed items here? <a class="issue-return" href="#issue-f3901e05" title="Jump to section">↵</a></div>
   <div class="issue">
	ISSUE(12820): Write up how grid/masonry formatting contexts work more formally?
	 <a class="issue-return" href="#issue-3be4bca6" title="Jump to section">↵</a></div>
   <div class="issue">TBD <a class="issue-return" href="#issue-d4908b1e" title="Jump to section">↵</a></div>
   <div class="issue"> Figure out whether we are re-using <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-grid-2/#propdef-grid-auto-flow">grid-auto-flow</a> here
	(and what it’s values mean)
	or defining a new property like <span class="css">grid-lanes-direction</span>. <a href="https://github.com/w3c/csswg-drafts/issues/12803">[Issue #12803]</a> <a class="issue-return" href="#issue-ff7d700c" title="Jump to section">↵</a></div>
   <div class="issue"> Should this work also in Grid Layout somehow, or fall back to a single repetition? If so, how? <a href="https://github.com/w3c/csswg-drafts/issues/10915">[Issue #10915]</a> <a class="issue-return" href="#issue-c70906df" title="Jump to section">↵</a></div>
   <div class="issue"> Technically, if your explicit placement does not enter or cross over the repetition,
	we can know its placement prior to resolving the reptition.
	Do we want to adjust the algorithm above to account for this?
	That is, given <span class="css">auto repeat(auto-fill, ...) auto</span>,
	if you explicitly place an item against line 1 or -1,
	we could let it only affect that track
	(rather than pretending it’ll go in every track). <a class="issue-return" href="#issue-5b45728c" title="Jump to section">↵</a></div>
   <div class="issue"> What if this conflicts with the lanes orientation, or results in both axes stacking? <a class="issue-return" href="#issue-ff7026b1" title="Jump to section">↵</a></div>
   <div class="issue"> Should this also update the placement cursor? <a class="issue-return" href="#issue-9c647ef6" title="Jump to section">↵</a></div>
   <div class="issue"> It might be useful to define a static position in the <a data-link-type="dfn" href="#stacking-axis">stacking axis</a>.
	Maybe it could defined as the max (or min?) current <a data-link-type="dfn" href="#running-position">running position</a>
	of the <a data-link-type="dfn" href="#grid-axis">grid-axis</a> tracks at that point?  Or the end of the item before it? <a class="issue-return" href="#issue-4007c2e6" title="Jump to section">↵</a></div>
  </div>
  <details class="mdn-anno unpositioned" data-anno-for="tracks-alignment">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/align-tracks" title="The align-tracks CSS property sets the alignment in the masonry axis for grid containers that have masonry in their block axis.">align-tracks</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span title="Requires setting a user preference or runtime flag.">🔰 77+</span></span><span class="no safari"><span>Safari</span><span>None</span></span><span class="chrome no"><span>Chrome</span><span>None</span></span>
     <hr>
     <span class="no opera"><span>Opera</span><span>?</span></span><span class="edge_blink no"><span>Edge</span><span>None</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="no webview_android"><span>Android WebView</span><span>?</span></span><span class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/justify-tracks" title="The justify-tracks CSS property sets the alignment in the masonry axis for grid containers that have masonry in their inline axis.">justify-tracks</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span title="Requires setting a user preference or runtime flag.">🔰 77+</span></span><span class="no safari"><span>Safari</span><span>None</span></span><span class="chrome no"><span>Chrome</span><span>None</span></span>
     <hr>
     <span class="no opera"><span>Opera</span><span>?</span></span><span class="edge_blink no"><span>Edge</span><span>None</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="no webview_android"><span>Android WebView</span><span>?</span></span><span class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="masonry-layout">
   <summary><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid-template-columns" title="The grid-template-columns CSS property defines the line names and track sizing functions of the grid columns.">grid-template-columns</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>52+</span></span><span class="safari yes"><span>Safari</span><span>10.1+</span></span><span class="chrome yes"><span>Chrome</span><span>57+</span></span>
     <hr>
     <span class="no opera"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="no webview_android"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>6.0+</span></span><span class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Grid_Layout/Masonry_Layout" title="Level 3 of the CSS grid layout specification includes a masonry value for grid-template-columns and grid-template-rows. This guide details what masonry layout is and how to use it.">CSS_Grid_Layout/Masonry_Layout</a></p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span title="Requires setting a user preference or runtime flag.">🔰 77+</span></span><span class="safari yes"><span>Safari</span><span>preview+</span></span><span class="chrome no"><span>Chrome</span><span>None</span></span>
     <hr>
     <span class="no opera"><span>Opera</span><span>?</span></span><span class="edge_blink no"><span>Edge</span><span>None</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="no webview_android"><span>Android WebView</span><span>?</span></span><span class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid-template-rows" title="The grid-template-rows CSS property defines the line names and track sizing functions of the grid rows.">grid-template-rows</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>52+</span></span><span class="safari yes"><span>Safari</span><span>10.1+</span></span><span class="chrome yes"><span>Chrome</span><span>57+</span></span>
     <hr>
     <span class="no opera"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="no webview_android"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>6.0+</span></span><span class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="masonry-auto-flow">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/masonry-auto-flow" title="The masonry-auto-flow CSS property modifies how items are placed when using masonry in CSS Grid Layout.">masonry-auto-flow</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari yes"><span>Safari</span><span>preview+</span></span><span class="chrome no"><span>Chrome</span><span>None</span></span>
     <hr>
     <span class="no opera"><span>Opera</span><span>?</span></span><span class="edge_blink no"><span>Edge</span><span>None</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="no webview_android"><span>Android WebView</span><span>?</span></span><span class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
<script>/* Boilerplate: script-dom-helper */
"use strict";
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}</script>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
let dfnPanelData = {
"07cc8d20": {"dfnID":"07cc8d20","dfnText":"column-gap","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-column-gap"},{"id":"ref-for-propdef-column-gap\u2460"}],"title":"6.1. \nGutters: the row-gap, column-gap, and gap properties"}],"url":"https://drafts.csswg.org/css-align-3/#propdef-column-gap"},
"092a91e1": {"dfnID":"092a91e1","dfnText":"max track sizing function","external":true,"refSections":[{"refs":[{"id":"ref-for-max-track-sizing-function"}],"title":"3.1.1. \nIntrinsic Tracks and repeat()"}],"url":"https://drafts.csswg.org/css-grid-2/#max-track-sizing-function"},
"0bd2791e": {"dfnID":"0bd2791e","dfnText":"max-content constraint","external":true,"refSections":[{"refs":[{"id":"ref-for-max-content-constraint"}],"title":"5. \nSizing Grid Containers"}],"url":"https://drafts.csswg.org/css-sizing-3/#max-content-constraint"},
"0bf6e64a": {"dfnID":"0bf6e64a","dfnText":"grid-gap","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-grid-gap"}],"title":"4.4. \nGrid Lanes Layout and Placement Algorithm"}],"url":"https://drafts.csswg.org/css-align-3/#propdef-grid-gap"},
"0fdaa620": {"dfnID":"0fdaa620","dfnText":"justify-self","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-justify-self"}],"title":"6.2. \nGrid-axis Alignment: the align-content/justify-content, align-self/justify-self, and align-items/justify-items properties"},{"refs":[{"id":"ref-for-propdef-justify-self\u2460"}],"title":"6.4. \nStacking-axis Self Alignment: the align-self/justify-self and align-items/justify-items properties"}],"url":"https://drafts.csswg.org/css-align-3/#propdef-justify-self"},
"1044d688": {"dfnID":"1044d688","dfnText":"grid item","external":true,"refSections":[{"refs":[{"id":"ref-for-grid-item"}],"title":"2. \nGrid Lanes Layout Model"},{"refs":[{"id":"ref-for-grid-item\u2460"}],"title":"3.4.2. \nOptimized Track Sizing"},{"refs":[{"id":"ref-for-grid-item\u2461"}],"title":"4.2. \nPlacement Precision: the flow-tolerance property"},{"refs":[{"id":"ref-for-grid-item\u2462"}],"title":"4.4.1. \nContaining Block"},{"refs":[{"id":"ref-for-grid-item\u2463"}],"title":"6.3. \nStacking-axis Content Distribution: the align-content/justify-content properties"},{"refs":[{"id":"ref-for-grid-item\u2464"},{"id":"ref-for-grid-item\u2465"},{"id":"ref-for-grid-item\u2466"}],"title":"6.5. \nBaseline Alignment"},{"refs":[{"id":"ref-for-grid-item\u2467"}],"title":"7.1. \nFragmentation in the stacking axis"}],"url":"https://drafts.csswg.org/css-grid-2/#grid-item"},
"11ee6625": {"dfnID":"11ee6625","dfnText":"available space","external":true,"refSections":[{"refs":[{"id":"ref-for-available"}],"title":"3. \nGrid Lanes Track Specification"}],"url":"https://drafts.csswg.org/css-sizing-3/#available"},
"14666244": {"dfnID":"14666244","dfnText":"align-items","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-align-items"}],"title":"6.2. \nGrid-axis Alignment: the align-content/justify-content, align-self/justify-self, and align-items/justify-items properties"},{"refs":[{"id":"ref-for-propdef-align-items\u2460"},{"id":"ref-for-propdef-align-items\u2461"}],"title":"6.4. \nStacking-axis Self Alignment: the align-self/justify-self and align-items/justify-items properties"}],"url":"https://drafts.csswg.org/css-align-3/#propdef-align-items"},
"154375a0": {"dfnID":"154375a0","dfnText":"margin box","external":true,"refSections":[{"refs":[{"id":"ref-for-margin-box"}],"title":"6.4. \nStacking-axis Self Alignment: the align-self/justify-self and align-items/justify-items properties"}],"url":"https://drafts.csswg.org/css-box-4/#margin-box"},
"15b5f7a0": {"dfnID":"15b5f7a0","dfnText":"gap","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-gap"},{"id":"ref-for-propdef-gap\u2460"}],"title":"6.1. \nGutters: the row-gap, column-gap, and gap properties"}],"url":"https://drafts.csswg.org/css-align-3/#propdef-gap"},
"18222566": {"dfnID":"18222566","dfnText":"<length-percentage>","external":true,"refSections":[{"refs":[{"id":"ref-for-typedef-length-percentage"},{"id":"ref-for-typedef-length-percentage\u2460"},{"id":"ref-for-typedef-length-percentage\u2461"}],"title":"4.2. \nPlacement Precision: the flow-tolerance property"}],"url":"https://drafts.csswg.org/css-values-4/#typedef-length-percentage"},
"1a548a6a": {"dfnID":"1a548a6a","dfnText":"blockify","external":true,"refSections":[{"refs":[{"id":"ref-for-blockify"}],"title":"2. \nGrid Lanes Layout Model"}],"url":"https://drafts.csswg.org/css-display-4/#blockify"},
"26a40c98": {"dfnID":"26a40c98","dfnText":"max-content size","external":true,"refSections":[{"refs":[{"id":"ref-for-max-content"}],"title":"5. \nSizing Grid Containers"}],"url":"https://drafts.csswg.org/css-sizing-3/#max-content"},
"2acd09de": {"dfnID":"2acd09de","dfnText":"end","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-self-position-end"}],"title":"6.3. \nStacking-axis Content Distribution: the align-content/justify-content properties"}],"url":"https://drafts.csswg.org/css-align-3/#valdef-self-position-end"},
"2c77b30f": {"dfnID":"2c77b30f","dfnText":"justify-items","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-justify-items"}],"title":"6.2. \nGrid-axis Alignment: the align-content/justify-content, align-self/justify-self, and align-items/justify-items properties"},{"refs":[{"id":"ref-for-propdef-justify-items\u2460"}],"title":"6.4. \nStacking-axis Self Alignment: the align-self/justify-self and align-items/justify-items properties"}],"url":"https://drafts.csswg.org/css-align-3/#propdef-justify-items"},
"2cde065f": {"dfnID":"2cde065f","dfnText":"min track sizing function","external":true,"refSections":[{"refs":[{"id":"ref-for-min-track-sizing-function"}],"title":"3.1.1. \nIntrinsic Tracks and repeat()"}],"url":"https://drafts.csswg.org/css-grid-2/#min-track-sizing-function"},
"32995ff0": {"dfnID":"32995ff0","dfnText":"block-axis","external":true,"refSections":[{"refs":[{"id":"ref-for-block-axis"}],"title":"2. \nGrid Lanes Layout Model"},{"refs":[{"id":"ref-for-block-axis\u2460"},{"id":"ref-for-block-axis\u2461"}],"title":"2.3. \nOrienting Grid Lanes Layout"},{"refs":[{"id":"ref-for-block-axis\u2462"},{"id":"ref-for-block-axis\u2463"}],"title":"7.1. \nFragmentation in the stacking axis"},{"refs":[{"id":"ref-for-block-axis\u2464"}],"title":"7.2. \nFragmentation in the Grid Axis"},{"refs":[{"id":"ref-for-block-axis\u2465"}],"title":"9. \nGraceful Degradation"}],"url":"https://drafts.csswg.org/css-writing-modes-4/#block-axis"},
"358fd6ff": {"dfnID":"358fd6ff","dfnText":"CSS-wide keywords","external":true,"refSections":[{"refs":[{"id":"ref-for-css-wide-keywords"}],"title":"1.2. \nValue Definitions"}],"url":"https://drafts.csswg.org/css-values-4/#css-wide-keywords"},
"3c8dde05": {"dfnID":"3c8dde05","dfnText":"<track-size>","external":true,"refSections":[{"refs":[{"id":"ref-for-typedef-track-size"}],"title":"3.1.1. \nIntrinsic Tracks and repeat()"}],"url":"https://drafts.csswg.org/css-grid-2/#typedef-track-size"},
"3f0db204": {"dfnID":"3f0db204","dfnText":"min-content size","external":true,"refSections":[{"refs":[{"id":"ref-for-min-content"}],"title":"5. \nSizing Grid Containers"}],"url":"https://drafts.csswg.org/css-sizing-3/#min-content"},
"43667deb": {"dfnID":"43667deb","dfnText":"inline axis","external":true,"refSections":[{"refs":[{"id":"ref-for-inline-axis"}],"title":"2. \nGrid Lanes Layout Model"},{"refs":[{"id":"ref-for-inline-axis\u2460"},{"id":"ref-for-inline-axis\u2461"}],"title":"2.3. \nOrienting Grid Lanes Layout"},{"refs":[{"id":"ref-for-inline-axis\u2462"}],"title":"3.2. \nSubgrids"},{"refs":[{"id":"ref-for-inline-axis\u2463"},{"id":"ref-for-inline-axis\u2464"}],"title":"7.2. \nFragmentation in the Grid Axis"}],"url":"https://drafts.csswg.org/css-writing-modes-4/#inline-axis"},
"46c6a718": {"dfnID":"46c6a718","dfnText":"content box","external":true,"refSections":[{"refs":[{"id":"ref-for-content-box"}],"title":"4.2. \nPlacement Precision: the flow-tolerance property"},{"refs":[{"id":"ref-for-content-box\u2460"}],"title":"4.4.1. \nContaining Block"},{"refs":[{"id":"ref-for-content-box\u2461"},{"id":"ref-for-content-box\u2462"}],"title":"6.3. \nStacking-axis Content Distribution: the align-content/justify-content properties"}],"url":"https://drafts.csswg.org/css-box-4/#content-box"},
"48350e83": {"dfnID":"48350e83","dfnText":"align-self","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-align-self"}],"title":"6.2. \nGrid-axis Alignment: the align-content/justify-content, align-self/justify-self, and align-items/justify-items properties"},{"refs":[{"id":"ref-for-propdef-align-self\u2460"},{"id":"ref-for-propdef-align-self\u2461"},{"id":"ref-for-propdef-align-self\u2462"}],"title":"6.4. \nStacking-axis Self Alignment: the align-self/justify-self and align-items/justify-items properties"}],"url":"https://drafts.csswg.org/css-align-3/#propdef-align-self"},
"492a1538": {"dfnID":"492a1538","dfnText":"automatic placement","external":true,"refSections":[{"refs":[{"id":"ref-for-auto-placement"}],"title":"1.1.1. \nWaterfall Layout with Auto-placed Items"},{"refs":[{"id":"ref-for-auto-placement\u2460"}],"title":"3.1.1. \nIntrinsic Tracks and repeat()"}],"url":"https://drafts.csswg.org/css-grid-2/#auto-placement"},
"4bc11993": {"dfnID":"4bc11993","dfnText":"center","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-self-position-center"}],"title":"6.3. \nStacking-axis Content Distribution: the align-content/justify-content properties"}],"url":"https://drafts.csswg.org/css-align-3/#valdef-self-position-center"},
"537cf076": {"dfnID":"537cf076","dfnText":"?","external":true,"refSections":[{"refs":[{"id":"ref-for-mult-opt"},{"id":"ref-for-mult-opt\u2460"}],"title":"3.1.1. \nIntrinsic Tracks and repeat()"}],"url":"https://drafts.csswg.org/css-values-4/#mult-opt"},
"53deb49f": {"dfnID":"53deb49f","dfnText":"definite grid position","external":true,"refSections":[{"refs":[{"id":"ref-for-definite-grid-position"}],"title":"2.1. \nReordering and Accessibility"},{"refs":[{"id":"ref-for-definite-grid-position\u2460"}],"title":"3.4.1. \nSubgrid Item Contributions"},{"refs":[{"id":"ref-for-definite-grid-position\u2461"}],"title":"4.4. \nGrid Lanes Layout and Placement Algorithm"}],"url":"https://drafts.csswg.org/css-grid-2/#definite-grid-position"},
"56177fad": {"dfnID":"56177fad","dfnText":"shorthand","external":true,"refSections":[{"refs":[{"id":"ref-for-shorthand-property"}],"title":"6.1. \nGutters: the row-gap, column-gap, and gap properties"}],"url":"https://drafts.csswg.org/css-cascade-5/#shorthand-property"},
"5b6b2d06": {"dfnID":"5b6b2d06","dfnText":"parent grid","external":true,"refSections":[{"refs":[{"id":"ref-for-parent-grid"},{"id":"ref-for-parent-grid\u2460"},{"id":"ref-for-parent-grid\u2461"}],"title":"3.4.1. \nSubgrid Item Contributions"}],"url":"https://drafts.csswg.org/css-grid-2/#parent-grid"},
"5bc8bd12": {"dfnID":"5bc8bd12","dfnText":"direction","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-direction"},{"id":"ref-for-propdef-direction\u2460"},{"id":"ref-for-propdef-direction\u2461"},{"id":"ref-for-propdef-direction\u2462"},{"id":"ref-for-propdef-direction\u2463"}],"title":"4.4.2. \nPlacement and Writing Modes"}],"url":"https://drafts.csswg.org/css-writing-modes-3/#propdef-direction"},
"5d82066a": {"dfnID":"5d82066a","dfnText":"fragmentainer","external":true,"refSections":[{"refs":[{"id":"ref-for-fragmentainer"}],"title":"7.1. \nFragmentation in the stacking axis"}],"url":"https://drafts.csswg.org/css-break-4/#fragmentainer"},
"62c91816": {"dfnID":"62c91816","dfnText":"automatic grid position","external":true,"refSections":[{"refs":[{"id":"ref-for-automatic-grid-position"}],"title":"3.1.1. \nIntrinsic Tracks and repeat()"},{"refs":[{"id":"ref-for-automatic-grid-position\u2460"},{"id":"ref-for-automatic-grid-position\u2461"}],"title":"3.4. \nGrid Axis Track Sizing"},{"refs":[{"id":"ref-for-automatic-grid-position\u2462"},{"id":"ref-for-automatic-grid-position\u2463"},{"id":"ref-for-automatic-grid-position\u2464"}],"title":"3.4.1. \nSubgrid Item Contributions"},{"refs":[{"id":"ref-for-automatic-grid-position\u2465"}],"title":"3.4.2. \nOptimized Track Sizing"},{"refs":[{"id":"ref-for-automatic-grid-position\u2466"}],"title":"4. \nGrid Lanes Item Placement"}],"url":"https://drafts.csswg.org/css-grid-2/#automatic-grid-position"},
"65a738ee": {"dfnID":"65a738ee","dfnText":"definite","external":true,"refSections":[{"refs":[{"id":"ref-for-definite"}],"title":"3.1.1. \nIntrinsic Tracks and repeat()"}],"url":"https://drafts.csswg.org/css-sizing-3/#definite"},
"67df723c": {"dfnID":"67df723c","dfnText":"collapsed grid track","external":true,"refSections":[{"refs":[{"id":"ref-for-collapsed-grid-track"}],"title":"3.1.1. \nIntrinsic Tracks and repeat()"},{"refs":[{"id":"ref-for-collapsed-grid-track\u2460"},{"id":"ref-for-collapsed-grid-track\u2461"},{"id":"ref-for-collapsed-grid-track\u2462"}],"title":"3.3.1. \nrepeat(auto-fit)"}],"url":"https://drafts.csswg.org/css-grid-2/#collapsed-grid-track"},
"6dc3914f": {"dfnID":"6dc3914f","dfnText":"min-content constraint","external":true,"refSections":[{"refs":[{"id":"ref-for-min-content-constraint"}],"title":"5. \nSizing Grid Containers"}],"url":"https://drafts.csswg.org/css-sizing-3/#min-content-constraint"},
"6ec67710": {"dfnID":"6ec67710","dfnText":"|","external":true,"refSections":[{"refs":[{"id":"ref-for-comb-one"}],"title":"2.2. \nEstablishing Grid Lanes Layout"},{"refs":[{"id":"ref-for-comb-one\u2460"}],"title":"3.1.1. \nIntrinsic Tracks and repeat()"},{"refs":[{"id":"ref-for-comb-one\u2461"},{"id":"ref-for-comb-one\u2462"}],"title":"4.2. \nPlacement Precision: the flow-tolerance property"}],"url":"https://drafts.csswg.org/css-values-4/#comb-one"},
"6fad7548": {"dfnID":"6fad7548","dfnText":"row-gap","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-row-gap"},{"id":"ref-for-propdef-row-gap\u2460"}],"title":"6.1. \nGutters: the row-gap, column-gap, and gap properties"}],"url":"https://drafts.csswg.org/css-align-3/#propdef-row-gap"},
"72d5680b": {"dfnID":"72d5680b","dfnText":"grid-auto-flow","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-grid-auto-flow"}],"title":"2.3. \nOrienting Grid Lanes Layout"},{"refs":[{"id":"ref-for-propdef-grid-auto-flow\u2460"}],"title":"4.3. \nDense Placement: the dense keyword"}],"url":"https://drafts.csswg.org/css-grid-2/#propdef-grid-auto-flow"},
"736dfced": {"dfnID":"736dfced","dfnText":"dense","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-grid-auto-flow-dense"},{"id":"ref-for-valdef-grid-auto-flow-dense\u2460"}],"title":"4.3. \nDense Placement: the dense keyword"},{"refs":[{"id":"ref-for-valdef-grid-auto-flow-dense\u2461"},{"id":"ref-for-valdef-grid-auto-flow-dense\u2462"}],"title":"4.4. \nGrid Lanes Layout and Placement Algorithm"},{"refs":[{"id":"ref-for-valdef-grid-auto-flow-dense\u2463"}],"title":"6.5. \nBaseline Alignment"}],"url":"https://drafts.csswg.org/css-grid-2/#valdef-grid-auto-flow-dense"},
"73a98e20": {"dfnID":"73a98e20","dfnText":"flex layout","external":true,"refSections":[{"refs":[{"id":"ref-for-flex-layout"}],"title":"1.1.2. \nOne-dimensional Grid Layout"},{"refs":[{"id":"ref-for-flex-layout\u2460"},{"id":"ref-for-flex-layout\u2461"}],"title":"2. \nGrid Lanes Layout Model"},{"refs":[{"id":"ref-for-flex-layout\u2462"}],"title":"2.1. \nReordering and Accessibility"},{"refs":[{"id":"ref-for-flex-layout\u2463"}],"title":"4.2. \nPlacement Precision: the flow-tolerance property"}],"url":"https://drafts.csswg.org/css-flexbox-1/#flex-layout"},
"75f6cfb6": {"dfnID":"75f6cfb6","dfnText":"justify-content","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-justify-content"}],"title":"6.2. \nGrid-axis Alignment: the align-content/justify-content, align-self/justify-self, and align-items/justify-items properties"},{"refs":[{"id":"ref-for-propdef-justify-content\u2460"},{"id":"ref-for-propdef-justify-content\u2461"}],"title":"6.3. \nStacking-axis Content Distribution: the align-content/justify-content properties"}],"url":"https://drafts.csswg.org/css-align-3/#propdef-justify-content"},
"79b8b44f": {"dfnID":"79b8b44f","dfnText":"grid track","external":true,"refSections":[{"refs":[{"id":"ref-for-grid-track"},{"id":"ref-for-grid-track\u2460"}],"title":"2. \nGrid Lanes Layout Model"},{"refs":[{"id":"ref-for-grid-track\u2461"}],"title":"4.2. \nPlacement Precision: the flow-tolerance property"},{"refs":[{"id":"ref-for-grid-track\u2462"}],"title":"6.4. \nStacking-axis Self Alignment: the align-self/justify-self and align-items/justify-items properties"}],"url":"https://drafts.csswg.org/css-grid-2/#grid-track"},
"7aa66d70": {"dfnID":"7aa66d70","dfnText":"automatic position","external":true,"refSections":[{"refs":[{"id":"ref-for-automatic-grid-position"}],"title":"3.1.1. \nIntrinsic Tracks and repeat()"},{"refs":[{"id":"ref-for-automatic-grid-position\u2460"},{"id":"ref-for-automatic-grid-position\u2461"}],"title":"3.4. \nGrid Axis Track Sizing"},{"refs":[{"id":"ref-for-automatic-grid-position\u2462"},{"id":"ref-for-automatic-grid-position\u2463"},{"id":"ref-for-automatic-grid-position\u2464"}],"title":"3.4.1. \nSubgrid Item Contributions"},{"refs":[{"id":"ref-for-automatic-grid-position\u2465"}],"title":"3.4.2. \nOptimized Track Sizing"},{"refs":[{"id":"ref-for-automatic-grid-position\u2466"}],"title":"4. \nGrid Lanes Item Placement"}],"url":"https://drafts.csswg.org/css-grid-2/#automatic-grid-position"},
"80175c82": {"dfnID":"80175c82","dfnText":"baseline-sharing group","external":true,"refSections":[{"refs":[{"id":"ref-for-baseline-sharing-group"}],"title":"3.4.2. \nOptimized Track Sizing"}],"url":"https://drafts.csswg.org/css-align-3/#baseline-sharing-group"},
"8067deca": {"dfnID":"8067deca","dfnText":"start","external":true,"refSections":[{"refs":[{"id":"ref-for-css-start"}],"title":"4.4. \nGrid Lanes Layout and Placement Algorithm"}],"url":"https://drafts.csswg.org/css-writing-modes-4/#css-start"},
"8141cabb": {"dfnID":"8141cabb","dfnText":"independent formatting context","external":true,"refSections":[{"refs":[{"id":"ref-for-independent-formatting-context"}],"title":"2.2. \nEstablishing Grid Lanes Layout"}],"url":"https://drafts.csswg.org/css-display-4/#independent-formatting-context"},
"8379845e": {"dfnID":"8379845e","dfnText":"block-level","external":true,"refSections":[{"refs":[{"id":"ref-for-block-level"}],"title":"2.2. \nEstablishing Grid Lanes Layout"}],"url":"https://drafts.csswg.org/css-display-4/#block-level"},
"842c0376": {"dfnID":"842c0376","dfnText":"none","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-grid-template-rows-none"},{"id":"ref-for-valdef-grid-template-rows-none\u2460"}],"title":"2.3. \nOrienting Grid Lanes Layout"}],"url":"https://drafts.csswg.org/css-grid-2/#valdef-grid-template-rows-none"},
"876bb33c": {"dfnID":"876bb33c","dfnText":"self-alignment properties","external":true,"refSections":[{"refs":[{"id":"ref-for-self-alignment-properties"}],"title":"6.4. \nStacking-axis Self Alignment: the align-self/justify-self and align-items/justify-items properties"},{"refs":[{"id":"ref-for-self-alignment-properties\u2460"}],"title":"6.5. \nBaseline Alignment"},{"refs":[{"id":"ref-for-self-alignment-properties\u2461"},{"id":"ref-for-self-alignment-properties\u2462"}],"title":"\nRecent Changes"}],"url":"https://drafts.csswg.org/css-align-3/#self-alignment-properties"},
"8e662436": {"dfnID":"8e662436","dfnText":"baseline alignment","external":true,"refSections":[{"refs":[{"id":"ref-for-baseline-alignment"}],"title":"3.4.2. \nOptimized Track Sizing"},{"refs":[{"id":"ref-for-baseline-alignment\u2460"}],"title":"6.3. \nStacking-axis Content Distribution: the align-content/justify-content properties"},{"refs":[{"id":"ref-for-baseline-alignment\u2461"},{"id":"ref-for-baseline-alignment\u2462"},{"id":"ref-for-baseline-alignment\u2463"}],"title":"6.5. \nBaseline Alignment"}],"url":"https://drafts.csswg.org/css-align-3/#baseline-alignment"},
"8eefb8b8": {"dfnID":"8eefb8b8","dfnText":"box alignment properties","external":true,"refSections":[{"refs":[{"id":"ref-for-box-alignment-properties"}],"title":"6.2. \nGrid-axis Alignment: the align-content/justify-content, align-self/justify-self, and align-items/justify-items properties"}],"url":"https://drafts.csswg.org/css-align-3/#box-alignment-properties"},
"8f96f376": {"dfnID":"8f96f376","dfnText":"inline-axis","external":true,"refSections":[{"refs":[{"id":"ref-for-inline-axis"}],"title":"2. \nGrid Lanes Layout Model"},{"refs":[{"id":"ref-for-inline-axis\u2460"},{"id":"ref-for-inline-axis\u2461"}],"title":"2.3. \nOrienting Grid Lanes Layout"},{"refs":[{"id":"ref-for-inline-axis\u2462"}],"title":"3.2. \nSubgrids"},{"refs":[{"id":"ref-for-inline-axis\u2463"},{"id":"ref-for-inline-axis\u2464"}],"title":"7.2. \nFragmentation in the Grid Axis"}],"url":"https://drafts.csswg.org/css-writing-modes-4/#inline-axis"},
"9cb30ff4": {"dfnID":"9cb30ff4","dfnText":"alignment baseline","external":true,"refSections":[{"refs":[{"id":"ref-for-alignment-baseline"},{"id":"ref-for-alignment-baseline\u2460"}],"title":"6.5. \nBaseline Alignment"}],"url":"https://drafts.csswg.org/css-align-3/#alignment-baseline"},
"9ea6bed2": {"dfnID":"9ea6bed2","dfnText":"initial value","external":true,"refSections":[{"refs":[{"id":"ref-for-initial-value"}],"title":"2.3. \nOrienting Grid Lanes Layout"}],"url":"https://drafts.csswg.org/css-cascade-5/#initial-value"},
"9f9120ff": {"dfnID":"9f9120ff","dfnText":",","external":true,"refSections":[{"refs":[{"id":"ref-for-comb-comma"}],"title":"3.1.1. \nIntrinsic Tracks and repeat()"}],"url":"https://drafts.csswg.org/css-values-4/#comb-comma"},
"9fe435f5": {"dfnID":"9fe435f5","dfnText":"stretch","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-align-content-stretch"}],"title":"6.3. \nStacking-axis Content Distribution: the align-content/justify-content properties"}],"url":"https://drafts.csswg.org/css-align-3/#valdef-align-content-stretch"},
"a079e809": {"dfnID":"a079e809","dfnText":"auto-fit","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-repeat-auto-fit"},{"id":"ref-for-valdef-repeat-auto-fit\u2460"},{"id":"ref-for-valdef-repeat-auto-fit\u2461"}],"title":"3.3.1. \nrepeat(auto-fit)"}],"url":"https://drafts.csswg.org/css-grid-2/#valdef-repeat-auto-fit"},
"a27e1637": {"dfnID":"a27e1637","dfnText":"grid layout","external":true,"refSections":[{"refs":[{"id":"ref-for-grid-layout"}],"title":"1. \nIntroduction"},{"refs":[{"id":"ref-for-grid-layout\u2460"},{"id":"ref-for-grid-layout\u2461"}],"title":"1.1.2. \nOne-dimensional Grid Layout"},{"refs":[{"id":"ref-for-grid-layout\u2462"},{"id":"ref-for-grid-layout\u2463"}],"title":"2. \nGrid Lanes Layout Model"},{"refs":[{"id":"ref-for-grid-layout\u2464"}],"title":"2.1. \nReordering and Accessibility"},{"refs":[{"id":"ref-for-grid-layout\u2465"},{"id":"ref-for-grid-layout\u2466"},{"id":"ref-for-grid-layout\u2467"}],"title":"3. \nGrid Lanes Track Specification"},{"refs":[{"id":"ref-for-grid-layout\u2468"}],"title":"3.4.1. \nSubgrid Item Contributions"},{"refs":[{"id":"ref-for-grid-layout\u2460\u24ea"}],"title":"4.1. \nSpecifying Grid Axis Item Placement: the grid-column-* and grid-row-* properties"},{"refs":[{"id":"ref-for-grid-layout\u2460\u2460"}],"title":"4.3. \nDense Placement: the dense keyword"},{"refs":[{"id":"ref-for-grid-layout\u2460\u2461"}],"title":"4.4.2. \nPlacement and Writing Modes"},{"refs":[{"id":"ref-for-grid-layout\u2460\u2462"}],"title":"9. \nGraceful Degradation"}],"url":"https://drafts.csswg.org/css-grid-2/#grid-layout"},
"a28c0f38": {"dfnID":"a28c0f38","dfnText":"grid-auto-rows","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-grid-auto-rows"}],"title":"3.1. \nDeclaring Grid Lanes Track Templates: the grid-template-* properties"}],"url":"https://drafts.csswg.org/css-grid-2/#propdef-grid-auto-rows"},
"a4eb3c57": {"dfnID":"a4eb3c57","dfnText":"used value","external":true,"refSections":[{"refs":[{"id":"ref-for-used-value"},{"id":"ref-for-used-value\u2460"}],"title":"4.2. \nPlacement Precision: the flow-tolerance property"}],"url":"https://drafts.csswg.org/css-cascade-5/#used-value"},
"a73617e0": {"dfnID":"a73617e0","dfnText":"writing mode","external":true,"refSections":[{"refs":[{"id":"ref-for-writing-mode"}],"title":"4.4.2. \nPlacement and Writing Modes"}],"url":"https://drafts.csswg.org/css-writing-modes-4/#writing-mode"},
"auto-placement-cursor": {"dfnID":"auto-placement-cursor","dfnText":"auto-placement cursor","external":false,"refSections":[{"refs":[{"id":"ref-for-auto-placement-cursor"},{"id":"ref-for-auto-placement-cursor\u2460"},{"id":"ref-for-auto-placement-cursor\u2461"},{"id":"ref-for-auto-placement-cursor\u2462"}],"title":"4.4. Grid Lanes Layout and Placement Algorithm"}],"url":"#auto-placement-cursor"},
"b47c7071": {"dfnID":"b47c7071","dfnText":"grid-template-rows","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-grid-template-rows"}],"title":"2.3. \nOrienting Grid Lanes Layout"}],"url":"https://drafts.csswg.org/css-grid-2/#propdef-grid-template-rows"},
"b8850feb": {"dfnID":"b8850feb","dfnText":"start","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-self-position-start"},{"id":"ref-for-valdef-self-position-start\u2460"}],"title":"6.3. \nStacking-axis Content Distribution: the align-content/justify-content properties"}],"url":"https://drafts.csswg.org/css-align-3/#valdef-self-position-start"},
"b8a0ba74": {"dfnID":"b8a0ba74","dfnText":"position","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-position"}],"title":"4.4. \nGrid Lanes Layout and Placement Algorithm"}],"url":"https://drafts.csswg.org/css-position-3/#propdef-position"},
"b8c7a216": {"dfnID":"b8c7a216","dfnText":"forced break","external":true,"refSections":[{"refs":[{"id":"ref-for-forced-break"}],"title":"7.1. \nFragmentation in the stacking axis"}],"url":"https://drafts.csswg.org/css-break-4/#forced-break"},
"ba1eea86": {"dfnID":"ba1eea86","dfnText":"outer edge","external":true,"refSections":[{"refs":[{"id":"ref-for-outer-edge"},{"id":"ref-for-outer-edge\u2460"}],"title":"5. \nSizing Grid Containers"}],"url":"https://drafts.csswg.org/css-box-4/#outer-edge"},
"ba9b3d06": {"dfnID":"ba9b3d06","dfnText":"order-modified document order","external":true,"refSections":[{"refs":[{"id":"ref-for-order-modified-document-order"}],"title":"4.4. \nGrid Lanes Layout and Placement Algorithm"}],"url":"https://drafts.csswg.org/css-display-4/#order-modified-document-order"},
"bdadecb4": {"dfnID":"bdadecb4","dfnText":"fallback alignment","external":true,"refSections":[{"refs":[{"id":"ref-for-fallback-alignment"}],"title":"6.3. \nStacking-axis Content Distribution: the align-content/justify-content properties"},{"refs":[{"id":"ref-for-fallback-alignment\u2460"}],"title":"6.5. \nBaseline Alignment"}],"url":"https://drafts.csswg.org/css-align-3/#fallback-alignment"},
"bedd9d42": {"dfnID":"bedd9d42","dfnText":"+","external":true,"refSections":[{"refs":[{"id":"ref-for-mult-one-plus"}],"title":"3.1.1. \nIntrinsic Tracks and repeat()"}],"url":"https://drafts.csswg.org/css-values-4/#mult-one-plus"},
"c6c2ab78": {"dfnID":"c6c2ab78","dfnText":"subgrid","external":true,"refSections":[{"refs":[{"id":"ref-for-subgrid"}],"title":"2.2. \nEstablishing Grid Lanes Layout"},{"refs":[{"id":"ref-for-subgrid\u2460"},{"id":"ref-for-subgrid\u2461"},{"id":"ref-for-subgrid\u2462"},{"id":"ref-for-subgrid\u2463"}],"title":"3.2. \nSubgrids"},{"refs":[{"id":"ref-for-subgrid\u2464"},{"id":"ref-for-subgrid\u2465"},{"id":"ref-for-subgrid\u2466"}],"title":"3.4.1. \nSubgrid Item Contributions"},{"refs":[{"id":"ref-for-subgrid\u2467"}],"title":"\nRecent Changes"}],"url":"https://drafts.csswg.org/css-grid-2/#subgrid"},
"ca4fcf76": {"dfnID":"ca4fcf76","dfnText":"distributed alignment","external":true,"refSections":[{"refs":[{"id":"ref-for-distributed-alignment"}],"title":"6.3. \nStacking-axis Content Distribution: the align-content/justify-content properties"}],"url":"https://drafts.csswg.org/css-align-3/#distributed-alignment"},
"cb1b7e0c": {"dfnID":"cb1b7e0c","dfnText":"<line-names>","external":true,"refSections":[{"refs":[{"id":"ref-for-typedef-line-names"},{"id":"ref-for-typedef-line-names\u2460"}],"title":"3.1.1. \nIntrinsic Tracks and repeat()"}],"url":"https://drafts.csswg.org/css-grid-2/#typedef-line-names"},
"ce1c3a64": {"dfnID":"ce1c3a64","dfnText":"align-content","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-align-content"}],"title":"6.2. \nGrid-axis Alignment: the align-content/justify-content, align-self/justify-self, and align-items/justify-items properties"},{"refs":[{"id":"ref-for-propdef-align-content\u2460"},{"id":"ref-for-propdef-align-content\u2461"},{"id":"ref-for-propdef-align-content\u2462"}],"title":"6.3. \nStacking-axis Content Distribution: the align-content/justify-content properties"}],"url":"https://drafts.csswg.org/css-align-3/#propdef-align-content"},
"d0e23e1f": {"dfnID":"d0e23e1f","dfnText":"outer size","external":true,"refSections":[{"refs":[{"id":"ref-for-outer-size"},{"id":"ref-for-outer-size\u2460"}],"title":"4.4. \nGrid Lanes Layout and Placement Algorithm"}],"url":"https://drafts.csswg.org/css-sizing-3/#outer-size"},
"d15331bf": {"dfnID":"d15331bf","dfnText":"alignment subject","external":true,"refSections":[{"refs":[{"id":"ref-for-alignment-subject"},{"id":"ref-for-alignment-subject\u2460"}],"title":"6.3. \nStacking-axis Content Distribution: the align-content/justify-content properties"},{"refs":[{"id":"ref-for-alignment-subject\u2461"}],"title":"6.4. \nStacking-axis Self Alignment: the align-self/justify-self and align-items/justify-items properties"}],"url":"https://drafts.csswg.org/css-align-3/#alignment-subject"},
"d5412931": {"dfnID":"d5412931","dfnText":"auto-fill","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-repeat-auto-fill"},{"id":"ref-for-valdef-repeat-auto-fill\u2460"}],"title":"3.3.1. \nrepeat(auto-fit)"}],"url":"https://drafts.csswg.org/css-grid-2/#valdef-repeat-auto-fill"},
"d7fa3e1c": {"dfnID":"d7fa3e1c","dfnText":"inline-level","external":true,"refSections":[{"refs":[{"id":"ref-for-inline-level"}],"title":"2.2. \nEstablishing Grid Lanes Layout"}],"url":"https://drafts.csswg.org/css-display-4/#inline-level"},
"e0f38f8e": {"dfnID":"e0f38f8e","dfnText":"grid-template-columns","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-grid-template-columns"}],"title":"1.1.1. \nWaterfall Layout with Auto-placed Items"},{"refs":[{"id":"ref-for-propdef-grid-template-columns\u2460"}],"title":"2.3. \nOrienting Grid Lanes Layout"}],"url":"https://drafts.csswg.org/css-grid-2/#propdef-grid-template-columns"},
"e1ab41b7": {"dfnID":"e1ab41b7","dfnText":"block axis","external":true,"refSections":[{"refs":[{"id":"ref-for-block-axis"}],"title":"2. \nGrid Lanes Layout Model"},{"refs":[{"id":"ref-for-block-axis\u2460"},{"id":"ref-for-block-axis\u2461"}],"title":"2.3. \nOrienting Grid Lanes Layout"},{"refs":[{"id":"ref-for-block-axis\u2462"},{"id":"ref-for-block-axis\u2463"}],"title":"7.1. \nFragmentation in the stacking axis"},{"refs":[{"id":"ref-for-block-axis\u2464"}],"title":"7.2. \nFragmentation in the Grid Axis"},{"refs":[{"id":"ref-for-block-axis\u2465"}],"title":"9. \nGraceful Degradation"}],"url":"https://drafts.csswg.org/css-writing-modes-4/#block-axis"},
"e3ccce60": {"dfnID":"e3ccce60","dfnText":"grid area","external":true,"refSections":[{"refs":[{"id":"ref-for-grid-area"}],"title":"4.4.1. \nContaining Block"}],"url":"https://drafts.csswg.org/css-grid-2/#grid-area"},
"e7a4e2e2": {"dfnID":"e7a4e2e2","dfnText":"alignment container","external":true,"refSections":[{"refs":[{"id":"ref-for-alignment-container"},{"id":"ref-for-alignment-container\u2460"},{"id":"ref-for-alignment-container\u2461"},{"id":"ref-for-alignment-container\u2462"}],"title":"6.4. \nStacking-axis Self Alignment: the align-self/justify-self and align-items/justify-items properties"}],"url":"https://drafts.csswg.org/css-align-3/#alignment-container"},
"e7f0dd6c": {"dfnID":"e7f0dd6c","dfnText":"display","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-display"}],"title":"1.1.1. \nWaterfall Layout with Auto-placed Items"},{"refs":[{"id":"ref-for-propdef-display\u2460"}],"title":"2.2. \nEstablishing Grid Lanes Layout"}],"url":"https://drafts.csswg.org/css-display-4/#propdef-display"},
"e8bb041c": {"dfnID":"e8bb041c","dfnText":"grid-auto-columns","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-grid-auto-columns"}],"title":"3.1. \nDeclaring Grid Lanes Track Templates: the grid-template-* properties"}],"url":"https://drafts.csswg.org/css-grid-2/#propdef-grid-auto-columns"},
"ea663a43": {"dfnID":"ea663a43","dfnText":"containing block","external":true,"refSections":[{"refs":[{"id":"ref-for-containing-block"}],"title":"4.4.1. \nContaining Block"}],"url":"https://drafts.csswg.org/css-display-4/#containing-block"},
"eb309e21": {"dfnID":"eb309e21","dfnText":"normal","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-justify-content-normal"}],"title":"6.3. \nStacking-axis Content Distribution: the align-content/justify-content properties"}],"url":"https://drafts.csswg.org/css-align-3/#valdef-justify-content-normal"},
"ecf777ac": {"dfnID":"ecf777ac","dfnText":"reading-flow","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-reading-flow"}],"title":"2.1. \nReordering and Accessibility"}],"url":"https://drafts.csswg.org/css-display-4/#propdef-reading-flow"},
"ef47d3e4": {"dfnID":"ef47d3e4","dfnText":"grid-placement property","external":true,"refSections":[{"refs":[{"id":"ref-for-grid-placement-property"}],"title":"4. \nGrid Lanes Item Placement"}],"url":"https://drafts.csswg.org/css-grid-2/#grid-placement-property"},
"f005b2f6": {"dfnID":"f005b2f6","dfnText":"grid container","external":true,"refSections":[{"refs":[{"id":"ref-for-grid-container"},{"id":"ref-for-grid-container\u2460"},{"id":"ref-for-grid-container\u2461"}],"title":"2. \nGrid Lanes Layout Model"},{"refs":[{"id":"ref-for-grid-container\u2462"},{"id":"ref-for-grid-container\u2463"}],"title":"2.3. \nOrienting Grid Lanes Layout"},{"refs":[{"id":"ref-for-grid-container\u2464"}],"title":"3. \nGrid Lanes Track Specification"},{"refs":[{"id":"ref-for-grid-container\u2465"}],"title":"3.1. \nDeclaring Grid Lanes Track Templates: the grid-template-* properties"},{"refs":[{"id":"ref-for-grid-container\u2466"},{"id":"ref-for-grid-container\u2467"}],"title":"3.2. \nSubgrids"},{"refs":[{"id":"ref-for-grid-container\u2468"}],"title":"3.3.1. \nrepeat(auto-fit)"},{"refs":[{"id":"ref-for-grid-container\u2460\u24ea"}],"title":"3.4.1. \nSubgrid Item Contributions"},{"refs":[{"id":"ref-for-grid-container\u2460\u2460"}],"title":"4.4.1. \nContaining Block"},{"refs":[{"id":"ref-for-grid-container\u2460\u2461"},{"id":"ref-for-grid-container\u2460\u2462"},{"id":"ref-for-grid-container\u2460\u2463"}],"title":"5. \nSizing Grid Containers"},{"refs":[{"id":"ref-for-grid-container\u2460\u2464"}],"title":"6.1. \nGutters: the row-gap, column-gap, and gap properties"},{"refs":[{"id":"ref-for-grid-container\u2460\u2465"}],"title":"6.2. \nGrid-axis Alignment: the align-content/justify-content, align-self/justify-self, and align-items/justify-items properties"},{"refs":[{"id":"ref-for-grid-container\u2460\u2466"},{"id":"ref-for-grid-container\u2460\u2467"}],"title":"6.3. \nStacking-axis Content Distribution: the align-content/justify-content properties"},{"refs":[{"id":"ref-for-grid-container\u2460\u2468"},{"id":"ref-for-grid-container\u2461\u24ea"},{"id":"ref-for-grid-container\u2461\u2460"},{"id":"ref-for-grid-container\u2461\u2461"}],"title":"6.5. \nBaseline Alignment"},{"refs":[{"id":"ref-for-grid-container\u2461\u2462"}],"title":"7.1. \nFragmentation in the stacking axis"},{"refs":[{"id":"ref-for-grid-container\u2461\u2463"}],"title":"7.2. \nFragmentation in the Grid Axis"},{"refs":[{"id":"ref-for-grid-container\u2461\u2464"}],"title":"8. \nAbsolute Positioning"}],"url":"https://drafts.csswg.org/css-grid-2/#grid-container"},
"f210b721": {"dfnID":"f210b721","dfnText":"order","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-order"}],"title":"2. \nGrid Lanes Layout Model"},{"refs":[{"id":"ref-for-propdef-order\u2460"}],"title":"2.1. \nReordering and Accessibility"}],"url":"https://drafts.csswg.org/css-display-4/#propdef-order"},
"f285fdb1": {"dfnID":"f285fdb1","dfnText":"relative positioning","external":true,"refSections":[{"refs":[{"id":"ref-for-x34"}],"title":"6.5. \nBaseline Alignment"}],"url":"https://www.w3.org/TR/CSS2/visuren.html#x34"},
"f6ac6c55": {"dfnID":"f6ac6c55","dfnText":"explicit grid","external":true,"refSections":[{"refs":[{"id":"ref-for-explicit-grid"}],"title":"3. \nGrid Lanes Track Specification"}],"url":"https://drafts.csswg.org/css-grid-2/#explicit-grid"},
"f776fb8b": {"dfnID":"f776fb8b","dfnText":"repeat()","external":true,"refSections":[{"refs":[{"id":"ref-for-funcdef-repeat-line-color-repeat"},{"id":"ref-for-funcdef-repeat-line-color-repeat\u2460"}],"title":"3.1.1. \nIntrinsic Tracks and repeat()"},{"refs":[{"id":"ref-for-funcdef-repeat-line-color-repeat\u2461"},{"id":"ref-for-funcdef-repeat-line-color-repeat\u2462"}],"title":"3.3. \nTrack Repetition: the repeat() notation"},{"refs":[{"id":"ref-for-funcdef-repeat-line-color-repeat\u2463"}],"title":"\nRecent Changes"}],"url":"https://drafts.csswg.org/css-gaps-1/#funcdef-repeat-line-color-repeat"},
"f9ab2883": {"dfnID":"f9ab2883","dfnText":"definite position","external":true,"refSections":[{"refs":[{"id":"ref-for-definite-grid-position"}],"title":"2.1. \nReordering and Accessibility"},{"refs":[{"id":"ref-for-definite-grid-position\u2460"}],"title":"3.4.1. \nSubgrid Item Contributions"},{"refs":[{"id":"ref-for-definite-grid-position\u2461"}],"title":"4.4. \nGrid Lanes Layout and Placement Algorithm"}],"url":"https://drafts.csswg.org/css-grid-2/#definite-grid-position"},
"fdb725d6": {"dfnID":"fdb725d6","dfnText":"implicit grid","external":true,"refSections":[{"refs":[{"id":"ref-for-implicit-grid"}],"title":"3. \nGrid Lanes Track Specification"},{"refs":[{"id":"ref-for-implicit-grid\u2460"}],"title":"4.4. \nGrid Lanes Layout and Placement Algorithm"}],"url":"https://drafts.csswg.org/css-grid-2/#implicit-grid"},
"grid-axis": {"dfnID":"grid-axis","dfnText":"grid axis","external":false,"refSections":[{"refs":[{"id":"ref-for-grid-axis"}],"title":"2. Grid Lanes Layout Model"},{"refs":[{"id":"ref-for-grid-axis\u2460"}],"title":"2.1. Reordering and Accessibility"},{"refs":[{"id":"ref-for-grid-axis\u2461"}],"title":"2.2. Establishing Grid Lanes Layout"},{"refs":[{"id":"ref-for-grid-axis\u2462"},{"id":"ref-for-grid-axis\u2463"},{"id":"ref-for-grid-axis\u2464"}],"title":"2.3. Orienting Grid Lanes Layout"},{"refs":[{"id":"ref-for-grid-axis\u2465"},{"id":"ref-for-grid-axis\u2466"}],"title":"3. Grid Lanes Track Specification"},{"refs":[{"id":"ref-for-grid-axis\u2467"}],"title":"3.1. Declaring Grid Lanes Track Templates: the grid-template-* properties"},{"refs":[{"id":"ref-for-grid-axis\u2468"}],"title":"3.2. Subgrids"},{"refs":[{"id":"ref-for-grid-axis\u2460\u24ea"},{"id":"ref-for-grid-axis\u2460\u2460"},{"id":"ref-for-grid-axis\u2460\u2461"}],"title":"3.4. Grid Axis Track Sizing"},{"refs":[{"id":"ref-for-grid-axis\u2460\u2462"}],"title":"3.4.2. Optimized Track Sizing"},{"refs":[{"id":"ref-for-grid-axis\u2460\u2463"}],"title":"4. Grid Lanes Item Placement"},{"refs":[{"id":"ref-for-grid-axis\u2460\u2464"}],"title":"4.1. Specifying Grid Axis Item Placement: the grid-column-* and grid-row-* properties"},{"refs":[{"id":"ref-for-grid-axis\u2460\u2465"}],"title":"4.2. Placement Precision: the flow-tolerance property"},{"refs":[{"id":"ref-for-grid-axis\u2460\u2466"},{"id":"ref-for-grid-axis\u2460\u2467"},{"id":"ref-for-grid-axis\u2460\u2468"},{"id":"ref-for-grid-axis\u2461\u24ea"},{"id":"ref-for-grid-axis\u2461\u2460"},{"id":"ref-for-grid-axis\u2461\u2461"},{"id":"ref-for-grid-axis\u2461\u2462"},{"id":"ref-for-grid-axis\u2461\u2463"}],"title":"4.4. Grid Lanes Layout and Placement Algorithm"},{"refs":[{"id":"ref-for-grid-axis\u2461\u2464"}],"title":"4.4.1. Containing Block"},{"refs":[{"id":"ref-for-grid-axis\u2461\u2465"},{"id":"ref-for-grid-axis\u2461\u2466"}],"title":"4.4.2. Placement and Writing Modes"},{"refs":[{"id":"ref-for-grid-axis\u2461\u2467"}],"title":"6.1. Gutters: the row-gap, column-gap, and gap properties"},{"refs":[{"id":"ref-for-grid-axis\u2461\u2468"}],"title":"6.2. Grid-axis Alignment: the align-content/justify-content, align-self/justify-self, and align-items/justify-items properties"},{"refs":[{"id":"ref-for-grid-axis\u2462\u24ea"}],"title":"6.5. Baseline Alignment"},{"refs":[{"id":"ref-for-grid-axis\u2462\u2460"},{"id":"ref-for-grid-axis\u2462\u2461"},{"id":"ref-for-grid-axis\u2462\u2462"}],"title":"7.1. Fragmentation in the stacking axis"},{"refs":[{"id":"ref-for-grid-axis\u2462\u2463"},{"id":"ref-for-grid-axis\u2462\u2464"},{"id":"ref-for-grid-axis\u2462\u2465"}],"title":"7.2. Fragmentation in the Grid Axis"},{"refs":[{"id":"ref-for-grid-axis\u2462\u2466"}],"title":"8. Absolute Positioning"}],"url":"#grid-axis"},
"grid-lanes-container": {"dfnID":"grid-lanes-container","dfnText":"grid lanes container","external":false,"refSections":[{"refs":[{"id":"ref-for-grid-lanes-container"}],"title":"2. Grid Lanes Layout Model"},{"refs":[{"id":"ref-for-grid-lanes-container\u2460"},{"id":"ref-for-grid-lanes-container\u2461"},{"id":"ref-for-grid-lanes-container\u2462"}],"title":"2.2. Establishing Grid Lanes Layout"},{"refs":[{"id":"ref-for-grid-lanes-container\u2463"},{"id":"ref-for-grid-lanes-container\u2464"},{"id":"ref-for-grid-lanes-container\u2465"}],"title":"2.3. Orienting Grid Lanes Layout"},{"refs":[{"id":"ref-for-grid-lanes-container\u2466"}],"title":"3. Grid Lanes Track Specification"},{"refs":[{"id":"ref-for-grid-lanes-container\u2467"}],"title":"3.1. Declaring Grid Lanes Track Templates: the grid-template-* properties"},{"refs":[{"id":"ref-for-grid-lanes-container\u2468"},{"id":"ref-for-grid-lanes-container\u2460\u24ea"},{"id":"ref-for-grid-lanes-container\u2460\u2460"}],"title":"3.2. Subgrids"},{"refs":[{"id":"ref-for-grid-lanes-container\u2460\u2461"},{"id":"ref-for-grid-lanes-container\u2460\u2462"}],"title":"3.3.1. repeat(auto-fit)"},{"refs":[{"id":"ref-for-grid-lanes-container\u2460\u2463"},{"id":"ref-for-grid-lanes-container\u2460\u2464"}],"title":"3.4.1. Subgrid Item Contributions"},{"refs":[{"id":"ref-for-grid-lanes-container\u2460\u2465"}],"title":"3.4.2. Optimized Track Sizing"},{"refs":[{"id":"ref-for-grid-lanes-container\u2460\u2466"},{"id":"ref-for-grid-lanes-container\u2460\u2467"},{"id":"ref-for-grid-lanes-container\u2460\u2468"},{"id":"ref-for-grid-lanes-container\u2461\u24ea"}],"title":"4.2. Placement Precision: the flow-tolerance property"},{"refs":[{"id":"ref-for-grid-lanes-container\u2461\u2460"}],"title":"4.4. Grid Lanes Layout and Placement Algorithm"},{"refs":[{"id":"ref-for-grid-lanes-container\u2461\u2461"}],"title":"5. Sizing Grid Containers"},{"refs":[{"id":"ref-for-grid-lanes-container\u2461\u2462"}],"title":"7.2. Fragmentation in the Grid Axis"},{"refs":[{"id":"ref-for-grid-lanes-container\u2461\u2463"}],"title":"8. Absolute Positioning"},{"refs":[{"id":"ref-for-grid-lanes-container\u2461\u2464"}],"title":"Recent Changes"}],"url":"#grid-lanes-container"},
"grid-lanes-layout": {"dfnID":"grid-lanes-layout","dfnText":"Grid lanes layout","external":false,"refSections":[{"refs":[{"id":"ref-for-grid-lanes-layout"},{"id":"ref-for-grid-lanes-layout\u2460"},{"id":"ref-for-grid-lanes-layout\u2461"}],"title":"1.1.1. Waterfall Layout with Auto-placed Items"},{"refs":[{"id":"ref-for-grid-lanes-layout\u2462"}],"title":"1.1.2. One-dimensional Grid Layout"},{"refs":[{"id":"ref-for-grid-lanes-layout\u2463"},{"id":"ref-for-grid-lanes-layout\u2464"}],"title":"2. Grid Lanes Layout Model"},{"refs":[{"id":"ref-for-grid-lanes-layout\u2465"}],"title":"2.1. Reordering and Accessibility"},{"refs":[{"id":"ref-for-grid-lanes-layout\u2466"}],"title":"3.2. Subgrids"},{"refs":[{"id":"ref-for-grid-lanes-layout\u2467"}],"title":"4.2. Placement Precision: the flow-tolerance property"},{"refs":[{"id":"ref-for-grid-lanes-layout\u2468"}],"title":"4.3. Dense Placement: the dense keyword"},{"refs":[{"id":"ref-for-grid-lanes-layout\u2460\u24ea"}],"title":"4.4.1. Containing Block"},{"refs":[{"id":"ref-for-grid-lanes-layout\u2460\u2460"}],"title":"7.1. Fragmentation in the stacking axis"},{"refs":[{"id":"ref-for-grid-lanes-layout\u2460\u2461"}],"title":"7.2. Fragmentation in the Grid Axis"},{"refs":[{"id":"ref-for-grid-lanes-layout\u2460\u2462"},{"id":"ref-for-grid-lanes-layout\u2460\u2463"}],"title":"9. Graceful Degradation"},{"refs":[{"id":"ref-for-grid-lanes-layout\u2460\u2464"}],"title":"Additions Since Level 2"},{"refs":[{"id":"ref-for-grid-lanes-layout\u2460\u2465"}],"title":"Recent Changes"}],"url":"#grid-lanes-layout"},
"grid-lanes-subgrid": {"dfnID":"grid-lanes-subgrid","dfnText":"grid lanes subgrid","external":false,"refSections":[{"refs":[{"id":"ref-for-grid-lanes-subgrid"},{"id":"ref-for-grid-lanes-subgrid\u2460"},{"id":"ref-for-grid-lanes-subgrid\u2461"}],"title":"3.4.1. Subgrid Item Contributions"}],"url":"#grid-lanes-subgrid"},
"grid-lanes-tie-threshold": {"dfnID":"grid-lanes-tie-threshold","dfnText":"tie threshold","external":false,"refSections":[{"refs":[{"id":"ref-for-grid-lanes-tie-threshold"}],"title":"4.2. Placement Precision: the flow-tolerance property"},{"refs":[{"id":"ref-for-grid-lanes-tie-threshold\u2460"},{"id":"ref-for-grid-lanes-tie-threshold\u2461"}],"title":"4.4. Grid Lanes Layout and Placement Algorithm"}],"url":"#grid-lanes-tie-threshold"},
"item-groups": {"dfnID":"item-groups","dfnText":"item groups","external":false,"refSections":[{"refs":[{"id":"ref-for-item-groups"}],"title":"3.4.2. Optimized Track Sizing"}],"url":"#item-groups"},
"propdef-flow-tolerance": {"dfnID":"propdef-flow-tolerance","dfnText":"flow-tolerance","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-flow-tolerance"},{"id":"ref-for-propdef-flow-tolerance\u2460"}],"title":"2.1. Reordering and Accessibility"},{"refs":[{"id":"ref-for-propdef-flow-tolerance\u2461"},{"id":"ref-for-propdef-flow-tolerance\u2462"}],"title":"4.2. Placement Precision: the flow-tolerance property"},{"refs":[{"id":"ref-for-propdef-flow-tolerance\u2463"}],"title":"Additions Since Level 2"},{"refs":[{"id":"ref-for-propdef-flow-tolerance\u2464"}],"title":"Recent Changes"}],"url":"#propdef-flow-tolerance"},
"regular-grid-subgrid": {"dfnID":"regular-grid-subgrid","dfnText":"regular grid subgrid","external":false,"refSections":[{"refs":[{"id":"ref-for-regular-grid-subgrid"}],"title":"3.4.1. Subgrid Item Contributions"}],"url":"#regular-grid-subgrid"},
"running-position": {"dfnID":"running-position","dfnText":"running position","external":false,"refSections":[{"refs":[{"id":"ref-for-running-position"},{"id":"ref-for-running-position\u2460"},{"id":"ref-for-running-position\u2461"},{"id":"ref-for-running-position\u2462"},{"id":"ref-for-running-position\u2463"}],"title":"4.4. Grid Lanes Layout and Placement Algorithm"},{"refs":[{"id":"ref-for-running-position\u2464"}],"title":"7.1. Fragmentation in the stacking axis"},{"refs":[{"id":"ref-for-running-position\u2465"}],"title":"8. Absolute Positioning"},{"refs":[{"id":"ref-for-running-position\u2466"}],"title":"Recent Changes"}],"url":"#running-position"},
"stacking-axis": {"dfnID":"stacking-axis","dfnText":"stacking axis","external":false,"refSections":[{"refs":[{"id":"ref-for-stacking-axis"},{"id":"ref-for-stacking-axis\u2460"}],"title":"2. Grid Lanes Layout Model"},{"refs":[{"id":"ref-for-stacking-axis\u2461"},{"id":"ref-for-stacking-axis\u2462"}],"title":"2.1. Reordering and Accessibility"},{"refs":[{"id":"ref-for-stacking-axis\u2463"}],"title":"3.1. Declaring Grid Lanes Track Templates: the grid-template-* properties"},{"refs":[{"id":"ref-for-stacking-axis\u2464"},{"id":"ref-for-stacking-axis\u2465"},{"id":"ref-for-stacking-axis\u2466"},{"id":"ref-for-stacking-axis\u2467"}],"title":"3.2. Subgrids"},{"refs":[{"id":"ref-for-stacking-axis\u2468"}],"title":"4.2. Placement Precision: the flow-tolerance property"},{"refs":[{"id":"ref-for-stacking-axis\u2460\u24ea"}],"title":"4.4.1. Containing Block"},{"refs":[{"id":"ref-for-stacking-axis\u2460\u2460"},{"id":"ref-for-stacking-axis\u2460\u2461"}],"title":"4.4.2. Placement and Writing Modes"},{"refs":[{"id":"ref-for-stacking-axis\u2460\u2462"},{"id":"ref-for-stacking-axis\u2460\u2463"}],"title":"5. Sizing Grid Containers"},{"refs":[{"id":"ref-for-stacking-axis\u2460\u2464"}],"title":"6.1. Gutters: the row-gap, column-gap, and gap properties"},{"refs":[{"id":"ref-for-stacking-axis\u2460\u2465"},{"id":"ref-for-stacking-axis\u2460\u2466"},{"id":"ref-for-stacking-axis\u2460\u2467"}],"title":"6.3. Stacking-axis Content Distribution: the align-content/justify-content properties"},{"refs":[{"id":"ref-for-stacking-axis\u2460\u2468"}],"title":"6.4. Stacking-axis Self Alignment: the align-self/justify-self and align-items/justify-items properties"},{"refs":[{"id":"ref-for-stacking-axis\u2461\u24ea"}],"title":"6.5. Baseline Alignment"},{"refs":[{"id":"ref-for-stacking-axis\u2461\u2460"},{"id":"ref-for-stacking-axis\u2461\u2461"}],"title":"7.1. Fragmentation in the stacking axis"},{"refs":[{"id":"ref-for-stacking-axis\u2461\u2462"}],"title":"7.2. Fragmentation in the Grid Axis"},{"refs":[{"id":"ref-for-stacking-axis\u2461\u2463"},{"id":"ref-for-stacking-axis\u2461\u2464"}],"title":"8. Absolute Positioning"},{"refs":[{"id":"ref-for-stacking-axis\u2461\u2465"}],"title":"Recent Changes"}],"url":"#stacking-axis"},
"stacking-range": {"dfnID":"stacking-range","dfnText":"stacking range","external":false,"refSections":[{"refs":[{"id":"ref-for-stacking-range"}],"title":"5. Sizing Grid Containers"},{"refs":[{"id":"ref-for-stacking-range\u2460"},{"id":"ref-for-stacking-range\u2461"}],"title":"6.3. Stacking-axis Content Distribution: the align-content/justify-content properties"},{"refs":[{"id":"ref-for-stacking-range\u2462"},{"id":"ref-for-stacking-range\u2463"}],"title":"8. Absolute Positioning"}],"url":"#stacking-range"},
"typedef-auto-repeat": {"dfnID":"typedef-auto-repeat","dfnText":"<auto-repeat>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-auto-repeat"},{"id":"ref-for-typedef-auto-repeat\u2460"}],"title":"3.1.1. Intrinsic Tracks and repeat()"}],"url":"#typedef-auto-repeat"},
"valdef-display-grid-lanes": {"dfnID":"valdef-display-grid-lanes","dfnText":"grid-lanes","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-display-grid-lanes"}],"title":"Recent Changes"}],"url":"#valdef-display-grid-lanes"},
"valdef-display-inline-grid-lanes": {"dfnID":"valdef-display-inline-grid-lanes","dfnText":"inline-grid-lanes","external":false,"refSections":[],"url":"#valdef-display-inline-grid-lanes"},
"valdef-flow-tolerance-infinite": {"dfnID":"valdef-flow-tolerance-infinite","dfnText":"infinite","external":false,"refSections":[],"url":"#valdef-flow-tolerance-infinite"},
"valdef-flow-tolerance-length-percentage": {"dfnID":"valdef-flow-tolerance-length-percentage","dfnText":"<length-percentage>","external":false,"refSections":[],"url":"#valdef-flow-tolerance-length-percentage"},
"valdef-flow-tolerance-normal": {"dfnID":"valdef-flow-tolerance-normal","dfnText":"normal","external":false,"refSections":[],"url":"#valdef-flow-tolerance-normal"},
"valdef-grid-auto-flow-normal": {"dfnID":"valdef-grid-auto-flow-normal","dfnText":"normal","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-grid-auto-flow-normal"}],"title":"Recent Changes"}],"url":"#valdef-grid-auto-flow-normal"},
"virtual-grid-item": {"dfnID":"virtual-grid-item","dfnText":"virtual grid item","external":false,"refSections":[{"refs":[{"id":"ref-for-virtual-grid-item"},{"id":"ref-for-virtual-grid-item\u2460"}],"title":"3.4.2. Optimized Track Sizing"}],"url":"#virtual-grid-item"},
};

document.addEventListener("DOMContentLoaded", ()=>{
    genAllDfnPanels();

    document.body.addEventListener("click", (e) => {
        // If not handled already, just hide all dfn panels.
        hideAllDfnPanels();
    });
});

window.addEventListener("resize", () => {
    // Pin any visible dfn panel
    queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>positionDfnPanel(el));
});

function genAllDfnPanels() {
    for(const panelData of Object.values(dfnPanelData)) {
        const dfnID = panelData.dfnID;
        const dfn = document.getElementById(dfnID);
        if(!dfn) {
            console.log(`Can't find dfn#${dfnID}.`, panelData);
            continue;
        }
        dfn.panelData = panelData;
        insertDfnPopupAction(dfn);
    }
}

function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
    const dfnPanel = mk.aside({
        class: "dfn-panel on",
        id: `infopanel-for-${dfnID}`,
        "data-for": dfnID,
        "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
        },
        mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
            `Info about the '${dfnText}' ${external?"external":""} reference.`),
        mk.a({href:url, class:"dfn-link"}, url),
        refSections.length == 0 ? [] :
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({ href: `#${ref.id}` },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        genLinkingSyntaxes(dfn),
    );

    dfnPanel.addEventListener('click', (event) => {
        if (event.target.nodeName == 'A') {
            scrollToTargetAndHighlight(event);
            pinDfnPanel(dfnPanel);
        }
        event.stopPropagation();
        refocusOnTarget(event);
    });
    dfnPanel.addEventListener('keydown', (event) => {
        if(event.keyCode == 27) { // Escape key
            hideDfnPanel({dfnPanel});
            event.stopPropagation();
            event.preventDefault();
        }
    });

    dfnPanel.dfn = dfn;
    dfn.dfnPanel = dfnPanel;
    return dfnPanel;
}



function hideAllDfnPanels() {
    // Delete the currently-active dfn panel.
    queryAll(".dfn-panel").forEach(dfnPanel=>hideDfnPanel({dfnPanel}));
}

function showDfnPanel(dfn) {
    hideAllDfnPanels(); // Only display one at a time.

    dfn.setAttribute("aria-expanded", "true");

    const dfnPanel = genDfnPanel(dfn, dfn.panelData);

    // Give the dfn a unique tabindex, and then
    // give all the tabbable panel bits successive indexes.
    let tabIndex = 100;
    dfn.tabIndex = tabIndex++;
    const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
    for (const el of tabbable) {
        el.tabIndex = tabIndex++;
    }

    append(document.body, dfnPanel);
    positionDfnPanel(dfnPanel);
}

function positionDfnPanel(dfnPanel) {
    const dfn = dfnPanel.dfn;
    const dfnPos = getBounds(dfn);
    dfnPanel.style.top = dfnPos.bottom + "px";
    dfnPanel.style.left = dfnPos.left + "px";

    const panelPos = dfnPanel.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
        dfnPanel.style.left = newLeft + "px";
    }
}

function pinDfnPanel(dfnPanel) {
    // Switch it to "activated" state, which pins it.
    dfnPanel.classList.add("activated");
    dfnPanel.style.position = "fixed";
    dfnPanel.style.left = null;
    dfnPanel.style.top = null;
}

function hideDfnPanel({dfn, dfnPanel}) {
    if(!dfnPanel) dfnPanel = dfn.dfnPanel;
    if(!dfn) dfn = dfnPanel.dfn;
    dfn.dfnPanel = undefined;
    dfnPanel.dfn = undefined;
    dfn.setAttribute("aria-expanded", "false");
    dfn.tabIndex = undefined;
    dfnPanel.remove()
}

function toggleDfnPanel(dfn) {
    if(dfn.dfnPanel) {
        hideDfnPanel(dfn);
    } else {
        showDfnPanel(dfn);
    }
}

function insertDfnPopupAction(dfn) {
    dfn.setAttribute('role', 'button');
    dfn.setAttribute('aria-expanded', 'false')
    dfn.tabIndex = 0;
    dfn.classList.add('has-dfn-panel');
    dfn.addEventListener('click', (event) => {
        toggleDfnPanel(dfn);
        event.stopPropagation();
    });
    dfn.addEventListener('keypress', (event) => {
        const kc = event.keyCode;
        // 32->Space, 13->Enter
        if(kc == 32 || kc == 13) {
            toggleDfnPanel(dfn);
            event.stopPropagation();
            event.preventDefault();
        }
    });
}

function refocusOnTarget(event) {
    const target = event.target;
    setTimeout(() => {
        // Refocus on the event.target element.
        // This is needed after browser scrolls to the destination.
        target.focus();
    });
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function scrollToTargetAndHighlight(event) {
    let hash = event.target.hash;
    if (hash) {
        hash = decodeURIComponent(hash.substring(1));
        const dest = document.getElementById(hash);
        if (dest) {
            dest.classList.add('highlighted');
            setTimeout(() => dest.classList.remove('highlighted'), 1000);
        }
    }
}

// Functions, divided by link type, that wrap an autolink's
// contents with the appropriate outer syntax.
// Alternately, a string naming another type they format
// the same as.
function needsFor(type) {
    switch(type) {
        case "descriptor":
        case "value":
        case "element-attr":
        case "attr-value":
        case "element-state":
        case "method":
        case "constructor":
        case "argument":
        case "attribute":
        case "const":
        case "dict-member":
        case "event":
        case "enum-value":
        case "stringifier":
        case "serializer":
        case "iterator":
        case "maplike":
        case "setlike":
        case "state":
        case "mode":
        case "context":
        case "facet": return true;

        default: return false;
    }
}
function refusesFor(type) {
    switch(type) {
        case "property":
        case "element":
        case "interface":
        case "namespace":
        case "callback":
        case "dictionary":
        case "enum":
        case "exception":
        case "typedef":
        case "http-header":
        case "permission": return true;

        default: return false;
    }
}
function linkFormatterFromType(type) {
    switch(type) {
        case 'scheme':
        case 'permission':
        case 'dfn': return (text) => `[=${text}=]`;

        case 'abstract-op': return (text) => `[\$${text}\$]`;

        case 'function':
        case 'at-rule':
        case 'selector':
        case 'value': return (text) => `''${text}''`;

        case 'http-header': return (text) => `[:${text}:]`;

        case 'interface':
        case 'constructor':
        case 'method':
        case 'argument':
        case 'attribute':
        case 'callback':
        case 'dictionary':
        case 'dict-member':
        case 'enum':
        case 'enum-value':
        case 'exception':
        case 'const':
        case 'typedef':
        case 'stringifier':
        case 'serializer':
        case 'iterator':
        case 'maplike':
        case 'setlike':
        case 'extended-attribute':
        case 'event':
        case 'idl': return (text) => `{{${text}}}`;

        case 'element-state':
        case 'element-attr':
        case 'attr-value':
        case 'element': return (element) => `<{${element}}>`;

        case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

        case 'type': return (text)=> `<<${text}>>`;

        case 'descriptor':
        case 'property': return (text) => `'${text}'`;

        default: return;
    };
};

function genLinkingSyntaxes(dfn) {
    if(dfn.tagName != "DFN") return;

    const type = dfn.getAttribute('data-dfn-type');
    if(!type) {
        console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
        return [];
    }

    // Return a function that wraps link text based on the type
    const linkFormatter = linkFormatterFromType(type);
    if(!linkFormatter) {
        console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
        return [];
    }

    let ltAlts;
    if(dfn.hasAttribute('data-lt')) {
        ltAlts = dfn.getAttribute('data-lt')
            .split("|")
            .map(x=>x.trim());
    } else {
        ltAlts = [dfn.textContent.trim()];
    }
    if(type == "type") {
        // lt of "<foo>", but "foo" is the interior;
        // <<foo/bar>> is how you write it with a for,
        // not <foo/<bar>> or whatever.
        for(var i = 0; i < ltAlts.length; i++) {
            const lt = ltAlts[i];
            const match = /<(.*)>/.exec(lt);
            if(match) { ltAlts[i] = match[1]; }
        }
    }

    let forAlts;
    if(dfn.hasAttribute('data-dfn-for')) {
        forAlts = dfn.getAttribute('data-dfn-for')
            .split(",")
            .map(x=>x.trim());
    } else {
        forAlts = [''];
    }

    let linkingSyntaxes = [];
    if(!needsFor(type)) {
        for(const lt of ltAlts) {
            linkingSyntaxes.push(linkFormatter(lt));
        }
    }
    if(!refusesFor(type)) {
        for(const f of forAlts) {
            linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
        }
    }
    return [
        mk.b({}, 'Possible linking syntaxes:'),
        mk.ul({},
            ...linkingSyntaxes.map(link => {
                const copyLink = async () =>
                    await navigator.clipboard.writeText(link);
                return mk.li({},
                    mk.div({ class: 'link-item' },
                        mk.button({
                            class: 'copy-icon', title: 'Copy',
                            type: 'button',
                            _onclick: copyLink,
                            tabindex: 0,
                        }, mk.span({ class: 'icon' }) ),
                        mk.span({}, link)
                    )
                );
            })
        )
    ];
}
}
</script>
<script>/* Boilerplate: script-position-annos */
"use strict";
{
function repositionAnnoPanels(){
    const panels = [...document.querySelectorAll("[data-anno-for]")];
    hydratePanels(panels);
    let vSoFar = 0;
    for(const panel of panels.sort(cmpTops)) {
        if(panel.top < vSoFar) {
            panel.top = vSoFar;
            panel.style.top = vSoFar + "px";
        }
        vSoFar = panel.top + panel.height + 15;
    }
}
function hydratePanels(panels) {
    const main = document.querySelector("main");
    let mainRect;
    if(main) mainRect = main.getBoundingClientRect();
    // First display them all, if they're not already visible.
    for(const panel of panels) {
        panel.classList.remove("unpositioned");
    }
    // Measure them all
    for(const panel of panels) {
        const dfn = document.getElementById(panel.getAttribute("data-anno-for"));
        if(!dfn) {
            console.log("Can't find the annotation panel target:", panel);
            continue;
        }
        panel.dfn = dfn;
        panel.top = window.scrollY + dfn.getBoundingClientRect().top;
        let panelRect = panel.getBoundingClientRect();
        panel.height = panelRect.height;
        if(main) {
            panel.overlappingMain = panelRect.left < mainRect.right;
        } else {
            panel.overlappingMain = false;
        }
    }
    // And finally position them
    for(const panel of panels) {
        const dfn = panel.dfn;
        if(!dfn) continue;
        panel.style.top = panel.top + "px";
        panel.classList.toggle("overlapping-main", panel.overlappingMain);
    }
}

function cmpTops(a,b) {
    return a.top - b.top;
}

window.addEventListener("load", repositionAnnoPanels);
window.addEventListener("resize", repositionAnnoPanels);
}
</script>
<script>/* Boilerplate: script-ref-hints */
"use strict";
{
let refsData = {
"#auto-placement-cursor": {"displayText":"auto-placement cursor","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-grid","spec":"css-grid-3","status":"local","text":"auto-placement cursor","type":"dfn","url":"#auto-placement-cursor"},
"#grid-axis": {"displayText":"grid axis","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-grid","spec":"css-grid-3","status":"local","text":"grid axis","type":"dfn","url":"#grid-axis"},
"#grid-lanes-container": {"displayText":"grid lanes container","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-grid","spec":"css-grid-3","status":"local","text":"grid lanes container","type":"dfn","url":"#grid-lanes-container"},
"#grid-lanes-layout": {"displayText":"grid lanes layout","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-grid","spec":"css-grid-3","status":"local","text":"grid lanes layout","type":"dfn","url":"#grid-lanes-layout"},
"#grid-lanes-subgrid": {"displayText":"grid lanes subgrid","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-grid","spec":"css-grid-3","status":"local","text":"grid lanes subgrid","type":"dfn","url":"#grid-lanes-subgrid"},
"#grid-lanes-tie-threshold": {"displayText":"tie threshold","export":true,"for_":["grid lanes"],"level":"3","normative":true,"shortname":"css-grid","spec":"css-grid-3","status":"local","text":"tie threshold","type":"dfn","url":"#grid-lanes-tie-threshold"},
"#item-groups": {"displayText":"item groups","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-grid","spec":"css-grid-3","status":"local","text":"item groups","type":"dfn","url":"#item-groups"},
"#propdef-flow-tolerance": {"displayText":"flow-tolerance","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-grid","spec":"css-grid-3","status":"local","text":"flow-tolerance","type":"property","url":"#propdef-flow-tolerance"},
"#regular-grid-subgrid": {"displayText":"regular grid subgrid","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-grid","spec":"css-grid-3","status":"local","text":"regular grid subgrid","type":"dfn","url":"#regular-grid-subgrid"},
"#running-position": {"displayText":"running position","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-grid","spec":"css-grid-3","status":"local","text":"running position","type":"dfn","url":"#running-position"},
"#stacking-axis": {"displayText":"stacking axis","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-grid","spec":"css-grid-3","status":"local","text":"stacking axis","type":"dfn","url":"#stacking-axis"},
"#stacking-range": {"displayText":"stacking range","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-grid","spec":"css-grid-3","status":"local","text":"stacking range","type":"dfn","url":"#stacking-range"},
"#typedef-auto-repeat": {"displayText":"<auto-repeat>","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-grid","spec":"css-grid-3","status":"local","text":"<auto-repeat>","type":"type","url":"#typedef-auto-repeat"},
"#valdef-display-grid-lanes": {"displayText":"grid-lanes","export":true,"for_":["display"],"level":"3","normative":true,"shortname":"css-grid","spec":"css-grid-3","status":"local","text":"grid-lanes","type":"value","url":"#valdef-display-grid-lanes"},
"#valdef-grid-auto-flow-normal": {"displayText":"normal","export":true,"for_":["grid-auto-flow"],"level":"3","normative":true,"shortname":"css-grid","spec":"css-grid-3","status":"local","text":"normal","type":"value","url":"#valdef-grid-auto-flow-normal"},
"#virtual-grid-item": {"displayText":"virtual grid item","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-grid","spec":"css-grid-3","status":"local","text":"virtual grid item","type":"dfn","url":"#virtual-grid-item"},
"https://drafts.csswg.org/css-align-3/#alignment-baseline": {"displayText":"alignment baseline","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"current","text":"alignment baseline","type":"dfn","url":"https://drafts.csswg.org/css-align-3/#alignment-baseline"},
"https://drafts.csswg.org/css-align-3/#alignment-container": {"displayText":"alignment container","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"current","text":"alignment container","type":"dfn","url":"https://drafts.csswg.org/css-align-3/#alignment-container"},
"https://drafts.csswg.org/css-align-3/#alignment-subject": {"displayText":"alignment subject","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"current","text":"alignment subject","type":"dfn","url":"https://drafts.csswg.org/css-align-3/#alignment-subject"},
"https://drafts.csswg.org/css-align-3/#baseline-alignment": {"displayText":"baseline alignment","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"current","text":"baseline alignment","type":"dfn","url":"https://drafts.csswg.org/css-align-3/#baseline-alignment"},
"https://drafts.csswg.org/css-align-3/#baseline-sharing-group": {"displayText":"baseline-sharing group","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"current","text":"baseline-sharing group","type":"dfn","url":"https://drafts.csswg.org/css-align-3/#baseline-sharing-group"},
"https://drafts.csswg.org/css-align-3/#box-alignment-properties": {"displayText":"box alignment properties","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"current","text":"box alignment properties","type":"dfn","url":"https://drafts.csswg.org/css-align-3/#box-alignment-properties"},
"https://drafts.csswg.org/css-align-3/#distributed-alignment": {"displayText":"distributed alignment","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"current","text":"distributed alignment","type":"dfn","url":"https://drafts.csswg.org/css-align-3/#distributed-alignment"},
"https://drafts.csswg.org/css-align-3/#fallback-alignment": {"displayText":"fallback alignment","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"current","text":"fallback alignment","type":"dfn","url":"https://drafts.csswg.org/css-align-3/#fallback-alignment"},
"https://drafts.csswg.org/css-align-3/#propdef-align-content": {"displayText":"align-content","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"current","text":"align-content","type":"property","url":"https://drafts.csswg.org/css-align-3/#propdef-align-content"},
"https://drafts.csswg.org/css-align-3/#propdef-align-items": {"displayText":"align-items","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"current","text":"align-items","type":"property","url":"https://drafts.csswg.org/css-align-3/#propdef-align-items"},
"https://drafts.csswg.org/css-align-3/#propdef-align-self": {"displayText":"align-self","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"current","text":"align-self","type":"property","url":"https://drafts.csswg.org/css-align-3/#propdef-align-self"},
"https://drafts.csswg.org/css-align-3/#propdef-column-gap": {"displayText":"column-gap","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"current","text":"column-gap","type":"property","url":"https://drafts.csswg.org/css-align-3/#propdef-column-gap"},
"https://drafts.csswg.org/css-align-3/#propdef-gap": {"displayText":"gap","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"current","text":"gap","type":"property","url":"https://drafts.csswg.org/css-align-3/#propdef-gap"},
"https://drafts.csswg.org/css-align-3/#propdef-grid-gap": {"displayText":"grid-gap","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"current","text":"grid-gap","type":"property","url":"https://drafts.csswg.org/css-align-3/#propdef-grid-gap"},
"https://drafts.csswg.org/css-align-3/#propdef-justify-content": {"displayText":"justify-content","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"current","text":"justify-content","type":"property","url":"https://drafts.csswg.org/css-align-3/#propdef-justify-content"},
"https://drafts.csswg.org/css-align-3/#propdef-justify-items": {"displayText":"justify-items","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"current","text":"justify-items","type":"property","url":"https://drafts.csswg.org/css-align-3/#propdef-justify-items"},
"https://drafts.csswg.org/css-align-3/#propdef-justify-self": {"displayText":"justify-self","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"current","text":"justify-self","type":"property","url":"https://drafts.csswg.org/css-align-3/#propdef-justify-self"},
"https://drafts.csswg.org/css-align-3/#propdef-row-gap": {"displayText":"row-gap","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"current","text":"row-gap","type":"property","url":"https://drafts.csswg.org/css-align-3/#propdef-row-gap"},
"https://drafts.csswg.org/css-align-3/#self-alignment-properties": {"displayText":"self-alignment properties","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"current","text":"self-alignment properties","type":"dfn","url":"https://drafts.csswg.org/css-align-3/#self-alignment-properties"},
"https://drafts.csswg.org/css-align-3/#valdef-align-content-stretch": {"displayText":"stretch","export":true,"for_":["align-content","justify-content","<content-distribution>"],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"current","text":"stretch","type":"value","url":"https://drafts.csswg.org/css-align-3/#valdef-align-content-stretch"},
"https://drafts.csswg.org/css-align-3/#valdef-justify-content-normal": {"displayText":"normal","export":true,"for_":["justify-content","align-content"],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"current","text":"normal","type":"value","url":"https://drafts.csswg.org/css-align-3/#valdef-justify-content-normal"},
"https://drafts.csswg.org/css-align-3/#valdef-self-position-center": {"displayText":"center","export":true,"for_":["<self-position>","<content-position>","justify-self","align-self","justify-content","align-content"],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"current","text":"center","type":"value","url":"https://drafts.csswg.org/css-align-3/#valdef-self-position-center"},
"https://drafts.csswg.org/css-align-3/#valdef-self-position-end": {"displayText":"end","export":true,"for_":["<self-position>","<content-position>","justify-self","align-self","justify-content","align-content"],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"current","text":"end","type":"value","url":"https://drafts.csswg.org/css-align-3/#valdef-self-position-end"},
"https://drafts.csswg.org/css-align-3/#valdef-self-position-start": {"displayText":"start","export":true,"for_":["<self-position>","<content-position>","justify-self","align-self","justify-content","align-content"],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"current","text":"start","type":"value","url":"https://drafts.csswg.org/css-align-3/#valdef-self-position-start"},
"https://drafts.csswg.org/css-box-4/#content-box": {"displayText":"content box","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-box","spec":"css-box-4","status":"current","text":"content box","type":"dfn","url":"https://drafts.csswg.org/css-box-4/#content-box"},
"https://drafts.csswg.org/css-box-4/#margin-box": {"displayText":"margin box","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-box","spec":"css-box-4","status":"current","text":"margin box","type":"dfn","url":"https://drafts.csswg.org/css-box-4/#margin-box"},
"https://drafts.csswg.org/css-box-4/#outer-edge": {"displayText":"outer edge","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-box","spec":"css-box-4","status":"current","text":"outer edge","type":"dfn","url":"https://drafts.csswg.org/css-box-4/#outer-edge"},
"https://drafts.csswg.org/css-break-4/#forced-break": {"displayText":"forced break","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-break","spec":"css-break-4","status":"current","text":"forced break","type":"dfn","url":"https://drafts.csswg.org/css-break-4/#forced-break"},
"https://drafts.csswg.org/css-break-4/#fragmentainer": {"displayText":"fragmentainer","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-break","spec":"css-break-4","status":"current","text":"fragmentainer","type":"dfn","url":"https://drafts.csswg.org/css-break-4/#fragmentainer"},
"https://drafts.csswg.org/css-cascade-5/#initial-value": {"displayText":"initial value","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-cascade","spec":"css-cascade-5","status":"current","text":"initial value","type":"dfn","url":"https://drafts.csswg.org/css-cascade-5/#initial-value"},
"https://drafts.csswg.org/css-cascade-5/#shorthand-property": {"displayText":"shorthand","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-cascade","spec":"css-cascade-5","status":"current","text":"shorthand","type":"dfn","url":"https://drafts.csswg.org/css-cascade-5/#shorthand-property"},
"https://drafts.csswg.org/css-cascade-5/#used-value": {"displayText":"used value","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-cascade","spec":"css-cascade-5","status":"current","text":"used value","type":"dfn","url":"https://drafts.csswg.org/css-cascade-5/#used-value"},
"https://drafts.csswg.org/css-display-4/#block-level": {"displayText":"block-level","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-display","spec":"css-display-4","status":"current","text":"block-level","type":"dfn","url":"https://drafts.csswg.org/css-display-4/#block-level"},
"https://drafts.csswg.org/css-display-4/#blockify": {"displayText":"blockify","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-display","spec":"css-display-4","status":"current","text":"blockify","type":"dfn","url":"https://drafts.csswg.org/css-display-4/#blockify"},
"https://drafts.csswg.org/css-display-4/#containing-block": {"displayText":"containing block","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-display","spec":"css-display-4","status":"current","text":"containing block","type":"dfn","url":"https://drafts.csswg.org/css-display-4/#containing-block"},
"https://drafts.csswg.org/css-display-4/#independent-formatting-context": {"displayText":"independent formatting context","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-display","spec":"css-display-4","status":"current","text":"independent formatting context","type":"dfn","url":"https://drafts.csswg.org/css-display-4/#independent-formatting-context"},
"https://drafts.csswg.org/css-display-4/#inline-level": {"displayText":"inline-level","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-display","spec":"css-display-4","status":"current","text":"inline-level","type":"dfn","url":"https://drafts.csswg.org/css-display-4/#inline-level"},
"https://drafts.csswg.org/css-display-4/#order-modified-document-order": {"displayText":"order-modified document order","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-display","spec":"css-display-4","status":"current","text":"order-modified document order","type":"dfn","url":"https://drafts.csswg.org/css-display-4/#order-modified-document-order"},
"https://drafts.csswg.org/css-display-4/#propdef-display": {"displayText":"display","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-display","spec":"css-display-4","status":"current","text":"display","type":"property","url":"https://drafts.csswg.org/css-display-4/#propdef-display"},
"https://drafts.csswg.org/css-display-4/#propdef-order": {"displayText":"order","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-display","spec":"css-display-4","status":"current","text":"order","type":"property","url":"https://drafts.csswg.org/css-display-4/#propdef-order"},
"https://drafts.csswg.org/css-display-4/#propdef-reading-flow": {"displayText":"reading-flow","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-display","spec":"css-display-4","status":"current","text":"reading-flow","type":"property","url":"https://drafts.csswg.org/css-display-4/#propdef-reading-flow"},
"https://drafts.csswg.org/css-flexbox-1/#flex-layout": {"displayText":"flex layout","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-flexbox","spec":"css-flexbox-1","status":"current","text":"flex layout","type":"dfn","url":"https://drafts.csswg.org/css-flexbox-1/#flex-layout"},
"https://drafts.csswg.org/css-gaps-1/#funcdef-repeat-line-color-repeat": {"displayText":"repeat()","export":true,"for_":["<repeat-line-color>","<auto-repeat-line-color>","<repeat-line-style>","<auto-repeat-line-style>","<repeat-line-width>","<auto-repeat-line-width>"],"level":"1","normative":true,"shortname":"css-gaps","spec":"css-gaps-1","status":"current","text":"repeat()","type":"function","url":"https://drafts.csswg.org/css-gaps-1/#funcdef-repeat-line-color-repeat"},
"https://drafts.csswg.org/css-grid-2/#auto-placement": {"displayText":"automatic placement","export":false,"for_":[],"level":"2","normative":true,"shortname":"css-grid","spec":"css-grid-2","status":"current","text":"automatic placement","type":"dfn","url":"https://drafts.csswg.org/css-grid-2/#auto-placement"},
"https://drafts.csswg.org/css-grid-2/#automatic-grid-position": {"displayText":"automatic position","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-grid","spec":"css-grid-2","status":"current","text":"automatic position","type":"dfn","url":"https://drafts.csswg.org/css-grid-2/#automatic-grid-position"},
"https://drafts.csswg.org/css-grid-2/#collapsed-grid-track": {"displayText":"collapsed grid track","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-grid","spec":"css-grid-2","status":"current","text":"collapsed grid track","type":"dfn","url":"https://drafts.csswg.org/css-grid-2/#collapsed-grid-track"},
"https://drafts.csswg.org/css-grid-2/#definite-grid-position": {"displayText":"definite position","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-grid","spec":"css-grid-2","status":"current","text":"definite position","type":"dfn","url":"https://drafts.csswg.org/css-grid-2/#definite-grid-position"},
"https://drafts.csswg.org/css-grid-2/#explicit-grid": {"displayText":"explicit grid","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-grid","spec":"css-grid-2","status":"current","text":"explicit grid","type":"dfn","url":"https://drafts.csswg.org/css-grid-2/#explicit-grid"},
"https://drafts.csswg.org/css-grid-2/#grid-area": {"displayText":"grid area","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-grid","spec":"css-grid-2","status":"current","text":"grid area","type":"dfn","url":"https://drafts.csswg.org/css-grid-2/#grid-area"},
"https://drafts.csswg.org/css-grid-2/#grid-container": {"displayText":"grid container","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-grid","spec":"css-grid-2","status":"current","text":"grid container","type":"dfn","url":"https://drafts.csswg.org/css-grid-2/#grid-container"},
"https://drafts.csswg.org/css-grid-2/#grid-item": {"displayText":"grid item","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-grid","spec":"css-grid-2","status":"current","text":"grid item","type":"dfn","url":"https://drafts.csswg.org/css-grid-2/#grid-item"},
"https://drafts.csswg.org/css-grid-2/#grid-layout": {"displayText":"grid layout","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-grid","spec":"css-grid-2","status":"current","text":"grid layout","type":"dfn","url":"https://drafts.csswg.org/css-grid-2/#grid-layout"},
"https://drafts.csswg.org/css-grid-2/#grid-placement-property": {"displayText":"grid-placement property","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-grid","spec":"css-grid-2","status":"current","text":"grid-placement property","type":"dfn","url":"https://drafts.csswg.org/css-grid-2/#grid-placement-property"},
"https://drafts.csswg.org/css-grid-2/#grid-track": {"displayText":"grid track","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-grid","spec":"css-grid-2","status":"current","text":"grid track","type":"dfn","url":"https://drafts.csswg.org/css-grid-2/#grid-track"},
"https://drafts.csswg.org/css-grid-2/#implicit-grid": {"displayText":"implicit grid","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-grid","spec":"css-grid-2","status":"current","text":"implicit grid","type":"dfn","url":"https://drafts.csswg.org/css-grid-2/#implicit-grid"},
"https://drafts.csswg.org/css-grid-2/#max-track-sizing-function": {"displayText":"max track sizing function","export":false,"for_":[],"level":"2","normative":true,"shortname":"css-grid","spec":"css-grid-2","status":"current","text":"max track sizing function","type":"dfn","url":"https://drafts.csswg.org/css-grid-2/#max-track-sizing-function"},
"https://drafts.csswg.org/css-grid-2/#min-track-sizing-function": {"displayText":"min track sizing function","export":false,"for_":[],"level":"2","normative":true,"shortname":"css-grid","spec":"css-grid-2","status":"current","text":"min track sizing function","type":"dfn","url":"https://drafts.csswg.org/css-grid-2/#min-track-sizing-function"},
"https://drafts.csswg.org/css-grid-2/#parent-grid": {"displayText":"parent grid","export":false,"for_":[],"level":"2","normative":true,"shortname":"css-grid","spec":"css-grid-2","status":"current","text":"parent grid","type":"dfn","url":"https://drafts.csswg.org/css-grid-2/#parent-grid"},
"https://drafts.csswg.org/css-grid-2/#propdef-grid-auto-columns": {"displayText":"grid-auto-columns","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-grid","spec":"css-grid-2","status":"current","text":"grid-auto-columns","type":"property","url":"https://drafts.csswg.org/css-grid-2/#propdef-grid-auto-columns"},
"https://drafts.csswg.org/css-grid-2/#propdef-grid-auto-flow": {"displayText":"grid-auto-flow","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-grid","spec":"css-grid-2","status":"current","text":"grid-auto-flow","type":"property","url":"https://drafts.csswg.org/css-grid-2/#propdef-grid-auto-flow"},
"https://drafts.csswg.org/css-grid-2/#propdef-grid-auto-rows": {"displayText":"grid-auto-rows","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-grid","spec":"css-grid-2","status":"current","text":"grid-auto-rows","type":"property","url":"https://drafts.csswg.org/css-grid-2/#propdef-grid-auto-rows"},
"https://drafts.csswg.org/css-grid-2/#propdef-grid-template-columns": {"displayText":"grid-template-columns","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-grid","spec":"css-grid-2","status":"current","text":"grid-template-columns","type":"property","url":"https://drafts.csswg.org/css-grid-2/#propdef-grid-template-columns"},
"https://drafts.csswg.org/css-grid-2/#propdef-grid-template-rows": {"displayText":"grid-template-rows","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-grid","spec":"css-grid-2","status":"current","text":"grid-template-rows","type":"property","url":"https://drafts.csswg.org/css-grid-2/#propdef-grid-template-rows"},
"https://drafts.csswg.org/css-grid-2/#subgrid": {"displayText":"subgrid","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-grid","spec":"css-grid-2","status":"current","text":"subgrid","type":"dfn","url":"https://drafts.csswg.org/css-grid-2/#subgrid"},
"https://drafts.csswg.org/css-grid-2/#typedef-line-names": {"displayText":"<line-names>","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-grid","spec":"css-grid-2","status":"current","text":"<line-names>","type":"type","url":"https://drafts.csswg.org/css-grid-2/#typedef-line-names"},
"https://drafts.csswg.org/css-grid-2/#typedef-track-size": {"displayText":"<track-size>","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-grid","spec":"css-grid-2","status":"current","text":"<track-size>","type":"type","url":"https://drafts.csswg.org/css-grid-2/#typedef-track-size"},
"https://drafts.csswg.org/css-grid-2/#valdef-grid-auto-flow-dense": {"displayText":"dense","export":true,"for_":["grid-auto-flow"],"level":"2","normative":true,"shortname":"css-grid","spec":"css-grid-2","status":"current","text":"dense","type":"value","url":"https://drafts.csswg.org/css-grid-2/#valdef-grid-auto-flow-dense"},
"https://drafts.csswg.org/css-grid-2/#valdef-grid-template-rows-none": {"displayText":"none","export":true,"for_":["grid-template-rows","grid-template-columns"],"level":"2","normative":true,"shortname":"css-grid","spec":"css-grid-2","status":"current","text":"none","type":"value","url":"https://drafts.csswg.org/css-grid-2/#valdef-grid-template-rows-none"},
"https://drafts.csswg.org/css-grid-2/#valdef-repeat-auto-fill": {"displayText":"auto-fill","export":true,"for_":["repeat()"],"level":"2","normative":true,"shortname":"css-grid","spec":"css-grid-2","status":"current","text":"auto-fill","type":"value","url":"https://drafts.csswg.org/css-grid-2/#valdef-repeat-auto-fill"},
"https://drafts.csswg.org/css-grid-2/#valdef-repeat-auto-fit": {"displayText":"auto-fit","export":true,"for_":["repeat()"],"level":"2","normative":true,"shortname":"css-grid","spec":"css-grid-2","status":"current","text":"auto-fit","type":"value","url":"https://drafts.csswg.org/css-grid-2/#valdef-repeat-auto-fit"},
"https://drafts.csswg.org/css-position-3/#propdef-position": {"displayText":"position","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-position","spec":"css-position-3","status":"current","text":"position","type":"property","url":"https://drafts.csswg.org/css-position-3/#propdef-position"},
"https://drafts.csswg.org/css-sizing-3/#available": {"displayText":"available space","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-sizing","spec":"css-sizing-3","status":"current","text":"available space","type":"dfn","url":"https://drafts.csswg.org/css-sizing-3/#available"},
"https://drafts.csswg.org/css-sizing-3/#definite": {"displayText":"definite","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-sizing","spec":"css-sizing-3","status":"current","text":"definite","type":"dfn","url":"https://drafts.csswg.org/css-sizing-3/#definite"},
"https://drafts.csswg.org/css-sizing-3/#max-content": {"displayText":"max-content size","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-sizing","spec":"css-sizing-3","status":"current","text":"max-content size","type":"dfn","url":"https://drafts.csswg.org/css-sizing-3/#max-content"},
"https://drafts.csswg.org/css-sizing-3/#max-content-constraint": {"displayText":"max-content constraint","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-sizing","spec":"css-sizing-3","status":"current","text":"max-content constraint","type":"dfn","url":"https://drafts.csswg.org/css-sizing-3/#max-content-constraint"},
"https://drafts.csswg.org/css-sizing-3/#min-content": {"displayText":"min-content size","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-sizing","spec":"css-sizing-3","status":"current","text":"min-content size","type":"dfn","url":"https://drafts.csswg.org/css-sizing-3/#min-content"},
"https://drafts.csswg.org/css-sizing-3/#min-content-constraint": {"displayText":"min-content constraint","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-sizing","spec":"css-sizing-3","status":"current","text":"min-content constraint","type":"dfn","url":"https://drafts.csswg.org/css-sizing-3/#min-content-constraint"},
"https://drafts.csswg.org/css-sizing-3/#outer-size": {"displayText":"outer size","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-sizing","spec":"css-sizing-3","status":"current","text":"outer size","type":"dfn","url":"https://drafts.csswg.org/css-sizing-3/#outer-size"},
"https://drafts.csswg.org/css-values-4/#comb-comma": {"displayText":",","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":",","type":"grammar","url":"https://drafts.csswg.org/css-values-4/#comb-comma"},
"https://drafts.csswg.org/css-values-4/#comb-one": {"displayText":"|","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"|","type":"grammar","url":"https://drafts.csswg.org/css-values-4/#comb-one"},
"https://drafts.csswg.org/css-values-4/#css-wide-keywords": {"displayText":"CSS-wide keywords","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"css-wide keywords","type":"dfn","url":"https://drafts.csswg.org/css-values-4/#css-wide-keywords"},
"https://drafts.csswg.org/css-values-4/#mult-one-plus": {"displayText":"+","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"+","type":"grammar","url":"https://drafts.csswg.org/css-values-4/#mult-one-plus"},
"https://drafts.csswg.org/css-values-4/#mult-opt": {"displayText":"?","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"?","type":"grammar","url":"https://drafts.csswg.org/css-values-4/#mult-opt"},
"https://drafts.csswg.org/css-values-4/#typedef-length-percentage": {"displayText":"<length-percentage>","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"<length-percentage>","type":"type","url":"https://drafts.csswg.org/css-values-4/#typedef-length-percentage"},
"https://drafts.csswg.org/css-writing-modes-3/#propdef-direction": {"displayText":"direction","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-writing-modes","spec":"css-writing-modes-3","status":"current","text":"direction","type":"property","url":"https://drafts.csswg.org/css-writing-modes-3/#propdef-direction"},
"https://drafts.csswg.org/css-writing-modes-4/#block-axis": {"displayText":"block axis","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-writing-modes","spec":"css-writing-modes-4","status":"current","text":"block axis","type":"dfn","url":"https://drafts.csswg.org/css-writing-modes-4/#block-axis"},
"https://drafts.csswg.org/css-writing-modes-4/#css-start": {"displayText":"start","export":true,"for_":["CSS"],"level":"4","normative":true,"shortname":"css-writing-modes","spec":"css-writing-modes-4","status":"current","text":"start","type":"dfn","url":"https://drafts.csswg.org/css-writing-modes-4/#css-start"},
"https://drafts.csswg.org/css-writing-modes-4/#inline-axis": {"displayText":"inline axis","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-writing-modes","spec":"css-writing-modes-4","status":"current","text":"inline axis","type":"dfn","url":"https://drafts.csswg.org/css-writing-modes-4/#inline-axis"},
"https://drafts.csswg.org/css-writing-modes-4/#writing-mode": {"displayText":"writing mode","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-writing-modes","spec":"css-writing-modes-4","status":"current","text":"writing mode","type":"dfn","url":"https://drafts.csswg.org/css-writing-modes-4/#writing-mode"},
"https://www.w3.org/TR/CSS2/visuren.html#x34": {"displayText":"relative positioning","export":true,"for_":[],"level":"2","normative":true,"shortname":"css","spec":"css2","status":"snapshot","text":"relative positioning","type":"dfn","url":"https://www.w3.org/TR/CSS2/visuren.html#x34"},
};

function mkRefHint(link, ref) {
    const linkText = link.textContent;
    let dfnTextElements = '';
    if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
        // Give the original term if it's being displayed in a different way.
        // But allow casing differences, they're insignificant.
        dfnTextElements =
            mk.li({},
                mk.b({}, "Term: "),
                mk.span({}, ref.displayText)
            );
    }
    const forList = ref.for_;
    let forListElements;
    if(forList.length == 0) {
        forListElements = [];
    } else if(forList.length == 1) {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.span({}, forList[0]),
        );
    } else {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.ul({},
                ...forList.map(forItem =>
                    mk.li({},
                        mk.span({}, forItem)
                    ),
                ),
            ),
        );
    }
    const url = ref.url;
    const safeUrl = encodeURIComponent(url);
    const hintPanel = mk.aside({
        class: "ref-hint",
        id: `ref-hint-for-${safeUrl}`,
        "data-for": url,
        "aria-labelled-by": `ref-hint-for-${safeUrl}`,
    },
        mk.ul({},
            dfnTextElements,
            mk.li({},
                mk.b({}, "URL: "),
                mk.a({ href: url, class: "ref" }, url),
            ),
            mk.li({},
                mk.b({}, "Type: "),
                mk.span({}, `${ref.type}`),
            ),
            mk.li({},
                mk.b({}, "Spec: "),
                mk.span({}, `${ref.spec ? ref.spec : ''}`),
            ),
            forListElements
        ),
    );
    hintPanel.forLink = link;
    setupRefHintEventListeners(link, hintPanel);
    return hintPanel;
}

function hideAllRefHints() {
    queryAll(".ref-hint").forEach(el=>hideRefHint(el));
}

function hideRefHint(refHint) {
    const link = refHint.forLink;
    link.setAttribute("aria-expanded", "false");
    if(refHint.teardownEventListeners) {
        refHint.teardownEventListeners();
    }
    refHint.remove();
}

function showRefHint(link) {
    if(link.classList.contains("dfn-link")) return;
    const url = link.getAttribute("href");
    const refHintKey = link.getAttribute("data-refhint-key");
    let key = url;
    if(refHintKey) {
        key = refHintKey + "_" + url;
    }
    const ref = refsData[key];
    if(!ref) return;

    hideAllRefHints(); // Only display one at this time.

    const refHint = mkRefHint(link, ref);
    append(document.body, refHint);
    link.setAttribute("aria-expanded", "true");
    positionRefHint(refHint);
}

function setupRefHintEventListeners(link, refHint) {
    if (refHint.teardownEventListeners) return;
    // Add event handlers to hide the refHint after the user moves away
    // from both the link and refHint, if not hovering either within one second.
    let timeout = null;
    const startHidingRefHint = (event) => {
        if (timeout) {
            clearTimeout(timeout);
        }
        timeout = setTimeout(() => {
            hideRefHint(refHint);
        }, 1000);
    }
    const resetHidingRefHint = (event) => {
        if (timeout) clearTimeout(timeout);
        timeout = null;
    };
    link.addEventListener("mouseleave", startHidingRefHint);
    link.addEventListener("mouseenter", resetHidingRefHint);
    link.addEventListener("blur", startHidingRefHint);
    link.addEventListener("focus", resetHidingRefHint);
    refHint.addEventListener("mouseleave", startHidingRefHint);
    refHint.addEventListener("mouseenter", resetHidingRefHint);
    refHint.addEventListener("blur", startHidingRefHint);
    refHint.addEventListener("focus", resetHidingRefHint);

    refHint.teardownEventListeners = () => {
        // remove event listeners
        resetHidingRefHint();
        link.removeEventListener("mouseleave", startHidingRefHint);
        link.removeEventListener("mouseenter", resetHidingRefHint);
        link.removeEventListener("blur", startHidingRefHint);
        link.removeEventListener("focus", resetHidingRefHint);
        refHint.removeEventListener("mouseleave", startHidingRefHint);
        refHint.removeEventListener("mouseenter", resetHidingRefHint);
        refHint.removeEventListener("blur", startHidingRefHint);
        refHint.removeEventListener("focus", resetHidingRefHint);
    };
}

function positionRefHint(refHint) {
    const link = refHint.forLink;
    const linkPos = getBounds(link);
    refHint.style.top = linkPos.bottom + "px";
    refHint.style.left = linkPos.left + "px";

    const panelPos = refHint.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
        refHint.style.left = newLeft + "px";
    }
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function showRefHintListener(e) {
    // If the target isn't in a link (or is a link),
    // just ignore it.
    let link = e.target.closest("a");
    if(!link) return;

    // If the target is in a ref-hint panel
    // (aka a link in the already-open one),
    // also just ignore it.
    if(link.closest(".ref-hint")) return;

    // Otherwise, show the panel for the link.
    showRefHint(link);
}

function hideAllHintsListener(e) {
    // If the click is inside a ref-hint panel, ignore it.
    if(e.target.closest(".ref-hint")) return;
    // Otherwise, close all the current panels.
    hideAllRefHints();
}

document.addEventListener("DOMContentLoaded", () => {
    document.body.addEventListener("mousedown", showRefHintListener);
    document.body.addEventListener("focus", showRefHintListener);

    document.body.addEventListener("click", hideAllHintsListener);
});

window.addEventListener("resize", () => {
    // Hide any open ref hint.
    hideAllRefHints();
});
}
</script>