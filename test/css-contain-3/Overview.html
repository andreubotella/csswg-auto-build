<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>CSS Containment Module Level 3</title>
  <meta content="ED" name="w3c-status">
  <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-ED" rel="stylesheet">
  <meta content="Bikeshed version 618007319, updated Thu Jun 26 17:23:55 2025 -0700" name="generator">
  <link href="https://www.w3.org/TR/css-contain-3/" rel="canonical">
  <link href="https://drafts.csswg.org/csslogo.ico" rel="icon">
  <meta content="03f6b66e0a3c0b5bb1044b7d88aa6674e31c5129" name="revision">
  <meta content="dark light" name="color-scheme">
  <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css">
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */
/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
    --dfnpanel-target-bg: #ffc;
    --dfnpanel-target-outline: orange;
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
        --dfnpanel-target-bg: #333;
        --dfnpanel-target-outline: silver;
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel a:focus {
    outline: 5px auto Highlight;
    outline: 5px auto -webkit-focus-ring-color;
}
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: 8px;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
    transition: left 1s ease-out, bottom 1s ease-out;
}

.dfn-panel .link-item:hover {
    text-decoration: underline;
}
.dfn-panel .link-item .copy-icon {
    opacity: 0;
}
.dfn-panel .link-item:hover .copy-icon,
.dfn-panel .link-item .copy-icon:focus {
    opacity: 1;
}

.dfn-panel .copy-icon {
    display: inline-block;
    margin-right: 0.5em;
    width: 0.85em;
    height: 1em;
    border-radius: 3px;
    background-color: #ccc;
    cursor: pointer;
}

.dfn-panel .copy-icon .icon {
    width: 100%;
    height: 100%;
    background-color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
}

.dfn-panel .copy-icon .icon::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 1px solid black;
    background-color: #ccc;
    opacity: 0.25;
    transform: translate(3px, -3px);
}

.dfn-panel .copy-icon:active .icon::before {
    opacity: 1;
}

.dfn-paneled[role="button"] { cursor: help; }

.highlighted {
    animation: target-fade 3s;
}

@keyframes target-fade {
    from {
        background-color: var(--dfnpanel-target-bg);
        outline: 5px solid var(--dfnpanel-target-outline);
    }
    to {
        color: var(--a-normal-text);
        background-color: transparent;
        outline: transparent;
    }
}
</style>
<style>/* Boilerplate: style-idl-highlighting */
pre.idl.highlight {
    background: var(--borderedblock-bg, var(--def-bg));
}
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-mdn-anno */
:root {
	--mdn-bg: #EEE;
	--mdn-shadow: #999;
	--mdn-nosupport-text: #ccc;
	--mdn-pass: green;
	--mdn-fail: red;
}
@media (prefers-color-scheme: dark) {
	:root {
		--mdn-bg: #222;
		--mdn-shadow: #444;
		--mdn-nosupport-text: #666;
		--mdn-pass: #690;
		--mdn-fail: #d22;
	}
}
.mdn-anno {
	background: var(--mdn-bg, #EEE);
	border-radius: .25em;
	box-shadow: 0 0 3px var(--mdn-shadow, #999);
	color: var(--text, black);
	font: 1em sans-serif;
	hyphens: none;
	max-width: min-content;
	overflow: hidden;
	padding: 0.2em;
	position: absolute;
	right: 0.3em;
	top: auto;
	white-space: nowrap;
	word-wrap: normal;
	z-index: 8;
}
.mdn-anno.unpositioned {
	display: none;
}
.mdn-anno.overlapping-main {
	opacity: .2;
	transition: opacity .1s;
}
.mdn-anno[open] {
	opacity: 1;
	z-index: 9;
	min-width: 9em;
}
.mdn-anno:hover {
	opacity: 1;
	outline: var(--text, black) 1px solid;
}
.mdn-anno > summary {
	font-weight: normal;
	text-align: right;
	cursor: pointer;
	display: block;
}
.mdn-anno > summary > .less-than-two-engines-flag {
	color: var(--mdn-fail);
	padding-right: 2px;
}
.mdn-anno > summary > .all-engines-flag {
	color: var(--mdn-pass);
	padding-right: 2px;
}
.mdn-anno > summary > span {
	color: #fff;
	background-color: #000;
	font-weight: normal;
	font-family: zillaslab, Palatino, "Palatino Linotype", serif;
	padding: 2px 3px 0px 3px;
	line-height: 1.3em;
	vertical-align: top;
}
.mdn-anno > .feature {
	margin-top: 20px;
}
.mdn-anno > .feature:not(:first-of-type) {
	border-top: 1px solid #999;
	margin-top: 6px;
	padding-top: 2px;
}
.mdn-anno > .feature > .less-than-two-engines-text {
	color: var(--mdn-fail);
}
.mdn-anno > .feature > .all-engines-text {
	color: var(--mdn-pass);
}
.mdn-anno > .feature > p {
	font-size: .75em;
	margin-top: 6px;
	margin-bottom: 0;
}
.mdn-anno > .feature > p + p {
	margin-top: 3px;
}
.mdn-anno > .feature > .support {
	display: block;
	font-size: 0.6em;
	margin: 0;
	padding: 0;
	margin-top: 2px;
}
.mdn-anno > .feature > .support + div {
	padding-top: 0.5em;
}
.mdn-anno > .feature > .support > hr {
	display: block;
	border: none;
	border-top: 1px dotted #999;
	padding: 3px 0px 0px 0px;
	margin: 2px 3px 0px 3px;
}
.mdn-anno > .feature > .support > hr::before {
	content: "";
}
.mdn-anno > .feature > .support > span {
	padding: 0.2em 0;
	display: block;
	display: table;
}
.mdn-anno > .feature > .support > span.no {
	color: var(--mdn-nosupport-text);
	filter: grayscale(100%);
}
.mdn-anno > .feature > .support > span.no::before {
	opacity: 0.5;
}
.mdn-anno > .feature > .support > span:first-of-type {
	padding-top: 0.5em;
}
.mdn-anno > .feature > .support > span > span {
	padding: 0 0.5em;
	display: table-cell;
}
.mdn-anno > .feature > .support > span > span:first-child {
	width: 100%;
}
.mdn-anno > .feature > .support > span > span:last-child {
	width: 100%;
	white-space: pre;
	padding: 0;
}
.mdn-anno > .feature > .support > span::before {
	content: ' ';
	display: table-cell;
	min-width: 1.5em;
	height: 1.5em;
	background: no-repeat center center;
	background-size: contain;
	text-align: right;
	font-size: 0.75em;
	font-weight: bold;
}
.mdn-anno > .feature > .support > .chrome_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
}
.mdn-anno > .feature > .support > .firefox_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
}
.mdn-anno > .feature > .support > .chrome::before {
	background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
}
.mdn-anno > .feature > .support > .edge_blink::before {
	background-image: url(https://resources.whatwg.org/browser-logos/edge.svg);
}
.mdn-anno > .feature > .support > .edge::before {
	background-image: url(https://resources.whatwg.org/browser-logos/edge_legacy.svg);
}
.mdn-anno > .feature > .support > .firefox::before {
	background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
}
.mdn-anno > .feature > .support > .ie::before {
	background-image: url(https://resources.whatwg.org/browser-logos/ie.png);
}
.mdn-anno > .feature > .support > .safari_ios::before {
	background-image: url(https://resources.whatwg.org/browser-logos/safari-ios.svg);
}
.mdn-anno > .feature > .support > .nodejs::before {
	background-image: url(https://nodejs.org/favicon.ico);
}
.mdn-anno > .feature > .support > .opera_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
}
.mdn-anno > .feature > .support > .opera::before {
	background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
}
.mdn-anno > .feature > .support > .safari::before {
	background-image: url(https://resources.whatwg.org/browser-logos/safari.png);
}
.mdn-anno > .feature > .support > .samsunginternet_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/samsung.svg);
}
.mdn-anno > .feature > .support > .webview_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/android-webview.png);
}
.name-slug-mismatch {
	color: red;
}
.caniuse-status:hover {
	z-index: 9;
}
/* dt, li, .issue, .note, and .example are "position: relative", so to put annotation at right margin, must move to right of containing block */;
.h-entry:not(.status-LS) dt > .mdn-anno, .h-entry:not(.status-LS) li > .mdn-anno, .h-entry:not(.status-LS) .issue > .mdn-anno, .h-entry:not(.status-LS) .note > .mdn-anno, .h-entry:not(.status-LS) .example > .mdn-anno {
	right: -6.7em;
}
.h-entry p + .mdn-anno {
	margin-top: 0;
}
 h2 + .mdn-anno.after {
	margin: -48px 0 0 0;
}
 h3 + .mdn-anno.after {
	margin: -46px 0 0 0;
}
 h4 + .mdn-anno.after {
	margin: -42px 0 0 0;
}
 h5 + .mdn-anno.after {
	margin: -40px 0 0 0;
}
 h6 + .mdn-anno.after {
	margin: -40px 0 0 0;
}
</style>
<style>/* Boilerplate: style-ref-hints */
:root {
    --ref-hint-bg: #ddd;
    --ref-hint-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --ref-hint-bg: #222;
        --ref-hint-text: var(--text);
    }
}

.ref-hint {
    display: inline-block;
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.5em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--ref-hint-bg);
    color: var(--ref-hint-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}

.ref-hint * { margin: 0; padding: 0; text-indent: 0; }

.ref-hint ul { padding: 0 0 0 1em; list-style: none; }
</style>
<style>/* Boilerplate: style-selflinks */
:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
<style>/* Boilerplate: style-wpt */
:root {
    --wpt-border: hsl(0, 0%, 60%);
    --wpt-bg: hsl(0, 0%, 95%);
    --wpt-text: var(--text);
    --wptheading-text: hsl(0, 0%, 30%);
}
@media (prefers-color-scheme: dark) {
    :root {
        --wpt-border: hsl(0, 0%, 30%);
        --wpt-bg: var(--borderedblock-bg);
        --wpt-text: var(--text);
        --wptheading-text: hsl(0, 0%, 60%);
    }
}
.wpt-tests-block {
    list-style: none;
    border-left: .5em solid var(--wpt-border);
    background: var(--wpt-bg);
    color: var(--wpt-text);
    margin: 1em auto;
    padding: .5em;
}
.wpt-tests-block summary {
    color: var(--wptheading-text);
    font-weight: normal;
    text-transform: uppercase;
}
.wpt-tests-block summary::marker{
    color: var(--wpt-border);
}
.wpt-tests-block summary:hover::marker{
    color: var(--wpt-text);
}
/*
   The only content  of a wpt test block in its closed state is the <summary>,
   which contains the word TESTS,
   and that is absolutely positioned.
   In that closed state, wpt test blocks are styled
   to have a top margin whose height is exactly equal
   to the height of the absolutely positioned <summary>,
   and no other background/padding/margin/border.
   The wpt test block elements will therefore allow the maring
   of the previous/next block elements
   to collapse through them;
   if this combined margin would be larger than its own top margin,
   it stays as is,
   and therefore the pre-existing vertical rhythm of the document is undisturbed.
   If that combined margin would be smaller, it is grown to that size.
   This means that the wpt test block ensures
   that there's always enough vertical space to insert the summary,
   without adding more than is needed.
*/
.wpt-tests-block:not([open]){
    padding: 0;
    border: none;
    background: none;
    font-size: 0.75em;
    line-height: 1;
    position: relative;
    margin: 1em 0 0;
}
.wpt-tests-block:not([open]) summary {
    position: absolute;
    right: 0;
    bottom: 0;
}
/*
   It is possible that both the last child of a block element
   and the block element itself
   would be annotated with a <wpt> block each.
   If the block element has a padding or a border,
   that's fine, but otherwise
   the bottom margin of the block and of its last child would collapse
   and both <wpt> elements would overlap, being both placed there.
   To avoid that, add 1px of padding to the <wpt> element annotating the last child
   to prevent the bottom margin of the block and of its last child from collapsing
   (and as much negative margin,
   as wel only want to prevent margin collapsing,
   but are not trying to actually take more space).
*/
.wpt-tests-block:not([open]):last-child {
    padding-bottom: 1px;
    margin-bottom: -1px;
}
/*
   Exception to the previous rule:
   don't do that in non-last list items,
   because it's not necessary,
   and would therefore consume more space than strictly needed.
   Lists must have list items as children, not <wpt> elements,
   so a <wpt> element cannot be a sibling of a list item,
   and the collision that the previous rule avoids cannot happen.
*/
li:not(:last-child) > .wpt-tests-block:not([open]):last-child,
dd:not(:last-child) > .wpt-tests-block:not([open]):last-child {
    padding-bottom: 0;
    margin-bottom: 0;
}
.wpt-tests-block:not([open]):not(:hover){
    opacity: 0.5;
}
.wpt-tests-list {
    list-style: none;
    display: grid;
    margin: 0;
    padding: 0;
    grid-template-columns: 1fr max-content auto auto;
    grid-column-gap: .5em;
}
.wpt-tests-block hr:last-child {
    display: none;
}
.wpt-test {
    display: contents;
}
.wpt-test > a {
    text-decoration: underline;
    border: none;
}
.wpt-test > .wpt-name { grid-column: 1; }
.wpt-test > .wpt-results { grid-column: 2; }
.wpt-test > .wpt-live { grid-column: 3; }
.wpt-test > .wpt-source { grid-column: 4; }

.wpt-test > .wpt-results {
    display: flex;
    gap: .1em;
}
.wpt-test .wpt-result {
    display: inline-block;
    height: 1em;
    width: 1em;
    border-radius: 50%;
    position: relative;
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/">
    <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
</a>
</p>
   <h1 class="p-name no-ref" id="title">CSS Containment Module Level 3</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types/#ED">Editor’s Draft</a>,
    <time class="dt-updated" datetime="2025-06-30">30 June 2025</time></p>
   <details open>
    <summary>More details about this document</summary>
    <div data-fill-with="spec-metadata">
     <dl>
      <dt>This version:
      <dd><a class="u-url" href="https://drafts.csswg.org/css-contain-3/">https://drafts.csswg.org/css-contain-3/</a>
      <dt>Latest published version:
      <dd><a href="https://www.w3.org/TR/css-contain-3/">https://www.w3.org/TR/css-contain-3/</a>
      <dt>Previous Versions:
      <dd><a href="https://www.w3.org/TR/2021/WD-css-contain-3-20211221/" rel="prev">https://www.w3.org/TR/2021/WD-css-contain-3-20211221/</a>
      <dt>Test Suite:
      <dd><a href="https://test.csswg.org/harness/results/css-contain-1_dev/">https://test.csswg.org/harness/results/css-contain-1_dev/</a>
      <dt>Feedback:
      <dd><a href="https://github.com/w3c/csswg-drafts/labels/css-contain-3">CSSWG Issues Repository</a>
      <dd><a href="#issues-index">Inline In Spec</a>
      <dt class="editor">Editors:
      <dd class="editor p-author h-card vcard" data-editor-id="42199"><a class="p-name fn u-url url" href="http://xanthir.com/contact/">Tab Atkins</a> (<span class="p-org org">Google</span>)
      <dd class="editor p-author h-card vcard" data-editor-id="43241"><a class="p-name fn u-url url" href="https://florian.rivoal.net/">Florian Rivoal</a> (<span class="p-org org">On behalf of Bloomberg</span>)
      <dd class="editor p-author h-card vcard" data-editor-id="117151"><a class="p-name fn u-url url" href="https://www.miriamsuzanne.com/who/">Miriam E. Suzanne</a> (<span class="p-org org">Invited Expert</span>)
      <dt>Suggest an Edit for this Spec:
      <dd><a href="https://github.com/w3c/csswg-drafts/blob/main/css-contain-3/Overview.bs">GitHub Editor</a>
     </dl>
    </div>
   </details>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> © 2025 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/copyright/software-license/" rel="license" title="W3C Software and Document License">permissive document license</a> rules apply.
</p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This CSS module describes the <a class="property css" data-link-type="property" href="https://andreubotella.com/csswg-auto-build/test/css-contain-2/#propdef-contain" id="ref-for-propdef-contain">contain</a> property, which indicates that the element’s subtree is independent of the rest of the page. This enables heavy optimizations by user agents when used well.</p>
   


<a href="https://www.w3.org/TR/CSS/">CSS</a> is a language for describing the rendering of structured documents
(such as HTML and XML)
on screen, on paper, etc.


  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p>
	This is a public copy of the editors’ draft.
	It is provided for discussion only and may change at any moment.
	Its publication here does not imply endorsement of its contents by W3C.
	Don’t cite this document other than as work in progress.

</p>
   <p>Please send feedback
	by <a href="https://github.com/w3c/csswg-drafts/issues">filing issues in GitHub</a> (preferred),
	including the spec code “css-contain” in the title, like this:
	“[css-contain] <i>…summary of comment…</i>”.
	All issues and comments are <a href="https://lists.w3.org/Archives/Public/public-css-archive/">archived</a>.
	Alternately, feedback can be sent to the (<a href="https://lists.w3.org/Archives/Public/www-style/">archived</a>) public mailing list
	<a href="mailto:www-style@w3.org?Subject=%5Bcss-contain%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a>.

</p>
   <p>This document is governed by the
	<a href="https://www.w3.org/policies/process/20231103/" id="w3c_process_revision">03 November 2023 W3C Process Document</a>.

</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="#intro"><span class="secno">1</span> <span class="content">
Introduction</span></a>
     <ol class="toc">
      <li><a href="#interaction"><span class="secno">1.1</span> <span class="content">
Module Interactions</span></a>
      <li><a href="#values"><span class="secno">1.2</span> <span class="content">
Value Definitions</span></a>
     </ol>
    <li><a href="#contain-property"><span class="secno">2</span> <span class="content">
Strong Containment: the <span class="property">contain</span> property</span></a>
    <li>
     <a href="#containment-types"><span class="secno">3</span> <span class="content">
Types of Containment</span></a>
     <ol class="toc">
      <li><a href="#containment-inline-size"><span class="secno">3.1</span> <span class="content">
Inline-Size Containment</span></a>
     </ol>
    <li>
     <a href="#container-queries"><span class="secno">4</span> <span class="content">
Container Queries</span></a>
     <ol class="toc">
      <li><a href="#container-type"><span class="secno">4.1</span> <span class="content">
Creating Query Containers: the <span class="property">container-type</span> property</span></a>
      <li><a href="#container-name"><span class="secno">4.2</span> <span class="content">
Naming Query Containers: the <span class="property">container-name</span> property</span></a>
      <li><a href="#container-shorthand"><span class="secno">4.3</span> <span class="content">
Creating Named Containers: the <span class="property">container</span> shorthand</span></a>
      <li><a href="#container-rule"><span class="secno">4.4</span> <span class="content">
Container Queries: the <span class="css">@container</span> rule</span></a>
      <li><a href="#animated-containers"><span class="secno">4.5</span> <span class="content">
Animated Containers</span></a>
     </ol>
    <li>
     <a href="#container-features"><span class="secno">5</span> <span class="content">
Container Features</span></a>
     <ol class="toc">
      <li>
       <a href="#size-container"><span class="secno">5.1</span> <span class="content">
Size Container Features</span></a>
       <ol class="toc">
        <li><a href="#width"><span class="secno">5.1.1</span> <span class="content">
Width: the <span class="property">width</span> feature</span></a>
        <li><a href="#height"><span class="secno">5.1.2</span> <span class="content">
Height: the <span class="property">height</span> feature</span></a>
        <li><a href="#inline-size"><span class="secno">5.1.3</span> <span class="content">
Inline-size: the <span class="property">inline-size</span> feature</span></a>
        <li><a href="#block-size"><span class="secno">5.1.4</span> <span class="content">
Block-size: the <span class="property">block-size</span> feature</span></a>
        <li><a href="#aspect-ratio"><span class="secno">5.1.5</span> <span class="content">
Aspect-ratio: the <span class="property">aspect-ratio</span> feature</span></a>
        <li><a href="#orientation"><span class="secno">5.1.6</span> <span class="content">
Orientation: the <span class="property">orientation</span> feature</span></a>
       </ol>
      <li><a href="#style-container"><span class="secno">5.2</span> <span class="content">
Style Container Features</span></a>
     </ol>
    <li><a href="#container-lengths"><span class="secno">6</span> <span class="content">
Container Relative Lengths: the <span class="css">cqw</span>, <span class="css">cqh</span>, <span class="css">cqi</span>, <span class="css">cqb</span>, <span class="css">cqmin</span>, <span class="css">cqmax</span> units</span></a>
    <li>
     <a href="#apis"><span class="secno">7</span> <span class="content">APIs</span></a>
     <ol class="toc">
      <li><a href="#the-csscontainerrule-interface"><span class="secno">7.1</span> <span class="content">
The <code>CSSContainerRule</code> interface</span></a>
     </ol>
    <li><a href="#content-visibility"><span class="secno">8</span> <span class="content">Suppressing An Element’s Contents Entirely: the <span class="property">content-visibility</span> property</span></a>
    <li><a href="#priv-sec"><span class="secno">9</span> <span class="content">Privacy and Security Considerations</span></a>
    <li>
     <a href="#changes"><span class="secno"></span> <span class="content">Appendix A. Changes</span></a>
     <ol class="toc">
      <li><a href="#changes-2022-08"><span class="secno"></span> <span class="content">
Changes since the 18 August 2022 Working Draft</span></a>
      <li><a href="#changes-2021-12"><span class="secno"></span> <span class="content">
Changes since the 21 December 2021 First Public Working Draft</span></a>
      <li><a href="#l3-changes"><span class="secno"></span> <span class="content">
Changes from <span>CSS Containment Level 2</span>
</span></a>
     </ol>
    <li><a href="#acknowledgments"><span class="secno"></span> <span class="content">Acknowledgments</span></a>
    <li>
     <a href="#w3c-conformance"><span class="secno"></span> <span class="content">
Conformance</span></a>
     <ol class="toc">
      <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">
Document conventions</span></a>
      <li><a href="#w3c-conformance-classes"><span class="secno"></span> <span class="content">
Conformance classes</span></a>
      <li>
       <a href="#w3c-partial"><span class="secno"></span> <span class="content">
Partial implementations</span></a>
       <ol class="toc">
        <li><a href="#w3c-conform-future-proofing"><span class="secno"></span> <span class="content">
Implementations of Unstable and Proprietary Features</span></a>
       </ol>
      <li><a href="#w3c-testing"><span class="secno"></span> <span class="content">
Non-experimental implementations</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li>
     <a href="#property-index"><span class="secno"></span> <span class="content">Property Index</span></a>
     <ol class="toc">
      <li><a href="#container-descriptor-table"><span class="secno"></span> <span class="content"><span>@container</span> Descriptors</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">
Introduction</span><a class="self-link" href="#intro"></a></h2>
   <p class="issue" id="issue-2016550a"><a class="self-link" href="#issue-2016550a"></a> This is a diff spec over <a href="https://www.w3.org/TR/css-contain-2/">CSS Containment Level 2</a>.
	It is currently an Exploratory Working Draft:
	if you are implementing anything, please use Level 2 as a reference.
	We will merge the Level 2 text into this draft once it reaches CR.</p>
   <h3 class="heading settled" data-level="1.1" id="interaction"><span class="secno">1.1. </span><span class="content">
Module Interactions</span><a class="self-link" href="#interaction"></a></h3>
   <p>This document defines new features not present in earlier specifications.
	In addition, it aims to replace and supersede <a data-link-type="biblio" href="#biblio-css-contain-1" title="CSS Containment Module Level 1">[CSS-CONTAIN-1]</a>
	once stable.</p>
   <h3 class="heading settled" data-level="1.2" id="values"><span class="secno">1.2. </span><span class="content">
Value Definitions</span><a class="self-link" href="#values"></a></h3>
   <p>This specification follows the <a href="https://www.w3.org/TR/CSS2/about.html#property-defs">CSS property definition conventions</a> from <a data-link-type="biblio" href="#biblio-css2" title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[CSS2]</a>
	using the <a href="https://www.w3.org/TR/css-values-3/#value-defs">value definition syntax</a> from <a data-link-type="biblio" href="#biblio-css-values-3" title="CSS Values and Units Module Level 3">[CSS-VALUES-3]</a>.
	Value types not defined in this specification are defined in CSS Values &amp; Units <span title="CSS Values and Units Module Level 3">[CSS-VALUES-3]</span>.
	Combination with other CSS modules may expand the definitions of these value types.</p>
   <p>In addition to the property-specific values listed in their definitions,
	all properties defined in this specification
	also accept the <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#css-wide-keywords" id="ref-for-css-wide-keywords">CSS-wide keywords</a> as their property value.
	For readability they have not been repeated explicitly.</p>
   <h2 class="heading settled" data-level="2" id="contain-property"><span class="secno">2. </span><span class="content">
Strong Containment: the <a class="property css" data-link-type="property" href="https://andreubotella.com/csswg-auto-build/test/css-contain-2/#propdef-contain" id="ref-for-propdef-contain①">contain</a> property</span><a class="self-link" href="#contain-property"></a></h2>
   <p class="issue" id="issue-d41d8cd9"><a class="self-link" href="#issue-d41d8cd9"></a> <a href="https://andreubotella.com/csswg-auto-build/test/css-contain-2/#contain-property"><cite>CSS Containment 2</cite> § 2 Strong Containment: the contain property</a></p>
   <table class="def propdef partial" data-link-for-hint="contain">
    <tbody>
     <tr>
      <th>Name:
      <td><a class="css" data-link-type="property" href="https://andreubotella.com/csswg-auto-build/test/css-contain-2/#propdef-contain" id="ref-for-propdef-contain②">contain</a>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">New values:</a>
      <td class="prod">layout <a data-link-type="grammar" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#comb-any" id="ref-for-comb-any">||</a> style <span id="ref-for-comb-any①">||</span> paint <span id="ref-for-comb-any②">||</span> [ size <a data-link-type="grammar" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#comb-one" id="ref-for-comb-one">|</a> inline-size ]	
   </table>
   <dl>
    <dt><dfn class="dfn-paneled css" data-dfn-for="contain" data-dfn-type="value" data-export id="valdef-contain-inline-size">inline-size</dfn>
		
    <dd>
     
			This value turns on <a data-link-type="dfn" href="#inline-size-containment" id="ref-for-inline-size-containment">inline-size containment</a> for the element.
			This prevents the <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#inline-size" id="ref-for-inline-size">inline-size</a> of its <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-display-4/#principal-box" id="ref-for-principal-box">principal box</a>
			from directly depending on its contents.


     <p class="note" role="note"><span class="marker">Note:</span> There can still be indirect dependencies,
			see <a href="#containment-inline-size">§ 3.1 Inline-Size Containment</a>.</p>
   </dl>
   <h2 class="heading settled" data-level="3" id="containment-types"><span class="secno">3. </span><span class="content">
Types of Containment</span><a class="self-link" href="#containment-types"></a></h2>
   <p class="issue" id="issue-d41d8cd9①"><a class="self-link" href="#issue-d41d8cd9①"></a> <a href="https://andreubotella.com/csswg-auto-build/test/css-contain-2/#containment-types"><cite>CSS Containment 2</cite> § 3 Types of Containment</a></p>
   <h3 class="heading settled" data-level="3.1" id="containment-inline-size"><span class="secno">3.1. </span><span class="content">
Inline-Size Containment</span><a class="self-link" href="#containment-inline-size"></a></h3>
   <p>Giving an element <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="inline-size-containment">inline-size containment</dfn>
	applies <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-contain-2/#size-containment" id="ref-for-size-containment">size containment</a> to the <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#inline-axis" id="ref-for-inline-axis">inline-axis</a> sizing of its <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-display-4/#principal-box" id="ref-for-principal-box①">principal box</a>.
	This means the <span id="ref-for-inline-axis①">inline-axis</span> <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#intrinsic-size" id="ref-for-intrinsic-size">intrinsic sizes</a> of the <span id="ref-for-principal-box②">principal box</span>
	are determined as if the element had no content.
	However, content continues to impact the box’s <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#block-axis" id="ref-for-block-axis">block-axis</a> <span id="ref-for-intrinsic-size①">intrinsic sizes</span> as usual,
	and the box is allowed to <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-break-3/#fragmentation" id="ref-for-fragmentation">fragment</a> normally in the <span id="ref-for-block-axis①">block axis</span>.</p>
   <div class="note" role="note">
    
		<span class="marker">Note:</span> In some cases,
		a box’s <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#block-axis" id="ref-for-block-axis②">block-axis</a> <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#intrinsic-size" id="ref-for-intrinsic-size②">intrinsic sizes</a>
		can impact layout in the parent <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-display-4/#formatting-context" id="ref-for-formatting-context">formatting context</a>
		in ways that affect the box’s <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#inline-size" id="ref-for-inline-size①">inline size</a>
		(e.g. by triggering scrollbars on an ancestor element),
		creating a dependency of the box’s <span id="ref-for-inline-size②">inline size</span> on its own content.
		If this changed <span id="ref-for-inline-size③">inline size</span> results in a different <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#block-size" id="ref-for-block-size">block size</a>,
		that new <span id="ref-for-block-size①">block size</span> can loop into further impacting the parent formatting context,
		but not in a way that reverts it to the previously-problematic layout.


    <p>For example, if scrollbars were introduced,
		they are not then removed,
		even if the consequent <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#block-size" id="ref-for-block-size②">block size</a> is small enough to not need them;
		or if a box’s logical height collides with a lower-placed float and is cleared down
		to where it also has more available inline space
		and thus becomes short enough to not have collided,
		it is not them moved back up to its previous problematic size and position.</p>
    <p>Thus, although <a data-link-type="dfn" href="#inline-size-containment" id="ref-for-inline-size-containment①">inline-size containment</a> prevents
		the box’s content from directly affecting its <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#inline-size" id="ref-for-inline-size④">inline size</a>
		through its <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#inline-axis" id="ref-for-inline-axis②">inline-axis</a> <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#intrinsic-size" id="ref-for-intrinsic-size③">intrinsic sizes</a>,
		its <span id="ref-for-inline-size⑤">inline size</span> can still indirectly depend on its contents
		by their effect on its <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#block-size" id="ref-for-block-size③">block size</a>.</p>
   </div>
   <p class="issue" id="issue-ac484479"><a class="self-link" href="#issue-ac484479"></a>
		In general, the relationship between an element’s inline size
		and it’s block size
		is unpredictable and non-monotonic,
		with the block size capable of shifting up and down arbitrarily
		as the inline size is changed.
		Infinite cycles are prevented
		by ensuring that layout does not revert to a previous (known-problematic) state,
		even if a naive analysis of the constraints would allow for such;
		in other words, layout always “moves forward”.
		We believe that current CSS layout specifications incorporate such rules,
		but to the extent that they don’t,
		please <a href="https://github.com/w3c/csswg-drafts/issues">inform the CSSWG</a>
		so that these errors can be corrected.</p>
   <div class="example" id="example-3a756a36">
    <a class="self-link" href="#example-3a756a36"></a>
		Consider this example,
		where float placement creates a dependency of block sizes on inline sizes:

		
<pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>section</c-> <c- e>style</c-><c- o>=</c-><c- s>"width: 200px; border: solid; display: flow-root;"</c-><c- p>></c->
  <c- d>&lt;!-- floated elements that impact the available space --></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>style</c-><c- o>=</c-><c- s>"float: left; width: 50px; height: 80px; background: blue;"</c-><c- p>>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>style</c-><c- o>=</c-><c- s>"float: right; width: 50px; height: 80px; background: blue;"</c-><c- p>>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>style</c-><c- o>=</c-><c- s>"float: left; width: 160px; height: 80px; background: navy;"</c-><c- p>>&lt;/</c-><c- f>div</c-><c- p>></c->

  <c- d>&lt;!-- parent layout, determining context --></c->
  <c- p>&lt;</c-><c- f>article</c-> <c- e>style</c-><c- o>=</c-><c- s>"border: solid orangered; display: flow-root; min-width: min-content"</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>div</c-> <c- e>style</c-><c- o>=</c-><c- s>"background: orange; aspect-ratio: 1/1;"</c-><c- p>></c->
      Article
    <c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;/</c-><c- f>article</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>section</c-><c- p>></c->
</pre>
    <figure style="float: left; margin: 1em 0.5em">
     <section style="width: 200px; border: solid; display: flow-root;">
      <div style="float: left; width: 50px; height: 80px; background: blue;"></div>
      <div style="float: right; width: 50px; height: 80px; background: blue;"></div>
      <div style="float: left; width: 160px; height: 80px; background: navy;"></div>
      <article style="border: solid orangered; display: flow-root; min-width: 50px">
       <div style="background: orange; aspect-ratio: 1/1;">
			      Article
			    </div>
      </article>
     </section>
    </figure>
    <p>The block layout algorithm will first place the floating boxes,
		with the first two sitting in the left and right corners of the container,
		and the third, being too wide to fit between, being pushed below them.</p>
    <p>The following <code>article</code> will then be laid out.
		Because it is <a class="css" data-link-type="propdesc" href="https://andreubotella.com/csswg-auto-build/test/css-display-3/#propdef-display" id="ref-for-propdef-display">display: flow-root</a>,
		it cannot intersect any floats,
		and thus must take them into account
		when figuring out how to size and position itself.</p>
    <p>The layout engine first attempts to place the <code>article</code>
		flush with the top of the container,
		resulting a <span class="css">100px</span> width,
		plenty wide enough to accommodate its <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#min-content" id="ref-for-min-content">min-content size</a>.
		However, due to the <a class="property css" data-link-type="property" href="https://andreubotella.com/csswg-auto-build/test/css-sizing-4/#propdef-aspect-ratio" id="ref-for-propdef-aspect-ratio">aspect-ratio</a> of its child,
		this would cause the <code>article</code> to be <span class="css">100px</span> tall as well,
		which would intersect the third float 80px below,
		so this layout opportunity is discarded.</p>
    <p>It then attempts to position the <code>article</code>
		flush with the top of the third float,
		in the narrow <span class="css">40px</span>-wide space to its right.
		However, since the <code>article</code>’s <a class="property css" data-link-type="property" href="https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#propdef-min-width" id="ref-for-propdef-min-width">min-width</a> makes it too large
		to fit in the 40px-wide space beside the third float,
		it shifts below that one as well,
		forming a 200px square below all the floated boxes.</p>
    <figure style="float: right; margin: 1em 0.5em">
     <section style="width: 200px; border: solid; display: flow-root;">
      <div style="float: left; width: 50px; height: 80px; background: blue;"></div>
      <div style="float: right; width: 50px; height: 80px; background: blue;"></div>
      <div style="float: left; width: 160px; height: 80px; background: navy;"></div>
      <article style="border: solid orangered; display: flow-root;">
       <div style="background: orange; aspect-ratio: 1/1;">
			      Article
			    </div>
      </article>
     </section>
    </figure>
    <p>If the <a class="property css" data-link-type="property" href="https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#propdef-min-width" id="ref-for-propdef-min-width①">min-width</a> is removed from the <code>article</code>,
		or if <a data-link-type="dfn" href="#inline-size-containment" id="ref-for-inline-size-containment②">inline-size containment</a> is added to
		either the <code>article</code> or <code>header</code>
		(causing <span class="css" id="ref-for-propdef-min-width②">min-width: min-content</span> to resolve to zero),
		then the <code>article</code> will fit as a 40px square
		next to the final floated <code>div</code>
		(possibly with some of its content overflowing).</p>
    <p>At this point, the width and height of the <code>article</code>
		(<span class="css">40px</span> each)
		<em>would</em> fit back in the first considered space,
		flush with the top of the container.
		However, the box is not returned to the previous position,
		because the layout engine knows already
		that this position would result in an invalid layout.</p>
   </div>
   <p>Giving an element <a data-link-type="dfn" href="#inline-size-containment" id="ref-for-inline-size-containment③">inline-size containment</a>
	has no effect if any of the following are true:</p>
   <ul>
    <li data-md>
     <p>if the element does not generate a <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-display-4/#principal-box" id="ref-for-principal-box③">principal box</a>
(as is the case with <a class="css" data-link-type="propdesc" href="https://andreubotella.com/csswg-auto-build/test/css-display-3/#propdef-display" id="ref-for-propdef-display①">display: contents</a> or <span class="css" id="ref-for-propdef-display②">display: none</span>)</p>
    <li data-md>
     <p>if its <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-display-4/#inner-display-type" id="ref-for-inner-display-type">inner display type</a> is <a class="css" data-link-type="maybe" href="https://andreubotella.com/csswg-auto-build/test/css-display-4/#valdef-display-table" id="ref-for-valdef-display-table">table</a></p>
    <li data-md>
     <p>if its <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-display-4/#principal-box" id="ref-for-principal-box④">principal box</a> is
an <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-display-3/#internal-table-box" id="ref-for-internal-table-box">internal table box</a></p>
    <li data-md>
     <p>if its <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-display-4/#principal-box" id="ref-for-principal-box⑤">principal box</a> is
an <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-display-3/#internal-ruby-box" id="ref-for-internal-ruby-box">internal ruby box</a>
or a <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-display-3/#atomic-inline" id="ref-for-atomic-inline">non-atomic</a> <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-display-3/#inline-level" id="ref-for-inline-level">inline-level</a> box</p>
   </ul>
   <h2 class="heading settled" data-level="4" id="container-queries"><span class="secno">4. </span><span class="content">
Container Queries</span><a class="self-link" href="#container-queries"></a></h2>
   <p>While <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/mediaqueries-5/#media-query" id="ref-for-media-query">media queries</a> provide a method to query
	aspects of the user agent or device environment
	that a document is being displayed in
	(such as viewport dimensions or user preferences),
	<a data-link-type="dfn" href="#container-query" id="ref-for-container-query">container queries</a> allow testing aspects of elements within the document
	(such as box dimensions or computed styles).</p>
   <p>By default, all elements are <a data-link-type="dfn" href="#query-container" id="ref-for-query-container">query containers</a>
	for the purpose of <a data-link-type="dfn" href="#container-style-query" id="ref-for-container-style-query">container style queries</a>,
	and can be established as <span id="ref-for-query-container①">query containers</span>
	for <a data-link-type="dfn" href="#container-size-query" id="ref-for-container-size-query">container size queries</a> by specifying
	the additional query types using the <a class="property css" data-link-type="property" href="#propdef-container-type" id="ref-for-propdef-container-type">container-type</a> property
	(or the <a class="property css" data-link-type="property" href="#propdef-container" id="ref-for-propdef-container">container</a> <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#shorthand-property" id="ref-for-shorthand-property">shorthand</a>).
	Style rules applying to a <span id="ref-for-query-container②">query container</span>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-shadow-including-descendant" id="ref-for-concept-shadow-including-descendant">shadow-including descendants</a>
	can be conditioned by querying against it,
	using the <a class="css" data-link-type="maybe" href="#at-ruledef-container" id="ref-for-at-ruledef-container">@container</a> <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-conditional-3/#conditional-group-rule" id="ref-for-conditional-group-rule">conditional group rule</a>.</p>
   <div class="example" id="example-93e9e452">
    <a class="self-link" href="#example-93e9e452"></a>
		For example, we can define the main content area and sidebar as containers,
		and then describe a <span class="css">.media-object</span> that changes
		from vertical to horizontal layout depending on the size of its container:

		
<pre class="lang-css highlight">main<c- p>,</c-> aside <c- p>{</c->
  <c- k>container</c-><c- p>:</c-> my-layout / inline-size<c- p>;</c->
<c- p>}</c->

.media-object <c- p>{</c->
  <c- k>display</c-><c- p>:</c-> grid<c- p>;</c->
  <c- k>grid-template</c-><c- p>:</c-> <c- s>'img'</c-> auto <c- s>'content'</c-> auto / <c- m>100</c-><c- k>%</c-><c- p>;</c->
<c- p>}</c->

<c- n>@container</c-> my-layout <c- p>(</c->inline-size > <c- m>45</c-><c- k>em</c-><c- p>)</c-> <c- p>{</c->
  .media-object <c- p>{</c->
    <c- k>grid-template</c-><c- p>:</c-> <c- s>'img content'</c-> auto / auto <c- m>1</c-><c- k>fr</c-><c- p>;</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
    <p>Media objects in the main and sidebar areas
		will each respond to their own container context.</p>
   </div>
   <p>For selectors with pseudo elements, query containers can be established by
	the <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-shadow-including-inclusive-ancestor" id="ref-for-concept-shadow-including-inclusive-ancestor">shadow-including inclusive ancestors</a> of the <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/selectors-4/#ultimate-originating-element" id="ref-for-ultimate-originating-element">ultimate
	originating element</a>.</p>
   <div class="note" role="note">
    
		It follows that:


    <ul>
     <li data-md>
      <p>Pseudo elements themselves can not be query containers</p>
     <li data-md>
      <p><a class="css" data-link-type="maybe" href="https://andreubotella.com/csswg-auto-build/test/css-pseudo-4/#selectordef-before" id="ref-for-selectordef-before">::before</a>, <a class="css" data-link-type="maybe" href="https://andreubotella.com/csswg-auto-build/test/css-pseudo-4/#selectordef-after" id="ref-for-selectordef-after">::after</a>, <a class="css" data-link-type="maybe" href="https://andreubotella.com/csswg-auto-build/test/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker">::marker</a>, and <a class="css" data-link-type="maybe" href="https://andreubotella.com/csswg-auto-build/test/css-position-4/#selectordef-backdrop" id="ref-for-selectordef-backdrop">::backdrop</a> query their
originating elements</p>
     <li data-md>
      <p><a class="css" data-link-type="maybe" href="https://andreubotella.com/csswg-auto-build/test/css-pseudo-4/#selectordef-first-letter" id="ref-for-selectordef-first-letter">::first-letter</a> and <a class="css" data-link-type="maybe" href="https://andreubotella.com/csswg-auto-build/test/css-pseudo-4/#selectordef-first-line" id="ref-for-selectordef-first-line">::first-line</a> query their originating elements,
even if the <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-pseudo-4/#fictional-tag-sequence" id="ref-for-fictional-tag-sequence">fictional tag sequence</a> may push the
<code>::first-line</code> past other elements for the purpose of
inheritance and rendering</p>
     <li data-md>
      <p>Multiple pseudo elements do not allow pseudo elements to be query
containers for other pseudo elements. E.g., the host, but not the
<code>::part()</code>, can be the query container for
<code>::before</code> in <code>host::part()::before</code>. Similarly,
<code>::before</code> can not be the query container for the
<code>::marker</code> in <code>div::before::marker</code></p>
     <li data-md>
      <p><a class="css" data-link-type="maybe" href="https://andreubotella.com/csswg-auto-build/test/css-scoping-1/#selectordef-slotted" id="ref-for-selectordef-slotted">::slotted()</a> selectors can query containers inside the shadow tree,
including the slot itself</p>
     <li data-md>
      <p><a class="css" data-link-type="maybe" href="https://andreubotella.com/csswg-auto-build/test/css-shadow-parts-1/#selectordef-part" id="ref-for-selectordef-part">::part()</a> selectors can query its originating host, but not internal
query containers inside the shadow tree</p>
     <li data-md>
      <p><a class="css" data-link-type="maybe" href="https://andreubotella.com/csswg-auto-build/test/css-forms-1/#selectordef-placeholder" id="ref-for-selectordef-placeholder">::placeholder</a> and <a class="css" data-link-type="maybe" href="https://andreubotella.com/csswg-auto-build/test/css-forms-1/#selectordef-file-selector-button" id="ref-for-selectordef-file-selector-button">::file-selector-button</a> can query the input
element, but do not expose any internal containers if the input element is
implemented using a shadow tree</p>
    </ul>
   </div>
   <div class="example" id="example-13f6f0fa">
    <a class="self-link" href="#example-13f6f0fa"></a>
		A ::before selector querying the size of the originating element:

		
<pre class="lang-html highlight"><c- p>&lt;</c-><c- f>style</c-><c- p>></c->
  <c- p>#</c-><c- nn>container</c-> <c- p>{</c->
    <c- k>width</c-><c- p>:</c-> <c- mi>100</c-><c- b>px</c-><c- p>;</c->
    <c- k>container-type</c-><c- p>:</c-> <c- kc>inline</c-><c- o>-</c-><c- n>size</c-><c- p>;</c->
  <c- p>}</c->
  <c- p>@</c-><c- k>container</c-> <c- o>(</c-><c- f>inline-size</c-> <c- o>&lt;</c-> <c- f>150px</c-><c- o>)</c-> <c- p>{</c->
    <c- p>#</c-><c- nn>inner</c-><c- p>::</c-><c- nd>before</c-> <c- p>{</c->
      <c- k>content</c-><c- p>:</c-> <c- u>"BEFORE"</c-><c- p>;</c->
    <c- p>}</c->
  <c- p>}</c->
<c- p>&lt;/</c-><c- f>style</c-><c- p>></c->
<c- p>&lt;</c-><c- f>div</c-> <c- e>id</c-><c- o>=</c-><c- s>container</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>span</c-> <c- e>id</c-><c- o>=</c-><c- s>inner</c-><c- p>>&lt;/</c-><c- f>span</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
</pre>
   </div>
   <div class="example" id="example-c6405bc1">
    <a class="self-link" href="#example-c6405bc1"></a>
		A ::slotted() selector for styling a shadow host child can query a
		container in the shadow tree:

		
<pre class="lang-html highlight"><c- p>&lt;</c-><c- f>div</c-> <c- e>id</c-><c- o>=</c-><c- s>host</c-> <c- e>style</c-><c- o>=</c-><c- s>"width:200px"</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>template</c-> <c- e>shadowroot</c-><c- o>=</c-><c- s>open</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>style</c-><c- p>></c->
      <c- p>#</c-><c- nn>container</c-> <c- p>{</c->
        <c- k>width</c-><c- p>:</c-> <c- mi>100</c-><c- b>px</c-><c- p>;</c->
        <c- k>container-type</c-><c- p>:</c-> <c- kc>inline</c-><c- o>-</c-><c- n>size</c-><c- p>;</c->
      <c- p>}</c->
      <c- p>@</c-><c- k>container</c-> <c- o>(</c-><c- f>inline-size</c-> <c- o>&lt;</c-> <c- f>150px</c-><c- o>)</c-> <c- p>{</c->
        <c- p>::</c-><c- nd>slotted</c-><c- o>(</c-><c- f>span</c-><c- o>)</c-> <c- p>{</c->
          <c- k>color</c-><c- p>:</c-> <c- kc>green</c-><c- p>;</c->
        <c- p>}</c->
      <c- p>}</c->
    <c- p>&lt;/</c-><c- f>style</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>div</c-> <c- e>id</c-><c- o>=</c-><c- s>container</c-><c- p>></c->
      <c- p>&lt;</c-><c- f>slot</c-> <c- p>/></c->
    <c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;/</c-><c- f>template</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>span</c-> <c- e>id</c-><c- o>=</c-><c- s>slotted</c-><c- p>></c->Green<c- p>&lt;/</c-><c- f>span</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
</pre>
   </div>
   <h3 class="heading settled" data-level="4.1" id="container-type"><span class="secno">4.1. </span><span class="content">
Creating Query Containers: the <a class="property css" data-link-type="property" href="#propdef-container-type" id="ref-for-propdef-container-type①">container-type</a> property</span><a class="self-link" href="#container-type"></a></h3>
   <table class="def propdef" data-link-for-hint="container-type">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-container-type">container-type</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod">normal <a data-link-type="grammar" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#comb-one" id="ref-for-comb-one①">|</a> size <span id="ref-for-comb-one②">|</span> inline-size	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>normal	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td><a href="https://www.w3.org/TR/css-pseudo/#generated-content" title="Includes ::before and ::after pseudo-elements.">all elements</a>	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>no	
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>n/a	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>the keyword <a class="css" data-link-type="maybe" href="#valdef-container-type-normal" id="ref-for-valdef-container-type-normal">normal</a> or one or more of <a class="css" data-link-type="maybe" href="#valdef-container-type-size" id="ref-for-valdef-container-type-size">size</a>, <a class="css" data-link-type="maybe" href="#valdef-container-type-inline-size" id="ref-for-valdef-container-type-inline-size">inline-size</a>	
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar	
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      <td>not animatable	
   </table>
   <p>The <a class="property css" data-link-type="property" href="#propdef-container-type" id="ref-for-propdef-container-type②">container-type</a> property establishes the element
	as a <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="query-container">query container</dfn>
	for the purpose of <a data-link-type="dfn" href="#container-query" id="ref-for-container-query①">container queries</a> that require explicit containment
	(such as <a data-link-type="dfn" href="#container-size-query" id="ref-for-container-size-query①">container size queries</a>),
	allowing <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-syntax-3/#style-rule" id="ref-for-style-rule">style rules</a> styling its descendants
	to query various aspects of its sizing and layout,
	and respond accordingly.</p>
   <p>Unless otherwise noted,
	all elements are <a data-link-type="dfn" href="#query-container" id="ref-for-query-container③">query containers</a>
	for the purpose <a data-link-type="dfn" href="#container-query" id="ref-for-container-query②">container queries</a>
	that do no require explicit containment
	(such as <a data-link-type="dfn" href="#container-style-query" id="ref-for-container-style-query①">container style queries</a>),
	reagardless of the specified <a class="property css" data-link-type="property" href="#propdef-container-type" id="ref-for-propdef-container-type③">container-type</a>.</p>
   <p>Values have the following meanings:</p>
   <dl>
    <dt><dfn class="dfn-paneled css" data-dfn-for="container-type" data-dfn-type="value" data-export id="valdef-container-type-size">size</dfn>
		
    <dd>
			Establishes a <a data-link-type="dfn" href="#query-container" id="ref-for-query-container④">query container</a> for <a data-link-type="dfn" href="#container-size-query" id="ref-for-container-size-query②">container size queries</a>
			on both the <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#inline-axis" id="ref-for-inline-axis③">inline</a> and <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#block-axis" id="ref-for-block-axis③">block axis</a>.
			Applies <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-contain-2/#layout-containment" id="ref-for-layout-containment">layout containment</a>,
			<a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-contain-2/#style-containment" id="ref-for-style-containment">style containment</a>,
			and <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-contain-2/#size-containment" id="ref-for-size-containment①">size containment</a>
			to the <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-display-4/#principal-box" id="ref-for-principal-box⑥">principal box</a>.
		
    <dt><dfn class="dfn-paneled css" data-dfn-for="container-type" data-dfn-type="value" data-export id="valdef-container-type-inline-size">inline-size</dfn>
		
    <dd>
			Establishes a <a data-link-type="dfn" href="#query-container" id="ref-for-query-container⑤">query container</a> for <a data-link-type="dfn" href="#container-size-query" id="ref-for-container-size-query③">container size queries</a>
			on the container’s own <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#inline-axis" id="ref-for-inline-axis④">inline axis</a>.
			Applies <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-contain-2/#layout-containment" id="ref-for-layout-containment①">layout containment</a>,
			<a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-contain-2/#style-containment" id="ref-for-style-containment①">style containment</a>,
			and <a data-link-type="dfn" href="#inline-size-containment" id="ref-for-inline-size-containment④">inline-size containment</a>
			to the <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-display-4/#principal-box" id="ref-for-principal-box⑦">principal box</a>.
		
    <dt><dfn class="dfn-paneled css" data-dfn-for="container-type" data-dfn-type="value" data-export id="valdef-container-type-normal">normal</dfn>
		
    <dd>
			The element is not a <a data-link-type="dfn" href="#query-container" id="ref-for-query-container⑥">query container</a>
			for any <a data-link-type="dfn" href="#container-size-query" id="ref-for-container-size-query④">container size queries</a>,
			but remains a <span id="ref-for-query-container⑦">query container</span> for <a data-link-type="dfn" href="#container-style-query" id="ref-for-container-style-query②">container style queries</a>.
	
   </dl>
   <div class="example" id="example-5708b886">
    <a class="self-link" href="#example-5708b886"></a>
		For example, authors can create container-responsive typography,
		adjusting <a class="property css" data-link-type="property" href="https://andreubotella.com/csswg-auto-build/test/css-fonts-4/#propdef-font-size" id="ref-for-propdef-font-size">font-size</a>, <a class="property css" data-link-type="property" href="https://andreubotella.com/csswg-auto-build/test/css2/#propdef-line-height" id="ref-for-propdef-line-height">line-height</a>, and other typographic concerns
		based on the size of a container:

		
<pre class="lang-css highlight">aside<c- p>,</c-> main <c- p>{</c->
  <c- k>container-type</c-><c- p>:</c-> inline-size<c- p>;</c->
<c- p>}</c->

h2 <c- p>{</c-> <c- k>font-size</c-><c- p>:</c-> <c- m>1.2</c-><c- k>em</c-><c- p>;</c-> <c- p>}</c->

<c- n>@container</c-> <c- p>(</c->width > <c- m>40</c-><c- k>em</c-><c- p>)</c-> <c- p>{</c->
  h2 <c- p>{</c-> <c- k>font-size</c-><c- p>:</c-> <c- m>1.5</c-><c- k>em</c-><c- p>;</c-> <c- p>}</c->
<c- p>}</c->
</pre>
    <p>The <span class="css">40em</span> value used in the query condition
		is relative to the <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#computed-value" id="ref-for-computed-value">computed value</a> of <a class="property css" data-link-type="property" href="https://andreubotella.com/csswg-auto-build/test/css-fonts-4/#propdef-font-size" id="ref-for-propdef-font-size①">font-size</a>
		on the relevant <a data-link-type="dfn" href="#query-container" id="ref-for-query-container⑧">query container</a>.</p>
   </div>
   <div class="example" id="example-1144456a">
    <a class="self-link" href="#example-1144456a"></a>
		Containers can also expose computed style values for querying.
		This can be useful for toggling behavior across multiple properties:

		
<pre class="lang-css highlight">section <c- p>{</c->
  <c- k>container-type</c-><c- p>:</c-> style<c- p>;</c->
<c- p>}</c->

<c- n>@container</c-> <c- p>(</c->--cards: small<c- p>)</c-> <c- p>{</c->
  article <c- p>{</c->
    <c- k>border</c-><c- p>:</c-> thin solid silver<c- p>;</c->
    <c- k>border-radius</c-><c- p>:</c-> <c- m>0.5</c-><c- k>em</c-><c- p>;</c->
    <c- k>padding</c-><c- p>:</c-> <c- m>1</c-><c- k>em</c-><c- p>;</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
   </div>
   <h3 class="heading settled" data-level="4.2" id="container-name"><span class="secno">4.2. </span><span class="content">
Naming Query Containers: the <a class="property css" data-link-type="property" href="#propdef-container-name" id="ref-for-propdef-container-name">container-name</a> property</span><a class="self-link" href="#container-name"></a></h3>
   <table class="def propdef" data-link-for-hint="container-name">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-container-name">container-name</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod">none <a data-link-type="grammar" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#comb-one" id="ref-for-comb-one③">|</a> <a class="production css" data-link-type="type" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#identifier-value" id="ref-for-identifier-value">&lt;custom-ident></a><a data-link-type="grammar" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#mult-one-plus" id="ref-for-mult-one-plus">+</a>	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>none	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td><a href="https://www.w3.org/TR/css-pseudo/#generated-content" title="Includes ::before and ::after pseudo-elements.">all elements</a>	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>no	
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>n/a	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>the keyword <a class="css" data-link-type="maybe" href="#valdef-container-name-none" id="ref-for-valdef-container-name-none">none</a>, or an ordered list of <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#css-css-identifier" id="ref-for-css-css-identifier">identifiers</a>	
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar	
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      <td>not animatable	
   </table>
   <p>The <a class="property css" data-link-type="property" href="#propdef-container-name" id="ref-for-propdef-container-name①">container-name</a> property
	specifies a list of <dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="query container name" id="query-container-name">query container names</dfn>.
	These names can be used by <a class="css" data-link-type="maybe" href="#at-ruledef-container" id="ref-for-at-ruledef-container①">@container</a> rules
	to filter which <a data-link-type="dfn" href="#query-container" id="ref-for-query-container⑨">query containers</a> are targeted.</p>
   <dl>
    <dt><dfn class="dfn-paneled css" data-dfn-for="container-name" data-dfn-type="value" data-export id="valdef-container-name-none">none</dfn>
	
    <dd>
		The <a data-link-type="dfn" href="#query-container" id="ref-for-query-container①⓪">query container</a> has no <a data-link-type="dfn" href="#query-container-name" id="ref-for-query-container-name">query container name</a>.
	
    <dt><dfn class="dfn-paneled css" data-dfn-for="container-name" data-dfn-type="value" data-export id="valdef-container-name-custom-ident"><a class="production css" data-link-type="type" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#identifier-value" id="ref-for-identifier-value①">&lt;custom-ident></a></dfn>
	
    <dd>
		Specifies a <a data-link-type="dfn" href="#query-container-name" id="ref-for-query-container-name①">query container name</a> as an <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#css-css-identifier" id="ref-for-css-css-identifier①">identifier</a>.
		The keywords <a class="css" data-link-type="maybe" href="#valdef-container-name-none" id="ref-for-valdef-container-name-none①">none</a>, <span class="css">and</span>, <a class="css" data-link-type="maybe" href="https://andreubotella.com/csswg-auto-build/test/mediaqueries-5/#valdef-media-not" id="ref-for-valdef-media-not">not</a>, and <span class="css">or</span> are excluded from this <a class="production css" data-link-type="type" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#identifier-value" id="ref-for-identifier-value②">&lt;custom-ident></a>.
	
   </dl>
   <div class="example" id="example-44473254">
    <a class="self-link" href="#example-44473254"></a>
		In some cases, we want to query aspects of a specific container,
		even if it’s not the nearest ancestor container.
		For example, we might want to query the height of a main content area,
		and the width of a more nested inline-container.

		
<pre class="lang-css highlight">main <c- p>{</c->
  <c- k>container-type</c-><c- p>:</c-> size<c- p>;</c->
  <c- k>container-name</c-><c- p>:</c-> my-page-layout<c- p>;</c->
<c- p>}</c->

.my-component <c- p>{</c->
  <c- k>container-type</c-><c- p>:</c-> inline-size<c- p>;</c->
  <c- k>container-name</c-><c- p>:</c-> my-component-library<c- p>;</c->
<c- p>}</c->

<c- n>@container</c-> my-page-layout <c- p>(</c->block-size > <c- m>12</c-><c- k>em</c-><c- p>)</c-> <c- p>{</c->
  .card <c- p>{</c-> <c- k>margin-block</c-><c- p>:</c-> <c- m>2</c-><c- k>em</c-><c- p>;</c-> <c- p>}</c->
<c- p>}</c->

<c- n>@container</c-> my-component-library <c- p>(</c->inline-size > <c- m>30</c-><c- k>em</c-><c- p>)</c-> <c- p>{</c->
  .card <c- p>{</c-> <c- k>margin-inline</c-><c- p>:</c-> <c- m>2</c-><c- k>em</c-><c- p>;</c-> <c- p>}</c->
<c- p>}</c->
</pre>
   </div>
   <h3 class="heading settled" data-level="4.3" id="container-shorthand"><span class="secno">4.3. </span><span class="content">
Creating Named Containers: the <a class="property css" data-link-type="property" href="#propdef-container" id="ref-for-propdef-container①">container</a> shorthand</span><a class="self-link" href="#container-shorthand"></a></h3>
   <table class="def propdef" data-link-for-hint="container">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-container">container</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod"><a class="production css" data-link-type="property" href="#propdef-container-name" id="ref-for-propdef-container-name②">&lt;'container-name'></a> [ / <a class="production css" data-link-type="property" href="#propdef-container-type" id="ref-for-propdef-container-type④">&lt;'container-type'></a> ]<a data-link-type="grammar" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#mult-opt" id="ref-for-mult-opt">?</a>	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>see individual properties	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td>see individual properties	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>see individual properties	
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>see individual properties	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>see individual properties	
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      <td>see individual properties	
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar	
   </table>
   <p>The <a class="property css" data-link-type="property" href="#propdef-container" id="ref-for-propdef-container②">container</a> <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#shorthand-property" id="ref-for-shorthand-property①">shorthand property</a> sets
	both <a class="property css" data-link-type="property" href="#propdef-container-type" id="ref-for-propdef-container-type⑤">container-type</a> and <a class="property css" data-link-type="property" href="#propdef-container-name" id="ref-for-propdef-container-name③">container-name</a> in the same declaration.
	If <span class="production" id="ref-for-propdef-container-type⑥">&lt;'container-type'></span> is omitted,
	it is reset to its <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#initial-value" id="ref-for-initial-value">initial value</a>.</p>
   <div class="example" id="example-c4e7fa3f">
    <a class="self-link" href="#example-c4e7fa3f"></a>
		We can define both a <a class="property css" data-link-type="property" href="#propdef-container-type" id="ref-for-propdef-container-type⑦">container-type</a> and <a class="property css" data-link-type="property" href="#propdef-container-name" id="ref-for-propdef-container-name④">container-name</a>
		using the shorthand syntax:

		
<pre class="lang-css highlight">main <c- p>{</c->
  <c- k>container</c-><c- p>:</c-> my-layout / size<c- p>;</c->
<c- p>}</c->

.grid-item <c- p>{</c->
  <c- k>container</c-><c- p>:</c-> my-component / inline-size<c- p>;</c->
<c- p>}</c->
</pre>
   </div>
   <h3 class="heading settled" data-level="4.4" id="container-rule"><span class="secno">4.4. </span><span class="content">
Container Queries: the <a class="css" data-link-type="maybe" href="#at-ruledef-container" id="ref-for-at-ruledef-container②">@container</a> rule</span><a class="self-link" href="#container-rule"></a></h3>
   <p>The <dfn class="dfn-paneled css" data-dfn-type="at-rule" data-export id="at-ruledef-container">@container</dfn> rule
	is a <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-conditional-3/#conditional-group-rule" id="ref-for-conditional-group-rule①">conditional group rule</a> whose condition contains
	a <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="container-query">container query</dfn>,
	which is a boolean combination of <a data-link-type="dfn" href="#container-size-query" id="ref-for-container-size-query⑤">container size queries</a> and/or <a data-link-type="dfn" href="#container-style-query" id="ref-for-container-style-query③">container style queries</a>.
	Style declarations within the <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-syntax-3/#typedef-stylesheet" id="ref-for-typedef-stylesheet">&lt;stylesheet></a> block of an <a class="css" data-link-type="maybe" href="#at-ruledef-container" id="ref-for-at-ruledef-container③">@container</a> rule
	are <a href="https://andreubotella.com/csswg-auto-build/test/css-cascade-4/#filtering">filtered</a> by its condition
	to only match when the <a data-link-type="dfn" href="#container-query" id="ref-for-container-query③">container query</a>
	is true for their element’s <a data-link-type="dfn" href="#query-container" id="ref-for-query-container①①">query container</a>.</p>
   <p>The syntax of the <a class="css" data-link-type="maybe" href="#at-ruledef-container" id="ref-for-at-ruledef-container④">@container</a> rule is:</p>
<pre class="def prod">@container <a class="production" data-link-type="type" href="#typedef-container-condition" id="ref-for-typedef-container-condition">&lt;container-condition></a> {
  <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-syntax-3/#typedef-stylesheet" id="ref-for-typedef-stylesheet①">&lt;stylesheet></a>
}
</pre>
   <p>where:</p>
<pre class="def prod"><dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-container-condition"><a class="production" data-link-type="type" href="#typedef-container-condition" id="ref-for-typedef-container-condition①">&lt;container-condition></a></dfn> = [ <a class="production" data-link-type="type" href="#typedef-container-name" id="ref-for-typedef-container-name">&lt;container-name></a> ]<a data-link-type="grammar" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#mult-opt" id="ref-for-mult-opt①">?</a> <a class="production" data-link-type="type" href="#typedef-container-query" id="ref-for-typedef-container-query">&lt;container-query></a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-container-name"><a class="production" data-link-type="type" href="#typedef-container-name" id="ref-for-typedef-container-name①">&lt;container-name></a></dfn> = <a class="production" data-link-type="type" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#identifier-value" id="ref-for-identifier-value③">&lt;custom-ident></a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-container-query"><a class="production" data-link-type="type" href="#typedef-container-query" id="ref-for-typedef-container-query①">&lt;container-query></a></dfn>     = not <a class="production" data-link-type="type" href="#typedef-query-in-parens" id="ref-for-typedef-query-in-parens">&lt;query-in-parens></a>
                      <a data-link-type="grammar" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#comb-one" id="ref-for-comb-one④">|</a> <a class="production" data-link-type="type" href="#typedef-query-in-parens" id="ref-for-typedef-query-in-parens①">&lt;query-in-parens></a> [ [ and <a class="production" data-link-type="type" href="#typedef-query-in-parens" id="ref-for-typedef-query-in-parens②">&lt;query-in-parens></a> ]<a data-link-type="grammar" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#mult-zero-plus" id="ref-for-mult-zero-plus">*</a> <a data-link-type="grammar" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#comb-one" id="ref-for-comb-one⑤">|</a> [ or <a class="production" data-link-type="type" href="#typedef-query-in-parens" id="ref-for-typedef-query-in-parens③">&lt;query-in-parens></a> ]<a data-link-type="grammar" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#mult-zero-plus" id="ref-for-mult-zero-plus①">*</a> ]
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-query-in-parens"><a class="production" data-link-type="type" href="#typedef-query-in-parens" id="ref-for-typedef-query-in-parens④">&lt;query-in-parens></a></dfn>     = ( <a class="production" data-link-type="type" href="#typedef-container-query" id="ref-for-typedef-container-query②">&lt;container-query></a> )
                      <a data-link-type="grammar" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#comb-one" id="ref-for-comb-one⑥">|</a> ( <a class="production" data-link-type="type" href="#typedef-size-feature" id="ref-for-typedef-size-feature">&lt;size-feature></a> )
                      <a data-link-type="grammar" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#comb-one" id="ref-for-comb-one⑦">|</a> style( <a class="production" data-link-type="type" href="#typedef-style-query" id="ref-for-typedef-style-query">&lt;style-query></a> )
                      <a data-link-type="grammar" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#comb-one" id="ref-for-comb-one⑧">|</a> <a class="production" data-link-type="type" href="https://andreubotella.com/csswg-auto-build/test/mediaqueries-5/#typedef-general-enclosed" id="ref-for-typedef-general-enclosed">&lt;general-enclosed></a>

<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-style-query"><a class="production" data-link-type="type" href="#typedef-style-query" id="ref-for-typedef-style-query①">&lt;style-query></a></dfn>         = not <a class="production" data-link-type="type" href="#typedef-style-in-parens" id="ref-for-typedef-style-in-parens">&lt;style-in-parens></a>
                      <a data-link-type="grammar" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#comb-one" id="ref-for-comb-one⑨">|</a> <a class="production" data-link-type="type" href="#typedef-style-in-parens" id="ref-for-typedef-style-in-parens①">&lt;style-in-parens></a> [ [ and <a class="production" data-link-type="type" href="#typedef-style-in-parens" id="ref-for-typedef-style-in-parens②">&lt;style-in-parens></a> ]<a data-link-type="grammar" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#mult-zero-plus" id="ref-for-mult-zero-plus②">*</a> <a data-link-type="grammar" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#comb-one" id="ref-for-comb-one①⓪">|</a> [ or <a class="production" data-link-type="type" href="#typedef-style-in-parens" id="ref-for-typedef-style-in-parens③">&lt;style-in-parens></a> ]<a data-link-type="grammar" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#mult-zero-plus" id="ref-for-mult-zero-plus③">*</a> ]
                      <a data-link-type="grammar" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#comb-one" id="ref-for-comb-one①①">|</a> <a class="production" data-link-type="type" href="#typedef-style-feature" id="ref-for-typedef-style-feature">&lt;style-feature></a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-style-in-parens"><a class="production" data-link-type="type" href="#typedef-style-in-parens" id="ref-for-typedef-style-in-parens④">&lt;style-in-parens></a></dfn>     = ( <a class="production" data-link-type="type" href="#typedef-style-query" id="ref-for-typedef-style-query②">&lt;style-query></a> )
                      <a data-link-type="grammar" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#comb-one" id="ref-for-comb-one①②">|</a> ( <a class="production" data-link-type="type" href="#typedef-style-feature" id="ref-for-typedef-style-feature①">&lt;style-feature></a> )
                      <a data-link-type="grammar" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#comb-one" id="ref-for-comb-one①③">|</a> <a class="production" data-link-type="type" href="https://andreubotella.com/csswg-auto-build/test/mediaqueries-5/#typedef-general-enclosed" id="ref-for-typedef-general-enclosed①">&lt;general-enclosed></a>
</pre>
   <p>The keywords <a class="css" data-link-type="maybe" href="#valdef-container-name-none" id="ref-for-valdef-container-name-none②">none</a>, <span class="css">and</span>, <a class="css" data-link-type="maybe" href="https://andreubotella.com/csswg-auto-build/test/mediaqueries-5/#valdef-media-not" id="ref-for-valdef-media-not①">not</a>, and <span class="css">or</span>
	are excluded from the <a class="production css" data-link-type="type" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#identifier-value" id="ref-for-identifier-value④">&lt;custom-ident></a> above.</p>
   <p>For each element,
	the <a data-link-type="dfn" href="#query-container" id="ref-for-query-container①②">query container</a> to be queried
	is selected from among the element’s ancestor <span id="ref-for-query-container①③">query containers</span>
	that are established as a valid <span id="ref-for-query-container①④">query container</span>
	for all the <a data-link-type="dfn" href="#container-feature" id="ref-for-container-feature">container features</a>
	in the <a class="production css" data-link-type="type" href="#typedef-container-query" id="ref-for-typedef-container-query③">&lt;container-query></a>.
	The optional <a class="production css" data-link-type="type" href="#typedef-container-name" id="ref-for-typedef-container-name②">&lt;container-name></a>
	filters the set of <span id="ref-for-query-container①⑤">query containers</span> considered
	to just those with a matching <a data-link-type="dfn" href="#query-container-name" id="ref-for-query-container-name②">query container name</a>.</p>
   <p>Once an eligible <a data-link-type="dfn" href="#query-container" id="ref-for-query-container①⑥">query container</a> has been selected for an element,
	each <a data-link-type="dfn" href="#container-feature" id="ref-for-container-feature①">container feature</a> in the <a class="production css" data-link-type="type" href="#typedef-container-query" id="ref-for-typedef-container-query④">&lt;container-query></a>
	is evaluated against that <span id="ref-for-query-container①⑦">query container</span>.
	If no ancestor is an eligible <span id="ref-for-query-container①⑧">query container</span>,
	then the <a data-link-type="dfn" href="#container-query" id="ref-for-container-query④">container query</a> is <span class="css">unknown</span> for that element.</p>
   <div class="example" id="example-e1075629">
    <a class="self-link" href="#example-e1075629"></a>
		As with <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/mediaqueries-5/#media-query" id="ref-for-media-query①">media queries</a>,
		we can string together multiple conditions in a single query list:

		
<pre class="lang-css highlight"><c- n>@container</c-> card <c- p>(</c->inline-size > <c- m>30</c-><c- k>em</c-><c- p>)</c-> and <c- nf>style</c-><c- p>(</c->--responsive: true<c- p>)</c-> <c- p>{</c->
  <c- c>/* styles */</c->
<c- p>}</c->
</pre>
    <p>The styles above will only be applied
		if there is an ancestor container named "card"
		that meets both the <a class="property" data-link-type="propdesc" href="#descdef-container-inline-size" id="ref-for-descdef-container-inline-size">inline-size</a>
		and <a data-link-type="dfn" href="#container-style-query" id="ref-for-container-style-query④">style</a> conditions.</p>
   </div>
   <p>Style rules defined on an element inside multiple nested <a data-link-type="dfn" href="#container-query" id="ref-for-container-query⑤">container queries</a>
	apply when all of the wrapping <span id="ref-for-container-query⑥">container queries</span> are true for that element.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Nested <a data-link-type="dfn" href="#container-query" id="ref-for-container-query⑦">container queries</a> can evaluate in relation to different containers,
	so it is not always possible to merge the individual <a class="production css" data-link-type="type" href="#typedef-container-condition" id="ref-for-typedef-container-condition②">&lt;container-condition></a>s
	into a single query.</p>
   <div class="example" id="example-9cdb6b15">
    <a class="self-link" href="#example-9cdb6b15"></a>
		While it is not possible to query multiple containers
		in a single <a data-link-type="dfn" href="#container-query" id="ref-for-container-query⑧">container query</a>,
		that can be achieved by nesting multiple queries:

		
<pre class="lang-css highlight"><c- n>@container</c-> card <c- p>(</c->inline-size > <c- m>30</c-><c- k>em</c-><c- p>)</c-> <c- p>{</c->
  <c- n>@container</c-> <c- nf>style</c-><c- p>(</c->--responsive: true<c- p>)</c-> <c- p>{</c->
    <c- c>/* styles */</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
    <p>The styles above will only be applied
		if there is an ancestor container named "card"
		that meets the <a class="property" data-link-type="propdesc" href="#descdef-container-inline-size" id="ref-for-descdef-container-inline-size①">inline-size</a> condition,
		as well as an ancestor container
		meeting <a data-link-type="dfn" href="#container-style-query" id="ref-for-container-style-query⑤">style</a> condition.</p>
   </div>
   <p>Global, name-defining <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-syntax-3/#at-rule" id="ref-for-at-rule">at-rules</a>
	such as <a class="css" data-link-type="maybe" href="https://andreubotella.com/csswg-auto-build/test/css-animations-1/#at-ruledef-keyframes" id="ref-for-at-ruledef-keyframes">@keyframes</a> or <a class="css" data-link-type="maybe" href="https://andreubotella.com/csswg-auto-build/test/css-fonts-5/#at-font-face-rule" id="ref-for-at-font-face-rule">@font-face</a> or <a class="css" data-link-type="maybe" href="https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#at-ruledef-layer" id="ref-for-at-ruledef-layer">@layer</a>
	that are defined inside <a data-link-type="dfn" href="#container-query" id="ref-for-container-query⑨">container queries</a>
	are not constrained by the <span id="ref-for-container-query①⓪">container query</span> conditions.</p>
   <h3 class="heading settled" data-level="4.5" id="animated-containers"><span class="secno">4.5. </span><span class="content">
Animated Containers</span><a class="self-link" href="#animated-containers"></a></h3>
   <p>A change in the evaluation of a <a data-link-type="dfn" href="#container-query" id="ref-for-container-query①①">container query</a> must be part of a <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-transitions-1/#style-change-event" id="ref-for-style-change-event">style change event</a>,
	even when the change occurred because of <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/web-animations-1/#effect-value" id="ref-for-effect-value">animation effects</a>.</p>
   <div class="example" id="example-cfbdbffb">
    <a class="self-link" href="#example-cfbdbffb"></a>
		A transition on a sibling element can indirectly affect the size of a
		container, triggering <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-transitions-1/#style-change-event" id="ref-for-style-change-event①">style change events</a> whenever container queries
		change their evaluation as a result:

		
<pre class="lang-css highlight">main <c- p>{</c->
  <c- k>display</c-><c- p>:</c-> flex<c- p>;</c->
  <c- k>width</c-><c- p>:</c-> <c- m>300</c-><c- k>px</c-><c- p>;</c->
<c- p>}</c->

#container <c- p>{</c->
  <c- k>container-type</c-><c- p>:</c-> inline-size<c- p>;</c->
  <c- k>flex</c-><c- p>:</c-> <c- m>1</c-><c- p>;</c->
<c- p>}</c->

<c- c>/* Resolved width is initially 200px, but changes as the transition</c->
<c- c>   on #sibling progresses. */</c->
#inner <c- p>{</c->
  <c- k>transition</c-><c- p>:</c-> <c- m>1</c-><c- k>s</c-> background-color<c- p>;</c->
  <c- k>background-color</c-><c- p>:</c-> tomato<c- p>;</c->
<c- p>}</c->

<c- c>/* When this container query starts (or stops) applying, a transition</c->
<c- c>   must start on background-color on #inner. */</c->
<c- n>@container</c-> <c- p>(</c->width &lt;= <c- m>150</c-><c- k>px</c-><c- p>)</c-> <c- p>{</c->
  #inner <c- p>{</c->
    <c- k>background-color</c-><c- p>:</c-> skyblue<c- p>;</c->
  <c- p>}</c->
<c- p>}</c->

#sibling <c- p>{</c->
  <c- k>width</c-><c- p>:</c-> <c- m>100</c-><c- k>px</c-><c- p>;</c->
  <c- k>transition</c-><c- p>:</c-> width <c- m>1</c-><c- k>s</c-><c- p>;</c->
<c- p>}</c->

#sibling:hover <c- p>{</c->
  <c- k>width</c-><c- p>:</c-> <c- m>200</c-><c- k>px</c-><c- p>;</c->
<c- p>}</c->
</pre>
<pre class="lang-html highlight"><c- p>&lt;</c-><c- f>main</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>id</c-><c- o>=</c-><c- s>container</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>div</c-> <c- e>id</c-><c- o>=</c-><c- s>inner</c-><c- p>></c->Inner<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>id</c-><c- o>=</c-><c- s>sibling</c-><c- p>></c->Sibling<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>main</c-><c- p>></c->
</pre>
   </div>
   <p>Changes in <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#computed-value" id="ref-for-computed-value①">computed values</a> caused by <a data-link-type="dfn" href="#container-query-length" id="ref-for-container-query-length">container query length</a> units
	must also be part of a <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-transitions-1/#style-change-event" id="ref-for-style-change-event②">style change event</a>.</p>
   <h2 class="heading settled" data-level="5" id="container-features"><span class="secno">5. </span><span class="content">
Container Features</span><a class="self-link" href="#container-features"></a></h2>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="container-feature">container feature</dfn>
	queries a specific aspect of a <a data-link-type="dfn" href="#query-container" id="ref-for-query-container①⑨">query container</a>.</p>
   <h3 class="heading settled" data-level="5.1" id="size-container"><span class="secno">5.1. </span><span class="content">
Size Container Features</span><a class="self-link" href="#size-container"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="container-size-query">container size query</dfn>
	allows querying
	the size of the <a data-link-type="dfn" href="#query-container" id="ref-for-query-container②⓪">query container</a>’s <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-display-4/#principal-box" id="ref-for-principal-box⑧">principal box</a>.
	It is a boolean combination of
	individual <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="size-features">size features</dfn> (<a class="production css" data-link-type="type" href="#typedef-size-feature" id="ref-for-typedef-size-feature①">&lt;size-feature></a>)
	that each query a single, specific dimensional feature of the <span id="ref-for-query-container②①">query container</span>.
	The syntax of a <dfn class="dfn-paneled css" data-dfn-type="type" data-export id="typedef-size-feature"><a class="production css" data-link-type="type" href="#typedef-size-feature" id="ref-for-typedef-size-feature②">&lt;size-feature></a></dfn> is the same as for a <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/mediaqueries-5/#media-feature" id="ref-for-media-feature">media feature</a>:
	a feature name, a comparator, and a value.
	<a data-link-type="biblio" href="#biblio-mediaqueries-5" title="Media Queries Level 5">[mediaqueries-5]</a>
	The boolean syntax and logic combining <a data-link-type="dfn" href="#size-features" id="ref-for-size-features">size features</a> into a <a data-link-type="dfn" href="#container-size-query" id="ref-for-container-size-query⑥">size query</a>
	is the same as for <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-conditional-3/#css-feature-queries" id="ref-for-css-feature-queries">CSS feature queries</a>.
	(See <a class="css" data-link-type="maybe" href="https://andreubotella.com/csswg-auto-build/test/css-conditional-3/#at-ruledef-supports" id="ref-for-at-ruledef-supports">@supports</a>. <a data-link-type="biblio" href="#biblio-css-conditional-3" title="CSS Conditional Rules Module Level 3">[CSS-CONDITIONAL-3]</a>)</p>
   <p>If the <a data-link-type="dfn" href="#query-container" id="ref-for-query-container②②">query container</a> does not have a <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-display-4/#principal-box" id="ref-for-principal-box⑨">principal box</a>,
	or the principal box is not a <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-contain-2/#layout-containment-box" id="ref-for-layout-containment-box">layout containment box</a>,
	or the <span id="ref-for-query-container②③">query container</span> does not support <a data-link-type="dfn" href="#container-size-query" id="ref-for-container-size-query⑦">container size queries</a> on the relevant axes,
	then the result of evaluating the <a data-link-type="dfn" href="#size-features" id="ref-for-size-features①">size feature</a> is unknown.</p>
   <p><a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#relative-length" id="ref-for-relative-length">Relative length</a> units
	(including <a data-link-type="dfn" href="#container-query-length" id="ref-for-container-query-length①">container query length</a> units)
	in <a data-link-type="dfn" href="#container-query" id="ref-for-container-query①②">container query</a> conditions
	are evaluated based on the the <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#computed-value" id="ref-for-computed-value②">computed values</a> of the <a data-link-type="dfn" href="#query-container" id="ref-for-query-container②④">query container</a>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> This is different from the handling of relative units in <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/mediaqueries-5/#media-query" id="ref-for-media-query②">media queries</a>.</p>
   <div class="example" id="example-031e4923">
    <a class="self-link" href="#example-031e4923"></a>
		For example, <a data-link-type="dfn" href="#query-container" id="ref-for-query-container②⑤">query containers</a> with different font-sizes
		will evaluate <a class="css" data-link-type="maybe" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#em" id="ref-for-em">em</a>-based queries relative to their own font sizes:

		
<pre class="lang-css highlight">aside<c- p>,</c-> main <c- p>{</c->
  <c- k>container-type</c-><c- p>:</c-> inline-size<c- p>;</c->
<c- p>}</c->

aside <c- p>{</c-> <c- k>font-size</c-><c- p>:</c-> <c- m>16</c-><c- k>px</c-><c- p>;</c-> <c- p>}</c->
main <c- p>{</c-> <c- k>font-size</c-><c- p>:</c-> <c- m>24</c-><c- k>px</c-><c- p>;</c-> <c- p>}</c->

<c- n>@container</c-> <c- p>(</c->width > <c- m>40</c-><c- k>em</c-><c- p>)</c-> <c- p>{</c->
  h2 <c- p>{</c-> <c- k>font-size</c-><c- p>:</c-> <c- m>1.5</c-><c- k>em</c-><c- p>;</c-> <c- p>}</c->
<c- p>}</c->
</pre>
    <p>The <span class="css">40em</span> value used in the query condition
		is relative to the <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#computed-value" id="ref-for-computed-value③">computed value</a> of <a class="property css" data-link-type="property" href="https://andreubotella.com/csswg-auto-build/test/css-fonts-4/#propdef-font-size" id="ref-for-propdef-font-size②">font-size</a>
		on the relevant <a data-link-type="dfn" href="#query-container" id="ref-for-query-container②⑥">query container</a>:</p>
    <ul>
     <li data-md>
      <p>For any <span class="css">h2</span> inside <span class="css">aside</span>,
the query condition will be true above <span class="css">640px</span>.</p>
     <li data-md>
      <p>For any <span class="css">h2</span> inside <span class="css">main</span>,
the query condition will be true above <span class="css">960px</span>.</p>
    </ul>
   </div>
   <h4 class="heading settled" data-level="5.1.1" id="width"><span class="secno">5.1.1. </span><span class="content">
Width: the <a class="property" data-link-type="propdesc" href="#descdef-container-width" id="ref-for-descdef-container-width">width</a> feature</span><a class="self-link" href="#width"></a></h4>
   <table class="def descdef mq">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-for="@container" data-dfn-type="descriptor" data-export id="descdef-container-width">width</dfn>
     <tr>
      <th>For:
      <td><a class="css" data-link-type="at-rule" href="#at-ruledef-container" id="ref-for-at-ruledef-container⑤">@container</a>	
     <tr>
      <th>Value:
      <td class="prod"><a class="production css" data-link-type="type" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#length-value" id="ref-for-length-value">&lt;length></a>	
     <tr>
      <th>Type:
      <td>range	
   </table>
   <p>The <a class="property" data-link-type="propdesc" href="#descdef-container-width" id="ref-for-descdef-container-width①">width</a> <a data-link-type="dfn" href="#container-feature" id="ref-for-container-feature②">container feature</a>
	queries the <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#width" id="ref-for-width">width</a>
	of the <a data-link-type="dfn" href="#query-container" id="ref-for-query-container②⑦">query container</a>’s <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-box-4/#content-box" id="ref-for-content-box">content box</a>.</p>
   <h4 class="heading settled" data-level="5.1.2" id="height"><span class="secno">5.1.2. </span><span class="content">
Height: the <a class="property" data-link-type="propdesc" href="#descdef-container-height" id="ref-for-descdef-container-height">height</a> feature</span><a class="self-link" href="#height"></a></h4>
   <table class="def descdef mq">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-for="@container" data-dfn-type="descriptor" data-export id="descdef-container-height">height</dfn>
     <tr>
      <th>For:
      <td><a class="css" data-link-type="at-rule" href="#at-ruledef-container" id="ref-for-at-ruledef-container⑥">@container</a>	
     <tr>
      <th>Value:
      <td class="prod"><a class="production css" data-link-type="type" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#length-value" id="ref-for-length-value①">&lt;length></a>	
     <tr>
      <th>Type:
      <td>range	
   </table>
   <p>The <a class="property" data-link-type="propdesc" href="#descdef-container-height" id="ref-for-descdef-container-height①">height</a> <a data-link-type="dfn" href="#container-feature" id="ref-for-container-feature③">container feature</a>
	queries the <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#height" id="ref-for-height">height</a>
	of the <a data-link-type="dfn" href="#query-container" id="ref-for-query-container②⑧">query container</a>’s <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-box-4/#content-box" id="ref-for-content-box①">content box</a>.</p>
   <h4 class="heading settled" data-level="5.1.3" id="inline-size"><span class="secno">5.1.3. </span><span class="content">
Inline-size: the <a class="property" data-link-type="propdesc" href="#descdef-container-inline-size" id="ref-for-descdef-container-inline-size②">inline-size</a> feature</span><a class="self-link" href="#inline-size"></a></h4>
   <table class="def descdef mq">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-for="@container" data-dfn-type="descriptor" data-export id="descdef-container-inline-size">inline-size</dfn>
     <tr>
      <th>For:
      <td><a class="css" data-link-type="at-rule" href="#at-ruledef-container" id="ref-for-at-ruledef-container⑦">@container</a>	
     <tr>
      <th>Value:
      <td class="prod"><a class="production css" data-link-type="type" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#length-value" id="ref-for-length-value②">&lt;length></a>	
     <tr>
      <th>Type:
      <td>range	
   </table>
   <p>The <a class="property" data-link-type="propdesc" href="#descdef-container-inline-size" id="ref-for-descdef-container-inline-size③">inline-size</a> <a data-link-type="dfn" href="#container-feature" id="ref-for-container-feature④">container feature</a>
	queries the <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#size" id="ref-for-size">size</a>
	of the <a data-link-type="dfn" href="#query-container" id="ref-for-query-container②⑨">query container</a>’s <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-box-4/#content-box" id="ref-for-content-box②">content box</a>
	in the <span id="ref-for-query-container③⓪">query container</span>’s <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#inline-axis" id="ref-for-inline-axis⑤">inline axis</a>.</p>
   <h4 class="heading settled" data-level="5.1.4" id="block-size"><span class="secno">5.1.4. </span><span class="content">
Block-size: the <a class="property" data-link-type="propdesc" href="#descdef-container-block-size" id="ref-for-descdef-container-block-size">block-size</a> feature</span><a class="self-link" href="#block-size"></a></h4>
   <table class="def descdef mq">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-for="@container" data-dfn-type="descriptor" data-export id="descdef-container-block-size">block-size</dfn>
     <tr>
      <th>For:
      <td><a class="css" data-link-type="at-rule" href="#at-ruledef-container" id="ref-for-at-ruledef-container⑧">@container</a>	
     <tr>
      <th>Value:
      <td class="prod"><a class="production css" data-link-type="type" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#length-value" id="ref-for-length-value③">&lt;length></a>	
     <tr>
      <th>Type:
      <td>range	
   </table>
   <p>The <a class="property" data-link-type="propdesc" href="#descdef-container-block-size" id="ref-for-descdef-container-block-size①">block-size</a> <a data-link-type="dfn" href="#container-feature" id="ref-for-container-feature⑤">container feature</a>
	queries the <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#size" id="ref-for-size①">size</a>
	of the <a data-link-type="dfn" href="#query-container" id="ref-for-query-container③①">query container</a>’s <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-box-4/#content-box" id="ref-for-content-box③">content box</a>
	in the <span id="ref-for-query-container③②">query container</span>’s <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#block-axis" id="ref-for-block-axis④">block axis</a>.</p>
   <h4 class="heading settled" data-level="5.1.5" id="aspect-ratio"><span class="secno">5.1.5. </span><span class="content">
Aspect-ratio: the <a class="property" data-link-type="propdesc" href="#descdef-container-aspect-ratio" id="ref-for-descdef-container-aspect-ratio">aspect-ratio</a> feature</span><a class="self-link" href="#aspect-ratio"></a></h4>
   <table class="def descdef mq">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-for="@container" data-dfn-type="descriptor" data-export id="descdef-container-aspect-ratio">aspect-ratio</dfn>
     <tr>
      <th>For:
      <td><a class="css" data-link-type="at-rule" href="#at-ruledef-container" id="ref-for-at-ruledef-container⑨">@container</a>	
     <tr>
      <th>Value:
      <td class="prod"><a class="production css" data-link-type="type" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#ratio-value" id="ref-for-ratio-value">&lt;ratio></a>	
     <tr>
      <th>Type:
      <td>range	
   </table>
   <p>The <a class="property" data-link-type="propdesc" href="#descdef-container-aspect-ratio" id="ref-for-descdef-container-aspect-ratio①">aspect-ratio</a> <a data-link-type="dfn" href="#container-feature" id="ref-for-container-feature⑥">container feature</a> is defined as the ratio
	of the value of the <a class="property" data-link-type="propdesc" href="#descdef-container-width" id="ref-for-descdef-container-width②">width</a> <span id="ref-for-container-feature⑦">container feature</span>
	to the value of the <a class="property" data-link-type="propdesc" href="#descdef-container-height" id="ref-for-descdef-container-height②">height</a> <span id="ref-for-container-feature⑧">container feature</span>.</p>
   <h4 class="heading settled" data-level="5.1.6" id="orientation"><span class="secno">5.1.6. </span><span class="content">
Orientation: the <a class="property" data-link-type="propdesc" href="#descdef-container-orientation" id="ref-for-descdef-container-orientation">orientation</a> feature</span><a class="self-link" href="#orientation"></a></h4>
   <table class="def descdef mq">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-for="@container" data-dfn-type="descriptor" data-export id="descdef-container-orientation">orientation</dfn>
     <tr>
      <th>For:
      <td><a class="css" data-link-type="at-rule" href="#at-ruledef-container" id="ref-for-at-ruledef-container①⓪">@container</a>	
     <tr>
      <th>Value:
      <td class="prod">portrait <a data-link-type="grammar" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#comb-one" id="ref-for-comb-one①④">|</a> landscape	
     <tr>
      <th>Type:
      <td>discrete	
   </table>
   <dl>
    <dt><dfn class="dfn-paneled css" data-dfn-for="@container/orientation" data-dfn-type="value" data-export id="valdef-container-orientation-portrait">portrait</dfn>
		
    <dd>
			The <a class="property" data-link-type="propdesc" href="#descdef-container-orientation" id="ref-for-descdef-container-orientation①">orientation</a> <a data-link-type="dfn" href="#container-feature" id="ref-for-container-feature⑨">container feature</a> is <a class="css" data-link-type="maybe" href="#valdef-container-orientation-portrait" id="ref-for-valdef-container-orientation-portrait">portrait</a>
			when the value of the <a class="property" data-link-type="propdesc" href="#descdef-container-height" id="ref-for-descdef-container-height③">height</a> <span id="ref-for-container-feature①⓪">container feature</span>
			is greater than or equal to
			the value of the <a class="property" data-link-type="propdesc" href="#descdef-container-width" id="ref-for-descdef-container-width③">width</a> <span id="ref-for-container-feature①①">container feature</span>.
		
    <dt><dfn class="dfn-paneled css" data-dfn-for="@container/orientation" data-dfn-type="value" data-export id="valdef-container-orientation-landscape">landscape</dfn>
		
    <dd>Otherwise <a class="property" data-link-type="propdesc" href="#descdef-container-orientation" id="ref-for-descdef-container-orientation②">orientation</a> is <a class="css" data-link-type="maybe" href="#valdef-container-orientation-landscape" id="ref-for-valdef-container-orientation-landscape">landscape</a>.
	
   </dl>
   <h3 class="heading settled" data-level="5.2" id="style-container"><span class="secno">5.2. </span><span class="content">
Style Container Features</span><a class="self-link" href="#style-container"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="container-style-query">container style query</dfn>
	allows querying
	the <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#computed-value" id="ref-for-computed-value④">computed values</a> of the <a data-link-type="dfn" href="#query-container" id="ref-for-query-container③③">query container</a>.
	It is a boolean combination of
	individual <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="style-features">style features</dfn> (<a class="production css" data-link-type="type" href="#typedef-style-feature" id="ref-for-typedef-style-feature②">&lt;style-feature></a>)
	that each query a single, specific property of the <span id="ref-for-query-container③④">query container</span>.
	The syntax of a <dfn class="dfn-paneled css" data-dfn-type="type" data-export id="typedef-style-feature"><a class="production css" data-link-type="type" href="#typedef-style-feature" id="ref-for-typedef-style-feature③">&lt;style-feature></a></dfn> is the same as for a <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-syntax-3/#declaration" id="ref-for-declaration">declaration</a>
	<a data-link-type="biblio" href="#biblio-css-syntax-3" title="CSS Syntax Module Level 3">[CSS-SYNTAX-3]</a>,
	and its query is true if
	the <span id="ref-for-computed-value⑤">computed value</span> of the given property on the <span id="ref-for-query-container③⑤">query container</span>
	matches the given value
	(which is also <span id="ref-for-computed-value⑥">computed</span> with respect to the <span id="ref-for-query-container③⑥">query container</span>),
	unknown if the property or its value is invalid or unsupported,
	and false otherwise.
	The boolean syntax and logic combining <a data-link-type="dfn" href="#style-features" id="ref-for-style-features">style features</a> into a <a data-link-type="dfn" href="#container-style-query" id="ref-for-container-style-query⑥">style query</a>
	is the same as for <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-conditional-3/#css-feature-queries" id="ref-for-css-feature-queries①">CSS feature queries</a>.
	(See <a class="css" data-link-type="maybe" href="https://andreubotella.com/csswg-auto-build/test/css-conditional-3/#at-ruledef-supports" id="ref-for-at-ruledef-supports①">@supports</a>. <a data-link-type="biblio" href="#biblio-css-conditional-3" title="CSS Conditional Rules Module Level 3">[CSS-CONDITIONAL-3]</a>)</p>
   <p><a data-link-type="dfn" href="#style-features" id="ref-for-style-features①">Style features</a> that query a <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#shorthand-property" id="ref-for-shorthand-property②">shorthand property</a> are true if the
	<a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#computed-value" id="ref-for-computed-value⑦">computed values</a> match for each of its <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#longhand" id="ref-for-longhand">longhand properties</a>,
	and false otherwise.</p>
   <p><a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#cascade-dependent-keyword" id="ref-for-cascade-dependent-keyword">Cascade-dependent keywords</a>, such as <a class="css" data-link-type="maybe" href="https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#valdef-all-revert" id="ref-for-valdef-all-revert">revert</a> and <a class="css" data-link-type="maybe" href="https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#valdef-all-revert-layer" id="ref-for-valdef-all-revert-layer">revert-layer</a>,
	are invalid as values in a <a data-link-type="dfn" href="#style-features" id="ref-for-style-features②">style feature</a>, and cause the
	<a data-link-type="dfn" href="#container-style-query" id="ref-for-container-style-query⑦">container style query</a> to be false.</p>
   <p class="note" role="note"><span class="marker">Note:</span> The remaining non-cascade-dependent <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#css-wide-keywords" id="ref-for-css-wide-keywords①">CSS-wide keywords</a>
	are <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#computed-value" id="ref-for-computed-value⑧">computed</a> with respect to the <a data-link-type="dfn" href="#query-container" id="ref-for-query-container③⑦">query container</a>,
	the same as other values.</p>
   <h2 class="heading settled" data-level="6" id="container-lengths"><span class="secno">6. </span><span class="content">
Container Relative Lengths: the <span class="css">cqw</span>, <span class="css">cqh</span>, <span class="css">cqi</span>, <span class="css">cqb</span>, <span class="css">cqmin</span>, <span class="css">cqmax</span> units</span><a class="self-link" href="#container-lengths"></a></h2>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="container query length" data-noexport id="container-query-length">Container query length units</dfn>
	specify a length relative to the dimensions of a <a data-link-type="dfn" href="#query-container" id="ref-for-query-container③⑧">query container</a>.
	Style sheets that use <a data-link-type="dfn" href="#container-query-length" id="ref-for-container-query-length②">container query length</a> units can more easily move components
	from one <span id="ref-for-query-container③⑨">query container</span> to another.</p>
   <p>The <a data-link-type="dfn" href="#container-query-length" id="ref-for-container-query-length③">container query length</a> units are:</p>
   <table class="data">
    <caption>Informative Summary of Container Units</caption>
    <thead>
     <tr>
      <th>unit
      <th>relative to
	
    <tbody>
     <tr>
      <td><span class="css">cqw</span>
			
      <td>1% of a <a data-link-type="dfn" href="#query-container" id="ref-for-query-container④⓪">query container</a>’s <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#width" id="ref-for-width①">width</a>
		
     <tr>
      <td><span class="css">cqh</span>
			
      <td>1% of a <a data-link-type="dfn" href="#query-container" id="ref-for-query-container④①">query container</a>’s <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#height" id="ref-for-height①">height</a>
		
     <tr>
      <td><span class="css">cqi</span>
			
      <td>1% of a <a data-link-type="dfn" href="#query-container" id="ref-for-query-container④②">query container</a>’s <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#inline-size" id="ref-for-inline-size⑥">inline size</a>
		
     <tr>
      <td><span class="css">cqb</span>
			
      <td>1% of a <a data-link-type="dfn" href="#query-container" id="ref-for-query-container④③">query container</a>’s <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#block-size" id="ref-for-block-size④">block size</a>
		
     <tr>
      <td><span class="css">cqmin</span>
			
      <td>The smaller value of <span class="css">cqi</span> or <span class="css">cqb</span>
		
     <tr>
      <td><span class="css">cqmax</span>
			
      <td>The larger value of <span class="css">cqi</span> or <span class="css">cqb</span>
	
   </table>
   <p>For each element,
	<a data-link-type="dfn" href="#container-query-length" id="ref-for-container-query-length④">container query length</a> units are evaluated
	as <a data-link-type="dfn" href="#container-size-query" id="ref-for-container-size-query⑧">container size queries</a> on the relevant axis (or axes)
	described by the unit.
	The <a data-link-type="dfn" href="#query-container" id="ref-for-query-container④④">query container</a> for each axis
	is the nearest ancestor container
	that accepts <span id="ref-for-container-size-query⑨">container size queries</span> on that axis.
	If no eligible <span id="ref-for-query-container④⑤">query container</span> is available,
	then use the <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#small-viewport-size" id="ref-for-small-viewport-size">small viewport size</a> for that axis.</p>
   <p class="note" role="note"><span class="marker">Note:</span> In some cases <span class="css">cqi</span> and <span class="css">cqb</span> units on the same element
	will evaluate in relation to different <a data-link-type="dfn" href="#query-container" id="ref-for-query-container④⑥">query containers</a>.
	Similarly, <span class="css">cqmin</span> and <span class="css">cqmax</span> units represent
	the larger or smaller of the <span class="css">cqi</span> and <span class="css">cqb</span> units,
	even when those dimensions come from different <span id="ref-for-query-container④⑦">query containers</span>.</p>
   <p>Child elements do not inherit the relative values as specified for their parent;
	they inherit the <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#computed-value" id="ref-for-computed-value⑨">computed values</a>.</p>
   <div class="example" id="example-a4252068">
    <a class="self-link" href="#example-a4252068"></a>
		Authors can ensure that <a data-link-type="dfn" href="#container-query-length" id="ref-for-container-query-length⑤">container query length</a> units
		have an appropriate <a data-link-type="dfn" href="#query-container" id="ref-for-query-container④⑧">query container</a>
		by applying them inside a <a data-link-type="dfn" href="#container-query" id="ref-for-container-query①③">container query</a>
		that relies on the same <span class="css">container-type</span>.
		Custom fallback values can be defined outside the <span id="ref-for-container-query①④">container query</span>:

		
<pre class="lang-css highlight"><c- c>/* The fallback value does not rely on containment */</c->
h2 <c- p>{</c-> <c- k>font-size</c-><c- p>:</c-> <c- m>1.2</c-><c- k>em</c-><c- p>;</c-> <c- p>}</c->

<c- n>@container</c-> <c- p>(</c->inline-size >= <c- m>0</c-><c- k>px</c-><c- p>)</c-> <c- p>{</c->
  <c- c>/* only applies when an inline-size container is available */</c->
  h2 <c- p>{</c-> <c- k>font-size</c-><c- p>:</c-> <c- nf>calc</c-><c- p>(</c-><c- m>1.2</c-><c- k>em</c-> + <c- m>1</c-><c- k>cqi</c-><c- p>);</c-> <c- p>}</c->
<c- p>}</c->
</pre>
   </div>
   <h2 class="heading settled" data-level="7" id="apis"><span class="secno">7. </span><span class="content">APIs</span><a class="self-link" href="#apis"></a></h2>
   <h3 class="heading settled" data-level="7.1" id="the-csscontainerrule-interface"><span class="secno">7.1. </span><span class="content">
The <code>CSSContainerRule</code> interface</span><a class="self-link" href="#the-csscontainerrule-interface"></a></h3>
   <p>The <code class="idl"><a data-link-type="idl" href="#csscontainerrule" id="ref-for-csscontainerrule">CSSContainerRule</a></code> interface represents a <a class="css" data-link-type="maybe" href="#at-ruledef-container" id="ref-for-at-ruledef-container①①">@container</a> rule.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="csscontainerrule"><code><c- g>CSSContainerRule</c-></code></dfn> : <a data-link-type="idl-name" href="https://andreubotella.com/csswg-auto-build/test/css-conditional-3/#cssconditionrule" id="ref-for-cssconditionrule"><c- n>CSSConditionRule</c-></a> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://andreubotella.com/csswg-auto-build/test/cssom-1/#cssomstring" id="ref-for-cssomstring"><c- n>CSSOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CSSContainerRule" data-dfn-type="attribute" data-export data-readonly data-type="CSSOMString" id="dom-csscontainerrule-containername"><code><c- g>containerName</c-></code></dfn>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://andreubotella.com/csswg-auto-build/test/cssom-1/#cssomstring" id="ref-for-cssomstring①"><c- n>CSSOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CSSContainerRule" data-dfn-type="attribute" data-export data-readonly data-type="CSSOMString" id="dom-csscontainerrule-containerquery"><code><c- g>containerQuery</c-></code></dfn>;
};
</pre>
   <dl class="idl-attributes">
    <dt><code>conditionText</code> of type <code>CSSOMString</code> (CSSContainerRule-specific definition for attribute on CSSConditionRule)
		
    <dd>
     The <code>conditionText</code> attribute (defined on the <code>CSSConditionRule</code> parent rule),
			on getting, must return a value as follows:

			
     <dl class="switch">
      <dt data-md>The <a class="css" data-link-type="maybe" href="#at-ruledef-container" id="ref-for-at-ruledef-container①②">@container</a> rule has an associated <a class="production css" data-link-type="type" href="#typedef-container-name" id="ref-for-typedef-container-name③">&lt;container-name></a>
				
      <dd data-md>The result of getting the <code>containerName</code> and
					<code>containerQuery</code> attributes, joined by a single whitespace.
				
      <dt data-md>Otherwise
				
      <dd data-md>The result of getting the <code>containerQuery</code> attribute.
			
     </dl>
    <dt><code>containerName</code> of type <code>CSSOMString</code>
		
    <dd>
     The <code>containerName</code> attribute, on getting, must return a value as follows:

			
     <dl class="switch">
      <dt data-md>The <a class="css" data-link-type="maybe" href="#at-ruledef-container" id="ref-for-at-ruledef-container①③">@container</a> rule has an associated <a class="production css" data-link-type="type" href="#typedef-container-name" id="ref-for-typedef-container-name④">&lt;container-name></a>
				
      <dd data-md>The result of serializing that <a class="production css" data-link-type="type" href="#typedef-container-name" id="ref-for-typedef-container-name⑤">&lt;container-name></a>.
				
      <dt data-md>Otherwise
				
      <dd data-md>An empty string.
			
     </dl>
    <dt><code>containerQuery</code> of type <code>CSSOMString</code>
		
    <dd>The <code>containerQuery</code> attribute,
			on getting, must return the <a class="production css" data-link-type="type" href="#typedef-container-query" id="ref-for-typedef-container-query⑤">&lt;container-query></a> that was specified,
			without any logical simplifications,
			so that the returned query will evaluate to the same result
			as the specified query
			in any conformant implementation of this specification
			(including implementations that implement future extensions
			allowed by the <a class="production css" data-link-type="type" href="https://andreubotella.com/csswg-auto-build/test/mediaqueries-5/#typedef-general-enclosed" id="ref-for-typedef-general-enclosed②">&lt;general-enclosed></a> extensibility mechanism in this specification).
			In other words,
			token stream simplifications are allowed
			(such as reducing whitespace to a single space
			or omitting it in cases where it is known to be optional),
			but logical simplifications (such as removal of unneeded parentheses,
			or simplification based on evaluating results) are not allowed.
	
   </dl>
   <p class="issue" id="issue-2e3d6538"><a class="self-link" href="#issue-2e3d6538"></a> Container Queries should have a <code>matchContainer</code> method.
	This will be modeled on <code class="idl"><a data-link-type="idl" href="https://andreubotella.com/csswg-auto-build/test/cssom-view-1/#dom-window-matchmedia" id="ref-for-dom-window-matchmedia">matchMedia()</a></code> and the <code class="idl"><a data-link-type="idl" href="https://andreubotella.com/csswg-auto-build/test/cssom-view-1/#mediaquerylist" id="ref-for-mediaquerylist">MediaQueryList</a></code> interface,
	but applied to Elements rather than the Window.
	When measuring layout sizes, it behaves Similar to <code>resizeObserver</code>,
	but it provides the additional Container Query syntax and features. <a href="https://github.com/w3c/csswg-drafts/issues/6205">[Issue #6205]</a></p>
   <h2 class="heading settled" data-level="8" id="content-visibility"><span class="secno">8. </span><span class="content">Suppressing An Element’s Contents Entirely: the <a class="property css" data-link-type="property" href="https://andreubotella.com/csswg-auto-build/test/css-contain-2/#propdef-content-visibility" id="ref-for-propdef-content-visibility">content-visibility</a> property</span><a class="self-link" href="#content-visibility"></a></h2>
   <p class="issue" id="issue-d41d8cd9②"><a class="self-link" href="#issue-d41d8cd9②"></a> <a href="https://andreubotella.com/csswg-auto-build/test/css-contain-2/#content-visibility"><cite>CSS Containment 2</cite> § 4 Suppressing An Element’s Contents Entirely: the content-visibility property</a></p>
   <h2 class="heading settled" data-level="9" id="priv-sec"><span class="secno">9. </span><span class="content">Privacy and Security Considerations</span><a class="self-link" href="#priv-sec"></a></h2>
   <p class="issue" id="issue-d41d8cd9③"><a class="self-link" href="#issue-d41d8cd9③"></a> <span spec-section="#priv-sec"></span></p>
   <h2 class="no-num non-normative heading settled" id="changes"><span class="content">Appendix A. Changes</span><a class="self-link" href="#changes"></a></h2>
   <p>This appendix is <em>informative</em>.</p>
   <h3 class="heading settled" id="changes-2022-08"><span class="content">
Changes since the 18 August 2022 Working Draft</span><a class="self-link" href="#changes-2022-08"></a></h3>
   <p>Significant changes since the <a href="https://www.w3.org/TR/2022/WD-css-contain-3-20220818/">18 August 2022 Working Draft</a> include:</p>
   <ul>
    <li data-md>
     <p>Add the <code class="idl"><a data-link-type="idl" href="#dom-csscontainerrule-containername" id="ref-for-dom-csscontainerrule-containername">containerName</a></code> and
<code class="idl"><a data-link-type="idl" href="#dom-csscontainerrule-containerquery" id="ref-for-dom-csscontainerrule-containerquery">containerQuery</a></code> attributes.
(<a href="https://github.com/w3c/csswg-drafts/issues/7033">Issue 7033</a>)</p>
    <li data-md>
     <p>Correct typo in <a class="property css" data-link-type="property" href="#propdef-container-type" id="ref-for-propdef-container-type⑧">container-type</a> syntax, to clarify that <a class="css" data-link-type="maybe" href="#valdef-container-type-normal" id="ref-for-valdef-container-type-normal①">normal</a> cannot
be combined with other values.
(<a href="https://github.com/w3c/csswg-drafts/issues/7669">Issue 7669</a>)</p>
   </ul>
   <h3 class="heading settled" id="changes-2021-12"><span class="content">
Changes since the 21 December 2021 First Public Working Draft</span><a class="self-link" href="#changes-2021-12"></a></h3>
   <p>Significant changes since the <a href="https://www.w3.org/TR/2021/WD-css-contain-3-20211221/">21 December 2021 First Public Working Draft</a> include:</p>
   <ul>
    <li data-md>
     <p>Allow the computed value of <a class="property css" data-link-type="property" href="#propdef-container-name" id="ref-for-propdef-container-name⑤">container-name</a> to include duplicate identifiers.
(<a href="https://github.com/w3c/csswg-drafts/issues/7181">Issue 7181</a>)</p>
    <li data-md>
     <p>Make the <a class="production css" data-link-type="property" href="#propdef-container-name" id="ref-for-propdef-container-name⑥">&lt;'container-name'></a> in the <a class="property css" data-link-type="property" href="#propdef-container" id="ref-for-propdef-container③">container</a> shorthand required.
(<a href="https://github.com/w3c/csswg-drafts/issues/7142">Issue 7142</a>)</p>
    <li data-md>
     <p>Clarify handling of <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#shorthand-property" id="ref-for-shorthand-property③">shorthand properties</a> in <a data-link-type="dfn" href="#container-style-query" id="ref-for-container-style-query⑧">container style queries</a>.
(<a href="https://github.com/w3c/csswg-drafts/issues/7095">Issue 7095</a>)</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#cascade-dependent-keyword" id="ref-for-cascade-dependent-keyword①">Cascade-dependent keywords</a> are not allowed as values in a
<a data-link-type="dfn" href="#style-features" id="ref-for-style-features③">style feature</a>, and cause the <a data-link-type="dfn" href="#container-style-query" id="ref-for-container-style-query⑨">container style query</a> to be false.
(<a href="https://github.com/w3c/csswg-drafts/issues/7080">Issue 7080</a>)</p>
    <li data-md>
     <p>Change the initial value of <a class="property css" data-link-type="property" href="#propdef-container-type" id="ref-for-propdef-container-type⑨">container-type</a> to be <a class="css" data-link-type="maybe" href="#valdef-container-type-normal" id="ref-for-valdef-container-type-normal②">normal</a>,
which establishes elements as containers for <a data-link-type="dfn" href="#style-features" id="ref-for-style-features④">style features</a>.
(<a href="https://github.com/w3c/csswg-drafts/issues/6393">Issue 6393</a>,
<a href="https://github.com/w3c/csswg-drafts/issues/7066">Issue 7066</a>,
<a href="https://github.com/w3c/csswg-drafts/issues/7402">Issue 7402</a>)</p>
    <li data-md>
     <p>Remove the block-size value from <a class="property css" data-link-type="property" href="#propdef-container-type" id="ref-for-propdef-container-type①⓪">container-type</a>,
since single-axis block-size containment is not currently possible.
(<a href="https://github.com/w3c/csswg-drafts/issues/1031">Issue 1031</a>)</p>
    <li data-md>
     <p>Remove the <a class="production css" data-link-type="type" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#string-value" id="ref-for-string-value">&lt;string></a> option from the <a class="property css" data-link-type="property" href="#propdef-container-name" id="ref-for-propdef-container-name⑦">container-name</a> syntax.
Container names must be <a class="production css" data-link-type="type" href="https://andreubotella.com/csswg-auto-build/test/css-values-4/#identifier-value" id="ref-for-identifier-value⑤">&lt;custom-ident></a>s.
(<a href="https://github.com/w3c/csswg-drafts/issues/6405">Issue 6405</a>)</p>
    <li data-md>
     <p>Reverse the order of <a class="production css" data-link-type="property" href="#propdef-container-name" id="ref-for-propdef-container-name⑧">&lt;'container-name'></a> and <a class="production css" data-link-type="property" href="#propdef-container-type" id="ref-for-propdef-container-type①①">&lt;'container-type'></a>
in the <a class="property css" data-link-type="property" href="#propdef-container" id="ref-for-propdef-container④">container</a> shorthand property, with both being optional.
(<a href="https://github.com/w3c/csswg-drafts/issues/6393">Issue 6393</a>)</p>
    <li data-md>
     <p>Allow <a class="production css" data-link-type="type" href="https://andreubotella.com/csswg-auto-build/test/mediaqueries-5/#typedef-general-enclosed" id="ref-for-typedef-general-enclosed③">&lt;general-enclosed></a> syntax in <a class="production css" data-link-type="type" href="#typedef-container-condition" id="ref-for-typedef-container-condition③">&lt;container-condition></a>s,
for the sake of forward compatability.
(<a href="https://github.com/w3c/csswg-drafts/issues/6396">Issue 6396</a>)</p>
    <li data-md>
     <p>Remove the size function syntax from <a class="production css" data-link-type="type" href="#typedef-size-feature" id="ref-for-typedef-size-feature③">&lt;size-feature></a> queries.
(<a href="https://github.com/w3c/csswg-drafts/issues/6870">Issue 6870</a>)</p>
    <li data-md>
     <p>Update the <a data-link-type="dfn" href="#query-container" id="ref-for-query-container④⑨">query container</a> selection process
to account for necessary container-types,
and removed the explicit type-selection syntax.
(<a href="https://github.com/w3c/csswg-drafts/issues/6644">Issue 6644</a>)</p>
    <li data-md>
     <p>Remove state query features, which have been deferred.
(<a href="https://github.com/w3c/csswg-drafts/issues/6402">Issue 6402</a>)</p>
    <li data-md>
     <p>Clarify container selection around pseudo-elements and the shadow-DOM.
(<a href="https://github.com/w3c/csswg-drafts/issues/5984">Issue 5984</a>
and <a href="https://github.com/w3c/csswg-drafts/issues/6711">Issue 6711</a>)</p>
   </ul>
   <h3 class="heading settled" id="l3-changes"><span class="content">
Changes from <a href="https://www.w3.org/TR/css-contain-2/">CSS Containment Level 2</a>
</span><a class="self-link" href="#l3-changes"></a></h3>
   <ul>
    <li data-md>
     <p>Introduces <a data-link-type="dfn" href="#inline-size-containment" id="ref-for-inline-size-containment⑤">inline-size containment</a>.</p>
    <li data-md>
     <p>Defines the terms, properties, units, and at-rule
needed for <a data-link-type="dfn" href="#container-query" id="ref-for-container-query①⑤">Container Queries</a></p>
   </ul>
   <p class="issue" id="issue-d41d8cd9④"><a class="self-link" href="#issue-d41d8cd9④"></a> <a href="https://andreubotella.com/csswg-auto-build/test/css-contain-2/#changes"><cite>CSS Containment 2</cite> § A Changes</a></p>
   <h2 class="no-num heading settled" id="acknowledgments"><span class="content">Acknowledgments</span><a class="self-link" href="#acknowledgments"></a></h2>
   <p>Comments and previous work from
	Adam Argyle,
	Amelia Bellamy-Royds,
	Anders Hartvoll Ruud,
	Brian Kardell,
	Chris Coyier,
	Christopher Kirk-Nielsen,
	David Herron,
	Elika J. Etemad (fantasai),
	Eric Portis,
	Ethan Marcotte,
	Geoff Graham,
	Gregory Wild-Smith,
	Ian Kilpatrick,
	Jen Simmons,
	Kenneth Rohde Christiansen,
	L. David Baron,
	Lea Verou,
	Martin Auswöger,
	Martine Dowden,
	Mike Riethmuller,
	Morten Stenshorne,
	Nicole Sullivan,
	Rune Lillesveen,
	Scott Jehl
	Scott Kellum,
	Stacy Kvernmo,
	Theresa O’Connor,
	Una Kravets,
	and many others have contributed to this specification.</p>
  </main>
  <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">
Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>
  <h3 class="no-ref heading settled" id="w3c-conventions"><span class="content">
Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>
  <p>Conformance requirements are expressed with a combination of
    descriptive assertions and RFC 2119 terminology. The key words “MUST”,
    “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
    “RECOMMENDED”, “MAY”, and “OPTIONAL” in the normative parts of this
    document are to be interpreted as described in RFC 2119.
    However, for readability, these words do not appear in all uppercase
    letters in this specification.

    </p>
  <p>All of the text of this specification is normative except sections
    explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a></p>
  <p>Examples in this specification are introduced with the words “for example”
    or are set apart from the normative text with <code>class="example"</code>,
    like this:

    </p>
  <div class="example" id="w3c-example">
   <a class="self-link" href="#w3c-example"></a>
        
   <p>This is an example of an informative example.</p>
  </div>
  <p>Informative notes begin with the word “Note” and are set apart from the
    normative text with <code>class="note"</code>, like this:

    </p>
  <p class="note" role="note">Note, this is an informative note.</p>
  <p>Advisements are normative sections styled to evoke special attention and are
    set apart from other normative text with <code>&lt;strong class="advisement"></code>, like
    this:

    <strong class="advisement">
        UAs MUST provide an accessible alternative.
    </strong></p>
  <details class="wpt-tests-block" dir="ltr" lang="en" open>
   <summary>Tests</summary>
   <p>Tests relating to the content of this specification
                     may be documented in “Tests” blocks like this one.
                     Any such block is non-normative.</p>
   <ul class="wpt-tests-list"></ul>
   <hr>
  </details>
  <h3 class="no-ref heading settled" id="w3c-conformance-classes"><span class="content">
Conformance classes</span><a class="self-link" href="#w3c-conformance-classes"></a></h3>
  <p>Conformance to this specification
    is defined for three conformance classes:
    </p>
  <dl>
   <dt>style sheet
            
   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
            style sheet</a>.
        
   <dt>renderer
            
   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
            that interprets the semantics of a style sheet and renders
            documents that use them.
        
   <dt>authoring tool
            
   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
            that writes a style sheet.
    
  </dl>
  <p>A style sheet is conformant to this specification
    if all of its statements that use syntax defined in this module are valid
    according to the generic CSS grammar and the individual grammars of each
    feature defined in this module.

    </p>
  <p>A renderer is conformant to this specification
    if, in addition to interpreting the style sheet as defined by the
    appropriate specifications, it supports all the features defined
    by this specification by parsing them correctly
    and rendering the document accordingly. However, the inability of a
    UA to correctly render a document due to limitations of the device
    does not make the UA non-conformant. (For example, a UA is not
    required to render color on a monochrome monitor.)

    </p>
  <p>An authoring tool is conformant to this specification
    if it writes style sheets that are syntactically correct according to the
    generic CSS grammar and the individual grammars of each feature in
    this module, and meet all other conformance requirements of style sheets
    as described in this module.

</p>
  <h3 class="no-ref heading settled" id="w3c-partial"><span class="content">
Partial implementations</span><a class="self-link" href="#w3c-partial"></a></h3>
  <p>So that authors can exploit the forward-compatible parsing rules to
    assign fallback values, CSS renderers <strong>must</strong>
    treat as invalid (and <a href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignore
    as appropriate</a>) any at-rules, properties, property values, keywords,
    and other syntactic constructs for which they have no usable level of
    support. In particular, user agents <strong>must not</strong> selectively
    ignore unsupported component values and honor supported values in a single
    multi-value property declaration: if any value is considered invalid
    (as unsupported values must be), CSS requires that the entire declaration
    be ignored.</p>
  <h4 class="heading settled" id="w3c-conform-future-proofing"><span class="content">
Implementations of Unstable and Proprietary Features</span><a class="self-link" href="#w3c-conform-future-proofing"></a></h4>
  <p>To avoid clashes with future stable CSS features,
        the CSSWG recommends <a href="http://www.w3.org/TR/CSS/#future-proofing">following best practices</a> for the implementation of <a href="http://www.w3.org/TR/CSS/#unstable">unstable</a> features and <a href="http://www.w3.org/TR/CSS/#proprietary-extension">proprietary extensions</a> to CSS.

</p>
  <h3 class="no-ref heading settled" id="w3c-testing"><span class="content">
Non-experimental implementations</span><a class="self-link" href="#w3c-testing"></a></h3>
  <p>Once a specification reaches the Candidate Recommendation stage,
    non-experimental implementations are possible, and implementors should
    release an unprefixed implementation of any CR-level feature they
    can demonstrate to be correctly implemented according to spec.

    </p>
  <p>To establish and maintain the interoperability of CSS across
    implementations, the CSS Working Group requests that non-experimental
    CSS renderers submit an implementation report (and, if necessary, the
    testcases used for that implementation report) to the W3C before
    releasing an unprefixed implementation of any CSS features. Testcases
    submitted to W3C are subject to review and correction by the CSS
    Working Group.

    </p>
  <p>Further information on submitting testcases and implementation reports
    can be found from on the CSS Working Group’s website at
    <a href="http://www.w3.org/Style/CSS/Test/">http://www.w3.org/Style/CSS/Test/</a>.
    Questions should be directed to the
    <a href="http://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a>
    mailing list.</p>
  <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#descdef-container-aspect-ratio">aspect-ratio</a><span>, in § 5.1.5</span>
   <li><a href="#descdef-container-block-size">block-size</a><span>, in § 5.1.4</span>
   <li><a href="#at-ruledef-container">@container</a><span>, in § 4.4</span>
   <li><a href="#propdef-container">container</a><span>, in § 4.3</span>
   <li><a href="#typedef-container-condition">&lt;container-condition></a><span>, in § 4.4</span>
   <li><a href="#container-feature">container feature</a><span>, in § 5</span>
   <li><a href="#typedef-container-name">&lt;container-name></a><span>, in § 4.4</span>
   <li><a href="#propdef-container-name">container-name</a><span>, in § 4.2</span>
   <li><a href="#dom-csscontainerrule-containername">containerName</a><span>, in § 7.1</span>
   <li><a href="#typedef-container-query">&lt;container-query></a><span>, in § 4.4</span>
   <li><a href="#container-query">container query</a><span>, in § 4.4</span>
   <li><a href="#dom-csscontainerrule-containerquery">containerQuery</a><span>, in § 7.1</span>
   <li><a href="#container-query-length">container query length</a><span>, in § 6</span>
   <li><a href="#container-size-query">container size query</a><span>, in § 5.1</span>
   <li><a href="#container-style-query">container style query</a><span>, in § 5.2</span>
   <li><a href="#propdef-container-type">container-type</a><span>, in § 4.1</span>
   <li><a href="#csscontainerrule">CSSContainerRule</a><span>, in § 7.1</span>
   <li><a href="#valdef-container-name-custom-ident">&lt;custom-ident></a><span>, in § 4.2</span>
   <li><a href="#descdef-container-height">height</a><span>, in § 5.1.2</span>
   <li>
    inline-size
    <ul>
     <li><a href="#descdef-container-inline-size">descriptor for @container</a><span>, in § 5.1.3</span>
     <li><a href="#valdef-contain-inline-size">value for contain</a><span>, in § 2</span>
     <li><a href="#valdef-container-type-inline-size">value for container-type</a><span>, in § 4.1</span>
    </ul>
   <li><a href="#inline-size-containment">inline-size containment</a><span>, in § 3.1</span>
   <li><a href="#valdef-container-orientation-landscape">landscape</a><span>, in § 5.1.6</span>
   <li><a href="#valdef-container-name-none">none</a><span>, in § 4.2</span>
   <li><a href="#valdef-container-type-normal">normal</a><span>, in § 4.1</span>
   <li><a href="#descdef-container-orientation">orientation</a><span>, in § 5.1.6</span>
   <li><a href="#valdef-container-orientation-portrait">portrait</a><span>, in § 5.1.6</span>
   <li><a href="#query-container">query container</a><span>, in § 4.1</span>
   <li><a href="#query-container-name">query container name</a><span>, in § 4.2</span>
   <li><a href="#typedef-query-in-parens">&lt;query-in-parens></a><span>, in § 4.4</span>
   <li><a href="#valdef-container-type-size">size</a><span>, in § 4.1</span>
   <li><a href="#typedef-size-feature">&lt;size-feature></a><span>, in § 5.1</span>
   <li><a href="#size-features">size features</a><span>, in § 5.1</span>
   <li><a href="#typedef-style-feature">&lt;style-feature></a><span>, in § 5.2</span>
   <li><a href="#style-features">style features</a><span>, in § 5.2</span>
   <li><a href="#typedef-style-in-parens">&lt;style-in-parens></a><span>, in § 4.4</span>
   <li><a href="#typedef-style-query">&lt;style-query></a><span>, in § 4.4</span>
   <li><a href="#descdef-container-width">width</a><span>, in § 5.1.1</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[CSS-ANIMATIONS-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="6329a743">@keyframes</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-BOX-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="9866d317">content box</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-BREAK-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="832a5bc4">fragmentation</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-CASCADE-5]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="ac5b945e">@layer</span>
     <li><span class="dfn-paneled" id="fef025c9">cascade-dependent keyword</span>
     <li><span class="dfn-paneled" id="af32c312">computed value</span>
     <li><span class="dfn-paneled" id="8a36bcc2">initial value</span>
     <li><span class="dfn-paneled" id="e21f4ef3">longhand property</span>
     <li><span class="dfn-paneled" id="3040890a">revert</span>
     <li><span class="dfn-paneled" id="cebc3928">revert-layer</span>
     <li><span class="dfn-paneled" id="d88961e6">shorthand</span>
     <li><span class="dfn-paneled" id="afd7969f">shorthand property</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-CONDITIONAL-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="629933c1">@supports</span>
     <li><span class="dfn-paneled" id="62bcd1fa">CSSConditionRule</span>
     <li><span class="dfn-paneled" id="fa409fdb">conditional group rule</span>
     <li><span class="dfn-paneled" id="f7f72413">CSS feature queries</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-CONTAIN-2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="0c937f45">contain</span>
     <li><span class="dfn-paneled" id="7bd96119">content-visibility</span>
     <li><span class="dfn-paneled" id="7b4586cc">layout containment</span>
     <li><span class="dfn-paneled" id="fa2c4385">layout containment box</span>
     <li><span class="dfn-paneled" id="b6d8d9f3">size containment</span>
     <li><span class="dfn-paneled" id="f92062e0">style containment</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-DISPLAY-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="54cbb1ce">atomic inline</span>
     <li><span class="dfn-paneled" id="5b0bdd3c">display</span>
     <li><span class="dfn-paneled" id="e03cf590">inline-level</span>
     <li><span class="dfn-paneled" id="30c68947">internal ruby box</span>
     <li><span class="dfn-paneled" id="c43fd450">internal table box</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-DISPLAY-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="36f5ad6f">formatting context</span>
     <li><span class="dfn-paneled" id="2c2ac2a7">inner display type</span>
     <li><span class="dfn-paneled" id="6a70f541">principal box</span>
     <li><span class="dfn-paneled" id="3d79158d">table</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-FONTS-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="532854f5">font-size</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-FONTS-5]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="4f22bd22">@font-face</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-FORMS-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="0e75a7e9">::file-selector-button</span>
     <li><span class="dfn-paneled" id="cf89060f">::placeholder</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-POSITION-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="29d6da5f">::backdrop</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-PSEUDO-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="54296280">::after</span>
     <li><span class="dfn-paneled" id="2012be5e">::before</span>
     <li><span class="dfn-paneled" id="ee2d23e6">::first-letter</span>
     <li><span class="dfn-paneled" id="c5136a3a">::first-line</span>
     <li><span class="dfn-paneled" id="8a4c9290">::marker</span>
     <li><span class="dfn-paneled" id="6452632c">fictional tag sequence</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-SCOPING-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="b8cf89ac">::slotted()</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-SHADOW-PARTS-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="da11c1e3">::part()</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-SIZING-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="706788bf">height</span>
     <li><span class="dfn-paneled" id="34ec63ad">intrinsic size</span>
     <li><span class="dfn-paneled" id="3db30d4d">min-content size</span>
     <li><span class="dfn-paneled" id="d978b5c4">min-width</span>
     <li><span class="dfn-paneled" id="d4786e92">size</span>
     <li><span class="dfn-paneled" id="d23b962a">width</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-SIZING-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="a66908db">aspect-ratio</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-SYNTAX-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="7ef4dcc3">&lt;stylesheet></span>
     <li><span class="dfn-paneled" id="77446697">at-rule</span>
     <li><span class="dfn-paneled" id="127d768f">declaration</span>
     <li><span class="dfn-paneled" id="bf1cee09">style rule</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-TRANSITIONS-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="1b8d61a0">style change event</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-VALUES-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="353b3fff">*</span>
     <li><span class="dfn-paneled" id="52cdc00c">+</span>
     <li><span class="dfn-paneled" id="8e56b32c">&lt;custom-ident></span>
     <li><span class="dfn-paneled" id="af5d24db">&lt;length></span>
     <li><span class="dfn-paneled" id="6f0df32d">&lt;ratio></span>
     <li><span class="dfn-paneled" id="b0b742e0">&lt;string></span>
     <li><span class="dfn-paneled" id="e5365b83">?</span>
     <li><span class="dfn-paneled" id="9ecf6b7b">CSS-wide keywords</span>
     <li><span class="dfn-paneled" id="d28d90ff">em</span>
     <li><span class="dfn-paneled" id="81018fdc">identifier</span>
     <li><span class="dfn-paneled" id="0da93954">relative length</span>
     <li><span class="dfn-paneled" id="f77f1277">small viewport size</span>
     <li><span class="dfn-paneled" id="7936a36b">|</span>
     <li><span class="dfn-paneled" id="12c99e51">||</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-WRITING-MODES-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="fc4f6b66">block axis</span>
     <li><span class="dfn-paneled" id="c465b8aa">block size</span>
     <li><span class="dfn-paneled" id="99f93162">block-axis</span>
     <li><span class="dfn-paneled" id="abe59e98">inline axis</span>
     <li><span class="dfn-paneled" id="224aeb29">inline size</span>
     <li><span class="dfn-paneled" id="cf639e00">inline-axis</span>
     <li><span class="dfn-paneled" id="f0881bb4">inline-size</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="17e035db">line-height</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSSOM-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="04b23c8e">CSSOMString</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSSOM-VIEW-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="e9e6ebce">MediaQueryList</span>
     <li><span class="dfn-paneled" id="2f27662a">matchMedia(query)</span>
    </ul>
   <li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="fd32e3c9">shadow-including descendant</span>
     <li><span class="dfn-paneled" id="3d6a3d36">shadow-including inclusive ancestor</span>
    </ul>
   <li>
    <a data-link-type="biblio">[MEDIAQUERIES-5]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="dba1a2ff">&lt;general-enclosed></span>
     <li><span class="dfn-paneled" id="8755e1d2">media feature</span>
     <li><span class="dfn-paneled" id="366160bd">media query</span>
     <li><span class="dfn-paneled" id="e3270b68">not</span>
    </ul>
   <li>
    <a data-link-type="biblio">[SELECTORS-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="865e056b">ultimate originating element</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEB-ANIMATIONS-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="d21956b1">effect value</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="889e932f">Exposed</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-css-animations-1">[CSS-ANIMATIONS-1]
   <dd>David Baron; et al. <a href="https://andreubotella.com/csswg-auto-build/test/css-animations/"><cite>CSS Animations Level 1</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/css-animations/">https://andreubotella.com/csswg-auto-build/test/css-animations/</a>
   <dt id="biblio-css-box-4">[CSS-BOX-4]
   <dd>Elika Etemad. <a href="https://andreubotella.com/csswg-auto-build/test/css-box-4/"><cite>CSS Box Model Module Level 4</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/css-box-4/">https://andreubotella.com/csswg-auto-build/test/css-box-4/</a>
   <dt id="biblio-css-break-3">[CSS-BREAK-3]
   <dd>Rossen Atanassov; Elika Etemad. <a href="https://andreubotella.com/csswg-auto-build/test/css-break/"><cite>CSS Fragmentation Module Level 3</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/css-break/">https://andreubotella.com/csswg-auto-build/test/css-break/</a>
   <dt id="biblio-css-cascade-4">[CSS-CASCADE-4]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://andreubotella.com/csswg-auto-build/test/css-cascade-4/"><cite>CSS Cascading and Inheritance Level 4</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/css-cascade-4/">https://andreubotella.com/csswg-auto-build/test/css-cascade-4/</a>
   <dt id="biblio-css-cascade-5">[CSS-CASCADE-5]
   <dd>Elika Etemad; Miriam Suzanne; Tab Atkins Jr.. <a href="https://andreubotella.com/csswg-auto-build/test/css-cascade-5/"><cite>CSS Cascading and Inheritance Level 5</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/css-cascade-5/">https://andreubotella.com/csswg-auto-build/test/css-cascade-5/</a>
   <dt id="biblio-css-conditional-3">[CSS-CONDITIONAL-3]
   <dd>Chris Lilley; David Baron; Elika Etemad. <a href="https://andreubotella.com/csswg-auto-build/test/css-conditional-3/"><cite>CSS Conditional Rules Module Level 3</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/css-conditional-3/">https://andreubotella.com/csswg-auto-build/test/css-conditional-3/</a>
   <dt id="biblio-css-contain-1">[CSS-CONTAIN-1]
   <dd>Tab Atkins Jr.; Florian Rivoal. <a href="https://andreubotella.com/csswg-auto-build/test/css-contain-1/"><cite>CSS Containment Module Level 1</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/css-contain-1/">https://andreubotella.com/csswg-auto-build/test/css-contain-1/</a>
   <dt id="biblio-css-contain-2">[CSS-CONTAIN-2]
   <dd>Tab Atkins Jr.; Florian Rivoal; Vladimir Levin. <a href="https://andreubotella.com/csswg-auto-build/test/css-contain-2/"><cite>CSS Containment Module Level 2</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/css-contain-2/">https://andreubotella.com/csswg-auto-build/test/css-contain-2/</a>
   <dt id="biblio-css-display-3">[CSS-DISPLAY-3]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://andreubotella.com/csswg-auto-build/test/css-display/"><cite>CSS Display Module Level 3</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/css-display/">https://andreubotella.com/csswg-auto-build/test/css-display/</a>
   <dt id="biblio-css-display-4">[CSS-DISPLAY-4]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://andreubotella.com/csswg-auto-build/test/css-display/"><cite>CSS Display Module Level 4</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/css-display/">https://andreubotella.com/csswg-auto-build/test/css-display/</a>
   <dt id="biblio-css-fonts-5">[CSS-FONTS-5]
   <dd>Chris Lilley. <a href="https://andreubotella.com/csswg-auto-build/test/css-fonts-5/"><cite>CSS Fonts Module Level 5</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/css-fonts-5/">https://andreubotella.com/csswg-auto-build/test/css-fonts-5/</a>
   <dt id="biblio-css-sizing-3">[CSS-SIZING-3]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://andreubotella.com/csswg-auto-build/test/css-sizing-3/"><cite>CSS Box Sizing Module Level 3</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/css-sizing-3/">https://andreubotella.com/csswg-auto-build/test/css-sizing-3/</a>
   <dt id="biblio-css-syntax-3">[CSS-SYNTAX-3]
   <dd>Tab Atkins Jr.; Simon Sapin. <a href="https://andreubotella.com/csswg-auto-build/test/css-syntax/"><cite>CSS Syntax Module Level 3</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/css-syntax/">https://andreubotella.com/csswg-auto-build/test/css-syntax/</a>
   <dt id="biblio-css-transitions-1">[CSS-TRANSITIONS-1]
   <dd>David Baron; et al. <a href="https://andreubotella.com/csswg-auto-build/test/css-transitions/"><cite>CSS Transitions</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/css-transitions/">https://andreubotella.com/csswg-auto-build/test/css-transitions/</a>
   <dt id="biblio-css-values-3">[CSS-VALUES-3]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://andreubotella.com/csswg-auto-build/test/css-values-3/"><cite>CSS Values and Units Module Level 3</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/css-values-3/">https://andreubotella.com/csswg-auto-build/test/css-values-3/</a>
   <dt id="biblio-css-values-4">[CSS-VALUES-4]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://andreubotella.com/csswg-auto-build/test/css-values-4/"><cite>CSS Values and Units Module Level 4</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/css-values-4/">https://andreubotella.com/csswg-auto-build/test/css-values-4/</a>
   <dt id="biblio-css-writing-modes-4">[CSS-WRITING-MODES-4]
   <dd>Elika Etemad; Koji Ishii. <a href="https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/"><cite>CSS Writing Modes Level 4</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/">https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/</a>
   <dt id="biblio-css2">[CSS2]
   <dd>Bert Bos; et al. <a href="https://andreubotella.com/csswg-auto-build/test/css2/"><cite>Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/css2/">https://andreubotella.com/csswg-auto-build/test/css2/</a>
   <dt id="biblio-cssom-1">[CSSOM-1]
   <dd>Daniel Glazman; Emilio Cobos Álvarez. <a href="https://andreubotella.com/csswg-auto-build/test/cssom/"><cite>CSS Object Model (CSSOM)</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/cssom/">https://andreubotella.com/csswg-auto-build/test/cssom/</a>
   <dt id="biblio-cssom-view-1">[CSSOM-VIEW-1]
   <dd>Simon Pieters. <a href="https://andreubotella.com/csswg-auto-build/test/cssom-view/"><cite>CSSOM View Module</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/cssom-view/">https://andreubotella.com/csswg-auto-build/test/cssom-view/</a>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-mediaqueries-5">[MEDIAQUERIES-5]
   <dd>Dean Jackson; et al. <a href="https://andreubotella.com/csswg-auto-build/test/mediaqueries-5/"><cite>Media Queries Level 5</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/mediaqueries-5/">https://andreubotella.com/csswg-auto-build/test/mediaqueries-5/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
   <dt id="biblio-selectors-4">[SELECTORS-4]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://andreubotella.com/csswg-auto-build/test/selectors/"><cite>Selectors Level 4</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/selectors/">https://andreubotella.com/csswg-auto-build/test/selectors/</a>
   <dt id="biblio-web-animations-1">[WEB-ANIMATIONS-1]
   <dd>Brian Birtles; et al. <a href="https://andreubotella.com/csswg-auto-build/test/web-animations-1/"><cite>Web Animations</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/web-animations-1/">https://andreubotella.com/csswg-auto-build/test/web-animations-1/</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-css-fonts-4">[CSS-FONTS-4]
   <dd>Chris Lilley. <a href="https://andreubotella.com/csswg-auto-build/test/css-fonts-4/"><cite>CSS Fonts Module Level 4</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/css-fonts-4/">https://andreubotella.com/csswg-auto-build/test/css-fonts-4/</a>
   <dt id="biblio-css-forms-1">[CSS-FORMS-1]
   <dd>Tim Nguyen. <a href="https://andreubotella.com/csswg-auto-build/test/css-forms-1/"><cite>CSS Form Control Styling Level 1</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/css-forms-1/">https://andreubotella.com/csswg-auto-build/test/css-forms-1/</a>
   <dt id="biblio-css-position-4">[CSS-POSITION-4]
   <dd><a href="https://andreubotella.com/csswg-auto-build/test/css-position-4/"><cite>CSS Positioned Layout Module Level 4</cite></a>. Editor's Draft. URL: <a href="https://andreubotella.com/csswg-auto-build/test/css-position-4/">https://andreubotella.com/csswg-auto-build/test/css-position-4/</a>
   <dt id="biblio-css-pseudo-4">[CSS-PSEUDO-4]
   <dd>Elika Etemad; Alan Stearns. <a href="https://andreubotella.com/csswg-auto-build/test/css-pseudo-4/"><cite>CSS Pseudo-Elements Module Level 4</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/css-pseudo-4/">https://andreubotella.com/csswg-auto-build/test/css-pseudo-4/</a>
   <dt id="biblio-css-scoping-1">[CSS-SCOPING-1]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://andreubotella.com/csswg-auto-build/test/css-scoping/"><cite>CSS Scoping Module Level 1</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/css-scoping/">https://andreubotella.com/csswg-auto-build/test/css-scoping/</a>
   <dt id="biblio-css-shadow-parts-1">[CSS-SHADOW-PARTS-1]
   <dd>Tab Atkins Jr.; Fergal Daly. <a href="https://andreubotella.com/csswg-auto-build/test/css-shadow-parts/"><cite>CSS Shadow Parts</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/css-shadow-parts/">https://andreubotella.com/csswg-auto-build/test/css-shadow-parts/</a>
   <dt id="biblio-css-sizing-4">[CSS-SIZING-4]
   <dd>Tab Atkins Jr.; Elika Etemad; Jen Simmons. <a href="https://andreubotella.com/csswg-auto-build/test/css-sizing-4/"><cite>CSS Box Sizing Module Level 4</cite></a>. URL: <a href="https://andreubotella.com/csswg-auto-build/test/css-sizing-4/">https://andreubotella.com/csswg-auto-build/test/css-sizing-4/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="property-index"><span class="content">Property Index</span><a class="self-link" href="#property-index"></a></h2>
  <div class="big-element-wrapper">
   <table class="index">
    <thead>
     <tr>
      <th scope="col">Name
      <th scope="col">Value
      <th scope="col">Initial
      <th scope="col">Applies to
      <th scope="col">Inh.
      <th scope="col">%ages
      <th scope="col">Anim­ation type
      <th scope="col">Canonical order
      <th scope="col">Com­puted value
    <tbody>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-container" id="ref-for-propdef-container⑤">container</a>
      <td>&lt;'container-name'> [ / &lt;'container-type'> ]?
      <td>see individual properties
      <td>see individual properties
      <td>see individual properties
      <td>see individual properties
      <td>see individual properties
      <td>per grammar
      <td>see individual properties
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-container-name" id="ref-for-propdef-container-name⑨">container-name</a>
      <td>none | &lt;custom-ident>+
      <td>none
      <td>all elements
      <td>no
      <td>n/a
      <td>not animatable
      <td>per grammar
      <td>the keyword none, or an ordered list of identifiers
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-container-type" id="ref-for-propdef-container-type①②">container-type</a>
      <td>normal | size | inline-size
      <td>normal
      <td>all elements
      <td>no
      <td>n/a
      <td>not animatable
      <td>per grammar
      <td>the keyword normal or one or more of size, inline-size
   </table>
  </div>
  <h3 class="no-num no-ref heading settled" id="container-descriptor-table"><span class="content"><a class="css" data-link-type="at-rule" href="#at-ruledef-container" id="ref-for-at-ruledef-container①④">@container</a> Descriptors</span><a class="self-link" href="#container-descriptor-table"></a></h3>
  <div class="big-element-wrapper">
   <table class="index">
    <thead>
     <tr>
      <th scope="col">Name
      <th scope="col">Value
      <th scope="col">Initial
      <th scope="col">Type
    <tbody>
     <tr>
      <th scope="row"><a class="css" data-link-type="descriptor" href="#descdef-container-aspect-ratio" id="ref-for-descdef-container-aspect-ratio②">aspect-ratio</a>
      <td>&lt;ratio>
      <td>
      <td>range
     <tr>
      <th scope="row"><a class="css" data-link-type="descriptor" href="#descdef-container-block-size" id="ref-for-descdef-container-block-size②">block-size</a>
      <td>&lt;length>
      <td>
      <td>range
     <tr>
      <th scope="row"><a class="css" data-link-type="descriptor" href="#descdef-container-height" id="ref-for-descdef-container-height④">height</a>
      <td>&lt;length>
      <td>
      <td>range
     <tr>
      <th scope="row"><a class="css" data-link-type="descriptor" href="#descdef-container-inline-size" id="ref-for-descdef-container-inline-size④">inline-size</a>
      <td>&lt;length>
      <td>
      <td>range
     <tr>
      <th scope="row"><a class="css" data-link-type="descriptor" href="#descdef-container-orientation" id="ref-for-descdef-container-orientation③">orientation</a>
      <td>portrait | landscape
      <td>
      <td>discrete
     <tr>
      <th scope="row"><a class="css" data-link-type="descriptor" href="#descdef-container-width" id="ref-for-descdef-container-width④">width</a>
      <td>&lt;length>
      <td>
      <td>range
   </table>
  </div>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#csscontainerrule"><code><c- g>CSSContainerRule</c-></code></a> : <a data-link-type="idl-name" href="https://andreubotella.com/csswg-auto-build/test/css-conditional-3/#cssconditionrule"><c- n>CSSConditionRule</c-></a> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://andreubotella.com/csswg-auto-build/test/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a data-readonly data-type="CSSOMString" href="#dom-csscontainerrule-containername"><code><c- g>containerName</c-></code></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://andreubotella.com/csswg-auto-build/test/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a data-readonly data-type="CSSOMString" href="#dom-csscontainerrule-containerquery"><code><c- g>containerQuery</c-></code></a>;
};

</pre>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> This is a diff spec over <a href="https://www.w3.org/TR/css-contain-2/">CSS Containment Level 2</a>.
	It is currently an Exploratory Working Draft:
	if you are implementing anything, please use Level 2 as a reference.
	We will merge the Level 2 text into this draft once it reaches CR. <a class="issue-return" href="#issue-2016550a" title="Jump to section">↵</a></div>
   <div class="issue"> <a href="https://andreubotella.com/csswg-auto-build/test/css-contain-2/#contain-property"><cite>CSS Containment 2</cite> § 2 Strong Containment: the contain property</a> <a class="issue-return" href="#issue-d41d8cd9" title="Jump to section">↵</a></div>
   <div class="issue"> <a href="https://andreubotella.com/csswg-auto-build/test/css-contain-2/#containment-types"><cite>CSS Containment 2</cite> § 3 Types of Containment</a> <a class="issue-return" href="#issue-d41d8cd9①" title="Jump to section">↵</a></div>
   <div class="issue">
		In general, the relationship between an element’s inline size
		and it’s block size
		is unpredictable and non-monotonic,
		with the block size capable of shifting up and down arbitrarily
		as the inline size is changed.
		Infinite cycles are prevented
		by ensuring that layout does not revert to a previous (known-problematic) state,
		even if a naive analysis of the constraints would allow for such;
		in other words, layout always “moves forward”.
		We believe that current CSS layout specifications incorporate such rules,
		but to the extent that they don’t,
		please <a href="https://github.com/w3c/csswg-drafts/issues">inform the CSSWG</a>
		so that these errors can be corrected. <a class="issue-return" href="#issue-ac484479" title="Jump to section">↵</a></div>
   <div class="issue"> Container Queries should have a <code>matchContainer</code> method.
	This will be modeled on <code class="idl"><a data-link-type="idl" href="https://andreubotella.com/csswg-auto-build/test/cssom-view-1/#dom-window-matchmedia">matchMedia()</a></code> and the <code class="idl"><a data-link-type="idl" href="https://andreubotella.com/csswg-auto-build/test/cssom-view-1/#mediaquerylist">MediaQueryList</a></code> interface,
	but applied to Elements rather than the Window.
	When measuring layout sizes, it behaves Similar to <code>resizeObserver</code>,
	but it provides the additional Container Query syntax and features. <a href="https://github.com/w3c/csswg-drafts/issues/6205">[Issue #6205]</a> <a class="issue-return" href="#issue-2e3d6538" title="Jump to section">↵</a></div>
   <div class="issue"> <a href="https://andreubotella.com/csswg-auto-build/test/css-contain-2/#content-visibility"><cite>CSS Containment 2</cite> § 4 Suppressing An Element’s Contents Entirely: the content-visibility property</a> <a class="issue-return" href="#issue-d41d8cd9②" title="Jump to section">↵</a></div>
   <div class="issue"> <span spec-section="#priv-sec"></span> <a class="issue-return" href="#issue-d41d8cd9③" title="Jump to section">↵</a></div>
   <div class="issue"> <a href="https://andreubotella.com/csswg-auto-build/test/css-contain-2/#changes"><cite>CSS Containment 2</cite> § A Changes</a> <a class="issue-return" href="#issue-d41d8cd9④" title="Jump to section">↵</a></div>
  </div>
  <details class="mdn-anno unpositioned" data-anno-for="dom-csscontainerrule-containername">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CSSContainerRule/containerName" title="The read-only containerName property of the CSSContainerRule interface represents the container name of the associated CSS @container at-rule.">CSSContainerRule/containerName</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>110+</span></span><span class="safari yes"><span>Safari</span><span>17+</span></span><span class="chrome yes"><span>Chrome</span><span>111+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>111+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-csscontainerrule-containerquery">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CSSContainerRule/containerQuery" title="The read-only containerQuery property of the CSSContainerRule interface returns a string representing the container conditions that are evaluated when the container changes size in order to determine if the styles in the associated @container are applied.">CSSContainerRule/containerQuery</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>110+</span></span><span class="safari yes"><span>Safari</span><span>17+</span></span><span class="chrome yes"><span>Chrome</span><span>111+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>111+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="the-csscontainerrule-interface">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CSSContainerRule" title="The CSSContainerRule interface represents a single CSS @container rule.">CSSContainerRule</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>110+</span></span><span class="safari yes"><span>Safari</span><span>16+</span></span><span class="chrome yes"><span>Chrome</span><span>105+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>105+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="style-container">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@container" title="The @container CSS at-rule is a conditional group rule that applies styles to a containment context. Style declarations are filtered by a condition and applied to the container if the condition is true. The condition is evaluated when the container changes size.">@container</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>111+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>111+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="container-rule">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@container" title="The @container CSS at-rule is a conditional group rule that applies styles to a containment context. Style declarations are filtered by a condition and applied to the container if the condition is true. The condition is evaluated when the container changes size.">@container</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>110+</span></span><span class="safari yes"><span>Safari</span><span>16+</span></span><span class="chrome yes"><span>Chrome</span><span>105+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>105+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="valdef-contain-inline-size">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/contain#inline-size" title="The contain CSS property indicates that an element and its contents are, as much as possible, independent from the rest of the document tree. Containment enables isolating a subsection of the DOM, providing performance benefits by limiting calculations of layout, style, paint, size, or any combination to a DOM subtree rather than the entire page. Containment can also be used to scope CSS counters and quotes.">contain#inline-size</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>101+</span></span><span class="safari yes"><span>Safari</span><span>15.4+</span></span><span class="chrome yes"><span>Chrome</span><span>105+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>105+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="container-name">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/container-name" title="The container-name CSS property specifies a list of query container names used by the @container at-rule in a container query. A container query will apply styles to elements based on the size of the nearest ancestor with a containment context. When a containment context is given a name, it can be specifically targeted using the @container at-rule instead of the nearest ancestor with containment.">container-name</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>110+</span></span><span class="safari yes"><span>Safari</span><span>16+</span></span><span class="chrome yes"><span>Chrome</span><span>105+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>105+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="container-type">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/container-type" title="The container-type CSS property is used to define the type of containment used in a container query.">container-type</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>110+</span></span><span class="safari yes"><span>Safari</span><span>16+</span></span><span class="chrome yes"><span>Chrome</span><span>105+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>105+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="container-shorthand">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/container" title="The container shorthand CSS property establishes the element as a query container and specifies the name or name for the containment context used in a container query.">container</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>110+</span></span><span class="safari yes"><span>Safari</span><span>16+</span></span><span class="chrome yes"><span>Chrome</span><span>105+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>105+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
<script>/* Boilerplate: script-dom-helper */
"use strict";
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}</script>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
let dfnPanelData = {
"04b23c8e": {"dfnID":"04b23c8e","dfnText":"CSSOMString","external":true,"refSections":[{"refs":[{"id":"ref-for-cssomstring"},{"id":"ref-for-cssomstring\u2460"}],"title":"7.1. \nThe CSSContainerRule interface"}],"url":"https://andreubotella.com/csswg-auto-build/test/cssom-1/#cssomstring"},
"0c937f45": {"dfnID":"0c937f45","dfnText":"contain","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-contain"}],"title":"Unnumbered Section"},{"refs":[{"id":"ref-for-propdef-contain\u2460"},{"id":"ref-for-propdef-contain\u2461"}],"title":"2. \nStrong Containment: the contain property"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-contain-2/#propdef-contain"},
"0da93954": {"dfnID":"0da93954","dfnText":"relative length","external":true,"refSections":[{"refs":[{"id":"ref-for-relative-length"}],"title":"5.1. \nSize Container Features"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-values-4/#relative-length"},
"0e75a7e9": {"dfnID":"0e75a7e9","dfnText":"::file-selector-button","external":true,"refSections":[{"refs":[{"id":"ref-for-selectordef-file-selector-button"}],"title":"4. \nContainer Queries"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-forms-1/#selectordef-file-selector-button"},
"127d768f": {"dfnID":"127d768f","dfnText":"declaration","external":true,"refSections":[{"refs":[{"id":"ref-for-declaration"}],"title":"5.2. \nStyle Container Features"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-syntax-3/#declaration"},
"12c99e51": {"dfnID":"12c99e51","dfnText":"||","external":true,"refSections":[{"refs":[{"id":"ref-for-comb-any"},{"id":"ref-for-comb-any\u2460"},{"id":"ref-for-comb-any\u2461"}],"title":"2. \nStrong Containment: the contain property"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-values-4/#comb-any"},
"17e035db": {"dfnID":"17e035db","dfnText":"line-height","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-line-height"}],"title":"4.1. \nCreating Query Containers: the container-type property"}],"url":"https://andreubotella.com/csswg-auto-build/test/css2/#propdef-line-height"},
"1b8d61a0": {"dfnID":"1b8d61a0","dfnText":"style change event","external":true,"refSections":[{"refs":[{"id":"ref-for-style-change-event"},{"id":"ref-for-style-change-event\u2460"},{"id":"ref-for-style-change-event\u2461"}],"title":"4.5. \nAnimated Containers"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-transitions-1/#style-change-event"},
"2012be5e": {"dfnID":"2012be5e","dfnText":"::before","external":true,"refSections":[{"refs":[{"id":"ref-for-selectordef-before"}],"title":"4. \nContainer Queries"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-pseudo-4/#selectordef-before"},
"224aeb29": {"dfnID":"224aeb29","dfnText":"inline size","external":true,"refSections":[{"refs":[{"id":"ref-for-inline-size"}],"title":"2. \nStrong Containment: the contain property"},{"refs":[{"id":"ref-for-inline-size\u2460"},{"id":"ref-for-inline-size\u2461"},{"id":"ref-for-inline-size\u2462"},{"id":"ref-for-inline-size\u2463"},{"id":"ref-for-inline-size\u2464"}],"title":"3.1. \nInline-Size Containment"},{"refs":[{"id":"ref-for-inline-size\u2465"}],"title":"6. \nContainer Relative Lengths: the cqw, cqh, cqi, cqb, cqmin, cqmax units"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#inline-size"},
"29d6da5f": {"dfnID":"29d6da5f","dfnText":"::backdrop","external":true,"refSections":[{"refs":[{"id":"ref-for-selectordef-backdrop"}],"title":"4. \nContainer Queries"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-position-4/#selectordef-backdrop"},
"2c2ac2a7": {"dfnID":"2c2ac2a7","dfnText":"inner display type","external":true,"refSections":[{"refs":[{"id":"ref-for-inner-display-type"}],"title":"3.1. \nInline-Size Containment"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-display-4/#inner-display-type"},
"2f27662a": {"dfnID":"2f27662a","dfnText":"matchMedia(query)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-window-matchmedia"}],"title":"7.1. \nThe CSSContainerRule interface"}],"url":"https://andreubotella.com/csswg-auto-build/test/cssom-view-1/#dom-window-matchmedia"},
"3040890a": {"dfnID":"3040890a","dfnText":"revert","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-all-revert"}],"title":"5.2. \nStyle Container Features"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#valdef-all-revert"},
"30c68947": {"dfnID":"30c68947","dfnText":"internal ruby box","external":true,"refSections":[{"refs":[{"id":"ref-for-internal-ruby-box"}],"title":"3.1. \nInline-Size Containment"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-display-3/#internal-ruby-box"},
"34ec63ad": {"dfnID":"34ec63ad","dfnText":"intrinsic size","external":true,"refSections":[{"refs":[{"id":"ref-for-intrinsic-size"},{"id":"ref-for-intrinsic-size\u2460"},{"id":"ref-for-intrinsic-size\u2461"},{"id":"ref-for-intrinsic-size\u2462"}],"title":"3.1. \nInline-Size Containment"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#intrinsic-size"},
"353b3fff": {"dfnID":"353b3fff","dfnText":"*","external":true,"refSections":[{"refs":[{"id":"ref-for-mult-zero-plus"},{"id":"ref-for-mult-zero-plus\u2460"},{"id":"ref-for-mult-zero-plus\u2461"},{"id":"ref-for-mult-zero-plus\u2462"}],"title":"4.4. \nContainer Queries: the @container rule"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-values-4/#mult-zero-plus"},
"366160bd": {"dfnID":"366160bd","dfnText":"media query","external":true,"refSections":[{"refs":[{"id":"ref-for-media-query"}],"title":"4. \nContainer Queries"},{"refs":[{"id":"ref-for-media-query\u2460"}],"title":"4.4. \nContainer Queries: the @container rule"},{"refs":[{"id":"ref-for-media-query\u2461"}],"title":"5.1. \nSize Container Features"}],"url":"https://andreubotella.com/csswg-auto-build/test/mediaqueries-5/#media-query"},
"36f5ad6f": {"dfnID":"36f5ad6f","dfnText":"formatting context","external":true,"refSections":[{"refs":[{"id":"ref-for-formatting-context"}],"title":"3.1. \nInline-Size Containment"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-display-4/#formatting-context"},
"3d6a3d36": {"dfnID":"3d6a3d36","dfnText":"shadow-including inclusive ancestor","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-shadow-including-inclusive-ancestor"}],"title":"4. \nContainer Queries"}],"url":"https://dom.spec.whatwg.org/#concept-shadow-including-inclusive-ancestor"},
"3d79158d": {"dfnID":"3d79158d","dfnText":"table","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-display-table"}],"title":"3.1. \nInline-Size Containment"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-display-4/#valdef-display-table"},
"3db30d4d": {"dfnID":"3db30d4d","dfnText":"min-content size","external":true,"refSections":[{"refs":[{"id":"ref-for-min-content"}],"title":"3.1. \nInline-Size Containment"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#min-content"},
"4f22bd22": {"dfnID":"4f22bd22","dfnText":"@font-face","external":true,"refSections":[{"refs":[{"id":"ref-for-at-font-face-rule"}],"title":"4.4. \nContainer Queries: the @container rule"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-fonts-5/#at-font-face-rule"},
"52cdc00c": {"dfnID":"52cdc00c","dfnText":"+","external":true,"refSections":[{"refs":[{"id":"ref-for-mult-one-plus"}],"title":"4.2. \nNaming Query Containers: the container-name property"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-values-4/#mult-one-plus"},
"532854f5": {"dfnID":"532854f5","dfnText":"font-size","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-font-size"},{"id":"ref-for-propdef-font-size\u2460"}],"title":"4.1. \nCreating Query Containers: the container-type property"},{"refs":[{"id":"ref-for-propdef-font-size\u2461"}],"title":"5.1. \nSize Container Features"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-fonts-4/#propdef-font-size"},
"54296280": {"dfnID":"54296280","dfnText":"::after","external":true,"refSections":[{"refs":[{"id":"ref-for-selectordef-after"}],"title":"4. \nContainer Queries"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-pseudo-4/#selectordef-after"},
"54cbb1ce": {"dfnID":"54cbb1ce","dfnText":"atomic inline","external":true,"refSections":[{"refs":[{"id":"ref-for-atomic-inline"}],"title":"3.1. \nInline-Size Containment"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-display-3/#atomic-inline"},
"5b0bdd3c": {"dfnID":"5b0bdd3c","dfnText":"display","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-display"},{"id":"ref-for-propdef-display\u2460"},{"id":"ref-for-propdef-display\u2461"}],"title":"3.1. \nInline-Size Containment"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-display-3/#propdef-display"},
"629933c1": {"dfnID":"629933c1","dfnText":"@supports","external":true,"refSections":[{"refs":[{"id":"ref-for-at-ruledef-supports"}],"title":"5.1. \nSize Container Features"},{"refs":[{"id":"ref-for-at-ruledef-supports\u2460"}],"title":"5.2. \nStyle Container Features"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-conditional-3/#at-ruledef-supports"},
"62bcd1fa": {"dfnID":"62bcd1fa","dfnText":"CSSConditionRule","external":true,"refSections":[{"refs":[{"id":"ref-for-cssconditionrule"}],"title":"7.1. \nThe CSSContainerRule interface"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-conditional-3/#cssconditionrule"},
"6329a743": {"dfnID":"6329a743","dfnText":"@keyframes","external":true,"refSections":[{"refs":[{"id":"ref-for-at-ruledef-keyframes"}],"title":"4.4. \nContainer Queries: the @container rule"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-animations-1/#at-ruledef-keyframes"},
"6452632c": {"dfnID":"6452632c","dfnText":"fictional tag sequence","external":true,"refSections":[{"refs":[{"id":"ref-for-fictional-tag-sequence"}],"title":"4. \nContainer Queries"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-pseudo-4/#fictional-tag-sequence"},
"6a70f541": {"dfnID":"6a70f541","dfnText":"principal box","external":true,"refSections":[{"refs":[{"id":"ref-for-principal-box"}],"title":"2. \nStrong Containment: the contain property"},{"refs":[{"id":"ref-for-principal-box\u2460"},{"id":"ref-for-principal-box\u2461"},{"id":"ref-for-principal-box\u2462"},{"id":"ref-for-principal-box\u2463"},{"id":"ref-for-principal-box\u2464"}],"title":"3.1. \nInline-Size Containment"},{"refs":[{"id":"ref-for-principal-box\u2465"},{"id":"ref-for-principal-box\u2466"}],"title":"4.1. \nCreating Query Containers: the container-type property"},{"refs":[{"id":"ref-for-principal-box\u2467"},{"id":"ref-for-principal-box\u2468"}],"title":"5.1. \nSize Container Features"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-display-4/#principal-box"},
"6f0df32d": {"dfnID":"6f0df32d","dfnText":"<ratio>","external":true,"refSections":[{"refs":[{"id":"ref-for-ratio-value"}],"title":"5.1.5. \nAspect-ratio: the aspect-ratio feature"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-values-4/#ratio-value"},
"706788bf": {"dfnID":"706788bf","dfnText":"height","external":true,"refSections":[{"refs":[{"id":"ref-for-height"}],"title":"5.1.2. \nHeight: the height feature"},{"refs":[{"id":"ref-for-height\u2460"}],"title":"6. \nContainer Relative Lengths: the cqw, cqh, cqi, cqb, cqmin, cqmax units"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#height"},
"77446697": {"dfnID":"77446697","dfnText":"at-rule","external":true,"refSections":[{"refs":[{"id":"ref-for-at-rule"}],"title":"4.4. \nContainer Queries: the @container rule"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-syntax-3/#at-rule"},
"7936a36b": {"dfnID":"7936a36b","dfnText":"|","external":true,"refSections":[{"refs":[{"id":"ref-for-comb-one"}],"title":"2. \nStrong Containment: the contain property"},{"refs":[{"id":"ref-for-comb-one\u2460"},{"id":"ref-for-comb-one\u2461"}],"title":"4.1. \nCreating Query Containers: the container-type property"},{"refs":[{"id":"ref-for-comb-one\u2462"}],"title":"4.2. \nNaming Query Containers: the container-name property"},{"refs":[{"id":"ref-for-comb-one\u2463"},{"id":"ref-for-comb-one\u2464"},{"id":"ref-for-comb-one\u2465"},{"id":"ref-for-comb-one\u2466"},{"id":"ref-for-comb-one\u2467"},{"id":"ref-for-comb-one\u2468"},{"id":"ref-for-comb-one\u2460\u24ea"},{"id":"ref-for-comb-one\u2460\u2460"},{"id":"ref-for-comb-one\u2460\u2461"},{"id":"ref-for-comb-one\u2460\u2462"}],"title":"4.4. \nContainer Queries: the @container rule"},{"refs":[{"id":"ref-for-comb-one\u2460\u2463"}],"title":"5.1.6. \nOrientation: the orientation feature"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-values-4/#comb-one"},
"7b4586cc": {"dfnID":"7b4586cc","dfnText":"layout containment","external":true,"refSections":[{"refs":[{"id":"ref-for-layout-containment"},{"id":"ref-for-layout-containment\u2460"}],"title":"4.1. \nCreating Query Containers: the container-type property"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-contain-2/#layout-containment"},
"7bd96119": {"dfnID":"7bd96119","dfnText":"content-visibility","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-content-visibility"}],"title":"8. Suppressing An Element\u2019s Contents Entirely: the content-visibility property"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-contain-2/#propdef-content-visibility"},
"7ef4dcc3": {"dfnID":"7ef4dcc3","dfnText":"<stylesheet>","external":true,"refSections":[{"refs":[{"id":"ref-for-typedef-stylesheet"},{"id":"ref-for-typedef-stylesheet\u2460"}],"title":"4.4. \nContainer Queries: the @container rule"}],"url":"https://www.w3.org/TR/css-syntax-3/#typedef-stylesheet"},
"81018fdc": {"dfnID":"81018fdc","dfnText":"identifier","external":true,"refSections":[{"refs":[{"id":"ref-for-css-css-identifier"},{"id":"ref-for-css-css-identifier\u2460"}],"title":"4.2. \nNaming Query Containers: the container-name property"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-values-4/#css-css-identifier"},
"832a5bc4": {"dfnID":"832a5bc4","dfnText":"fragmentation","external":true,"refSections":[{"refs":[{"id":"ref-for-fragmentation"}],"title":"3.1. \nInline-Size Containment"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-break-3/#fragmentation"},
"865e056b": {"dfnID":"865e056b","dfnText":"ultimate originating element","external":true,"refSections":[{"refs":[{"id":"ref-for-ultimate-originating-element"}],"title":"4. \nContainer Queries"}],"url":"https://andreubotella.com/csswg-auto-build/test/selectors-4/#ultimate-originating-element"},
"8755e1d2": {"dfnID":"8755e1d2","dfnText":"media feature","external":true,"refSections":[{"refs":[{"id":"ref-for-media-feature"}],"title":"5.1. \nSize Container Features"}],"url":"https://andreubotella.com/csswg-auto-build/test/mediaqueries-5/#media-feature"},
"889e932f": {"dfnID":"889e932f","dfnText":"Exposed","external":true,"refSections":[{"refs":[{"id":"ref-for-Exposed"}],"title":"7.1. \nThe CSSContainerRule interface"}],"url":"https://webidl.spec.whatwg.org/#Exposed"},
"8a36bcc2": {"dfnID":"8a36bcc2","dfnText":"initial value","external":true,"refSections":[{"refs":[{"id":"ref-for-initial-value"}],"title":"4.3. \nCreating Named Containers: the container shorthand"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#initial-value"},
"8a4c9290": {"dfnID":"8a4c9290","dfnText":"::marker","external":true,"refSections":[{"refs":[{"id":"ref-for-selectordef-marker"}],"title":"4. \nContainer Queries"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-pseudo-4/#selectordef-marker"},
"8e56b32c": {"dfnID":"8e56b32c","dfnText":"<custom-ident>","external":true,"refSections":[{"refs":[{"id":"ref-for-identifier-value"},{"id":"ref-for-identifier-value\u2460"},{"id":"ref-for-identifier-value\u2461"}],"title":"4.2. \nNaming Query Containers: the container-name property"},{"refs":[{"id":"ref-for-identifier-value\u2462"},{"id":"ref-for-identifier-value\u2463"}],"title":"4.4. \nContainer Queries: the @container rule"},{"refs":[{"id":"ref-for-identifier-value\u2464"}],"title":"\nChanges since the 21 December 2021 First Public Working Draft"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-values-4/#identifier-value"},
"9866d317": {"dfnID":"9866d317","dfnText":"content box","external":true,"refSections":[{"refs":[{"id":"ref-for-content-box"}],"title":"5.1.1. \nWidth: the width feature"},{"refs":[{"id":"ref-for-content-box\u2460"}],"title":"5.1.2. \nHeight: the height feature"},{"refs":[{"id":"ref-for-content-box\u2461"}],"title":"5.1.3. \nInline-size: the inline-size feature"},{"refs":[{"id":"ref-for-content-box\u2462"}],"title":"5.1.4. \nBlock-size: the block-size feature"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-box-4/#content-box"},
"99f93162": {"dfnID":"99f93162","dfnText":"block-axis","external":true,"refSections":[{"refs":[{"id":"ref-for-block-axis"},{"id":"ref-for-block-axis\u2460"},{"id":"ref-for-block-axis\u2461"}],"title":"3.1. \nInline-Size Containment"},{"refs":[{"id":"ref-for-block-axis\u2462"}],"title":"4.1. \nCreating Query Containers: the container-type property"},{"refs":[{"id":"ref-for-block-axis\u2463"}],"title":"5.1.4. \nBlock-size: the block-size feature"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#block-axis"},
"9ecf6b7b": {"dfnID":"9ecf6b7b","dfnText":"CSS-wide keywords","external":true,"refSections":[{"refs":[{"id":"ref-for-css-wide-keywords"}],"title":"1.2. \nValue Definitions"},{"refs":[{"id":"ref-for-css-wide-keywords\u2460"}],"title":"5.2. \nStyle Container Features"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-values-4/#css-wide-keywords"},
"a66908db": {"dfnID":"a66908db","dfnText":"aspect-ratio","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-aspect-ratio"}],"title":"3.1. \nInline-Size Containment"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-sizing-4/#propdef-aspect-ratio"},
"abe59e98": {"dfnID":"abe59e98","dfnText":"inline axis","external":true,"refSections":[{"refs":[{"id":"ref-for-inline-axis"},{"id":"ref-for-inline-axis\u2460"},{"id":"ref-for-inline-axis\u2461"}],"title":"3.1. \nInline-Size Containment"},{"refs":[{"id":"ref-for-inline-axis\u2462"},{"id":"ref-for-inline-axis\u2463"}],"title":"4.1. \nCreating Query Containers: the container-type property"},{"refs":[{"id":"ref-for-inline-axis\u2464"}],"title":"5.1.3. \nInline-size: the inline-size feature"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#inline-axis"},
"ac5b945e": {"dfnID":"ac5b945e","dfnText":"@layer","external":true,"refSections":[{"refs":[{"id":"ref-for-at-ruledef-layer"}],"title":"4.4. \nContainer Queries: the @container rule"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#at-ruledef-layer"},
"af32c312": {"dfnID":"af32c312","dfnText":"computed value","external":true,"refSections":[{"refs":[{"id":"ref-for-computed-value"}],"title":"4.1. \nCreating Query Containers: the container-type property"},{"refs":[{"id":"ref-for-computed-value\u2460"}],"title":"4.5. \nAnimated Containers"},{"refs":[{"id":"ref-for-computed-value\u2461"},{"id":"ref-for-computed-value\u2462"}],"title":"5.1. \nSize Container Features"},{"refs":[{"id":"ref-for-computed-value\u2463"},{"id":"ref-for-computed-value\u2464"},{"id":"ref-for-computed-value\u2465"},{"id":"ref-for-computed-value\u2466"},{"id":"ref-for-computed-value\u2467"}],"title":"5.2. \nStyle Container Features"},{"refs":[{"id":"ref-for-computed-value\u2468"}],"title":"6. \nContainer Relative Lengths: the cqw, cqh, cqi, cqb, cqmin, cqmax units"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#computed-value"},
"af5d24db": {"dfnID":"af5d24db","dfnText":"<length>","external":true,"refSections":[{"refs":[{"id":"ref-for-length-value"}],"title":"5.1.1. \nWidth: the width feature"},{"refs":[{"id":"ref-for-length-value\u2460"}],"title":"5.1.2. \nHeight: the height feature"},{"refs":[{"id":"ref-for-length-value\u2461"}],"title":"5.1.3. \nInline-size: the inline-size feature"},{"refs":[{"id":"ref-for-length-value\u2462"}],"title":"5.1.4. \nBlock-size: the block-size feature"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-values-4/#length-value"},
"afd7969f": {"dfnID":"afd7969f","dfnText":"shorthand property","external":true,"refSections":[{"refs":[{"id":"ref-for-shorthand-property"}],"title":"4. \nContainer Queries"},{"refs":[{"id":"ref-for-shorthand-property\u2460"}],"title":"4.3. \nCreating Named Containers: the container shorthand"},{"refs":[{"id":"ref-for-shorthand-property\u2461"}],"title":"5.2. \nStyle Container Features"},{"refs":[{"id":"ref-for-shorthand-property\u2462"}],"title":"\nChanges since the 21 December 2021 First Public Working Draft"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#shorthand-property"},
"at-ruledef-container": {"dfnID":"at-ruledef-container","dfnText":"@container","external":false,"refSections":[{"refs":[{"id":"ref-for-at-ruledef-container"}],"title":"4. \nContainer Queries"},{"refs":[{"id":"ref-for-at-ruledef-container\u2460"}],"title":"4.2. \nNaming Query Containers: the container-name property"},{"refs":[{"id":"ref-for-at-ruledef-container\u2461"},{"id":"ref-for-at-ruledef-container\u2462"},{"id":"ref-for-at-ruledef-container\u2463"}],"title":"4.4. \nContainer Queries: the @container rule"},{"refs":[{"id":"ref-for-at-ruledef-container\u2464"}],"title":"5.1.1. \nWidth: the width feature"},{"refs":[{"id":"ref-for-at-ruledef-container\u2465"}],"title":"5.1.2. \nHeight: the height feature"},{"refs":[{"id":"ref-for-at-ruledef-container\u2466"}],"title":"5.1.3. \nInline-size: the inline-size feature"},{"refs":[{"id":"ref-for-at-ruledef-container\u2467"}],"title":"5.1.4. \nBlock-size: the block-size feature"},{"refs":[{"id":"ref-for-at-ruledef-container\u2468"}],"title":"5.1.5. \nAspect-ratio: the aspect-ratio feature"},{"refs":[{"id":"ref-for-at-ruledef-container\u2460\u24ea"}],"title":"5.1.6. \nOrientation: the orientation feature"},{"refs":[{"id":"ref-for-at-ruledef-container\u2460\u2460"},{"id":"ref-for-at-ruledef-container\u2460\u2461"},{"id":"ref-for-at-ruledef-container\u2460\u2462"}],"title":"7.1. \nThe CSSContainerRule interface"}],"url":"#at-ruledef-container"},
"b0b742e0": {"dfnID":"b0b742e0","dfnText":"<string>","external":true,"refSections":[{"refs":[{"id":"ref-for-string-value"}],"title":"\nChanges since the 21 December 2021 First Public Working Draft"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-values-4/#string-value"},
"b6d8d9f3": {"dfnID":"b6d8d9f3","dfnText":"size containment","external":true,"refSections":[{"refs":[{"id":"ref-for-size-containment"}],"title":"3.1. \nInline-Size Containment"},{"refs":[{"id":"ref-for-size-containment\u2460"}],"title":"4.1. \nCreating Query Containers: the container-type property"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-contain-2/#size-containment"},
"b8cf89ac": {"dfnID":"b8cf89ac","dfnText":"::slotted()","external":true,"refSections":[{"refs":[{"id":"ref-for-selectordef-slotted"}],"title":"4. \nContainer Queries"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-scoping-1/#selectordef-slotted"},
"bf1cee09": {"dfnID":"bf1cee09","dfnText":"style rule","external":true,"refSections":[{"refs":[{"id":"ref-for-style-rule"}],"title":"4.1. \nCreating Query Containers: the container-type property"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-syntax-3/#style-rule"},
"c43fd450": {"dfnID":"c43fd450","dfnText":"internal table box","external":true,"refSections":[{"refs":[{"id":"ref-for-internal-table-box"}],"title":"3.1. \nInline-Size Containment"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-display-3/#internal-table-box"},
"c465b8aa": {"dfnID":"c465b8aa","dfnText":"block size","external":true,"refSections":[{"refs":[{"id":"ref-for-block-size"},{"id":"ref-for-block-size\u2460"},{"id":"ref-for-block-size\u2461"},{"id":"ref-for-block-size\u2462"}],"title":"3.1. \nInline-Size Containment"},{"refs":[{"id":"ref-for-block-size\u2463"}],"title":"6. \nContainer Relative Lengths: the cqw, cqh, cqi, cqb, cqmin, cqmax units"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#block-size"},
"c5136a3a": {"dfnID":"c5136a3a","dfnText":"::first-line","external":true,"refSections":[{"refs":[{"id":"ref-for-selectordef-first-line"}],"title":"4. \nContainer Queries"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-pseudo-4/#selectordef-first-line"},
"cebc3928": {"dfnID":"cebc3928","dfnText":"revert-layer","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-all-revert-layer"}],"title":"5.2. \nStyle Container Features"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#valdef-all-revert-layer"},
"cf639e00": {"dfnID":"cf639e00","dfnText":"inline-axis","external":true,"refSections":[{"refs":[{"id":"ref-for-inline-axis"},{"id":"ref-for-inline-axis\u2460"},{"id":"ref-for-inline-axis\u2461"}],"title":"3.1. \nInline-Size Containment"},{"refs":[{"id":"ref-for-inline-axis\u2462"},{"id":"ref-for-inline-axis\u2463"}],"title":"4.1. \nCreating Query Containers: the container-type property"},{"refs":[{"id":"ref-for-inline-axis\u2464"}],"title":"5.1.3. \nInline-size: the inline-size feature"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#inline-axis"},
"cf89060f": {"dfnID":"cf89060f","dfnText":"::placeholder","external":true,"refSections":[{"refs":[{"id":"ref-for-selectordef-placeholder"}],"title":"4. \nContainer Queries"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-forms-1/#selectordef-placeholder"},
"container-feature": {"dfnID":"container-feature","dfnText":"container feature","external":false,"refSections":[{"refs":[{"id":"ref-for-container-feature"},{"id":"ref-for-container-feature\u2460"}],"title":"4.4. \nContainer Queries: the @container rule"},{"refs":[{"id":"ref-for-container-feature\u2461"}],"title":"5.1.1. \nWidth: the width feature"},{"refs":[{"id":"ref-for-container-feature\u2462"}],"title":"5.1.2. \nHeight: the height feature"},{"refs":[{"id":"ref-for-container-feature\u2463"}],"title":"5.1.3. \nInline-size: the inline-size feature"},{"refs":[{"id":"ref-for-container-feature\u2464"}],"title":"5.1.4. \nBlock-size: the block-size feature"},{"refs":[{"id":"ref-for-container-feature\u2465"},{"id":"ref-for-container-feature\u2466"},{"id":"ref-for-container-feature\u2467"}],"title":"5.1.5. \nAspect-ratio: the aspect-ratio feature"},{"refs":[{"id":"ref-for-container-feature\u2468"},{"id":"ref-for-container-feature\u2460\u24ea"},{"id":"ref-for-container-feature\u2460\u2460"}],"title":"5.1.6. \nOrientation: the orientation feature"}],"url":"#container-feature"},
"container-query": {"dfnID":"container-query","dfnText":"container query","external":false,"refSections":[{"refs":[{"id":"ref-for-container-query"}],"title":"4. \nContainer Queries"},{"refs":[{"id":"ref-for-container-query\u2460"},{"id":"ref-for-container-query\u2461"}],"title":"4.1. \nCreating Query Containers: the container-type property"},{"refs":[{"id":"ref-for-container-query\u2462"},{"id":"ref-for-container-query\u2463"},{"id":"ref-for-container-query\u2464"},{"id":"ref-for-container-query\u2465"},{"id":"ref-for-container-query\u2466"},{"id":"ref-for-container-query\u2467"},{"id":"ref-for-container-query\u2468"},{"id":"ref-for-container-query\u2460\u24ea"}],"title":"4.4. \nContainer Queries: the @container rule"},{"refs":[{"id":"ref-for-container-query\u2460\u2460"}],"title":"4.5. \nAnimated Containers"},{"refs":[{"id":"ref-for-container-query\u2460\u2461"}],"title":"5.1. \nSize Container Features"},{"refs":[{"id":"ref-for-container-query\u2460\u2462"},{"id":"ref-for-container-query\u2460\u2463"}],"title":"6. \nContainer Relative Lengths: the cqw, cqh, cqi, cqb, cqmin, cqmax units"},{"refs":[{"id":"ref-for-container-query\u2460\u2464"}],"title":"\nChanges from CSS Containment Level 2\n"}],"url":"#container-query"},
"container-query-length": {"dfnID":"container-query-length","dfnText":"Container query length units","external":false,"refSections":[{"refs":[{"id":"ref-for-container-query-length"}],"title":"4.5. \nAnimated Containers"},{"refs":[{"id":"ref-for-container-query-length\u2460"}],"title":"5.1. \nSize Container Features"},{"refs":[{"id":"ref-for-container-query-length\u2461"},{"id":"ref-for-container-query-length\u2462"},{"id":"ref-for-container-query-length\u2463"},{"id":"ref-for-container-query-length\u2464"}],"title":"6. \nContainer Relative Lengths: the cqw, cqh, cqi, cqb, cqmin, cqmax units"}],"url":"#container-query-length"},
"container-size-query": {"dfnID":"container-size-query","dfnText":"container size query","external":false,"refSections":[{"refs":[{"id":"ref-for-container-size-query"}],"title":"4. \nContainer Queries"},{"refs":[{"id":"ref-for-container-size-query\u2460"},{"id":"ref-for-container-size-query\u2461"},{"id":"ref-for-container-size-query\u2462"},{"id":"ref-for-container-size-query\u2463"}],"title":"4.1. \nCreating Query Containers: the container-type property"},{"refs":[{"id":"ref-for-container-size-query\u2464"}],"title":"4.4. \nContainer Queries: the @container rule"},{"refs":[{"id":"ref-for-container-size-query\u2465"},{"id":"ref-for-container-size-query\u2466"}],"title":"5.1. \nSize Container Features"},{"refs":[{"id":"ref-for-container-size-query\u2467"},{"id":"ref-for-container-size-query\u2468"}],"title":"6. \nContainer Relative Lengths: the cqw, cqh, cqi, cqb, cqmin, cqmax units"}],"url":"#container-size-query"},
"container-style-query": {"dfnID":"container-style-query","dfnText":"container style query","external":false,"refSections":[{"refs":[{"id":"ref-for-container-style-query"}],"title":"4. \nContainer Queries"},{"refs":[{"id":"ref-for-container-style-query\u2460"},{"id":"ref-for-container-style-query\u2461"}],"title":"4.1. \nCreating Query Containers: the container-type property"},{"refs":[{"id":"ref-for-container-style-query\u2462"},{"id":"ref-for-container-style-query\u2463"},{"id":"ref-for-container-style-query\u2464"}],"title":"4.4. \nContainer Queries: the @container rule"},{"refs":[{"id":"ref-for-container-style-query\u2465"},{"id":"ref-for-container-style-query\u2466"}],"title":"5.2. \nStyle Container Features"},{"refs":[{"id":"ref-for-container-style-query\u2467"},{"id":"ref-for-container-style-query\u2468"}],"title":"\nChanges since the 21 December 2021 First Public Working Draft"}],"url":"#container-style-query"},
"csscontainerrule": {"dfnID":"csscontainerrule","dfnText":"CSSContainerRule","external":false,"refSections":[{"refs":[{"id":"ref-for-csscontainerrule"}],"title":"7.1. \nThe CSSContainerRule interface"}],"url":"#csscontainerrule"},
"d21956b1": {"dfnID":"d21956b1","dfnText":"effect value","external":true,"refSections":[{"refs":[{"id":"ref-for-effect-value"}],"title":"4.5. \nAnimated Containers"}],"url":"https://andreubotella.com/csswg-auto-build/test/web-animations-1/#effect-value"},
"d23b962a": {"dfnID":"d23b962a","dfnText":"width","external":true,"refSections":[{"refs":[{"id":"ref-for-width"}],"title":"5.1.1. \nWidth: the width feature"},{"refs":[{"id":"ref-for-width\u2460"}],"title":"6. \nContainer Relative Lengths: the cqw, cqh, cqi, cqb, cqmin, cqmax units"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#width"},
"d28d90ff": {"dfnID":"d28d90ff","dfnText":"em","external":true,"refSections":[{"refs":[{"id":"ref-for-em"}],"title":"5.1. \nSize Container Features"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-values-4/#em"},
"d4786e92": {"dfnID":"d4786e92","dfnText":"size","external":true,"refSections":[{"refs":[{"id":"ref-for-size"}],"title":"5.1.3. \nInline-size: the inline-size feature"},{"refs":[{"id":"ref-for-size\u2460"}],"title":"5.1.4. \nBlock-size: the block-size feature"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#size"},
"d88961e6": {"dfnID":"d88961e6","dfnText":"shorthand","external":true,"refSections":[{"refs":[{"id":"ref-for-shorthand-property"}],"title":"4. \nContainer Queries"},{"refs":[{"id":"ref-for-shorthand-property\u2460"}],"title":"4.3. \nCreating Named Containers: the container shorthand"},{"refs":[{"id":"ref-for-shorthand-property\u2461"}],"title":"5.2. \nStyle Container Features"},{"refs":[{"id":"ref-for-shorthand-property\u2462"}],"title":"\nChanges since the 21 December 2021 First Public Working Draft"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#shorthand-property"},
"d978b5c4": {"dfnID":"d978b5c4","dfnText":"min-width","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-min-width"},{"id":"ref-for-propdef-min-width\u2460"},{"id":"ref-for-propdef-min-width\u2461"}],"title":"3.1. \nInline-Size Containment"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#propdef-min-width"},
"da11c1e3": {"dfnID":"da11c1e3","dfnText":"::part()","external":true,"refSections":[{"refs":[{"id":"ref-for-selectordef-part"}],"title":"4. \nContainer Queries"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-shadow-parts-1/#selectordef-part"},
"dba1a2ff": {"dfnID":"dba1a2ff","dfnText":"<general-enclosed>","external":true,"refSections":[{"refs":[{"id":"ref-for-typedef-general-enclosed"},{"id":"ref-for-typedef-general-enclosed\u2460"}],"title":"4.4. \nContainer Queries: the @container rule"},{"refs":[{"id":"ref-for-typedef-general-enclosed\u2461"}],"title":"7.1. \nThe CSSContainerRule interface"},{"refs":[{"id":"ref-for-typedef-general-enclosed\u2462"}],"title":"\nChanges since the 21 December 2021 First Public Working Draft"}],"url":"https://andreubotella.com/csswg-auto-build/test/mediaqueries-5/#typedef-general-enclosed"},
"descdef-container-aspect-ratio": {"dfnID":"descdef-container-aspect-ratio","dfnText":"aspect-ratio","external":false,"refSections":[{"refs":[{"id":"ref-for-descdef-container-aspect-ratio"},{"id":"ref-for-descdef-container-aspect-ratio\u2460"}],"title":"5.1.5. \nAspect-ratio: the aspect-ratio feature"}],"url":"#descdef-container-aspect-ratio"},
"descdef-container-block-size": {"dfnID":"descdef-container-block-size","dfnText":"block-size","external":false,"refSections":[{"refs":[{"id":"ref-for-descdef-container-block-size"},{"id":"ref-for-descdef-container-block-size\u2460"}],"title":"5.1.4. \nBlock-size: the block-size feature"}],"url":"#descdef-container-block-size"},
"descdef-container-height": {"dfnID":"descdef-container-height","dfnText":"height","external":false,"refSections":[{"refs":[{"id":"ref-for-descdef-container-height"},{"id":"ref-for-descdef-container-height\u2460"}],"title":"5.1.2. \nHeight: the height feature"},{"refs":[{"id":"ref-for-descdef-container-height\u2461"}],"title":"5.1.5. \nAspect-ratio: the aspect-ratio feature"},{"refs":[{"id":"ref-for-descdef-container-height\u2462"}],"title":"5.1.6. \nOrientation: the orientation feature"}],"url":"#descdef-container-height"},
"descdef-container-inline-size": {"dfnID":"descdef-container-inline-size","dfnText":"inline-size","external":false,"refSections":[{"refs":[{"id":"ref-for-descdef-container-inline-size"},{"id":"ref-for-descdef-container-inline-size\u2460"}],"title":"4.4. \nContainer Queries: the @container rule"},{"refs":[{"id":"ref-for-descdef-container-inline-size\u2461"},{"id":"ref-for-descdef-container-inline-size\u2462"}],"title":"5.1.3. \nInline-size: the inline-size feature"}],"url":"#descdef-container-inline-size"},
"descdef-container-orientation": {"dfnID":"descdef-container-orientation","dfnText":"orientation","external":false,"refSections":[{"refs":[{"id":"ref-for-descdef-container-orientation"},{"id":"ref-for-descdef-container-orientation\u2460"},{"id":"ref-for-descdef-container-orientation\u2461"}],"title":"5.1.6. \nOrientation: the orientation feature"}],"url":"#descdef-container-orientation"},
"descdef-container-width": {"dfnID":"descdef-container-width","dfnText":"width","external":false,"refSections":[{"refs":[{"id":"ref-for-descdef-container-width"},{"id":"ref-for-descdef-container-width\u2460"}],"title":"5.1.1. \nWidth: the width feature"},{"refs":[{"id":"ref-for-descdef-container-width\u2461"}],"title":"5.1.5. \nAspect-ratio: the aspect-ratio feature"},{"refs":[{"id":"ref-for-descdef-container-width\u2462"}],"title":"5.1.6. \nOrientation: the orientation feature"}],"url":"#descdef-container-width"},
"dom-csscontainerrule-containername": {"dfnID":"dom-csscontainerrule-containername","dfnText":"containerName","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-csscontainerrule-containername"}],"title":"\nChanges since the 18 August 2022 Working Draft"}],"url":"#dom-csscontainerrule-containername"},
"dom-csscontainerrule-containerquery": {"dfnID":"dom-csscontainerrule-containerquery","dfnText":"containerQuery","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-csscontainerrule-containerquery"}],"title":"\nChanges since the 18 August 2022 Working Draft"}],"url":"#dom-csscontainerrule-containerquery"},
"e03cf590": {"dfnID":"e03cf590","dfnText":"inline-level","external":true,"refSections":[{"refs":[{"id":"ref-for-inline-level"}],"title":"3.1. \nInline-Size Containment"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-display-3/#inline-level"},
"e21f4ef3": {"dfnID":"e21f4ef3","dfnText":"longhand property","external":true,"refSections":[{"refs":[{"id":"ref-for-longhand"}],"title":"5.2. \nStyle Container Features"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#longhand"},
"e3270b68": {"dfnID":"e3270b68","dfnText":"not","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-media-not"}],"title":"4.2. \nNaming Query Containers: the container-name property"},{"refs":[{"id":"ref-for-valdef-media-not\u2460"}],"title":"4.4. \nContainer Queries: the @container rule"}],"url":"https://andreubotella.com/csswg-auto-build/test/mediaqueries-5/#valdef-media-not"},
"e5365b83": {"dfnID":"e5365b83","dfnText":"?","external":true,"refSections":[{"refs":[{"id":"ref-for-mult-opt"}],"title":"4.3. \nCreating Named Containers: the container shorthand"},{"refs":[{"id":"ref-for-mult-opt\u2460"}],"title":"4.4. \nContainer Queries: the @container rule"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-values-4/#mult-opt"},
"e9e6ebce": {"dfnID":"e9e6ebce","dfnText":"MediaQueryList","external":true,"refSections":[{"refs":[{"id":"ref-for-mediaquerylist"}],"title":"7.1. \nThe CSSContainerRule interface"}],"url":"https://andreubotella.com/csswg-auto-build/test/cssom-view-1/#mediaquerylist"},
"ee2d23e6": {"dfnID":"ee2d23e6","dfnText":"::first-letter","external":true,"refSections":[{"refs":[{"id":"ref-for-selectordef-first-letter"}],"title":"4. \nContainer Queries"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-pseudo-4/#selectordef-first-letter"},
"f0881bb4": {"dfnID":"f0881bb4","dfnText":"inline-size","external":true,"refSections":[{"refs":[{"id":"ref-for-inline-size"}],"title":"2. \nStrong Containment: the contain property"},{"refs":[{"id":"ref-for-inline-size\u2460"},{"id":"ref-for-inline-size\u2461"},{"id":"ref-for-inline-size\u2462"},{"id":"ref-for-inline-size\u2463"},{"id":"ref-for-inline-size\u2464"}],"title":"3.1. \nInline-Size Containment"},{"refs":[{"id":"ref-for-inline-size\u2465"}],"title":"6. \nContainer Relative Lengths: the cqw, cqh, cqi, cqb, cqmin, cqmax units"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#inline-size"},
"f77f1277": {"dfnID":"f77f1277","dfnText":"small viewport size","external":true,"refSections":[{"refs":[{"id":"ref-for-small-viewport-size"}],"title":"6. \nContainer Relative Lengths: the cqw, cqh, cqi, cqb, cqmin, cqmax units"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-values-4/#small-viewport-size"},
"f7f72413": {"dfnID":"f7f72413","dfnText":"CSS feature queries","external":true,"refSections":[{"refs":[{"id":"ref-for-css-feature-queries"}],"title":"5.1. \nSize Container Features"},{"refs":[{"id":"ref-for-css-feature-queries\u2460"}],"title":"5.2. \nStyle Container Features"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-conditional-3/#css-feature-queries"},
"f92062e0": {"dfnID":"f92062e0","dfnText":"style containment","external":true,"refSections":[{"refs":[{"id":"ref-for-style-containment"},{"id":"ref-for-style-containment\u2460"}],"title":"4.1. \nCreating Query Containers: the container-type property"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-contain-2/#style-containment"},
"fa2c4385": {"dfnID":"fa2c4385","dfnText":"layout containment box","external":true,"refSections":[{"refs":[{"id":"ref-for-layout-containment-box"}],"title":"5.1. \nSize Container Features"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-contain-2/#layout-containment-box"},
"fa409fdb": {"dfnID":"fa409fdb","dfnText":"conditional group rule","external":true,"refSections":[{"refs":[{"id":"ref-for-conditional-group-rule"}],"title":"4. \nContainer Queries"},{"refs":[{"id":"ref-for-conditional-group-rule\u2460"}],"title":"4.4. \nContainer Queries: the @container rule"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-conditional-3/#conditional-group-rule"},
"fc4f6b66": {"dfnID":"fc4f6b66","dfnText":"block axis","external":true,"refSections":[{"refs":[{"id":"ref-for-block-axis"},{"id":"ref-for-block-axis\u2460"},{"id":"ref-for-block-axis\u2461"}],"title":"3.1. \nInline-Size Containment"},{"refs":[{"id":"ref-for-block-axis\u2462"}],"title":"4.1. \nCreating Query Containers: the container-type property"},{"refs":[{"id":"ref-for-block-axis\u2463"}],"title":"5.1.4. \nBlock-size: the block-size feature"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#block-axis"},
"fd32e3c9": {"dfnID":"fd32e3c9","dfnText":"shadow-including descendant","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-shadow-including-descendant"}],"title":"4. \nContainer Queries"}],"url":"https://dom.spec.whatwg.org/#concept-shadow-including-descendant"},
"fef025c9": {"dfnID":"fef025c9","dfnText":"cascade-dependent keyword","external":true,"refSections":[{"refs":[{"id":"ref-for-cascade-dependent-keyword"}],"title":"5.2. \nStyle Container Features"},{"refs":[{"id":"ref-for-cascade-dependent-keyword\u2460"}],"title":"\nChanges since the 21 December 2021 First Public Working Draft"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#cascade-dependent-keyword"},
"inline-size-containment": {"dfnID":"inline-size-containment","dfnText":"inline-size containment","external":false,"refSections":[{"refs":[{"id":"ref-for-inline-size-containment"}],"title":"2. \nStrong Containment: the contain property"},{"refs":[{"id":"ref-for-inline-size-containment\u2460"},{"id":"ref-for-inline-size-containment\u2461"},{"id":"ref-for-inline-size-containment\u2462"}],"title":"3.1. \nInline-Size Containment"},{"refs":[{"id":"ref-for-inline-size-containment\u2463"}],"title":"4.1. \nCreating Query Containers: the container-type property"},{"refs":[{"id":"ref-for-inline-size-containment\u2464"}],"title":"\nChanges from CSS Containment Level 2\n"}],"url":"#inline-size-containment"},
"propdef-container": {"dfnID":"propdef-container","dfnText":"container","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-container"}],"title":"4. \nContainer Queries"},{"refs":[{"id":"ref-for-propdef-container\u2460"},{"id":"ref-for-propdef-container\u2461"}],"title":"4.3. \nCreating Named Containers: the container shorthand"},{"refs":[{"id":"ref-for-propdef-container\u2462"},{"id":"ref-for-propdef-container\u2463"}],"title":"\nChanges since the 21 December 2021 First Public Working Draft"}],"url":"#propdef-container"},
"propdef-container-name": {"dfnID":"propdef-container-name","dfnText":"container-name","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-container-name"},{"id":"ref-for-propdef-container-name\u2460"}],"title":"4.2. \nNaming Query Containers: the container-name property"},{"refs":[{"id":"ref-for-propdef-container-name\u2461"},{"id":"ref-for-propdef-container-name\u2462"},{"id":"ref-for-propdef-container-name\u2463"}],"title":"4.3. \nCreating Named Containers: the container shorthand"},{"refs":[{"id":"ref-for-propdef-container-name\u2464"},{"id":"ref-for-propdef-container-name\u2465"},{"id":"ref-for-propdef-container-name\u2466"},{"id":"ref-for-propdef-container-name\u2467"}],"title":"\nChanges since the 21 December 2021 First Public Working Draft"}],"url":"#propdef-container-name"},
"propdef-container-type": {"dfnID":"propdef-container-type","dfnText":"container-type","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-container-type"}],"title":"4. \nContainer Queries"},{"refs":[{"id":"ref-for-propdef-container-type\u2460"},{"id":"ref-for-propdef-container-type\u2461"},{"id":"ref-for-propdef-container-type\u2462"}],"title":"4.1. \nCreating Query Containers: the container-type property"},{"refs":[{"id":"ref-for-propdef-container-type\u2463"},{"id":"ref-for-propdef-container-type\u2464"},{"id":"ref-for-propdef-container-type\u2465"},{"id":"ref-for-propdef-container-type\u2466"}],"title":"4.3. \nCreating Named Containers: the container shorthand"},{"refs":[{"id":"ref-for-propdef-container-type\u2467"}],"title":"\nChanges since the 18 August 2022 Working Draft"},{"refs":[{"id":"ref-for-propdef-container-type\u2468"},{"id":"ref-for-propdef-container-type\u2460\u24ea"},{"id":"ref-for-propdef-container-type\u2460\u2460"}],"title":"\nChanges since the 21 December 2021 First Public Working Draft"}],"url":"#propdef-container-type"},
"query-container": {"dfnID":"query-container","dfnText":"query container","external":false,"refSections":[{"refs":[{"id":"ref-for-query-container"},{"id":"ref-for-query-container\u2460"},{"id":"ref-for-query-container\u2461"}],"title":"4. \nContainer Queries"},{"refs":[{"id":"ref-for-query-container\u2462"},{"id":"ref-for-query-container\u2463"},{"id":"ref-for-query-container\u2464"},{"id":"ref-for-query-container\u2465"},{"id":"ref-for-query-container\u2466"},{"id":"ref-for-query-container\u2467"}],"title":"4.1. \nCreating Query Containers: the container-type property"},{"refs":[{"id":"ref-for-query-container\u2468"},{"id":"ref-for-query-container\u2460\u24ea"}],"title":"4.2. \nNaming Query Containers: the container-name property"},{"refs":[{"id":"ref-for-query-container\u2460\u2460"},{"id":"ref-for-query-container\u2460\u2461"},{"id":"ref-for-query-container\u2460\u2462"},{"id":"ref-for-query-container\u2460\u2463"},{"id":"ref-for-query-container\u2460\u2464"},{"id":"ref-for-query-container\u2460\u2465"},{"id":"ref-for-query-container\u2460\u2466"},{"id":"ref-for-query-container\u2460\u2467"}],"title":"4.4. \nContainer Queries: the @container rule"},{"refs":[{"id":"ref-for-query-container\u2460\u2468"}],"title":"5. \nContainer Features"},{"refs":[{"id":"ref-for-query-container\u2461\u24ea"},{"id":"ref-for-query-container\u2461\u2460"},{"id":"ref-for-query-container\u2461\u2461"},{"id":"ref-for-query-container\u2461\u2462"},{"id":"ref-for-query-container\u2461\u2463"},{"id":"ref-for-query-container\u2461\u2464"},{"id":"ref-for-query-container\u2461\u2465"}],"title":"5.1. \nSize Container Features"},{"refs":[{"id":"ref-for-query-container\u2461\u2466"}],"title":"5.1.1. \nWidth: the width feature"},{"refs":[{"id":"ref-for-query-container\u2461\u2467"}],"title":"5.1.2. \nHeight: the height feature"},{"refs":[{"id":"ref-for-query-container\u2461\u2468"},{"id":"ref-for-query-container\u2462\u24ea"}],"title":"5.1.3. \nInline-size: the inline-size feature"},{"refs":[{"id":"ref-for-query-container\u2462\u2460"},{"id":"ref-for-query-container\u2462\u2461"}],"title":"5.1.4. \nBlock-size: the block-size feature"},{"refs":[{"id":"ref-for-query-container\u2462\u2462"},{"id":"ref-for-query-container\u2462\u2463"},{"id":"ref-for-query-container\u2462\u2464"},{"id":"ref-for-query-container\u2462\u2465"},{"id":"ref-for-query-container\u2462\u2466"}],"title":"5.2. \nStyle Container Features"},{"refs":[{"id":"ref-for-query-container\u2462\u2467"},{"id":"ref-for-query-container\u2462\u2468"},{"id":"ref-for-query-container\u2463\u24ea"},{"id":"ref-for-query-container\u2463\u2460"},{"id":"ref-for-query-container\u2463\u2461"},{"id":"ref-for-query-container\u2463\u2462"},{"id":"ref-for-query-container\u2463\u2463"},{"id":"ref-for-query-container\u2463\u2464"},{"id":"ref-for-query-container\u2463\u2465"},{"id":"ref-for-query-container\u2463\u2466"},{"id":"ref-for-query-container\u2463\u2467"}],"title":"6. \nContainer Relative Lengths: the cqw, cqh, cqi, cqb, cqmin, cqmax units"},{"refs":[{"id":"ref-for-query-container\u2463\u2468"}],"title":"\nChanges since the 21 December 2021 First Public Working Draft"}],"url":"#query-container"},
"query-container-name": {"dfnID":"query-container-name","dfnText":"query container names","external":false,"refSections":[{"refs":[{"id":"ref-for-query-container-name"},{"id":"ref-for-query-container-name\u2460"}],"title":"4.2. \nNaming Query Containers: the container-name property"},{"refs":[{"id":"ref-for-query-container-name\u2461"}],"title":"4.4. \nContainer Queries: the @container rule"}],"url":"#query-container-name"},
"size-features": {"dfnID":"size-features","dfnText":"size features","external":false,"refSections":[{"refs":[{"id":"ref-for-size-features"},{"id":"ref-for-size-features\u2460"}],"title":"5.1. \nSize Container Features"}],"url":"#size-features"},
"style-features": {"dfnID":"style-features","dfnText":"style features","external":false,"refSections":[{"refs":[{"id":"ref-for-style-features"},{"id":"ref-for-style-features\u2460"},{"id":"ref-for-style-features\u2461"}],"title":"5.2. \nStyle Container Features"},{"refs":[{"id":"ref-for-style-features\u2462"},{"id":"ref-for-style-features\u2463"}],"title":"\nChanges since the 21 December 2021 First Public Working Draft"}],"url":"#style-features"},
"typedef-container-condition": {"dfnID":"typedef-container-condition","dfnText":"<container-condition>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-container-condition"},{"id":"ref-for-typedef-container-condition\u2460"},{"id":"ref-for-typedef-container-condition\u2461"}],"title":"4.4. \nContainer Queries: the @container rule"},{"refs":[{"id":"ref-for-typedef-container-condition\u2462"}],"title":"\nChanges since the 21 December 2021 First Public Working Draft"}],"url":"#typedef-container-condition"},
"typedef-container-name": {"dfnID":"typedef-container-name","dfnText":"<container-name>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-container-name"},{"id":"ref-for-typedef-container-name\u2460"},{"id":"ref-for-typedef-container-name\u2461"}],"title":"4.4. \nContainer Queries: the @container rule"},{"refs":[{"id":"ref-for-typedef-container-name\u2462"},{"id":"ref-for-typedef-container-name\u2463"},{"id":"ref-for-typedef-container-name\u2464"}],"title":"7.1. \nThe CSSContainerRule interface"}],"url":"#typedef-container-name"},
"typedef-container-query": {"dfnID":"typedef-container-query","dfnText":"<container-query>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-container-query"},{"id":"ref-for-typedef-container-query\u2460"},{"id":"ref-for-typedef-container-query\u2461"},{"id":"ref-for-typedef-container-query\u2462"},{"id":"ref-for-typedef-container-query\u2463"}],"title":"4.4. \nContainer Queries: the @container rule"},{"refs":[{"id":"ref-for-typedef-container-query\u2464"}],"title":"7.1. \nThe CSSContainerRule interface"}],"url":"#typedef-container-query"},
"typedef-query-in-parens": {"dfnID":"typedef-query-in-parens","dfnText":"<query-in-parens>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-query-in-parens"},{"id":"ref-for-typedef-query-in-parens\u2460"},{"id":"ref-for-typedef-query-in-parens\u2461"},{"id":"ref-for-typedef-query-in-parens\u2462"},{"id":"ref-for-typedef-query-in-parens\u2463"}],"title":"4.4. \nContainer Queries: the @container rule"}],"url":"#typedef-query-in-parens"},
"typedef-size-feature": {"dfnID":"typedef-size-feature","dfnText":"<size-feature>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-size-feature"}],"title":"4.4. \nContainer Queries: the @container rule"},{"refs":[{"id":"ref-for-typedef-size-feature\u2460"},{"id":"ref-for-typedef-size-feature\u2461"}],"title":"5.1. \nSize Container Features"},{"refs":[{"id":"ref-for-typedef-size-feature\u2462"}],"title":"\nChanges since the 21 December 2021 First Public Working Draft"}],"url":"#typedef-size-feature"},
"typedef-style-feature": {"dfnID":"typedef-style-feature","dfnText":"<style-feature>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-style-feature"},{"id":"ref-for-typedef-style-feature\u2460"}],"title":"4.4. \nContainer Queries: the @container rule"},{"refs":[{"id":"ref-for-typedef-style-feature\u2461"},{"id":"ref-for-typedef-style-feature\u2462"}],"title":"5.2. \nStyle Container Features"}],"url":"#typedef-style-feature"},
"typedef-style-in-parens": {"dfnID":"typedef-style-in-parens","dfnText":"<style-in-parens>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-style-in-parens"},{"id":"ref-for-typedef-style-in-parens\u2460"},{"id":"ref-for-typedef-style-in-parens\u2461"},{"id":"ref-for-typedef-style-in-parens\u2462"},{"id":"ref-for-typedef-style-in-parens\u2463"}],"title":"4.4. \nContainer Queries: the @container rule"}],"url":"#typedef-style-in-parens"},
"typedef-style-query": {"dfnID":"typedef-style-query","dfnText":"<style-query>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-style-query"},{"id":"ref-for-typedef-style-query\u2460"},{"id":"ref-for-typedef-style-query\u2461"}],"title":"4.4. \nContainer Queries: the @container rule"}],"url":"#typedef-style-query"},
"valdef-contain-inline-size": {"dfnID":"valdef-contain-inline-size","dfnText":"inline-size","external":false,"refSections":[],"url":"#valdef-contain-inline-size"},
"valdef-container-name-custom-ident": {"dfnID":"valdef-container-name-custom-ident","dfnText":"<custom-ident>","external":false,"refSections":[],"url":"#valdef-container-name-custom-ident"},
"valdef-container-name-none": {"dfnID":"valdef-container-name-none","dfnText":"none","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-container-name-none"},{"id":"ref-for-valdef-container-name-none\u2460"}],"title":"4.2. \nNaming Query Containers: the container-name property"},{"refs":[{"id":"ref-for-valdef-container-name-none\u2461"}],"title":"4.4. \nContainer Queries: the @container rule"}],"url":"#valdef-container-name-none"},
"valdef-container-orientation-landscape": {"dfnID":"valdef-container-orientation-landscape","dfnText":"landscape","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-container-orientation-landscape"}],"title":"5.1.6. \nOrientation: the orientation feature"}],"url":"#valdef-container-orientation-landscape"},
"valdef-container-orientation-portrait": {"dfnID":"valdef-container-orientation-portrait","dfnText":"portrait","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-container-orientation-portrait"}],"title":"5.1.6. \nOrientation: the orientation feature"}],"url":"#valdef-container-orientation-portrait"},
"valdef-container-type-inline-size": {"dfnID":"valdef-container-type-inline-size","dfnText":"inline-size","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-container-type-inline-size"}],"title":"4.1. \nCreating Query Containers: the container-type property"}],"url":"#valdef-container-type-inline-size"},
"valdef-container-type-normal": {"dfnID":"valdef-container-type-normal","dfnText":"normal","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-container-type-normal"}],"title":"4.1. \nCreating Query Containers: the container-type property"},{"refs":[{"id":"ref-for-valdef-container-type-normal\u2460"}],"title":"\nChanges since the 18 August 2022 Working Draft"},{"refs":[{"id":"ref-for-valdef-container-type-normal\u2461"}],"title":"\nChanges since the 21 December 2021 First Public Working Draft"}],"url":"#valdef-container-type-normal"},
"valdef-container-type-size": {"dfnID":"valdef-container-type-size","dfnText":"size","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-container-type-size"}],"title":"4.1. \nCreating Query Containers: the container-type property"}],"url":"#valdef-container-type-size"},
};

document.addEventListener("DOMContentLoaded", ()=>{
    genAllDfnPanels();

    document.body.addEventListener("click", (e) => {
        // If not handled already, just hide all dfn panels.
        hideAllDfnPanels();
    });
});

window.addEventListener("resize", () => {
    // Pin any visible dfn panel
    queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>positionDfnPanel(el));
});

function genAllDfnPanels() {
    for(const panelData of Object.values(dfnPanelData)) {
        const dfnID = panelData.dfnID;
        const dfn = document.getElementById(dfnID);
        if(!dfn) {
            console.log(`Can't find dfn#${dfnID}.`, panelData);
            continue;
        }
        dfn.panelData = panelData;
        insertDfnPopupAction(dfn);
    }
}

function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
    const dfnPanel = mk.aside({
        class: "dfn-panel on",
        id: `infopanel-for-${dfnID}`,
        "data-for": dfnID,
        "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
        },
        mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
            `Info about the '${dfnText}' ${external?"external":""} reference.`),
        mk.a({href:url, class:"dfn-link"}, url),
        refSections.length == 0 ? [] :
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({ href: `#${ref.id}` },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        genLinkingSyntaxes(dfn),
    );

    dfnPanel.addEventListener('click', (event) => {
        if (event.target.nodeName == 'A') {
            scrollToTargetAndHighlight(event);
            pinDfnPanel(dfnPanel);
        }
        event.stopPropagation();
        refocusOnTarget(event);
    });
    dfnPanel.addEventListener('keydown', (event) => {
        if(event.keyCode == 27) { // Escape key
            hideDfnPanel({dfnPanel});
            event.stopPropagation();
            event.preventDefault();
        }
    });

    dfnPanel.dfn = dfn;
    dfn.dfnPanel = dfnPanel;
    return dfnPanel;
}



function hideAllDfnPanels() {
    // Delete the currently-active dfn panel.
    queryAll(".dfn-panel").forEach(dfnPanel=>hideDfnPanel({dfnPanel}));
}

function showDfnPanel(dfn) {
    hideAllDfnPanels(); // Only display one at a time.

    dfn.setAttribute("aria-expanded", "true");

    const dfnPanel = genDfnPanel(dfn, dfn.panelData);

    // Give the dfn a unique tabindex, and then
    // give all the tabbable panel bits successive indexes.
    let tabIndex = 100;
    dfn.tabIndex = tabIndex++;
    const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
    for (const el of tabbable) {
        el.tabIndex = tabIndex++;
    }

    append(document.body, dfnPanel);
    positionDfnPanel(dfnPanel);
}

function positionDfnPanel(dfnPanel) {
    const dfn = dfnPanel.dfn;
    const dfnPos = getBounds(dfn);
    dfnPanel.style.top = dfnPos.bottom + "px";
    dfnPanel.style.left = dfnPos.left + "px";

    const panelPos = dfnPanel.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
        dfnPanel.style.left = newLeft + "px";
    }
}

function pinDfnPanel(dfnPanel) {
    // Switch it to "activated" state, which pins it.
    dfnPanel.classList.add("activated");
    dfnPanel.style.position = "fixed";
    dfnPanel.style.left = null;
    dfnPanel.style.top = null;
}

function hideDfnPanel({dfn, dfnPanel}) {
    if(!dfnPanel) dfnPanel = dfn.dfnPanel;
    if(!dfn) dfn = dfnPanel.dfn;
    dfn.dfnPanel = undefined;
    dfnPanel.dfn = undefined;
    dfn.setAttribute("aria-expanded", "false");
    dfn.tabIndex = undefined;
    dfnPanel.remove()
}

function toggleDfnPanel(dfn) {
    if(dfn.dfnPanel) {
        hideDfnPanel(dfn);
    } else {
        showDfnPanel(dfn);
    }
}

function insertDfnPopupAction(dfn) {
    dfn.setAttribute('role', 'button');
    dfn.setAttribute('aria-expanded', 'false')
    dfn.tabIndex = 0;
    dfn.classList.add('has-dfn-panel');
    dfn.addEventListener('click', (event) => {
        toggleDfnPanel(dfn);
        event.stopPropagation();
    });
    dfn.addEventListener('keypress', (event) => {
        const kc = event.keyCode;
        // 32->Space, 13->Enter
        if(kc == 32 || kc == 13) {
            toggleDfnPanel(dfn);
            event.stopPropagation();
            event.preventDefault();
        }
    });
}

function refocusOnTarget(event) {
    const target = event.target;
    setTimeout(() => {
        // Refocus on the event.target element.
        // This is needed after browser scrolls to the destination.
        target.focus();
    });
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function scrollToTargetAndHighlight(event) {
    let hash = event.target.hash;
    if (hash) {
        hash = decodeURIComponent(hash.substring(1));
        const dest = document.getElementById(hash);
        if (dest) {
            dest.classList.add('highlighted');
            setTimeout(() => dest.classList.remove('highlighted'), 1000);
        }
    }
}

// Functions, divided by link type, that wrap an autolink's
// contents with the appropriate outer syntax.
// Alternately, a string naming another type they format
// the same as.
function needsFor(type) {
    switch(type) {
        case "descriptor":
        case "value":
        case "element-attr":
        case "attr-value":
        case "element-state":
        case "method":
        case "constructor":
        case "argument":
        case "attribute":
        case "const":
        case "dict-member":
        case "event":
        case "enum-value":
        case "stringifier":
        case "serializer":
        case "iterator":
        case "maplike":
        case "setlike":
        case "state":
        case "mode":
        case "context":
        case "facet": return true;

        default: return false;
    }
}
function refusesFor(type) {
    switch(type) {
        case "property":
        case "element":
        case "interface":
        case "namespace":
        case "callback":
        case "dictionary":
        case "enum":
        case "exception":
        case "typedef":
        case "http-header":
        case "permission": return true;

        default: return false;
    }
}
function linkFormatterFromType(type) {
    switch(type) {
        case 'scheme':
        case 'permission':
        case 'dfn': return (text) => `[=${text}=]`;

        case 'abstract-op': return (text) => `[\$${text}\$]`;

        case 'function':
        case 'at-rule':
        case 'selector':
        case 'value': return (text) => `''${text}''`;

        case 'http-header': return (text) => `[:${text}:]`;

        case 'interface':
        case 'constructor':
        case 'method':
        case 'argument':
        case 'attribute':
        case 'callback':
        case 'dictionary':
        case 'dict-member':
        case 'enum':
        case 'enum-value':
        case 'exception':
        case 'const':
        case 'typedef':
        case 'stringifier':
        case 'serializer':
        case 'iterator':
        case 'maplike':
        case 'setlike':
        case 'extended-attribute':
        case 'event':
        case 'idl': return (text) => `{{${text}}}`;

        case 'element-state':
        case 'element-attr':
        case 'attr-value':
        case 'element': return (element) => `<{${element}}>`;

        case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

        case 'type': return (text)=> `<<${text}>>`;

        case 'descriptor':
        case 'property': return (text) => `'${text}'`;

        default: return;
    };
};

function genLinkingSyntaxes(dfn) {
    if(dfn.tagName != "DFN") return;

    const type = dfn.getAttribute('data-dfn-type');
    if(!type) {
        console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
        return [];
    }

    // Return a function that wraps link text based on the type
    const linkFormatter = linkFormatterFromType(type);
    if(!linkFormatter) {
        console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
        return [];
    }

    let ltAlts;
    if(dfn.hasAttribute('data-lt')) {
        ltAlts = dfn.getAttribute('data-lt')
            .split("|")
            .map(x=>x.trim());
    } else {
        ltAlts = [dfn.textContent.trim()];
    }
    if(type == "type") {
        // lt of "<foo>", but "foo" is the interior;
        // <<foo/bar>> is how you write it with a for,
        // not <foo/<bar>> or whatever.
        for(var i = 0; i < ltAlts.length; i++) {
            const lt = ltAlts[i];
            const match = /<(.*)>/.exec(lt);
            if(match) { ltAlts[i] = match[1]; }
        }
    }

    let forAlts;
    if(dfn.hasAttribute('data-dfn-for')) {
        forAlts = dfn.getAttribute('data-dfn-for')
            .split(",")
            .map(x=>x.trim());
    } else {
        forAlts = [''];
    }

    let linkingSyntaxes = [];
    if(!needsFor(type)) {
        for(const lt of ltAlts) {
            linkingSyntaxes.push(linkFormatter(lt));
        }
    }
    if(!refusesFor(type)) {
        for(const f of forAlts) {
            linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
        }
    }
    return [
        mk.b({}, 'Possible linking syntaxes:'),
        mk.ul({},
            ...linkingSyntaxes.map(link => {
                const copyLink = async () =>
                    await navigator.clipboard.writeText(link);
                return mk.li({},
                    mk.div({ class: 'link-item' },
                        mk.button({
                            class: 'copy-icon', title: 'Copy',
                            type: 'button',
                            _onclick: copyLink,
                            tabindex: 0,
                        }, mk.span({ class: 'icon' }) ),
                        mk.span({}, link)
                    )
                );
            })
        )
    ];
}
}
</script>
<script>/* Boilerplate: script-link-titles */
"use strict";
{
let linkTitleData = {
"https://andreubotella.com/csswg-auto-build/test/css-values-4/#length-value": "Expands to: advance measure | cap | ch | cm | dvb | dvh | dvi | dvmax | dvmin | dvw | em | ex | ic | in | lh | lvb | lvh | lvi | lvmax | lvmin | lvw | mm | pc | pt | px | rcap | rch | rem | rex | ric | rlh | svb | svh | svi | svmax | svmin | svw | vb | vh | vi | vmax | vmin | vw",
};

function setTypeTitles() {
	for(let el of document.querySelectorAll("a[href]")) {
		if(el.href in linkTitleData && !el.hasAttribute("title")) {
			el.setAttribute("title", linkTitleData[el.href]);
		}
	}
}

document.addEventListener("DOMContentLoaded", setTypeTitles);
}
</script>
<script>/* Boilerplate: script-position-annos */
"use strict";
{
function repositionAnnoPanels(){
    const panels = [...document.querySelectorAll("[data-anno-for]")];
    hydratePanels(panels);
    let vSoFar = 0;
    for(const panel of panels.sort(cmpTops)) {
        if(panel.top < vSoFar) {
            panel.top = vSoFar;
            panel.style.top = vSoFar + "px";
        }
        vSoFar = panel.top + panel.height + 15;
    }
}
function hydratePanels(panels) {
    const main = document.querySelector("main");
    let mainRect;
    if(main) mainRect = main.getBoundingClientRect();
    // First display them all, if they're not already visible.
    for(const panel of panels) {
        panel.classList.remove("unpositioned");
    }
    // Measure them all
    for(const panel of panels) {
        const dfn = document.getElementById(panel.getAttribute("data-anno-for"));
        if(!dfn) {
            console.log("Can't find the annotation panel target:", panel);
            continue;
        }
        panel.dfn = dfn;
        panel.top = window.scrollY + dfn.getBoundingClientRect().top;
        let panelRect = panel.getBoundingClientRect();
        panel.height = panelRect.height;
        if(main) {
            panel.overlappingMain = panelRect.left < mainRect.right;
        } else {
            panel.overlappingMain = false;
        }
    }
    // And finally position them
    for(const panel of panels) {
        const dfn = panel.dfn;
        if(!dfn) continue;
        panel.style.top = panel.top + "px";
        panel.classList.toggle("overlapping-main", panel.overlappingMain);
    }
}

function cmpTops(a,b) {
    return a.top - b.top;
}

window.addEventListener("load", repositionAnnoPanels);
window.addEventListener("resize", repositionAnnoPanels);
}
</script>
<script>/* Boilerplate: script-ref-hints */
"use strict";
{
let refsData = {
"#at-ruledef-container": {"displayText":"@container","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"@container","type":"at-rule","url":"#at-ruledef-container"},
"#container-feature": {"displayText":"container feature","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"container feature","type":"dfn","url":"#container-feature"},
"#container-query": {"displayText":"container query","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"container query","type":"dfn","url":"#container-query"},
"#container-query-length": {"displayText":"container query length","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"container query length","type":"dfn","url":"#container-query-length"},
"#container-size-query": {"displayText":"container size query","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"container size query","type":"dfn","url":"#container-size-query"},
"#container-style-query": {"displayText":"container style query","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"container style query","type":"dfn","url":"#container-style-query"},
"#csscontainerrule": {"displayText":"CSSContainerRule","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"CSSContainerRule","type":"interface","url":"#csscontainerrule"},
"#descdef-container-aspect-ratio": {"displayText":"aspect-ratio","export":true,"for_":["@container"],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"aspect-ratio","type":"descriptor","url":"#descdef-container-aspect-ratio"},
"#descdef-container-block-size": {"displayText":"block-size","export":true,"for_":["@container"],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"block-size","type":"descriptor","url":"#descdef-container-block-size"},
"#descdef-container-height": {"displayText":"height","export":true,"for_":["@container"],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"height","type":"descriptor","url":"#descdef-container-height"},
"#descdef-container-inline-size": {"displayText":"inline-size","export":true,"for_":["@container"],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"inline-size","type":"descriptor","url":"#descdef-container-inline-size"},
"#descdef-container-orientation": {"displayText":"orientation","export":true,"for_":["@container"],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"orientation","type":"descriptor","url":"#descdef-container-orientation"},
"#descdef-container-width": {"displayText":"width","export":true,"for_":["@container"],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"width","type":"descriptor","url":"#descdef-container-width"},
"#dom-csscontainerrule-containername": {"displayText":"containerName","export":true,"for_":["CSSContainerRule"],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"containerName","type":"attribute","url":"#dom-csscontainerrule-containername"},
"#dom-csscontainerrule-containerquery": {"displayText":"containerQuery","export":true,"for_":["CSSContainerRule"],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"containerQuery","type":"attribute","url":"#dom-csscontainerrule-containerquery"},
"#inline-size-containment": {"displayText":"inline-size containment","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"inline-size containment","type":"dfn","url":"#inline-size-containment"},
"#propdef-container": {"displayText":"container","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"container","type":"property","url":"#propdef-container"},
"#propdef-container-name": {"displayText":"container-name","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"container-name","type":"property","url":"#propdef-container-name"},
"#propdef-container-type": {"displayText":"container-type","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"container-type","type":"property","url":"#propdef-container-type"},
"#query-container": {"displayText":"query container","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"query container","type":"dfn","url":"#query-container"},
"#query-container-name": {"displayText":"query container name","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"query container name","type":"dfn","url":"#query-container-name"},
"#size-features": {"displayText":"size features","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"size features","type":"dfn","url":"#size-features"},
"#style-features": {"displayText":"style features","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"style features","type":"dfn","url":"#style-features"},
"#typedef-container-condition": {"displayText":"<container-condition>","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"<container-condition>","type":"type","url":"#typedef-container-condition"},
"#typedef-container-name": {"displayText":"<container-name>","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"<container-name>","type":"type","url":"#typedef-container-name"},
"#typedef-container-query": {"displayText":"<container-query>","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"<container-query>","type":"type","url":"#typedef-container-query"},
"#typedef-query-in-parens": {"displayText":"<query-in-parens>","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"<query-in-parens>","type":"type","url":"#typedef-query-in-parens"},
"#typedef-size-feature": {"displayText":"<size-feature>","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"<size-feature>","type":"type","url":"#typedef-size-feature"},
"#typedef-style-feature": {"displayText":"<style-feature>","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"<style-feature>","type":"type","url":"#typedef-style-feature"},
"#typedef-style-in-parens": {"displayText":"<style-in-parens>","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"<style-in-parens>","type":"type","url":"#typedef-style-in-parens"},
"#typedef-style-query": {"displayText":"<style-query>","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"<style-query>","type":"type","url":"#typedef-style-query"},
"#valdef-container-name-none": {"displayText":"none","export":true,"for_":["container-name"],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"none","type":"value","url":"#valdef-container-name-none"},
"#valdef-container-orientation-landscape": {"displayText":"landscape","export":true,"for_":["@container/orientation","orientation"],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"landscape","type":"value","url":"#valdef-container-orientation-landscape"},
"#valdef-container-orientation-portrait": {"displayText":"portrait","export":true,"for_":["@container/orientation","orientation"],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"portrait","type":"value","url":"#valdef-container-orientation-portrait"},
"#valdef-container-type-inline-size": {"displayText":"inline-size","export":true,"for_":["container-type"],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"inline-size","type":"value","url":"#valdef-container-type-inline-size"},
"#valdef-container-type-normal": {"displayText":"normal","export":true,"for_":["container-type"],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"normal","type":"value","url":"#valdef-container-type-normal"},
"#valdef-container-type-size": {"displayText":"size","export":true,"for_":["container-type"],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"local","text":"size","type":"value","url":"#valdef-container-type-size"},
"https://andreubotella.com/csswg-auto-build/test/css-animations-1/#at-ruledef-keyframes": {"displayText":"@keyframes","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-animations","spec":"css-animations-1","status":"current","text":"@keyframes","type":"at-rule","url":"https://andreubotella.com/csswg-auto-build/test/css-animations-1/#at-ruledef-keyframes"},
"https://andreubotella.com/csswg-auto-build/test/css-box-4/#content-box": {"displayText":"content box","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-box","spec":"css-box-4","status":"current","text":"content box","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-box-4/#content-box"},
"https://andreubotella.com/csswg-auto-build/test/css-break-3/#fragmentation": {"displayText":"fragmentation","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-break","spec":"css-break-3","status":"current","text":"fragmentation","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-break-3/#fragmentation"},
"https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#at-ruledef-layer": {"displayText":"@layer","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-cascade","spec":"css-cascade-5","status":"current","text":"@layer","type":"at-rule","url":"https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#at-ruledef-layer"},
"https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#cascade-dependent-keyword": {"displayText":"cascade-dependent keyword","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-cascade","spec":"css-cascade-5","status":"current","text":"cascade-dependent keyword","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#cascade-dependent-keyword"},
"https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#computed-value": {"displayText":"computed value","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-cascade","spec":"css-cascade-5","status":"current","text":"computed value","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#computed-value"},
"https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#initial-value": {"displayText":"initial value","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-cascade","spec":"css-cascade-5","status":"current","text":"initial value","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#initial-value"},
"https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#longhand": {"displayText":"longhand property","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-cascade","spec":"css-cascade-5","status":"current","text":"longhand property","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#longhand"},
"https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#shorthand-property": {"displayText":"shorthand","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-cascade","spec":"css-cascade-5","status":"current","text":"shorthand","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#shorthand-property"},
"https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#valdef-all-revert": {"displayText":"revert","export":true,"for_":["all"],"level":"5","normative":true,"shortname":"css-cascade","spec":"css-cascade-5","status":"current","text":"revert","type":"value","url":"https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#valdef-all-revert"},
"https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#valdef-all-revert-layer": {"displayText":"revert-layer","export":true,"for_":["all"],"level":"5","normative":true,"shortname":"css-cascade","spec":"css-cascade-5","status":"current","text":"revert-layer","type":"value","url":"https://andreubotella.com/csswg-auto-build/test/css-cascade-5/#valdef-all-revert-layer"},
"https://andreubotella.com/csswg-auto-build/test/css-conditional-3/#at-ruledef-supports": {"displayText":"@supports","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-conditional","spec":"css-conditional-3","status":"current","text":"@supports","type":"at-rule","url":"https://andreubotella.com/csswg-auto-build/test/css-conditional-3/#at-ruledef-supports"},
"https://andreubotella.com/csswg-auto-build/test/css-conditional-3/#conditional-group-rule": {"displayText":"conditional group rule","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-conditional","spec":"css-conditional-3","status":"current","text":"conditional group rule","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-conditional-3/#conditional-group-rule"},
"https://andreubotella.com/csswg-auto-build/test/css-conditional-3/#css-feature-queries": {"displayText":"CSS feature queries","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-conditional","spec":"css-conditional-3","status":"current","text":"css feature queries","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-conditional-3/#css-feature-queries"},
"https://andreubotella.com/csswg-auto-build/test/css-conditional-3/#cssconditionrule": {"displayText":"CSSConditionRule","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-conditional","spec":"css-conditional-3","status":"current","text":"CSSConditionRule","type":"interface","url":"https://andreubotella.com/csswg-auto-build/test/css-conditional-3/#cssconditionrule"},
"https://andreubotella.com/csswg-auto-build/test/css-contain-2/#layout-containment": {"displayText":"layout containment","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-contain","spec":"css-contain-2","status":"current","text":"layout containment","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-contain-2/#layout-containment"},
"https://andreubotella.com/csswg-auto-build/test/css-contain-2/#layout-containment-box": {"displayText":"layout containment box","export":false,"for_":[],"level":"2","normative":true,"shortname":"css-contain","spec":"css-contain-2","status":"current","text":"layout containment box","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-contain-2/#layout-containment-box"},
"https://andreubotella.com/csswg-auto-build/test/css-contain-2/#propdef-contain": {"displayText":"contain","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-contain","spec":"css-contain-2","status":"current","text":"contain","type":"property","url":"https://andreubotella.com/csswg-auto-build/test/css-contain-2/#propdef-contain"},
"https://andreubotella.com/csswg-auto-build/test/css-contain-2/#propdef-content-visibility": {"displayText":"content-visibility","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-contain","spec":"css-contain-2","status":"current","text":"content-visibility","type":"property","url":"https://andreubotella.com/csswg-auto-build/test/css-contain-2/#propdef-content-visibility"},
"https://andreubotella.com/csswg-auto-build/test/css-contain-2/#size-containment": {"displayText":"size containment","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-contain","spec":"css-contain-2","status":"current","text":"size containment","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-contain-2/#size-containment"},
"https://andreubotella.com/csswg-auto-build/test/css-contain-2/#style-containment": {"displayText":"style containment","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-contain","spec":"css-contain-2","status":"current","text":"style containment","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-contain-2/#style-containment"},
"https://andreubotella.com/csswg-auto-build/test/css-display-3/#atomic-inline": {"displayText":"atomic inline","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-display","spec":"css-display-3","status":"current","text":"atomic inline","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-display-3/#atomic-inline"},
"https://andreubotella.com/csswg-auto-build/test/css-display-3/#inline-level": {"displayText":"inline-level","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-display","spec":"css-display-3","status":"current","text":"inline-level","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-display-3/#inline-level"},
"https://andreubotella.com/csswg-auto-build/test/css-display-3/#internal-ruby-box": {"displayText":"internal ruby box","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-display","spec":"css-display-3","status":"current","text":"internal ruby box","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-display-3/#internal-ruby-box"},
"https://andreubotella.com/csswg-auto-build/test/css-display-3/#internal-table-box": {"displayText":"internal table box","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-display","spec":"css-display-3","status":"current","text":"internal table box","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-display-3/#internal-table-box"},
"https://andreubotella.com/csswg-auto-build/test/css-display-3/#propdef-display": {"displayText":"display","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-display","spec":"css-display-3","status":"current","text":"display","type":"property","url":"https://andreubotella.com/csswg-auto-build/test/css-display-3/#propdef-display"},
"https://andreubotella.com/csswg-auto-build/test/css-display-4/#formatting-context": {"displayText":"formatting context","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-display","spec":"css-display-4","status":"current","text":"formatting context","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-display-4/#formatting-context"},
"https://andreubotella.com/csswg-auto-build/test/css-display-4/#inner-display-type": {"displayText":"inner display type","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-display","spec":"css-display-4","status":"current","text":"inner display type","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-display-4/#inner-display-type"},
"https://andreubotella.com/csswg-auto-build/test/css-display-4/#principal-box": {"displayText":"principal box","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-display","spec":"css-display-4","status":"current","text":"principal box","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-display-4/#principal-box"},
"https://andreubotella.com/csswg-auto-build/test/css-display-4/#valdef-display-table": {"displayText":"table","export":true,"for_":["display","<display-inside>"],"level":"4","normative":true,"shortname":"css-display","spec":"css-display-4","status":"current","text":"table","type":"value","url":"https://andreubotella.com/csswg-auto-build/test/css-display-4/#valdef-display-table"},
"https://andreubotella.com/csswg-auto-build/test/css-fonts-4/#propdef-font-size": {"displayText":"font-size","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-fonts","spec":"css-fonts-4","status":"current","text":"font-size","type":"property","url":"https://andreubotella.com/csswg-auto-build/test/css-fonts-4/#propdef-font-size"},
"https://andreubotella.com/csswg-auto-build/test/css-fonts-5/#at-font-face-rule": {"displayText":"@font-face","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-fonts","spec":"css-fonts-5","status":"current","text":"@font-face","type":"at-rule","url":"https://andreubotella.com/csswg-auto-build/test/css-fonts-5/#at-font-face-rule"},
"https://andreubotella.com/csswg-auto-build/test/css-forms-1/#selectordef-file-selector-button": {"displayText":"::file-selector-button","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-forms","spec":"css-forms-1","status":"current","text":"::file-selector-button","type":"selector","url":"https://andreubotella.com/csswg-auto-build/test/css-forms-1/#selectordef-file-selector-button"},
"https://andreubotella.com/csswg-auto-build/test/css-forms-1/#selectordef-placeholder": {"displayText":"::placeholder","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-forms","spec":"css-forms-1","status":"current","text":"::placeholder","type":"selector","url":"https://andreubotella.com/csswg-auto-build/test/css-forms-1/#selectordef-placeholder"},
"https://andreubotella.com/csswg-auto-build/test/css-position-4/#selectordef-backdrop": {"displayText":"::backdrop","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-position","spec":"css-position-4","status":"current","text":"::backdrop","type":"selector","url":"https://andreubotella.com/csswg-auto-build/test/css-position-4/#selectordef-backdrop"},
"https://andreubotella.com/csswg-auto-build/test/css-pseudo-4/#fictional-tag-sequence": {"displayText":"fictional tag sequence","export":false,"for_":[],"level":"4","normative":false,"shortname":"css-pseudo","spec":"css-pseudo-4","status":"current","text":"fictional tag sequence","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-pseudo-4/#fictional-tag-sequence"},
"https://andreubotella.com/csswg-auto-build/test/css-pseudo-4/#selectordef-after": {"displayText":"::after","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-pseudo","spec":"css-pseudo-4","status":"current","text":"::after","type":"selector","url":"https://andreubotella.com/csswg-auto-build/test/css-pseudo-4/#selectordef-after"},
"https://andreubotella.com/csswg-auto-build/test/css-pseudo-4/#selectordef-before": {"displayText":"::before","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-pseudo","spec":"css-pseudo-4","status":"current","text":"::before","type":"selector","url":"https://andreubotella.com/csswg-auto-build/test/css-pseudo-4/#selectordef-before"},
"https://andreubotella.com/csswg-auto-build/test/css-pseudo-4/#selectordef-first-letter": {"displayText":"::first-letter","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-pseudo","spec":"css-pseudo-4","status":"current","text":"::first-letter","type":"selector","url":"https://andreubotella.com/csswg-auto-build/test/css-pseudo-4/#selectordef-first-letter"},
"https://andreubotella.com/csswg-auto-build/test/css-pseudo-4/#selectordef-first-line": {"displayText":"::first-line","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-pseudo","spec":"css-pseudo-4","status":"current","text":"::first-line","type":"selector","url":"https://andreubotella.com/csswg-auto-build/test/css-pseudo-4/#selectordef-first-line"},
"https://andreubotella.com/csswg-auto-build/test/css-pseudo-4/#selectordef-marker": {"displayText":"::marker","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-pseudo","spec":"css-pseudo-4","status":"current","text":"::marker","type":"selector","url":"https://andreubotella.com/csswg-auto-build/test/css-pseudo-4/#selectordef-marker"},
"https://andreubotella.com/csswg-auto-build/test/css-scoping-1/#selectordef-slotted": {"displayText":"::slotted()","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-scoping","spec":"css-scoping-1","status":"current","text":"::slotted()","type":"selector","url":"https://andreubotella.com/csswg-auto-build/test/css-scoping-1/#selectordef-slotted"},
"https://andreubotella.com/csswg-auto-build/test/css-shadow-parts-1/#selectordef-part": {"displayText":"::part()","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-shadow-parts","spec":"css-shadow-parts-1","status":"current","text":"::part()","type":"selector","url":"https://andreubotella.com/csswg-auto-build/test/css-shadow-parts-1/#selectordef-part"},
"https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#height": {"displayText":"height","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-sizing","spec":"css-sizing-3","status":"current","text":"height","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#height"},
"https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#intrinsic-size": {"displayText":"intrinsic size","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-sizing","spec":"css-sizing-3","status":"current","text":"intrinsic size","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#intrinsic-size"},
"https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#min-content": {"displayText":"min-content size","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-sizing","spec":"css-sizing-3","status":"current","text":"min-content size","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#min-content"},
"https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#propdef-min-width": {"displayText":"min-width","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-sizing","spec":"css-sizing-3","status":"current","text":"min-width","type":"property","url":"https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#propdef-min-width"},
"https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#size": {"displayText":"size","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-sizing","spec":"css-sizing-3","status":"current","text":"size","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#size"},
"https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#width": {"displayText":"width","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-sizing","spec":"css-sizing-3","status":"current","text":"width","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-sizing-3/#width"},
"https://andreubotella.com/csswg-auto-build/test/css-sizing-4/#propdef-aspect-ratio": {"displayText":"aspect-ratio","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-sizing","spec":"css-sizing-4","status":"current","text":"aspect-ratio","type":"property","url":"https://andreubotella.com/csswg-auto-build/test/css-sizing-4/#propdef-aspect-ratio"},
"https://andreubotella.com/csswg-auto-build/test/css-syntax-3/#at-rule": {"displayText":"at-rule","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-syntax","spec":"css-syntax-3","status":"current","text":"at-rule","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-syntax-3/#at-rule"},
"https://andreubotella.com/csswg-auto-build/test/css-syntax-3/#declaration": {"displayText":"declaration","export":true,"for_":["CSS"],"level":"3","normative":true,"shortname":"css-syntax","spec":"css-syntax-3","status":"current","text":"declaration","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-syntax-3/#declaration"},
"https://andreubotella.com/csswg-auto-build/test/css-syntax-3/#style-rule": {"displayText":"style rule","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-syntax","spec":"css-syntax-3","status":"current","text":"style rule","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-syntax-3/#style-rule"},
"https://andreubotella.com/csswg-auto-build/test/css-transitions-1/#style-change-event": {"displayText":"style change event","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-transitions","spec":"css-transitions-1","status":"current","text":"style change event","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-transitions-1/#style-change-event"},
"https://andreubotella.com/csswg-auto-build/test/css-values-4/#comb-any": {"displayText":"||","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"||","type":"grammar","url":"https://andreubotella.com/csswg-auto-build/test/css-values-4/#comb-any"},
"https://andreubotella.com/csswg-auto-build/test/css-values-4/#comb-one": {"displayText":"|","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"|","type":"grammar","url":"https://andreubotella.com/csswg-auto-build/test/css-values-4/#comb-one"},
"https://andreubotella.com/csswg-auto-build/test/css-values-4/#css-css-identifier": {"displayText":"identifier","export":true,"for_":["CSS"],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"identifier","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-values-4/#css-css-identifier"},
"https://andreubotella.com/csswg-auto-build/test/css-values-4/#css-wide-keywords": {"displayText":"CSS-wide keywords","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"css-wide keywords","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-values-4/#css-wide-keywords"},
"https://andreubotella.com/csswg-auto-build/test/css-values-4/#em": {"displayText":"em","export":true,"for_":["<length>"],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"em","type":"value","url":"https://andreubotella.com/csswg-auto-build/test/css-values-4/#em"},
"https://andreubotella.com/csswg-auto-build/test/css-values-4/#identifier-value": {"displayText":"<custom-ident>","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"<custom-ident>","type":"type","url":"https://andreubotella.com/csswg-auto-build/test/css-values-4/#identifier-value"},
"https://andreubotella.com/csswg-auto-build/test/css-values-4/#length-value": {"displayText":"<length>","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"<length>","type":"type","url":"https://andreubotella.com/csswg-auto-build/test/css-values-4/#length-value"},
"https://andreubotella.com/csswg-auto-build/test/css-values-4/#mult-one-plus": {"displayText":"+","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"+","type":"grammar","url":"https://andreubotella.com/csswg-auto-build/test/css-values-4/#mult-one-plus"},
"https://andreubotella.com/csswg-auto-build/test/css-values-4/#mult-opt": {"displayText":"?","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"?","type":"grammar","url":"https://andreubotella.com/csswg-auto-build/test/css-values-4/#mult-opt"},
"https://andreubotella.com/csswg-auto-build/test/css-values-4/#mult-zero-plus": {"displayText":"*","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"*","type":"grammar","url":"https://andreubotella.com/csswg-auto-build/test/css-values-4/#mult-zero-plus"},
"https://andreubotella.com/csswg-auto-build/test/css-values-4/#ratio-value": {"displayText":"<ratio>","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"<ratio>","type":"type","url":"https://andreubotella.com/csswg-auto-build/test/css-values-4/#ratio-value"},
"https://andreubotella.com/csswg-auto-build/test/css-values-4/#relative-length": {"displayText":"relative length","export":false,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"relative length","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-values-4/#relative-length"},
"https://andreubotella.com/csswg-auto-build/test/css-values-4/#small-viewport-size": {"displayText":"small viewport size","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"small viewport size","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-values-4/#small-viewport-size"},
"https://andreubotella.com/csswg-auto-build/test/css-values-4/#string-value": {"displayText":"<string>","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"<string>","type":"type","url":"https://andreubotella.com/csswg-auto-build/test/css-values-4/#string-value"},
"https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#block-axis": {"displayText":"block-axis","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-writing-modes","spec":"css-writing-modes-4","status":"current","text":"block-axis","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#block-axis"},
"https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#block-size": {"displayText":"block size","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-writing-modes","spec":"css-writing-modes-4","status":"current","text":"block size","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#block-size"},
"https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#inline-axis": {"displayText":"inline-axis","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-writing-modes","spec":"css-writing-modes-4","status":"current","text":"inline-axis","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#inline-axis"},
"https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#inline-size": {"displayText":"inline-size","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-writing-modes","spec":"css-writing-modes-4","status":"current","text":"inline-size","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-writing-modes-4/#inline-size"},
"https://andreubotella.com/csswg-auto-build/test/css2/#propdef-line-height": {"displayText":"line-height","export":true,"for_":[],"level":"2","normative":true,"shortname":"css","spec":"css2","status":"current","text":"line-height","type":"property","url":"https://andreubotella.com/csswg-auto-build/test/css2/#propdef-line-height"},
"https://andreubotella.com/csswg-auto-build/test/cssom-1/#cssomstring": {"displayText":"CSSOMString","export":true,"for_":[],"level":"1","normative":true,"shortname":"cssom","spec":"cssom-1","status":"current","text":"CSSOMString","type":"interface","url":"https://andreubotella.com/csswg-auto-build/test/cssom-1/#cssomstring"},
"https://andreubotella.com/csswg-auto-build/test/cssom-view-1/#dom-window-matchmedia": {"displayText":"matchMedia(query)","export":true,"for_":["Window"],"level":"1","normative":true,"shortname":"cssom-view","spec":"cssom-view-1","status":"current","text":"matchMedia(query)","type":"method","url":"https://andreubotella.com/csswg-auto-build/test/cssom-view-1/#dom-window-matchmedia"},
"https://andreubotella.com/csswg-auto-build/test/cssom-view-1/#mediaquerylist": {"displayText":"MediaQueryList","export":true,"for_":[],"level":"1","normative":true,"shortname":"cssom-view","spec":"cssom-view-1","status":"current","text":"MediaQueryList","type":"interface","url":"https://andreubotella.com/csswg-auto-build/test/cssom-view-1/#mediaquerylist"},
"https://andreubotella.com/csswg-auto-build/test/mediaqueries-5/#media-feature": {"displayText":"media feature","export":true,"for_":[],"level":"5","normative":true,"shortname":"mediaqueries","spec":"mediaqueries-5","status":"current","text":"media feature","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/mediaqueries-5/#media-feature"},
"https://andreubotella.com/csswg-auto-build/test/mediaqueries-5/#media-query": {"displayText":"media query","export":true,"for_":[],"level":"5","normative":true,"shortname":"mediaqueries","spec":"mediaqueries-5","status":"current","text":"media query","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/mediaqueries-5/#media-query"},
"https://andreubotella.com/csswg-auto-build/test/mediaqueries-5/#typedef-general-enclosed": {"displayText":"<general-enclosed>","export":true,"for_":[],"level":"5","normative":true,"shortname":"mediaqueries","spec":"mediaqueries-5","status":"current","text":"<general-enclosed>","type":"type","url":"https://andreubotella.com/csswg-auto-build/test/mediaqueries-5/#typedef-general-enclosed"},
"https://andreubotella.com/csswg-auto-build/test/mediaqueries-5/#valdef-media-not": {"displayText":"not","export":true,"for_":["@media"],"level":"5","normative":true,"shortname":"mediaqueries","spec":"mediaqueries-5","status":"current","text":"not","type":"value","url":"https://andreubotella.com/csswg-auto-build/test/mediaqueries-5/#valdef-media-not"},
"https://andreubotella.com/csswg-auto-build/test/selectors-4/#ultimate-originating-element": {"displayText":"ultimate originating element","export":true,"for_":[],"level":"4","normative":true,"shortname":"selectors","spec":"selectors-4","status":"current","text":"ultimate originating element","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/selectors-4/#ultimate-originating-element"},
"https://andreubotella.com/csswg-auto-build/test/web-animations-1/#effect-value": {"displayText":"effect value","export":false,"for_":[],"level":"1","normative":true,"shortname":"web-animations","spec":"web-animations-1","status":"current","text":"effect value","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/web-animations-1/#effect-value"},
"https://dom.spec.whatwg.org/#concept-shadow-including-descendant": {"displayText":"shadow-including descendant","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"shadow-including descendant","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-shadow-including-descendant"},
"https://dom.spec.whatwg.org/#concept-shadow-including-inclusive-ancestor": {"displayText":"shadow-including inclusive ancestor","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"shadow-including inclusive ancestor","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-shadow-including-inclusive-ancestor"},
"https://webidl.spec.whatwg.org/#Exposed": {"displayText":"Exposed","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"Exposed","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#Exposed"},
"https://www.w3.org/TR/css-syntax-3/#typedef-stylesheet": {"displayText":"<stylesheet>","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-syntax","spec":"css-syntax-3","status":"snapshot","text":"<stylesheet>","type":"type","url":"https://www.w3.org/TR/css-syntax-3/#typedef-stylesheet"},
};

function mkRefHint(link, ref) {
    const linkText = link.textContent;
    let dfnTextElements = '';
    if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
        // Give the original term if it's being displayed in a different way.
        // But allow casing differences, they're insignificant.
        dfnTextElements =
            mk.li({},
                mk.b({}, "Term: "),
                mk.span({}, ref.displayText)
            );
    }
    const forList = ref.for_;
    let forListElements;
    if(forList.length == 0) {
        forListElements = [];
    } else if(forList.length == 1) {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.span({}, forList[0]),
        );
    } else {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.ul({},
                ...forList.map(forItem =>
                    mk.li({},
                        mk.span({}, forItem)
                    ),
                ),
            ),
        );
    }
    const url = ref.url;
    const safeUrl = encodeURIComponent(url);
    const hintPanel = mk.aside({
        class: "ref-hint",
        id: `ref-hint-for-${safeUrl}`,
        "data-for": url,
        "aria-labelled-by": `ref-hint-for-${safeUrl}`,
    },
        mk.ul({},
            dfnTextElements,
            mk.li({},
                mk.b({}, "URL: "),
                mk.a({ href: url, class: "ref" }, url),
            ),
            mk.li({},
                mk.b({}, "Type: "),
                mk.span({}, `${ref.type}`),
            ),
            mk.li({},
                mk.b({}, "Spec: "),
                mk.span({}, `${ref.spec ? ref.spec : ''}`),
            ),
            forListElements
        ),
    );
    hintPanel.forLink = link;
    setupRefHintEventListeners(link, hintPanel);
    return hintPanel;
}

function hideAllRefHints() {
    queryAll(".ref-hint").forEach(el=>hideRefHint(el));
}

function hideRefHint(refHint) {
    const link = refHint.forLink;
    link.setAttribute("aria-expanded", "false");
    if(refHint.teardownEventListeners) {
        refHint.teardownEventListeners();
    }
    refHint.remove();
}

function showRefHint(link) {
    if(link.classList.contains("dfn-link")) return;
    const url = link.getAttribute("href");
    const refHintKey = link.getAttribute("data-refhint-key");
    let key = url;
    if(refHintKey) {
        key = refHintKey + "_" + url;
    }
    const ref = refsData[key];
    if(!ref) return;

    hideAllRefHints(); // Only display one at this time.

    const refHint = mkRefHint(link, ref);
    append(document.body, refHint);
    link.setAttribute("aria-expanded", "true");
    positionRefHint(refHint);
}

function setupRefHintEventListeners(link, refHint) {
    if (refHint.teardownEventListeners) return;
    // Add event handlers to hide the refHint after the user moves away
    // from both the link and refHint, if not hovering either within one second.
    let timeout = null;
    const startHidingRefHint = (event) => {
        if (timeout) {
            clearTimeout(timeout);
        }
        timeout = setTimeout(() => {
            hideRefHint(refHint);
        }, 1000);
    }
    const resetHidingRefHint = (event) => {
        if (timeout) clearTimeout(timeout);
        timeout = null;
    };
    link.addEventListener("mouseleave", startHidingRefHint);
    link.addEventListener("mouseenter", resetHidingRefHint);
    link.addEventListener("blur", startHidingRefHint);
    link.addEventListener("focus", resetHidingRefHint);
    refHint.addEventListener("mouseleave", startHidingRefHint);
    refHint.addEventListener("mouseenter", resetHidingRefHint);
    refHint.addEventListener("blur", startHidingRefHint);
    refHint.addEventListener("focus", resetHidingRefHint);

    refHint.teardownEventListeners = () => {
        // remove event listeners
        resetHidingRefHint();
        link.removeEventListener("mouseleave", startHidingRefHint);
        link.removeEventListener("mouseenter", resetHidingRefHint);
        link.removeEventListener("blur", startHidingRefHint);
        link.removeEventListener("focus", resetHidingRefHint);
        refHint.removeEventListener("mouseleave", startHidingRefHint);
        refHint.removeEventListener("mouseenter", resetHidingRefHint);
        refHint.removeEventListener("blur", startHidingRefHint);
        refHint.removeEventListener("focus", resetHidingRefHint);
    };
}

function positionRefHint(refHint) {
    const link = refHint.forLink;
    const linkPos = getBounds(link);
    refHint.style.top = linkPos.bottom + "px";
    refHint.style.left = linkPos.left + "px";

    const panelPos = refHint.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
        refHint.style.left = newLeft + "px";
    }
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function showRefHintListener(e) {
    // If the target isn't in a link (or is a link),
    // just ignore it.
    let link = e.target.closest("a");
    if(!link) return;

    // If the target is in a ref-hint panel
    // (aka a link in the already-open one),
    // also just ignore it.
    if(link.closest(".ref-hint")) return;

    // Otherwise, show the panel for the link.
    showRefHint(link);
}

function hideAllHintsListener(e) {
    // If the click is inside a ref-hint panel, ignore it.
    if(e.target.closest(".ref-hint")) return;
    // Otherwise, close all the current panels.
    hideAllRefHints();
}

document.addEventListener("DOMContentLoaded", () => {
    document.body.addEventListener("mousedown", showRefHintListener);
    document.body.addEventListener("focus", showRefHintListener);

    document.body.addEventListener("click", hideAllHintsListener);
});

window.addEventListener("resize", () => {
    // Hide any open ref hint.
    hideAllRefHints();
});
}
</script>