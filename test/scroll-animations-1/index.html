<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>Scroll-linked Animations</title>
  <meta content="FPWD" name="w3c-status">
  <meta content="Bikeshed version 618007319, updated Thu Jun 26 17:23:55 2025 -0700" name="generator">
  <link href="https://www.w3.org/TR/scroll-animations-1/" rel="canonical">
  <meta content="03f6b66e0a3c0b5bb1044b7d88aa6674e31c5129" name="revision">
  <meta content="dark light" name="color-scheme">
  <link href="web-animations.css" rel="stylesheet" type="text/css">
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */
/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
    --dfnpanel-target-bg: #ffc;
    --dfnpanel-target-outline: orange;
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
        --dfnpanel-target-bg: #333;
        --dfnpanel-target-outline: silver;
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel a:focus {
    outline: 5px auto Highlight;
    outline: 5px auto -webkit-focus-ring-color;
}
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: 8px;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
    transition: left 1s ease-out, bottom 1s ease-out;
}

.dfn-panel .link-item:hover {
    text-decoration: underline;
}
.dfn-panel .link-item .copy-icon {
    opacity: 0;
}
.dfn-panel .link-item:hover .copy-icon,
.dfn-panel .link-item .copy-icon:focus {
    opacity: 1;
}

.dfn-panel .copy-icon {
    display: inline-block;
    margin-right: 0.5em;
    width: 0.85em;
    height: 1em;
    border-radius: 3px;
    background-color: #ccc;
    cursor: pointer;
}

.dfn-panel .copy-icon .icon {
    width: 100%;
    height: 100%;
    background-color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
}

.dfn-panel .copy-icon .icon::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 1px solid black;
    background-color: #ccc;
    opacity: 0.25;
    transform: translate(3px, -3px);
}

.dfn-panel .copy-icon:active .icon::before {
    opacity: 1;
}

.dfn-paneled[role="button"] { cursor: help; }

.highlighted {
    animation: target-fade 3s;
}

@keyframes target-fade {
    from {
        background-color: var(--dfnpanel-target-bg);
        outline: 5px solid var(--dfnpanel-target-outline);
    }
    to {
        color: var(--a-normal-text);
        background-color: transparent;
        outline: transparent;
    }
}
</style>
<style>/* Boilerplate: style-idl-highlighting */
pre.idl.highlight {
    background: var(--borderedblock-bg, var(--def-bg));
}
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-ref-hints */
:root {
    --ref-hint-bg: #ddd;
    --ref-hint-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --ref-hint-bg: #222;
        --ref-hint-text: var(--text);
    }
}

.ref-hint {
    display: inline-block;
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.5em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--ref-hint-bg);
    color: var(--ref-hint-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}

.ref-hint * { margin: 0; padding: 0; text-indent: 0; }

.ref-hint ul { padding: 0 0 0 1em; list-style: none; }
</style>
<style>/* Boilerplate: style-selflinks */
:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
<style>/* Boilerplate: style-var-click-highlighting */
/*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)

For darkmode:
0 = oklab(50%   0%  108%)
1 = oklab(50% -51%   51%)
2 = oklab(50% -64%  -20%)
3 = oklab(50%   6%   19%)
4 = oklab(50% -12%  -64%)
5 = oklab(50%  44%  -19%)  
6 = oklab(50% 102%   38%)
*/

[data-algorithm] var { cursor: pointer; }
var[data-var-color] { background-color: var(--var-bg); box-shadow: 0 0 0 2px var(--var-bg); }

var[data-var-color] { --var-bg: #F4D200; }
var[data-var-color="1"] { --var-bg: #FF87A2; }
var[data-var-color="2"] { --var-bg: #96E885; }
var[data-var-color="3"] { --var-bg: #3EEED2; }
var[data-var-color="4"] { --var-bg: #EACFB6; }
var[data-var-color="5"] { --var-bg: #82DDFF; }
var[data-var-color="6"] { --var-vg: #FFBCF2; }

@media (prefers-color-scheme: dark) {
	var[data-var-color] { --var-bg: #bc1a00; }
	var[data-var-color="1"] { --var-bg: #007f00; }
	var[data-var-color="2"] { --var-bg: #008698; }
	var[data-var-color="3"] { --var-bg: #7f5b2b; }
	var[data-var-color="4"] { --var-bg: #004df3; }
	var[data-var-color="5"] { --var-bg: #a1248a; }
	var[data-var-color="6"] { --var-vg: #ff0000; }
}
</style>
  <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD" rel="stylesheet">
  <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css">
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/">
    <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
</a>
</p>
   <h1 class="p-name no-ref" id="title">Scroll-linked Animations</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types/#FPWD">W3C First Public Working Draft</a>,
    <time class="dt-updated" datetime="2022-10-25">25 October 2022</time></p>
   <details open>
    <summary>More details about this document</summary>
    <div data-fill-with="spec-metadata">
     <dl>
      <dt>This version:
      <dd><a class="u-url" href="https://www.w3.org/TR/2022/FPWD-scroll-animations-1-1-20221025/">https://www.w3.org/TR/2022/FPWD-scroll-animations-1-1-20221025/</a>
      <dt>Latest published version:
      <dd><a href="https://www.w3.org/TR/scroll-animations-1/">https://www.w3.org/TR/scroll-animations-1/</a>
      <dt>Editor's Draft:
      <dd><a href="https://drafts.csswg.org/scroll-animations-1/">https://drafts.csswg.org/scroll-animations-1/</a>
      <dt>History:
      <dd><a class="u-url" href="https://www.w3.org/standards/history/scroll-animations-1-1/">https://www.w3.org/standards/history/scroll-animations-1-1/</a>
      <dt>Feedback:
      <dd><a href="https://github.com/w3c/csswg-drafts/labels/scroll-animations-1-1">CSSWG Issues Repository</a>
      <dd><a href="#issues-index">Inline In Spec</a>
      <dt class="editor">Editors:
      <dd class="editor p-author h-card vcard" data-editor-id="43194"><a class="p-name fn u-email email" href="mailto:brian@birchill.co.jp">Brian Birtles</a> (<span class="p-org org">Invited Expert</span>)
      <dd class="editor p-author h-card vcard" data-editor-id="94018"><a class="p-name fn u-email email" href="mailto:botond@mozilla.com">Botond Ballo</a> (<span class="p-org org">Mozilla</span>)
      <dd class="editor p-author h-card vcard" data-editor-id="51377"><a class="p-name fn u-email email" href="mailto:graouts@apple.com">Antoine Quint</a> (<span class="p-org org">Apple</span>)
      <dd class="editor p-author h-card vcard" data-editor-id="121763"><a class="p-name fn u-email email" href="mailto:gerchiko@microsoft.com">Olga Gerchikov</a> (<span class="p-org org">Microsoft</span>)
      <dd class="editor p-author h-card vcard" data-editor-id="35400"><a class="p-name fn u-url url" href="http://fantasai.inkedblade.net/contact">Elika J. Etemad / fantasai</a> (<span class="p-org org">Invited Expert</span>)
      <dd class="editor p-author h-card vcard" data-editor-id="98451"><span class="p-name fn">Robert Flack</span> (<span class="p-org org">Google</span>)
      <dt class="editor">Former Editors:
      <dd class="editor p-author h-card vcard" data-editor-id="81464"><a class="p-name fn u-email email" href="mailto:majidvp@google.com">Majid Valipour</a> (<span class="p-org org">Google</span>)
      <dd class="editor p-author h-card vcard"><span class="p-name fn">Mantaroh Yoshinaga</span>
      <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:smcgruer@google.com">Stephen McGruer</a> (<span class="p-org org">Google</span>)
      <dt>Suggest an Edit for this Spec:
      <dd><a href="https://github.com/w3c/csswg-drafts/blob/main/scroll-animations-1-1/Overview.bs">GitHub Editor</a>
     </dl>
    </div>
   </details>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> © 2022 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/copyright/software-license/" rel="license" title="W3C Software and Document License">permissive document license</a> rules apply.
</p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>Defines an API and markup for creating animations that are tied to
the scroll offset of a scroll container.</p>
   


<a href="https://www.w3.org/TR/CSS/">CSS</a> is a language for describing the rendering of structured documents
(such as HTML and XML)
on screen, on paper, etc.


  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p><em>This section describes the status of this document at the time of its publication.
	A list of current W3C publications
	and the latest revision of this technical report
	can be found in the <a href="https://www.w3.org/TR/">W3C standards and drafts index at https://www.w3.org/TR/.</a></em>

</p>
   <p>
	This document was published
	by the <a href="https://www.w3.org/groups/wg/css">CSS Working Group</a>
	as a <strong>First Public Working Draft</strong> using the <a href="https://www.w3.org/policies/process/20231103/#recs-and-notes">Recommendation
      track</a>.
	Publication as a First Public Working Draft
	does not imply endorsement by <abbr title="World Wide Web Consortium">W3C</abbr> and its Members.

</p>
   <p>
	This is a draft document
	and may be updated, replaced
	or obsoleted by other documents at any time.
	It is inappropriate to cite this document as other than work in progress.

</p>
   <p>Please send feedback
	by <a href="https://github.com/w3c/csswg-drafts/issues">filing issues in GitHub</a> (preferred),
	including the spec code “scroll-animations-1” in the title, like this:
	“[scroll-animations-1] <i>…summary of comment…</i>”.
	All issues and comments are <a href="https://lists.w3.org/Archives/Public/public-css-archive/">archived</a>.
	Alternately, feedback can be sent to the (<a href="https://lists.w3.org/Archives/Public/www-style/">archived</a>) public mailing list
	<a href="mailto:www-style@w3.org?Subject=%5Bscroll-animations-1%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a>.

</p>
   <p>This document is governed by the
	<a href="https://www.w3.org/policies/process/20231103/" id="w3c_process_revision">03 November 2023 W3C Process Document</a>.

</p>
   <p>This document was produced by a group operating under the
	<a href="https://www.w3.org/policies/patent-policy/20200915/">W3C Patent Policy</a>.
	W3C maintains a
	<a href="https://www.w3.org/groups/wg/css/ipr" rel="disclosure">public list of any patent disclosures</a>
	made in connection with the deliverables of the group;
	that page also includes instructions for disclosing a patent.
	An individual who has actual knowledge of a patent which the individual believes
	contains <a href="https://www.w3.org/policies/patent-policy/20200915/#def-essential">Essential Claim(s)</a>
	must disclose the information in accordance with
	<a href="https://www.w3.org/policies/patent-policy/20200915/#sec-Disclosure">section 6 of the W3C Patent Policy</a>.

</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
     <ol class="toc">
      <li><a href="#other-specs"><span class="secno">1.1</span> <span class="content">Relationship to other specifications</span></a>
      <li><a href="#async-scrolling"><span class="secno">1.2</span> <span class="content">Relationship to asynchronous scrolling</span></a>
      <li><a href="#values"><span class="secno">1.3</span> <span class="content">Value Definitions</span></a>
     </ol>
    <li>
     <a href="#scroll-timelines"><span class="secno">2</span> <span class="content">Scroll Progress Timelines</span></a>
     <ol class="toc">
      <li>
       <a href="#scroll-timelines-anonymous"><span class="secno">2.1</span> <span class="content">Anonymous Scroll Progress Timelines</span></a>
       <ol class="toc">
        <li><a href="#scroll-notation"><span class="secno">2.1.1</span> <span class="content">The <span class="css">scroll()</span> notation</span></a>
        <li><a href="#scrolltimeline-interface"><span class="secno">2.1.2</span> <span class="content">The <code class="idl"><span>ScrollTimeline</span></code> Interface</span></a>
       </ol>
      <li>
       <a href="#scroll-timelines-named"><span class="secno">2.2</span> <span class="content">Named Scroll Progress Timelines</span></a>
       <ol class="toc">
        <li><a href="#scroll-timeline-name"><span class="secno">2.2.1</span> <span class="content">Naming a Scroll Progress Timeline: the <span class="property">scroll-timeline-name</span> property</span></a>
        <li><a href="#scroll-timeline-axis"><span class="secno">2.2.2</span> <span class="content">Axis of a Scroll Progress Timeline: the <span class="property">scroll-timeline-axis</span> property</span></a>
        <li><a href="#scroll-timeline-shorthand"><span class="secno">2.2.3</span> <span class="content">Scroll Timeline Shorthand: the <span class="property">scroll-timeline</span> shorthand</span></a>
       </ol>
     </ol>
    <li>
     <a href="#view-timelines"><span class="secno">3</span> <span class="content">View Progress Timelines</span></a>
     <ol class="toc">
      <li><a href="#view-timelines-ranges"><span class="secno">3.1</span> <span class="content">View Progress Timeline Ranges</span></a>
      <li>
       <a href="#view-timelines-anonymous"><span class="secno">3.2</span> <span class="content">Anonymous View Progress Timelines</span></a>
       <ol class="toc">
        <li><a href="#viewtimeline-interface"><span class="secno">3.2.1</span> <span class="content">The <code class="idl"><span>ViewTimeline</span></code> Interface</span></a>
       </ol>
      <li>
       <a href="#view-timelines-named"><span class="secno">3.3</span> <span class="content">Named View Progress Timelines</span></a>
       <ol class="toc">
        <li><a href="#view-timeline-name"><span class="secno">3.3.1</span> <span class="content">Naming a View Progress Timeline: the <span class="property">view-timeline-name</span> property</span></a>
        <li><a href="#view-timeline-axis"><span class="secno">3.3.2</span> <span class="content">Axis of a View Progress Timeline: the <span class="property">view-timeline-axis</span> property</span></a>
        <li><a href="#view-timeline-inset"><span class="secno">3.3.3</span> <span class="content">Inset of a View Progress Timeline: the <span class="property">view-timeline-inset</span> property</span></a>
        <li><a href="#view-timeline-shorthand"><span class="secno">3.3.4</span> <span class="content">View Timeline Shorthand: the <span class="property">view-timeline</span> shorthand</span></a>
       </ol>
     </ol>
    <li><a href="#timeline-scope"><span class="secno">4</span> <span class="content">Named Timeline Scoping</span></a>
    <li><a href="#avoiding-cycles"><span class="secno">5</span> <span class="content">Avoiding cycles with layout</span></a>
    <li>
     <a href="#timeline-ranges"><span class="secno"></span> <span class="content">Appendix A: Named Timeline Ranges</span></a>
     <ol class="toc">
      <li><a href="#named-range-keyframes"><span class="secno"></span> <span class="content">Named Timeline Range Keyframe Selectors</span></a>
      <li><a href="#named-range-animation-declaration"><span class="secno"></span> <span class="content">Attaching Animations to Timeline Ranges</span></a>
      <li><a href="#named-range-getTime"><span class="secno"></span> <span class="content">Reporting Timeline Range Progress: the <span class="css">getTime()</span> method</span></a>
     </ol>
    <li>
     <a href="#w3c-conformance"><span class="secno"></span> <span class="content">
Conformance</span></a>
     <ol class="toc">
      <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">
Document conventions</span></a>
      <li><a href="#w3c-conformance-classes"><span class="secno"></span> <span class="content">
Conformance classes</span></a>
      <li>
       <a href="#w3c-partial"><span class="secno"></span> <span class="content">
Partial implementations</span></a>
       <ol class="toc">
        <li><a href="#w3c-conform-future-proofing"><span class="secno"></span> <span class="content">
Implementations of Unstable and Proprietary Features</span></a>
       </ol>
      <li><a href="#w3c-testing"><span class="secno"></span> <span class="content">
Non-experimental implementations</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#property-index"><span class="secno"></span> <span class="content">Property Index</span></a>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
   <p>This specification defines mechanisms for
	driving the progress of an animation
	based on the scroll progress of a scroll container.
	These <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="scroll-driven-animations">scroll-driven animations</dfn>
	use a timeline based on scroll position,
	rather than one based on clock time.
	Animations are linked to such a timeline
	using the CSS <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-animations-2/#propdef-animation-timeline" id="ref-for-propdef-animation-timeline">animation-timeline</a> property
	or the Web Animations API.
	<a data-link-type="biblio" href="#biblio-web-animations-1" title="Web Animations">[WEB-ANIMATIONS-1]</a></p>
   <p>There are two types of scroll-driven timelines:</p>
   <ul>
    <li data-md>
     <p><a data-link-type="dfn" href="#scroll-progress-timelines" id="ref-for-scroll-progress-timelines">scroll progress timelines</a></p>
    <li data-md>
     <p><a data-link-type="dfn" href="#view-progress-timelines" id="ref-for-view-progress-timelines">view progress timelines</a></p>
   </ul>
   <h3 class="heading settled" data-level="1.1" id="other-specs"><span class="secno">1.1. </span><span class="content">Relationship to other specifications</span><a class="self-link" href="#other-specs"></a></h3>
   <p>Web Animations <a data-link-type="biblio" href="#biblio-web-animations-1" title="Web Animations">[WEB-ANIMATIONS-1]</a> defines
	an abstract conceptual model for animations on the Web platform,
	with elements of the model including <a data-link-type="dfn" href="https://www.w3.org/TR/web-animations-1/#concept-animation" id="ref-for-concept-animation">animations</a> and their <a data-link-type="dfn" href="https://www.w3.org/TR/web-animations-1/#timeline" id="ref-for-timeline">timelines</a>,
	and associated programming interfaces.</p>
   <p>This specification extends this model by defining
	a new type of animation <a data-link-type="dfn" href="https://www.w3.org/TR/web-animations-1/#timeline" id="ref-for-timeline①">timeline</a>:
	a <a data-link-type="dfn" href="#scroll-progress-timelines" id="ref-for-scroll-progress-timelines①">scroll progress timeline</a>.</p>
   <p>This specification defines both
	programming interfaces for interacting with these concepts,
	as well as CSS properties which apply these concepts
	to CSS Animations <a data-link-type="biblio" href="#biblio-css-animations-1" title="CSS Animations Level 1">[CSS-ANIMATIONS-1]</a>.</p>
   <p>The behavior of the CSS properties is described
	in terms of the programming interfaces.
	User agents that do not support scripting
	may still conform to this specification
	by implementing the CSS features to behave
	as if the underlying programming interfaces were in place.</p>
   <h3 class="heading settled" data-level="1.2" id="async-scrolling"><span class="secno">1.2. </span><span class="content">Relationship to asynchronous scrolling</span><a class="self-link" href="#async-scrolling"></a></h3>
   <p>Some user agents support scrolling that is asynchronous
	with respect to layout or script.
	This specification is intended to be compatible with such an architecture.</p>
   <p>Specifically, this specification allows expressing scroll-linked effects
	in a way that does not require script to run each time the effect is sampled.
	User agents that support asynchronous scrolling are allowed (but not required)
	to sample such effects asynchronously as well.</p>
   <h3 class="heading settled" data-level="1.3" id="values"><span class="secno">1.3. </span><span class="content">Value Definitions</span><a class="self-link" href="#values"></a></h3>
   <p>This specification follows the
	<a href="https://www.w3.org/TR/CSS2/about.html#property-defs">CSS property definition conventions</a>
	from <a data-link-type="biblio" href="#biblio-css2" title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[CSS2]</a>
	using the <a href="https://www.w3.org/TR/css-values-3/#value-defs">value definition syntax</a>
	from <a data-link-type="biblio" href="#biblio-css-values-3" title="CSS Values and Units Module Level 3">[CSS-VALUES-3]</a>.
	Value types not defined in this specification
	are defined in CSS Values &amp; Units <span title="CSS Values and Units Module Level 3">[CSS-VALUES-3]</span>.
	Combination with other CSS modules may expand the definitions of these value types.</p>
   <p>In addition to the property-specific values listed in their definitions,
	all properties defined in this specification
	also accept the <a data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#css-wide-keywords" id="ref-for-css-wide-keywords">CSS-wide keywords</a> as their property value.
	For readability they have not been repeated explicitly.</p>
   <h2 class="heading settled" data-level="2" id="scroll-timelines"><span class="secno">2. </span><span class="content">Scroll Progress Timelines</span><a class="self-link" href="#scroll-timelines"></a></h2>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="scroll-progress-timelines">Scroll progress timelines</dfn>
	are timelines linked to progress
	in the scroll position of a <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container">scroll container</a>
	along a particular axis.
	The startmost scroll position represents 0% progress
	and the endmost scroll position represents 100% progress.
	If the 0% position and 100% position coincide
	(i.e. the <span id="ref-for-scroll-container①">scroll container</span> has no overflow to scroll),
	the timeline is <a data-link-type="dfn" href="https://www.w3.org/TR/web-animations-1/#inactive-timeline" id="ref-for-inactive-timeline">inactive</a>.</p>
   <p><a data-link-type="dfn" href="#scroll-progress-timelines" id="ref-for-scroll-progress-timelines②">Scroll progress timelines</a> can be referenced in <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-animations-2/#propdef-animation-timeline" id="ref-for-propdef-animation-timeline①">animation-timeline</a>
	anonymously using the <a class="css" data-link-type="maybe" href="#funcdef-scroll" id="ref-for-funcdef-scroll">scroll()</a> <a data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#functional-notation" id="ref-for-functional-notation">functional notation</a>
	or by name (see <a href="#timeline-scope">§ 4 Named Timeline Scoping</a>)
	after declaring them using the <a class="property css" data-link-type="property" href="#propdef-scroll-timeline" id="ref-for-propdef-scroll-timeline">scroll-timeline</a> properties.
	In the Web Animations API,
	they can be represented anonymously by a <code class="idl"><a data-link-type="idl" href="#scrolltimeline" id="ref-for-scrolltimeline">ScrollTimeline</a></code> object.</p>
   <h3 class="heading settled" data-level="2.1" id="scroll-timelines-anonymous"><span class="secno">2.1. </span><span class="content">Anonymous Scroll Progress Timelines</span><a class="self-link" href="#scroll-timelines-anonymous"></a></h3>
   <h4 class="heading settled" data-level="2.1.1" id="scroll-notation"><span class="secno">2.1.1. </span><span class="content">The <a class="css" data-link-type="maybe" href="#funcdef-scroll" id="ref-for-funcdef-scroll①">scroll()</a> notation</span><a class="self-link" href="#scroll-notation"></a></h4>
   <p>The <dfn class="dfn-paneled css" data-dfn-type="function" data-export id="funcdef-scroll">scroll()</dfn> functional notation
	can be used as a value of <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-animations-2/#propdef-animation-timeline" id="ref-for-propdef-animation-timeline②">animation-timeline</a>
	and specifies a <a data-link-type="dfn" href="#scroll-progress-timelines" id="ref-for-scroll-progress-timelines③">scroll progress timeline</a>.
	Its syntax is</p>
<pre class="prod"><a class="production" data-link-type="function" href="#funcdef-scroll" id="ref-for-funcdef-scroll②">&lt;scroll()></a> = scroll( [ <a class="production" data-link-type="type" href="#typedef-scroller" id="ref-for-typedef-scroller">&lt;scroller></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-any" id="ref-for-comb-any">||</a> <a class="production" data-link-type="type" href="#typedef-axis" id="ref-for-typedef-axis">&lt;axis></a> ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt">?</a> )
<dfn class="dfn-paneled" data-dfn-type="type" data-noexport id="typedef-axis"><a class="production" data-link-type="type" href="#typedef-axis" id="ref-for-typedef-axis①">&lt;axis></a></dfn> = block <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one">|</a> inline <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①">|</a> vertical <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②">|</a> horizontal
<dfn class="dfn-paneled" data-dfn-type="type" data-noexport id="typedef-scroller"><a class="production" data-link-type="type" href="#typedef-scroller" id="ref-for-typedef-scroller①">&lt;scroller></a></dfn> = root <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③">|</a> nearest
</pre>
   <p>By default,
	<a class="css" data-link-type="maybe" href="#funcdef-scroll" id="ref-for-funcdef-scroll③">scroll()</a> references the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#block-axis" id="ref-for-block-axis">block axis</a> of the nearest ancestor <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container②">scroll container</a>.
	Its arguments modify this lookup as follows:</p>
   <dl>
    <dt><dfn class="dfn-paneled css" data-dfn-for="scroll(),scroll-timeline-axis,view-timeline-axis" data-dfn-type="value" data-export id="valdef-scroll-block">block</dfn>
		
    <dd>
			Specifies to use the measure of progress along the
			<a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#block-axis" id="ref-for-block-axis①">block axis</a> of the <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container③">scroll container</a>.
			(Default.)

		
    <dt><dfn class="dfn-paneled css" data-dfn-for="scroll(),scroll-timeline-axis,view-timeline-axis" data-dfn-type="value" data-export id="valdef-scroll-inline">inline</dfn>
		
    <dd>
			Specifies to use the measure of progress along the
			<a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#inline-axis" id="ref-for-inline-axis">inline axis</a> of the <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container④">scroll container</a>.

		
    <dt><dfn class="dfn-paneled css" data-dfn-for="scroll(),scroll-timeline-axis,view-timeline-axis" data-dfn-type="value" data-export id="valdef-scroll-vertical">vertical</dfn>
		
    <dd>
			Specifies to use the measure of progress along the
			<a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#y-axis" id="ref-for-y-axis">vertical axis</a> of the <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container⑤">scroll container</a>.

		
    <dt><dfn class="dfn-paneled css" data-dfn-for="scroll(),scroll-timeline-axis,view-timeline-axis" data-dfn-type="value" data-export id="valdef-scroll-horizontal">horizontal</dfn>
		
    <dd>
			Specifies to use the measure of progress along the
			<a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#x-axis" id="ref-for-x-axis">horizontal axis</a> of the <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container⑥">scroll container</a>.

		
    <dt><dfn class="dfn-paneled css" data-dfn-for="scroll(),scroll-timeline-axis,view-timeline-axis" data-dfn-type="value" data-export id="valdef-scroll-nearest">nearest</dfn>
		
    <dd>
			Specifies to use the nearest ancestor <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container⑦">scroll container</a>.
			(Default.)

		
    <dt><dfn class="dfn-paneled css" data-dfn-for="scroll(),scroll-timeline-axis,view-timeline-axis" data-dfn-type="value" data-export id="valdef-scroll-root">root</dfn>
		
    <dd>
			Specifies to use the document viewport as the <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container⑧">scroll container</a>.
	
   </dl>
   <h4 class="heading settled" data-level="2.1.2" id="scrolltimeline-interface"><span class="secno">2.1.2. </span><span class="content">The <code class="idl"><a data-link-type="idl" href="#scrolltimeline" id="ref-for-scrolltimeline①">ScrollTimeline</a></code> Interface</span><a class="self-link" href="#scrolltimeline-interface"></a></h4>
<pre class="idl highlight def"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-scrollaxis"><code><c- g>ScrollAxis</c-></code></dfn> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="ScrollAxis" data-dfn-type="enum-value" data-export id="dom-scrollaxis-block"><code><c- s>"block"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="ScrollAxis" data-dfn-type="enum-value" data-export id="dom-scrollaxis-inline"><code><c- s>"inline"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="ScrollAxis" data-dfn-type="enum-value" data-export id="dom-scrollaxis-horizontal"><code><c- s>"horizontal"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="ScrollAxis" data-dfn-type="enum-value" data-export id="dom-scrollaxis-vertical"><code><c- s>"vertical"</c-></code></dfn>
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-scrolltimelineoptions"><code><c- g>ScrollTimelineOptions</c-></code></dfn> {
  <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element"><c- n>Element</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="ScrollTimelineOptions" data-dfn-type="dict-member" data-export data-type="Element?" id="dom-scrolltimelineoptions-source"><code><c- g>source</c-></code></dfn>;
  <a data-link-type="idl-name" href="#enumdef-scrollaxis" id="ref-for-enumdef-scrollaxis"><c- n>ScrollAxis</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;block&quot;" data-dfn-for="ScrollTimelineOptions" data-dfn-type="dict-member" data-export data-type="ScrollAxis" id="dom-scrolltimelineoptions-axis"><code><c- g>axis</c-></code></dfn> = "block";
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="scrolltimeline"><code><c- g>ScrollTimeline</c-></code></dfn> : <a data-link-type="idl-name" href="#animationtimeline" id="ref-for-animationtimeline"><c- n>AnimationTimeline</c-></a> {
  <a class="idl-code" data-link-type="constructor" href="#dom-scrolltimeline-scrolltimeline" id="ref-for-dom-scrolltimeline-scrolltimeline"><c- g>constructor</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-scrolltimelineoptions" id="ref-for-dictdef-scrolltimelineoptions"><c- n>ScrollTimelineOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ScrollTimeline/ScrollTimeline(options), ScrollTimeline/constructor(options), ScrollTimeline/ScrollTimeline(), ScrollTimeline/constructor()" data-dfn-type="argument" data-export id="dom-scrolltimeline-scrolltimeline-options-options"><code><c- g>options</c-></code></dfn> = {});
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element①"><c- n>Element</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="Element?" href="#dom-scrolltimeline-source" id="ref-for-dom-scrolltimeline-source"><c- g>source</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-scrollaxis" id="ref-for-enumdef-scrollaxis①"><c- n>ScrollAxis</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ScrollAxis" href="#dom-scrolltimeline-axis" id="ref-for-dom-scrolltimeline-axis"><c- g>axis</c-></a>;
};
</pre>
   <p>A <code class="idl"><a data-link-type="idl" href="#scrolltimeline" id="ref-for-scrolltimeline②">ScrollTimeline</a></code> is an <code class="idl"><a data-link-type="idl" href="#animationtimeline" id="ref-for-animationtimeline①">AnimationTimeline</a></code>
	that represents a <a data-link-type="dfn" href="#scroll-progress-timelines" id="ref-for-scroll-progress-timelines④">scroll progress timeline</a>.
	It can be passed to
	the <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/web-animations-1/#animation" id="ref-for-animation">Animation</a></code> constructor or the <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/web-animations-1/#dom-animatable-animate" id="ref-for-dom-animatable-animate">animate()</a></code> method
	to link the animation to a <span id="ref-for-scroll-progress-timelines⑤">scroll progress timeline</span>.</p>
   <dl class="attributes">
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ScrollTimeline" data-dfn-type="attribute" data-export id="dom-scrolltimeline-source"><code>source</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element②">Element</a>, readonly, nullable</span>
    <dd data-md>
     <p>The <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container⑨">scroll container</a> element
whose scroll position drives the progress of the timeline.</p>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ScrollTimeline" data-dfn-type="attribute" data-export id="dom-scrolltimeline-axis"><code>axis</code></dfn>, <span> of type <a data-link-type="idl-name" href="#enumdef-scrollaxis" id="ref-for-enumdef-scrollaxis②">ScrollAxis</a>, readonly</span>
    <dd data-md>
     <p>The axis of scrolling
that drives the progress of the timeline.
See value definitions for <a class="production css" data-link-type="type" href="#typedef-axis" id="ref-for-typedef-axis②">&lt;axis></a>, above.</p>
   </dl>
   <p>Inherited attributes:</p>
   <dl>
    <dt data-md><code class="idl"><a data-link-type="idl" href="#dom-animationtimeline-currenttime" id="ref-for-dom-animationtimeline-currenttime">currentTime</a></code> (inherited from <code class="idl"><a data-link-type="idl" href="#animationtimeline" id="ref-for-animationtimeline②">AnimationTimeline</a></code>)
    <dd data-md>
     <p>Represents the scroll progress of the <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container①⓪">scroll container</a>
as a percentage CSSUnitValue,
with 0% representing its startmost scroll position
(in the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#writing-mode" id="ref-for-writing-mode">writing mode</a> of the <span id="ref-for-scroll-container①①">scroll container</span>).
Null when the timeline is <a data-link-type="dfn" href="https://www.w3.org/TR/web-animations-1/#inactive-timeline" id="ref-for-inactive-timeline①">inactive</a>.</p>
   </dl>
   <p class="issue" id="issue-73faeaf7"><a class="self-link" href="#issue-73faeaf7"></a> While 0% will usually represent the <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container①②">scroll container</a>’s initial scroll position,
	it might not depending on its <a data-link-type="dfn" href="https://www.w3.org/TR/css-align-3/#content-distribute" id="ref-for-content-distribute">content distribution</a>.
	See <a href="https://www.w3.org/TR/css-align-3/#overflow-scroll-position"><cite>CSS Box Alignment 3</cite> § 5.3 Alignment Overflow and Scroll Containers</a>.
	Is this what we want?</p>
   <p class="issue" id="issue-00572649"><a class="self-link" href="#issue-00572649"></a> Add a note about whether <code class="idl"><a data-link-type="idl" href="#dom-animationtimeline-currenttime" id="ref-for-dom-animationtimeline-currenttime①">currentTime</a></code>
	can be negative or > 100%.</p>
   <dl class="constructors">
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ScrollTimeline" data-dfn-type="constructor" data-export data-lt="ScrollTimeline(options)|constructor(options)|ScrollTimeline()|constructor()" id="dom-scrolltimeline-scrolltimeline"><code>ScrollTimeline(options)</code></dfn>
    <dd data-md>
     <p>Creates a new <code class="idl"><a data-link-type="idl" href="#scrolltimeline" id="ref-for-scrolltimeline③">ScrollTimeline</a></code> object using the following procedure:</p>
     <ol>
      <li data-md>
       <p>Let <var>timeline</var> be the new <code class="idl"><a data-link-type="idl" href="#scrolltimeline" id="ref-for-scrolltimeline④">ScrollTimeline</a></code> object.</p>
      <li data-md>
       <p>Set the <code class="idl"><a data-link-type="idl" href="#dom-scrolltimeline-source" id="ref-for-dom-scrolltimeline-source①">source</a></code> of <var>timeline</var> to:</p>
       <dl class="switch">
        <dt data-md>If the <code>source</code> member of <var>options</var> is present and not null,
        <dd data-md>
         <p>The <code>source</code> member of <var>options</var>.</p>
        <dt data-md>Otherwise,
        <dd data-md>
         <p>The <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-view-1/#dom-document-scrollingelement" id="ref-for-dom-document-scrollingelement">scrollingElement</a></code>
of the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document">Document</a></code> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/window-object.html#concept-document-window" id="ref-for-concept-document-window">associated</a>
with the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window">Window</a></code> that is the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object" id="ref-for-current-global-object">current global object</a>.</p>
       </dl>
      <li data-md>
       <p>Set the <code class="idl"><a data-link-type="idl" href="#dom-scrolltimeline-axis" id="ref-for-dom-scrolltimeline-axis①">axis</a></code> property of <var>timeline</var>
to the corresponding value from <var>options</var>.</p>
     </ol>
   </dl>
   <p>If the <code class="idl"><a data-link-type="idl" href="#dom-scrolltimeline-source" id="ref-for-dom-scrolltimeline-source②">source</a></code> of a <code class="idl"><a data-link-type="idl" href="#scrolltimeline" id="ref-for-scrolltimeline⑤">ScrollTimeline</a></code>
	is an element whose <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#principal-box" id="ref-for-principal-box">principal box</a> does not exist
	or is not a <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container①③">scroll container</a>,
	or if there is no <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scrollable-overflow" id="ref-for-scrollable-overflow">scrollable overflow</a>,
	then the <code class="idl"><a data-link-type="idl" href="#scrolltimeline" id="ref-for-scrolltimeline⑥">ScrollTimeline</a></code> is <a data-link-type="dfn" href="https://www.w3.org/TR/web-animations-1/#inactive-timeline" id="ref-for-inactive-timeline②">inactive</a>.</p>
   <p>A <code class="idl"><a data-link-type="idl" href="#scrolltimeline" id="ref-for-scrolltimeline⑦">ScrollTimeline</a></code>’s <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/web-animations-2/#dom-effecttiming-duration" id="ref-for-dom-effecttiming-duration">duration</a></code> is 100%.</p>
   <h3 class="heading settled" data-level="2.2" id="scroll-timelines-named"><span class="secno">2.2. </span><span class="content">Named Scroll Progress Timelines</span><a class="self-link" href="#scroll-timelines-named"></a></h3>
   <p>Scroll timelines can also be defined on the scroll container itself,
	and then referenced by name.
	See <a href="#timeline-scope">§ 4 Named Timeline Scoping</a>.</p>
   <h4 class="heading settled" data-level="2.2.1" id="scroll-timeline-name"><span class="secno">2.2.1. </span><span class="content">Naming a Scroll Progress Timeline: the <a class="property css" data-link-type="property" href="#propdef-scroll-timeline-name" id="ref-for-propdef-scroll-timeline-name">scroll-timeline-name</a> property</span><a class="self-link" href="#scroll-timeline-name"></a></h4>
   <table class="def propdef" data-link-for-hint="scroll-timeline-name">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-scroll-timeline-name">scroll-timeline-name</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod">none <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④">|</a> <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#identifier-value" id="ref-for-identifier-value">&lt;custom-ident></a>	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>none	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td><a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container①④">scroll containers</a>	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>no	
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>n/a	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>the specified keyword	
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar	
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      <td>not animatable	
   </table>
   <p>Specifies a name for the <a data-link-type="dfn" href="#scroll-progress-timelines" id="ref-for-scroll-progress-timelines⑥">scroll progress timeline</a>
	associated with this <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container①⑤">scroll container</a>.
	The axis for this timeline is given by <a class="property css" data-link-type="property" href="#propdef-scroll-timeline-axis" id="ref-for-propdef-scroll-timeline-axis">scroll-timeline-axis</a>.</p>
   <h4 class="heading settled" data-level="2.2.2" id="scroll-timeline-axis"><span class="secno">2.2.2. </span><span class="content">Axis of a Scroll Progress Timeline: the <a class="property css" data-link-type="property" href="#propdef-scroll-timeline-axis" id="ref-for-propdef-scroll-timeline-axis①">scroll-timeline-axis</a> property</span><a class="self-link" href="#scroll-timeline-axis"></a></h4>
   <table class="def propdef" data-link-for-hint="scroll-timeline-axis">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-scroll-timeline-axis">scroll-timeline-axis</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod">block <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤">|</a> inline <span id="ref-for-comb-one⑥">|</span> vertical <span id="ref-for-comb-one⑦">|</span> horizontal	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>block	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td><a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container①⑥">scroll containers</a>	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>no	
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>n/a	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>the specified keyword	
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar	
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      <td>not animatable	
   </table>
   <p>Specifies an axis for the <a data-link-type="dfn" href="#scroll-progress-timelines" id="ref-for-scroll-progress-timelines⑦">scroll progress timeline</a>
	associated with this <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container①⑦">scroll container</a>.
	The name for this timeline is given by <a class="property css" data-link-type="property" href="#propdef-scroll-timeline-name" id="ref-for-propdef-scroll-timeline-name①">scroll-timeline-name</a>.</p>
   <p>Values are as defined for <a class="css" data-link-type="maybe" href="#funcdef-scroll" id="ref-for-funcdef-scroll④">scroll()</a>.</p>
   <h4 class="heading settled" data-level="2.2.3" id="scroll-timeline-shorthand"><span class="secno">2.2.3. </span><span class="content">Scroll Timeline Shorthand: the <a class="property css" data-link-type="property" href="#propdef-scroll-timeline" id="ref-for-propdef-scroll-timeline①">scroll-timeline</a> shorthand</span><a class="self-link" href="#scroll-timeline-shorthand"></a></h4>
   <table class="def propdef" data-link-for-hint="scroll-timeline">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-scroll-timeline">scroll-timeline</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod"><a class="production css" data-link-type="property" href="#propdef-scroll-timeline-name" id="ref-for-propdef-scroll-timeline-name②">&lt;'scroll-timeline-name'></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-any" id="ref-for-comb-any①">||</a> <a class="production css" data-link-type="property" href="#propdef-scroll-timeline-axis" id="ref-for-propdef-scroll-timeline-axis②">&lt;'scroll-timeline-axis'></a>	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>see individual properties	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td><a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container①⑧">scroll containers</a>	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>no	
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>see individual properties	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>see individual properties	
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      <td>not animatable	
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar	
   </table>
   <p>This property is a <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#shorthand-property" id="ref-for-shorthand-property">shorthand</a> for setting
	<a class="property css" data-link-type="property" href="#propdef-scroll-timeline-name" id="ref-for-propdef-scroll-timeline-name③">scroll-timeline-name</a> and <a class="property css" data-link-type="property" href="#propdef-scroll-timeline-axis" id="ref-for-propdef-scroll-timeline-axis③">scroll-timeline-axis</a>
	in a single declaration.</p>
   <h2 class="heading settled" data-level="3" id="view-timelines"><span class="secno">3. </span><span class="content">View Progress Timelines</span><a class="self-link" href="#view-timelines"></a></h2>
   <p>Often animations are desired to start and end
	during the portion of the <a data-link-type="dfn" href="#scroll-progress-timelines" id="ref-for-scroll-progress-timelines⑧">scroll progress timeline</a>
	that a particular element
	(the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="view-progress-subject">view progress subject</dfn> element)
	is in view within the <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scrollport" id="ref-for-scrollport">scrollport</a>.
	<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="view-progress-timelines">View progress timelines</dfn>
	are segments of a <span id="ref-for-scroll-progress-timelines⑨">scroll progress timeline</span>
	that are scoped to the scroll positions
	in which any part of the associated element’s <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#principal-box" id="ref-for-principal-box①">principal box</a>
	intersects its nearest ancestor <span id="ref-for-scrollport①">scrollport</span>
	(or more precisely, the relevant <a data-link-type="dfn" href="#view-progress-visibility-range" id="ref-for-view-progress-visibility-range">view progress visibility range</a>
	of that <span id="ref-for-scrollport②">scrollport</span>).
	The startmost such scroll position represents 0% progress
	and the endmost such scroll position represents 100% progress.</p>
   <p class="note" role="note"><span class="marker">Note:</span> The 0% and 100% scroll positions are not always reachable,
	e.g. if the box is positioned
	at the start edge of the <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scrollable-overflow-rectangle" id="ref-for-scrollable-overflow-rectangle">scrollable overflow rectangle</a>,
	it might not be possible to scroll to &lt; 32% progress.</p>
   <p><a data-link-type="dfn" href="#view-progress-timelines" id="ref-for-view-progress-timelines①">View progress timelines</a> can be referenced in <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-animations-2/#propdef-animation-timeline" id="ref-for-propdef-animation-timeline③">animation-timeline</a> by name
	(see <a href="#timeline-scope">§ 4 Named Timeline Scoping</a>)
	after declaring them using the <a class="property css" data-link-type="property" href="#propdef-view-timeline" id="ref-for-propdef-view-timeline">view-timeline</a> properties
	on the view progress subject.
	In the Web Animations API,
	they can be represented anonymously by a <code class="idl"><a data-link-type="idl" href="#viewtimeline" id="ref-for-viewtimeline">ViewTimeline</a></code> object.</p>
   <h3 class="heading settled" data-level="3.1" id="view-timelines-ranges"><span class="secno">3.1. </span><span class="content">View Progress Timeline Ranges</span><a class="self-link" href="#view-timelines-ranges"></a></h3>
   <p><a data-link-type="dfn" href="#view-progress-timelines" id="ref-for-view-progress-timelines②">View progress timelines</a> define the following <a data-link-type="dfn" href="#named-timeline-range" id="ref-for-named-timeline-range">named timeline ranges</a>:</p>
   <dl>
    <dt><dfn class="dfn-paneled css" data-dfn-for="animation-timeline-range" data-dfn-type="value" data-export id="valdef-animation-timeline-range-cover">cover</dfn>
		
    <dd>
     
			Represents the full range of the <a data-link-type="dfn" href="#view-progress-timelines" id="ref-for-view-progress-timelines③">view progress timeline</a>:

     <ul>
      <li data-md>
       <p>0% progress represents the position at which
the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#start" id="ref-for-start">start</a> <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#border-edge" id="ref-for-border-edge">border edge</a> of the element’s <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#principal-box" id="ref-for-principal-box②">principal box</a>
coincides with the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#end" id="ref-for-end">end</a> edge of its <a data-link-type="dfn" href="#view-progress-visibility-range" id="ref-for-view-progress-visibility-range①">view progress visibility range</a>.</p>
      <li data-md>
       <p>100% progress represents the position at which
the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#end" id="ref-for-end①">end</a> <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#border-edge" id="ref-for-border-edge①">border edge</a> of the element’s <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#principal-box" id="ref-for-principal-box③">principal box</a>
coincides with the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#start" id="ref-for-start①">start</a> edge of its <a data-link-type="dfn" href="#view-progress-visibility-range" id="ref-for-view-progress-visibility-range②">view progress visibility range</a>.</p>
     </ul>
    <dt><dfn class="dfn-paneled css" data-dfn-for="animation-timeline-range" data-dfn-type="value" data-export id="valdef-animation-timeline-range-contain">contain</dfn>
		
    <dd>
     
			Represents the range during which the <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#principal-box" id="ref-for-principal-box④">principal box</a>
			is either fully contained by, or fully covers,
			its <a data-link-type="dfn" href="#view-progress-visibility-range" id="ref-for-view-progress-visibility-range③">view progress visibility range</a> within the <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scrollport" id="ref-for-scrollport③">scrollport</a>.

     <ul>
      <li data-md>
       <p>0% progress represents the earlier position at which:</p>
       <ul>
        <li data-md>
         <p>the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#start" id="ref-for-start②">start</a> <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#border-edge" id="ref-for-border-edge②">border edge</a> of the element’s <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#principal-box" id="ref-for-principal-box⑤">principal box</a>
coincides with the <span id="ref-for-start③">start</span> edge of its <a data-link-type="dfn" href="#view-progress-visibility-range" id="ref-for-view-progress-visibility-range④">view progress visibility range</a>.</p>
        <li data-md>
         <p>the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#end" id="ref-for-end②">end</a> <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#border-edge" id="ref-for-border-edge③">border edge</a> of the element’s <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#principal-box" id="ref-for-principal-box⑥">principal box</a>
coincides with the <span id="ref-for-end③">end</span> edge of its <a data-link-type="dfn" href="#view-progress-visibility-range" id="ref-for-view-progress-visibility-range⑤">view progress visibility range</a>.</p>
       </ul>
      <li data-md>
       <p>100% progress represents the later position at which:</p>
       <ul>
        <li data-md>
         <p>the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#start" id="ref-for-start④">start</a> <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#border-edge" id="ref-for-border-edge④">border edge</a> of the element’s <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#principal-box" id="ref-for-principal-box⑦">principal box</a>
coincides with the <span id="ref-for-start⑤">start</span> edge of its <a data-link-type="dfn" href="#view-progress-visibility-range" id="ref-for-view-progress-visibility-range⑥">view progress visibility range</a>.</p>
        <li data-md>
         <p>the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#end" id="ref-for-end④">end</a> <a data-link-type="dfn" href="https://www.w3.org/TR/css-box-4/#border-edge" id="ref-for-border-edge⑤">border edge</a> of the element’s <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#principal-box" id="ref-for-principal-box⑧">principal box</a>
coincides with the <span id="ref-for-end⑤">end</span> edge of its <a data-link-type="dfn" href="#view-progress-visibility-range" id="ref-for-view-progress-visibility-range⑦">view progress visibility range</a>.</p>
       </ul>
     </ul>
    <dt><dfn class="dfn-paneled css" data-dfn-for="animation-timeline-range" data-dfn-type="value" data-export id="valdef-animation-timeline-range-entry">entry</dfn>
		
    <dd>
     
			Represents the range during which the <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#principal-box" id="ref-for-principal-box⑨">principal box</a>
			is entering the <a data-link-type="dfn" href="#view-progress-visibility-range" id="ref-for-view-progress-visibility-range⑧">view progress visibility range</a>.

     <ul>
      <li data-md>
       <p>0% is equivalent to 0% of the <a class="css" data-link-type="maybe" href="#valdef-animation-timeline-range-cover" id="ref-for-valdef-animation-timeline-range-cover">cover</a> range.</p>
      <li data-md>
       <p>100% is equivalent to 0% of the <a class="css" data-link-type="maybe" href="#valdef-animation-timeline-range-contain" id="ref-for-valdef-animation-timeline-range-contain">contain</a> range.</p>
     </ul>
     <p class="issue" id="issue-c602d121"><a class="self-link" href="#issue-c602d121"></a> Should this be <a class="css" data-link-type="maybe" href="#valdef-animation-timeline-range-entry" id="ref-for-valdef-animation-timeline-range-entry">entry</a> or <span class="css">enter</span>?</p>
    <dt><dfn class="dfn-paneled css" data-dfn-for="animation-timeline-range" data-dfn-type="value" data-export id="valdef-animation-timeline-range-exit">exit</dfn>
		
    <dd>
     
			Represents the range during which the <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#principal-box" id="ref-for-principal-box①⓪">principal box</a>
			is exiting the <a data-link-type="dfn" href="#view-progress-visibility-range" id="ref-for-view-progress-visibility-range⑨">view progress visibility range</a>.

     <ul>
      <li data-md>
       <p>0% is equivalent to 100% of the <a class="css" data-link-type="maybe" href="#valdef-animation-timeline-range-contain" id="ref-for-valdef-animation-timeline-range-contain①">contain</a> range.</p>
      <li data-md>
       <p>100% is equivalent to 100% of the <a class="css" data-link-type="maybe" href="#valdef-animation-timeline-range-cover" id="ref-for-valdef-animation-timeline-range-cover①">cover</a> range.</p>
     </ul>
   </dl>
   <p class="issue" id="issue-aab79dad"><a class="self-link" href="#issue-aab79dad"></a> Insert diagrams.</p>
   <p>In all cases, the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#writing-mode" id="ref-for-writing-mode①">writing mode</a> used to resolve the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#start" id="ref-for-start⑥">start</a> and <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#end" id="ref-for-end⑥">end</a> sides
	is the <span id="ref-for-writing-mode②">writing mode</span> of the relevant <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container①⑨">scroll container</a>.</p>
   <h3 class="heading settled" data-level="3.2" id="view-timelines-anonymous"><span class="secno">3.2. </span><span class="content">Anonymous View Progress Timelines</span><a class="self-link" href="#view-timelines-anonymous"></a></h3>
   <h4 class="heading settled" data-level="3.2.1" id="viewtimeline-interface"><span class="secno">3.2.1. </span><span class="content">The <code class="idl"><a data-link-type="idl" href="#viewtimeline" id="ref-for-viewtimeline①">ViewTimeline</a></code> Interface</span><a class="self-link" href="#viewtimeline-interface"></a></h4>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-viewtimelineoptions"><code><c- g>ViewTimelineOptions</c-></code></dfn> {
  <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element③"><c- n>Element</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ViewTimelineOptions" data-dfn-type="dict-member" data-export data-type="Element" id="dom-viewtimelineoptions-subject"><code><c- g>subject</c-></code></dfn>;
  <a data-link-type="idl-name" href="#enumdef-scrollaxis" id="ref-for-enumdef-scrollaxis③"><c- n>ScrollAxis</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;block&quot;" data-dfn-for="ViewTimelineOptions" data-dfn-type="dict-member" data-export data-type="ScrollAxis" id="dom-viewtimelineoptions-axis"><code><c- g>axis</c-></code></dfn> = "block";
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="viewtimeline"><code><c- g>ViewTimeline</c-></code></dfn> : <a data-link-type="idl-name" href="#scrolltimeline" id="ref-for-scrolltimeline⑧"><c- n>ScrollTimeline</c-></a> {
  <a class="idl-code" data-link-type="constructor" href="#dom-viewtimeline-viewtimeline" id="ref-for-dom-viewtimeline-viewtimeline"><c- g>constructor</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-viewtimelineoptions" id="ref-for-dictdef-viewtimelineoptions"><c- n>ViewTimelineOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ViewTimeline/ViewTimeline(options), ViewTimeline/constructor(options), ViewTimeline/ViewTimeline(), ViewTimeline/constructor()" data-dfn-type="argument" data-export id="dom-viewtimeline-viewtimeline-options-options"><code><c- g>options</c-></code></dfn> = {});
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element④"><c- n>Element</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Element" href="#dom-viewtimeline-subject" id="ref-for-dom-viewtimeline-subject"><c- g>subject</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/css-typed-om-1/#cssnumericvalue" id="ref-for-cssnumericvalue"><c- n>CSSNumericValue</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSNumericValue" href="#dom-viewtimeline-startoffset" id="ref-for-dom-viewtimeline-startoffset"><c- g>startOffset</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/css-typed-om-1/#cssnumericvalue" id="ref-for-cssnumericvalue①"><c- n>CSSNumericValue</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSNumericValue" href="#dom-viewtimeline-endoffset" id="ref-for-dom-viewtimeline-endoffset"><c- g>endOffset</c-></a>;
};
</pre>
   <p>A <code class="idl"><a data-link-type="idl" href="#viewtimeline" id="ref-for-viewtimeline②">ViewTimeline</a></code> is an <code class="idl"><a data-link-type="idl" href="#animationtimeline" id="ref-for-animationtimeline③">AnimationTimeline</a></code>
	that specifies a <a data-link-type="dfn" href="#view-progress-timelines" id="ref-for-view-progress-timelines④">view progress timeline</a>.
	It can be passed to
	the <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/web-animations-1/#animation" id="ref-for-animation①">Animation</a></code> constructor or the <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/web-animations-1/#dom-animatable-animate" id="ref-for-dom-animatable-animate①">animate()</a></code> method
	to link the animation to a <span id="ref-for-view-progress-timelines⑤">view progress timeline</span>.</p>
   <dl class="attributes">
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ViewTimeline" data-dfn-type="attribute" data-export id="dom-viewtimeline-subject"><code>subject</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element⑤">Element</a>, readonly</span>
    <dd data-md>
     <p>The element whose <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#principal-box" id="ref-for-principal-box①①">principal box</a>’s visibility in the <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scrollport" id="ref-for-scrollport④">scrollport</a>
defines the progress of the timeline.</p>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ViewTimeline" data-dfn-type="attribute" data-export id="dom-viewtimeline-startoffset"><code>startOffset</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.w3.org/TR/css-typed-om-1/#cssnumericvalue" id="ref-for-cssnumericvalue②">CSSNumericValue</a>, readonly</span>
    <dd data-md>
     <p>Represents the starting (0% progress) scroll position
of the <a data-link-type="dfn" href="#view-progress-timelines" id="ref-for-view-progress-timelines⑥">view progress timeline</a>
as a length offset (in <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-values-4/#px" id="ref-for-px">px</a>) from the scroll origin.
Null when the timeline is <a data-link-type="dfn" href="https://www.w3.org/TR/web-animations-1/#inactive-timeline" id="ref-for-inactive-timeline③">inactive</a>.</p>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ViewTimeline" data-dfn-type="attribute" data-export id="dom-viewtimeline-endoffset"><code>endOffset</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://www.w3.org/TR/css-typed-om-1/#cssnumericvalue" id="ref-for-cssnumericvalue③">CSSNumericValue</a>, readonly</span>
    <dd data-md>
     <p>Represents the ending (100% progress) scroll position
of the <a data-link-type="dfn" href="#view-progress-timelines" id="ref-for-view-progress-timelines⑦">view progress timeline</a>
as a length offset (in <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-values-4/#px" id="ref-for-px①">px</a>) from the scroll origin.
Null when the timeline is <a data-link-type="dfn" href="https://www.w3.org/TR/web-animations-1/#inactive-timeline" id="ref-for-inactive-timeline④">inactive</a>.</p>
   </dl>
   <p class="note" role="note"><span class="marker">Note:</span> The value of <code class="idl"><a data-link-type="idl" href="#dom-viewtimeline-startoffset" id="ref-for-dom-viewtimeline-startoffset①">startOffset</a></code> can be greater than <code class="idl"><a data-link-type="idl" href="#dom-viewtimeline-endoffset" id="ref-for-dom-viewtimeline-endoffset①">endOffset</a></code>,
	for example in the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#x-axis" id="ref-for-x-axis①">horizontal axis</a> in a right-to-left (<a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-writing-modes-4/#valdef-direction-rtl" id="ref-for-valdef-direction-rtl">rtl</a>) <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#writing-mode" id="ref-for-writing-mode③">writing mode</a>.</p>
   <p class="issue" id="issue-f300c2e9"><a class="self-link" href="#issue-f300c2e9"></a> This makes the offsets compatible with the way scrollLeft and scrollTop work,
	which go negative from zero in RTL scroll containers,
	is this how we want it to work here?</p>
   <p>Inherited attributes:</p>
   <dl>
    <dt data-md><code class="idl"><a data-link-type="idl" href="#dom-scrolltimeline-source" id="ref-for-dom-scrolltimeline-source③">source</a></code> (inherited from <code class="idl"><a data-link-type="idl" href="#scrolltimeline" id="ref-for-scrolltimeline⑨">ScrollTimeline</a></code>)
    <dd data-md>
     <p>The nearest ancestor of the <code class="idl"><a data-link-type="idl" href="#dom-viewtimeline-subject" id="ref-for-dom-viewtimeline-subject①">subject</a></code>
whose <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#principal-box" id="ref-for-principal-box①②">principal box</a> establishes a <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container②⓪">scroll container</a>,
whose scroll position drives the progress of the timeline.</p>
    <dt data-md><code class="idl"><a data-link-type="idl" href="#dom-scrolltimeline-axis" id="ref-for-dom-scrolltimeline-axis②">axis</a></code> (inherited from <code class="idl"><a data-link-type="idl" href="#scrolltimeline" id="ref-for-scrolltimeline①⓪">ScrollTimeline</a></code>)
    <dd data-md>
     <p>Specifies the axis of scrolling
that drives the progress of the timeline.
See <a class="production css" data-link-type="type" href="#typedef-axis" id="ref-for-typedef-axis③">&lt;axis></a>, above.</p>
    <dt data-md><code class="idl"><a data-link-type="idl" href="#dom-animationtimeline-currenttime" id="ref-for-dom-animationtimeline-currenttime②">currentTime</a></code> (inherited from <code class="idl"><a data-link-type="idl" href="#animationtimeline" id="ref-for-animationtimeline④">AnimationTimeline</a></code>)
    <dd data-md>
     <p>Represents the current progress
of the <a data-link-type="dfn" href="#view-progress-timelines" id="ref-for-view-progress-timelines⑧">view progress timeline</a>
as a percentage <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/css-typed-om-1/#cssunitvalue" id="ref-for-cssunitvalue">CSSUnitValue</a></code>
representing its <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container②①">scroll container</a>’s scroll progress at that position.
Null when the timeline is <a data-link-type="dfn" href="https://www.w3.org/TR/web-animations-1/#inactive-timeline" id="ref-for-inactive-timeline⑤">inactive</a>.</p>
   </dl>
   <dl class="constructors">
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ViewTimeline" data-dfn-type="constructor" data-export data-lt="ViewTimeline(options)|constructor(options)|ViewTimeline()|constructor()" id="dom-viewtimeline-viewtimeline"><code>ViewTimeline(options)</code></dfn>
    <dd data-md>
     <p>Creates a new <code class="idl"><a data-link-type="idl" href="#viewtimeline" id="ref-for-viewtimeline③">ViewTimeline</a></code> object using the following procedure:</p>
     <ol>
      <li data-md>
       <p>Let <var>timeline</var> be the new <code class="idl"><a data-link-type="idl" href="#viewtimeline" id="ref-for-viewtimeline④">ViewTimeline</a></code> object.</p>
      <li data-md>
       <p>Set the <code class="idl"><a data-link-type="idl" href="#dom-viewtimeline-subject" id="ref-for-dom-viewtimeline-subject②">subject</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-scrolltimeline-axis" id="ref-for-dom-scrolltimeline-axis③">axis</a></code> properties of <var>timeline</var>
to the corresponding values from <var>options</var>.</p>
      <li data-md>
       <p>Set the <code class="idl"><a data-link-type="idl" href="#dom-scrolltimeline-source" id="ref-for-dom-scrolltimeline-source④">source</a></code> of <var>timeline</var>
to the <code class="idl"><a data-link-type="idl" href="#dom-viewtimeline-subject" id="ref-for-dom-viewtimeline-subject③">subject</a></code>’s
nearest ancestor <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container②②">scroll container</a> element.</p>
     </ol>
   </dl>
   <p>If the <code class="idl"><a data-link-type="idl" href="#dom-scrolltimeline-source" id="ref-for-dom-scrolltimeline-source⑤">source</a></code> or <code class="idl"><a data-link-type="idl" href="#dom-viewtimeline-subject" id="ref-for-dom-viewtimeline-subject④">subject</a></code> of a <code class="idl"><a data-link-type="idl" href="#viewtimeline" id="ref-for-viewtimeline⑤">ViewTimeline</a></code>
	is an element whose <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#principal-box" id="ref-for-principal-box①③">principal box</a> does not exist,
	or if its nearest ancestor <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container②③">scroll container</a> has no <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scrollable-overflow" id="ref-for-scrollable-overflow①">scrollable overflow</a>,
	then the <code class="idl"><a data-link-type="idl" href="#viewtimeline" id="ref-for-viewtimeline⑥">ViewTimeline</a></code> is <a data-link-type="dfn" href="https://www.w3.org/TR/web-animations-1/#inactive-timeline" id="ref-for-inactive-timeline⑥">inactive</a>.</p>
   <p class="issue" id="issue-d2753247"><a class="self-link" href="#issue-d2753247"></a> Figure out how to incorporate fit/inset abilities.</p>
   <h3 class="heading settled" data-level="3.3" id="view-timelines-named"><span class="secno">3.3. </span><span class="content">Named View Progress Timelines</span><a class="self-link" href="#view-timelines-named"></a></h3>
   <p>View timelines can also be defined declaratively
	and then referenced by name.
	See <a href="#timeline-scope">§ 4 Named Timeline Scoping</a>.</p>
   <h4 class="heading settled" data-level="3.3.1" id="view-timeline-name"><span class="secno">3.3.1. </span><span class="content">Naming a View Progress Timeline: the <a class="property css" data-link-type="property" href="#propdef-view-timeline-name" id="ref-for-propdef-view-timeline-name">view-timeline-name</a> property</span><a class="self-link" href="#view-timeline-name"></a></h4>
   <table class="def propdef" data-link-for-hint="view-timeline-name">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-view-timeline-name">view-timeline-name</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod">none <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧">|</a> <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#identifier-value" id="ref-for-identifier-value①">&lt;custom-ident></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-comma" id="ref-for-mult-comma">#</a>	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>none	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td><a href="https://www.w3.org/TR/css-pseudo/#generated-content" title="Includes ::before and ::after pseudo-elements.">all elements</a>	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>no	
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>n/a	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>the keyword <span class="css">none</span> or a list of <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#identifier-value" id="ref-for-identifier-value②">&lt;custom-ident></a>s	
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar	
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      <td>not animatable	
   </table>
   <p>Specifies names for any <a data-link-type="dfn" href="#view-progress-timelines" id="ref-for-view-progress-timelines⑨">view progress timelines</a>
	associated with this element’s <a data-link-type="dfn" href="https://www.w3.org/TR/css-display-4/#principal-box" id="ref-for-principal-box①④">principal box</a>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> The number of names listed here
	determines the number of <a data-link-type="dfn" href="#view-progress-timelines" id="ref-for-view-progress-timelines①⓪">view progress timelines</a>
	associated with this element.</p>
   <h4 class="heading settled" data-level="3.3.2" id="view-timeline-axis"><span class="secno">3.3.2. </span><span class="content">Axis of a View Progress Timeline: the <a class="property css" data-link-type="property" href="#propdef-view-timeline-axis" id="ref-for-propdef-view-timeline-axis">view-timeline-axis</a> property</span><a class="self-link" href="#view-timeline-axis"></a></h4>
   <table class="def propdef" data-link-for-hint="view-timeline-axis">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-view-timeline-axis">view-timeline-axis</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod">[ block <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨">|</a> inline <span id="ref-for-comb-one①⓪">|</span> vertical <span id="ref-for-comb-one①①">|</span> horizontal ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-comma" id="ref-for-mult-comma①">#</a>	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>block	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td><a href="https://www.w3.org/TR/css-pseudo/#generated-content" title="Includes ::before and ::after pseudo-elements.">all elements</a>	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>no	
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>n/a	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>a list of the keywords specified	
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar	
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      <td>not animatable	
   </table>
   <p>Specifies an axis for each named <a data-link-type="dfn" href="#view-progress-timelines" id="ref-for-view-progress-timelines①①">view progress timeline</a>
	associated with this <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container②④">scroll container</a>.</p>
   <p>If <a class="property css" data-link-type="property" href="#propdef-view-timeline-name" id="ref-for-propdef-view-timeline-name①">view-timeline-name</a> has more names than <a class="property css" data-link-type="property" href="#propdef-view-timeline-axis" id="ref-for-propdef-view-timeline-axis①">view-timeline-axis</a> has specified axes,
	the excess timelines use the last <span class="property" id="ref-for-propdef-view-timeline-axis②">view-timeline-axis</span> value.
	If <span class="property" id="ref-for-propdef-view-timeline-name②">view-timeline-name</span> has fewer names than <span class="property" id="ref-for-propdef-view-timeline-axis③">view-timeline-axis</span> has specified axes,
	the used <span class="property" id="ref-for-propdef-view-timeline-axis④">view-timeline-axis</span> list is truncated.</p>
   <h4 class="heading settled" data-level="3.3.3" id="view-timeline-inset"><span class="secno">3.3.3. </span><span class="content">Inset of a View Progress Timeline: the <a class="property css" data-link-type="property" href="#propdef-view-timeline-inset" id="ref-for-propdef-view-timeline-inset">view-timeline-inset</a> property</span><a class="self-link" href="#view-timeline-inset"></a></h4>
   <table class="def propdef" data-link-for-hint="view-timeline-inset">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-view-timeline-inset">view-timeline-inset</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod">[ [ auto <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①②">|</a> <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#typedef-length-percentage" id="ref-for-typedef-length-percentage">&lt;length-percentage></a> ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-num-range" id="ref-for-mult-num-range">{1,2}</a> ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-comma" id="ref-for-mult-comma②">#</a>	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>0	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td><a href="https://www.w3.org/TR/css-pseudo/#generated-content" title="Includes ::before and ::after pseudo-elements.">all elements</a>	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>no	
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>relative to the corresponding dimension of the relevant scrollport	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>a list consisting of two-value pairs representing the start and end insets each as either the keyword <a class="css" data-link-type="maybe" href="#valdef-view-timeline-inset-auto" id="ref-for-valdef-view-timeline-inset-auto">auto</a> or a computed <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#typedef-length-percentage" id="ref-for-typedef-length-percentage①">&lt;length-percentage></a> value	
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar	
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      <td>by computed value type	
   </table>
   <p>Specifies an inset (positive) or outset (negative) adjustment of the <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scrollport" id="ref-for-scrollport⑤">scrollport</a>
	when determining whether the box is in view
	when setting the bounds of the corresponding <a data-link-type="dfn" href="#view-progress-timelines" id="ref-for-view-progress-timelines①②">view progress timeline</a>.
	The first value represents the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#start" id="ref-for-start⑦">start</a> inset in the relevant axis;
	the second value represents the <a data-link-type="dfn" href="https://www.w3.org/TR/css-writing-modes-4/#end" id="ref-for-end⑦">end</a> inset.
	If the second value is omitted, it is set to the first.
	The resulting range of the <span id="ref-for-scrollport⑥">scrollport</span> is
	the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="view-progress-visibility-range">view progress visibility range</dfn>.</p>
   <dl>
    <dt><dfn class="dfn-paneled css" data-dfn-for="view-timeline-inset" data-dfn-type="value" data-export id="valdef-view-timeline-inset-auto">auto</dfn>
		
    <dd>
			Indicates to use the value of <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-scroll-snap-1/#propdef-scroll-padding" id="ref-for-propdef-scroll-padding">scroll-padding</a>.

		
    <dt><dfn class="dfn-paneled css" data-dfn-for="view-timeline-inset" data-dfn-type="value" data-export id="valdef-view-timeline-inset-length-percentage"><a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#typedef-length-percentage" id="ref-for-typedef-length-percentage②">&lt;length-percentage></a></dfn>
		
    <dd>
			Like <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-scroll-snap-1/#propdef-scroll-padding" id="ref-for-propdef-scroll-padding①">scroll-padding</a>,
			defines an inward offset from the corresponding edge of the scrollport.
	
   </dl>
   <p>If <a class="property css" data-link-type="property" href="#propdef-view-timeline-name" id="ref-for-propdef-view-timeline-name③">view-timeline-name</a> has more names than <a class="property css" data-link-type="property" href="#propdef-view-timeline-inset" id="ref-for-propdef-view-timeline-inset①">view-timeline-inset</a> has specified inset pairs,
	the excess timelines use the last <span class="property" id="ref-for-propdef-view-timeline-inset②">view-timeline-inset</span> pair.
	If <span class="property" id="ref-for-propdef-view-timeline-name④">view-timeline-name</span> has fewer names than <span class="property" id="ref-for-propdef-view-timeline-inset③">view-timeline-inset</span> has specified inset pairs
	the used <span class="property" id="ref-for-propdef-view-timeline-inset④">view-timeline-inset</span> list is truncated.</p>
   <h4 class="heading settled" data-level="3.3.4" id="view-timeline-shorthand"><span class="secno">3.3.4. </span><span class="content">View Timeline Shorthand: the <a class="property css" data-link-type="property" href="#propdef-view-timeline" id="ref-for-propdef-view-timeline①">view-timeline</a> shorthand</span><a class="self-link" href="#view-timeline-shorthand"></a></h4>
   <table class="def propdef" data-link-for-hint="view-timeline">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-view-timeline">view-timeline</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod">[ <a class="production css" data-link-type="property" href="#propdef-view-timeline-name" id="ref-for-propdef-view-timeline-name⑤">&lt;'view-timeline-name'></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-any" id="ref-for-comb-any②">||</a> <a class="production css" data-link-type="property" href="#propdef-view-timeline-axis" id="ref-for-propdef-view-timeline-axis⑤">&lt;'view-timeline-axis'></a> ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-comma" id="ref-for-mult-comma③">#</a>	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>see individual properties	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td><a href="https://www.w3.org/TR/css-pseudo/#generated-content" title="Includes ::before and ::after pseudo-elements.">all elements</a>	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>see individual properties	
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>see individual properties	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>see individual properties	
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      <td>see individual properties	
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar	
   </table>
   <p>This property is a <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#shorthand-property" id="ref-for-shorthand-property①">shorthand</a> for setting
	<a class="property css" data-link-type="property" href="#propdef-view-timeline-name" id="ref-for-propdef-view-timeline-name⑥">view-timeline-name</a> and <a class="property css" data-link-type="property" href="#propdef-view-timeline-axis" id="ref-for-propdef-view-timeline-axis⑥">view-timeline-axis</a>
	in a single declaration.
	It does not set <a class="property css" data-link-type="property" href="#propdef-view-timeline-inset" id="ref-for-propdef-view-timeline-inset⑤">view-timeline-inset</a>.</p>
   <p class="issue" id="issue-6b6d7174"><a class="self-link" href="#issue-6b6d7174"></a> Should it reset <a class="property css" data-link-type="property" href="#propdef-view-timeline-inset" id="ref-for-propdef-view-timeline-inset⑥">view-timeline-inset</a> also?</p>
   <h2 class="heading settled" data-level="4" id="timeline-scope"><span class="secno">4. </span><span class="content">Named Timeline Scoping</span><a class="self-link" href="#timeline-scope"></a></h2>
   <p>A named <a data-link-type="dfn" href="#scroll-progress-timelines" id="ref-for-scroll-progress-timelines①⓪">scroll progress timeline</a> or <a data-link-type="dfn" href="#view-progress-timelines" id="ref-for-view-progress-timelines①③">view progress timeline</a>
	is referenceable in <a class="property css" data-link-type="property" href="https://www.w3.org/TR/css-animations-2/#propdef-animation-timeline" id="ref-for-propdef-animation-timeline④">animation-timeline</a> by:</p>
   <ul>
    <li data-md>
     <p>the declaring element itself</p>
    <li data-md>
     <p>that element’s descendants</p>
    <li data-md>
     <p>that element’s following siblings and their descendants</p>
   </ul>
   <p>If multiple elements have declared the same timeline name,
	the matching timeline is the one declared
	on the nearest element in tree order,
	which considers siblings closer than parents.
	In case of a name conflict on the same element,
	<a data-link-type="dfn" href="#scroll-progress-timelines" id="ref-for-scroll-progress-timelines①①">scroll progress timelines</a> take precedence over <a data-link-type="dfn" href="#view-progress-timelines" id="ref-for-view-progress-timelines①④">view progress timelines</a>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Like most operations in CSS besides <a data-link-type="dfn" href="https://www.w3.org/TR/CSS2/syndata.html#x15" id="ref-for-x15">selector</a> matching,
	timeline scoping occurs over the <a data-link-type="dfn" href="https://andreubotella.com/csswg-auto-build/test/css-scoping-1/#flat-tree" id="ref-for-flat-tree">flattened element tree</a>.</p>
   <p class="issue" id="issue-330d057d"><a class="self-link" href="#issue-330d057d"></a> Do we want to expand this scope to preceding siblings and/or distant cousins?</p>
   <h2 class="heading settled" data-level="5" id="avoiding-cycles"><span class="secno">5. </span><span class="content">Avoiding cycles with layout</span><a class="self-link" href="#avoiding-cycles"></a></h2>
   <p>The ability for scrolling to drive the progress of an animation,
	gives rise to the possibility of <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="layout-cycles">layout cycles</dfn>,
	where a change to a scroll offset causes an animation’s effect to update,
	which in turn causes a new change to the scroll offset.</p>
   <p>To avoid such <a data-link-type="dfn" href="#layout-cycles" id="ref-for-layout-cycles">layout cycles</a>,
	animations with a <a data-link-type="dfn" href="#scroll-progress-timelines" id="ref-for-scroll-progress-timelines①②">scroll progress timeline</a> are sampled once per frame,
	after scrolling in response to input events has taken place,
	but before <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/imagebitmap-and-animations.html#dom-animationframeprovider-requestanimationframe" id="ref-for-dom-animationframeprovider-requestanimationframe">requestAnimationFrame()</a></code> callbacks are run.
	If the sampling of such an animation causes a change to a scroll offset,
	the animation will not be re-sampled to reflect the new offset
	until the next frame.</p>
   <p>The implication of this is that in some situations, in a given frame,
	the rendered scroll offset of a scroll container might not be consistent
	with the state of an animation driven by scrolling that scroll container.
	However, this will only occur in situations where the animation’s effect
	changes the scroll offset of that same scroll container
	(in other words, in situations where the animation’s author is asking for trouble).
	In normal situations, including—importantly—​when scrolling happens in response to input events,
	the rendered scroll offset and the state of scroll-driven animations
	will be consistent in each frame.</p>
   <p>User agents that composite frames asynchronously
	with respect to layout and/or script
	may, at their discretion, sample scroll-driven animations
	once per <em>composited</em> frame,
	rather than (or in addition to) once per full layout cycle.
	Again, if sampling such an animation causes a change to a scroll offset,
	the animation will not be re-sampled to reflect the new offset
	until the next frame.</p>
   <p>Nothing in this section is intended to require
	that scrolling block on layout or script.
	If a user agent normally composites frames where scrolling has occurred
	but the consequences of scrolling have not been fully propagated in layout or script
	(for example, <code>scroll</code> event listeners have not yet run),
	the user agent may likewise choose not to sample scroll-driven animations
	for that composited frame.
	In such cases, the rendered scroll offset
	and the state of a scroll-driven animation
	may be inconsistent in the composited frame.</p>
   <h2 class="heading settled" id="timeline-ranges"><span class="content">Appendix A: Named Timeline Ranges</span><a class="self-link" href="#timeline-ranges"></a></h2>
   <p class="issue" id="issue-79ed79d9"><a class="self-link" href="#issue-79ed79d9"></a> This section should move to CSS-ANIMATIONS-2 and WEB-ANIMATIONS-2.</p>
   <p>This specification introduces the concept of <a data-link-type="dfn" href="#named-timeline-range" id="ref-for-named-timeline-range①">named timeline ranges</a>
	to <a href="https://www.w3.org/TR/css-animations/">CSS Animations</a>
	and <a href="https://www.w3.org/TR/web-animations/">Web Animations</a>.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="named-timeline-range">named timeline range</dfn>
	is a named segment of an animation <a data-link-type="dfn" href="https://www.w3.org/TR/web-animations-1/#timeline" id="ref-for-timeline②">timeline</a>.
	The start of the segment is represented as 0% progress through the range;
	the end of the segment is represented as 100% progress through the range.
	Multiple <a data-link-type="dfn" href="#named-timeline-range" id="ref-for-named-timeline-range②">named timeline ranges</a> can be attached to a given <span id="ref-for-timeline③">timeline</span>,
	and multiple such ranges can overlap.
	For example, the <span class="css">contain</span> range of a <a data-link-type="dfn" href="#view-progress-timelines" id="ref-for-view-progress-timelines①⑤">view progress timeline</a>
	overlaps with its <span class="css">cover</span> range.
	<span id="ref-for-named-timeline-range③">Named timeline ranges</span> are represented by
	the <dfn class="dfn-paneled css" data-dfn-type="type" data-export id="typedef-timeline-range-name"><a class="production css" data-link-type="type" href="#typedef-timeline-range-name" id="ref-for-typedef-timeline-range-name">&lt;timeline-range-name></a></dfn> value type,
	which indicates a <a data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#css-css-identifier" id="ref-for-css-css-identifier">CSS identifier</a> representing
	one of the predefined <span id="ref-for-named-timeline-range④">named timeline ranges</span>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> In this specification, <a data-link-type="dfn" href="#named-timeline-range" id="ref-for-named-timeline-range⑤">named timeline ranges</a>
	must be defined to exist by a specification
	such as <a data-link-type="biblio" href="#biblio-scroll-animations-1" title="Scroll-driven Animations">[SCROLL-ANIMATIONS-1]</a>.
	A future level may introduce APIs for authors to declare
	their own custom <span id="ref-for-named-timeline-range⑥">named timeline ranges</span>.</p>
   <h3 class="heading settled" id="named-range-keyframes"><span class="content">Named Timeline Range Keyframe Selectors</span><a class="self-link" href="#named-range-keyframes"></a></h3>
   <p><a data-link-type="dfn" href="#named-timeline-range" id="ref-for-named-timeline-range⑦">Named timeline range</a> names and percentages
	can be used to attach keyframes
	to specific progress points within the <span id="ref-for-named-timeline-range⑧">named timeline range</span>.
	The CSS <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-animations-1/#at-ruledef-keyframes" id="ref-for-at-ruledef-keyframes">@keyframes</a> rule is extended thus:</p>
<pre class="prod"><a class="production" data-link-type="type" href="https://www.w3.org/TR/css-animations-1/#typedef-keyframe-selector" id="ref-for-typedef-keyframe-selector">&lt;keyframe-selector></a> = from <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①③">|</a> to <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①④">|</a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value">&lt;percentage></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑤">|</a> <a class="production" data-link-type="type" href="#typedef-timeline-range-name" id="ref-for-typedef-timeline-range-name①">&lt;timeline-range-name></a> <a class="production" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①">&lt;percentage></a>
</pre>
   <p>where &lt;&lt;timeline-range-name> is the <a data-link-type="dfn" href="https://www.w3.org/TR/css-values-4/#css-css-identifier" id="ref-for-css-css-identifier①">CSS identifier</a>
	that represents a chosen predefined <a data-link-type="dfn" href="#named-timeline-range" id="ref-for-named-timeline-range⑨">named timeline range</a>,
	and the <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value②">&lt;percentage></a> after it represents the percentage progress
	between the start and end of that <span id="ref-for-named-timeline-range①⓪">named timeline range</span>.</p>
   <p>Keyframes are attached to the specified point in the timeline.
	If the timeline does not have a corresponding <a data-link-type="dfn" href="#named-timeline-range" id="ref-for-named-timeline-range①①">named timeline range</a>,
	then any keyframes attached to points on that <span id="ref-for-named-timeline-range①②">named timeline range</span>
	are ignored.</p>
   <h3 class="heading settled" id="named-range-animation-declaration"><span class="content">Attaching Animations to Timeline Ranges</span><a class="self-link" href="#named-range-animation-declaration"></a></h3>
   <p>A set of animation keyframes can be attached
	in reference to <a data-link-type="dfn" href="#named-timeline-range" id="ref-for-named-timeline-range①③">named timeline ranges</a>
	by adjusting the duration of the animation.</p>
   <table class="def propdef" data-link-for-hint="animation-delay">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-animation-delay">animation-delay</dfn>, <dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-animation-range">animation-range</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod">[ <a class="production css" data-link-type="property" href="#propdef-animation-delay-start" id="ref-for-propdef-animation-delay-start">&lt;'animation-delay-start'></a> <a class="production css" data-link-type="property" href="#propdef-animation-delay-end" id="ref-for-propdef-animation-delay-end">&lt;'animation-delay-end'></a><a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①">?</a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑥">|</a> <a class="production css" data-link-type="type" href="#typedef-timeline-range-name" id="ref-for-typedef-timeline-range-name②">&lt;timeline-range-name></a> ]<a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#mult-comma" id="ref-for-mult-comma④">#</a>	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>see individual properties	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td>see individual properties	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>see individual properties	
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>see individual properties	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>see individual properties	
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      <td>see individual properties	
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar	
   </table>
   <p>The <a class="property css" data-link-type="property" href="#propdef-animation-delay" id="ref-for-propdef-animation-delay">animation-delay</a> and <a class="property css" data-link-type="property" href="#propdef-animation-range" id="ref-for-propdef-animation-range">animation-range</a> properties
	are both <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-5/#shorthand-property" id="ref-for-shorthand-property②">shorthands</a>
	that set <a class="property css" data-link-type="property" href="#propdef-animation-delay-start" id="ref-for-propdef-animation-delay-start①">animation-delay-start</a> and <a class="property css" data-link-type="property" href="#propdef-animation-delay-end" id="ref-for-propdef-animation-delay-end①">animation-delay-end</a>
	together in a single declaration.
	If the <span class="production" id="ref-for-propdef-animation-delay-end②">&lt;'animation-delay-end'></span> value is omitted,
	it is set to zero.
	If a <a class="production css" data-link-type="type" href="#typedef-timeline-range-name" id="ref-for-typedef-timeline-range-name③">&lt;timeline-range-name></a> alone is specified,
	<span class="property" id="ref-for-propdef-animation-delay-start②">animation-delay-start</span> is set to that name plus <span class="css">0%</span>
	and <span class="property" id="ref-for-propdef-animation-delay-end③">animation-delay-end</span> is set to that name plus <span class="css">100%</span>.</p>
   <table class="def propdef" data-link-for-hint="animation-delay-start">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-animation-delay-start">animation-delay-start</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod">[ <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#time-value" id="ref-for-time-value">&lt;time></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑦">|</a> <a class="production css" data-link-type="type" href="#typedef-timeline-range-name" id="ref-for-typedef-timeline-range-name④">&lt;timeline-range-name></a> <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value③">&lt;percentage></a> ]	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>0s	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td><a href="https://www.w3.org/TR/css-pseudo/#generated-content" title="Includes ::before and ::after pseudo-elements.">all elements</a>	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>no	
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>relative to the specified <a data-link-type="dfn" href="#named-timeline-range" id="ref-for-named-timeline-range①④">named timeline range</a>	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>list, each item either a duration or a timeline range and progress percentage	
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar	
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animatable:</a>
      <td>no	
   </table>
   <p>Defines a delay between the start of the animation
	and when it begins executing
	(i.e. when keyframes attached to 0% progress are mapped).</p>
   <dl>
    <dt><dfn class="dfn-paneled css" data-dfn-for="animation-delay-start, animation-delay-end" data-dfn-type="value" data-export id="valdef-animation-delay-start-time"><a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#time-value" id="ref-for-time-value①">&lt;time></a></dfn>
		
    <dd>
			Defines the delay as a duration. See <a data-link-type="biblio" href="#biblio-css-animations-1" title="CSS Animations Level 1">[CSS-ANIMATIONS-1]</a>.
		
    <dt><dfn class="dfn-paneled css" data-dfn-for="animation-delay-start, animation-delay-end" data-dfn-type="value" data-export id="valdef-animation-delay-start-timeline-range-name-percentage"><a class="production css" data-link-type="type" href="#typedef-timeline-range-name" id="ref-for-typedef-timeline-range-name⑤">&lt;timeline-range-name></a> <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value④">&lt;percentage></a></dfn>
		
    <dd>
			Calculates the delay as the difference between
			the start of the animation
			and the specified point on the <a data-link-type="dfn" href="https://www.w3.org/TR/web-animations-1/#timeline" id="ref-for-timeline④">timeline</a>.
	
   </dl>
   <table class="def propdef" data-link-for-hint="animation-delay-end">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-animation-delay-end">animation-delay-end</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod">[ <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#time-value" id="ref-for-time-value②">&lt;time></a> <a data-link-type="grammar" href="https://www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑧">|</a> <a class="production css" data-link-type="type" href="#typedef-timeline-range-name" id="ref-for-typedef-timeline-range-name⑥">&lt;timeline-range-name></a> <a class="production css" data-link-type="type" href="https://www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value⑤">&lt;percentage></a> ]	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>0s	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td><a href="https://www.w3.org/TR/css-pseudo/#generated-content" title="Includes ::before and ::after pseudo-elements.">all elements</a>	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>no	
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>relative to the specified <a data-link-type="dfn" href="#named-timeline-range" id="ref-for-named-timeline-range①⑤">named timeline range</a>	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>list, each item either a duration or a timeline range and progress percentage	
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar	
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animatable:</a>
      <td>no	
   </table>
   <p>Defines a delay between the end of the animation
	and when it ends executing
	(i.e. when keyframes attached to 100% progress are mapped).
	Values are as for <a class="property css" data-link-type="property" href="#propdef-animation-delay-start" id="ref-for-propdef-animation-delay-start③">animation-delay-start</a>,
	but calculating backwards from the end,
	i.e. a <span class="css">2s</span> delay effectively shortens the animation duration,
	whereas <span class="css">-2s</span> lengthens it.</p>
   <h3 class="heading settled" id="named-range-getTime"><span class="content">Reporting Timeline Range Progress: the <span class="css">getTime()</span> method</span><a class="self-link" href="#named-range-getTime"></a></h3>
   <p>Progress through named ranges is exposed on the <code class="idl"><a data-link-type="idl" href="#animationtimeline" id="ref-for-animationtimeline⑤">AnimationTimeline</a></code> object
	by the <code class="idl"><a data-link-type="idl" href="#dom-animationtimeline-getcurrenttime" id="ref-for-dom-animationtimeline-getcurrenttime">getCurrentTime()</a></code> method:</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="animationtimeline"><code><c- g>AnimationTimeline</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/css-typed-om-1/#typedefdef-cssnumberish" id="ref-for-typedefdef-cssnumberish"><c- n>CSSNumberish</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="AnimationTimeline" data-dfn-type="attribute" data-export data-readonly data-type="CSSNumberish?" id="dom-animationtimeline-currenttime"><code><c- g>currentTime</c-></code></dfn>;
  <a data-link-type="idl-name" href="https://www.w3.org/TR/css-typed-om-1/#cssnumericvalue" id="ref-for-cssnumericvalue④"><c- n>CSSNumericValue</c-></a>? <a class="idl-code" data-link-type="method" href="#dom-animationtimeline-getcurrenttime" id="ref-for-dom-animationtimeline-getcurrenttime①"><c- g>getCurrentTime</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring"><c- n>CSSOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AnimationTimeline/getCurrentTime(rangeName), AnimationTimeline/getCurrentTime()" data-dfn-type="argument" data-export id="dom-animationtimeline-getcurrenttime-rangename-rangename"><code><c- g>rangeName</c-></code></dfn>);
};
</pre>
   <div class="algorithm" data-algorithm="AnimationTimeline.getCurrentTime()">
    
		The <code><dfn class="dfn-paneled idl-code" data-dfn-for="AnimationTimeline" data-dfn-type="method" data-export data-lt="getCurrentTime(rangeName)|getCurrentTime()|getCurrentTime(optionalrangeName)" id="dom-animationtimeline-getcurrenttime"><code>getCurrentTime(optional <var>rangeName</var>)</code></dfn></code> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#method-steps" id="ref-for-method-steps">method steps</a> are:


    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this">this</a> is an <a data-link-type="dfn" href="https://www.w3.org/TR/web-animations-1/#inactive-timeline" id="ref-for-inactive-timeline⑦">inactive timeline</a>,
return <u class="link-error" data-lt="null" title="LINK ERROR: No &apos;dfn&apos; refs found for &apos;null&apos;.">null</u>.</p>
     <li data-md>
      <p>If <var>rangeName</var> is provided:</p>
      <ol>
       <li data-md>
        <p>If <var>rangeName</var> is a valid <a data-link-type="dfn" href="#named-timeline-range" id="ref-for-named-timeline-range①⑥">named timeline range</a> on <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①">this</a>,
let <var>progress</var> be the current progress through that range,
expressed as a percentage value between 0 and 100.</p>
        <p>Create a <a data-link-type="dfn" href="https://www.w3.org/TR/css-typed-om-1/#create-a-cssunitvalue-from-a-pair" id="ref-for-create-a-cssunitvalue-from-a-pair">new unit value</a> from (<var>progress</var>, "percent")
and return it.</p>
       <li data-md>
        <p>Otherwise, return <u class="link-error" data-lt="null" title="LINK ERROR: No &apos;dfn&apos; refs found for &apos;null&apos;.">null</u>.</p>
      </ol>
     <li data-md>
      <p>Let <var>current time</var>
be the value of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②">this’s</a> <code class="idl"><a data-link-type="idl" href="#dom-animationtimeline-currenttime" id="ref-for-dom-animationtimeline-currenttime③">currentTime</a></code> internal slot.</p>
      <p>Create a <a data-link-type="dfn" href="https://www.w3.org/TR/css-typed-om-1/#create-a-cssunitvalue-from-a-pair" id="ref-for-create-a-cssunitvalue-from-a-pair①">new unit value</a> from (<var>current time</var>, "ms")
and return it.</p>
    </ol>
   </div>
  </main>
  <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">
Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>
  <h3 class="no-ref heading settled" id="w3c-conventions"><span class="content">
Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>
  <p>Conformance requirements are expressed with a combination of
    descriptive assertions and RFC 2119 terminology. The key words “MUST”,
    “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
    “RECOMMENDED”, “MAY”, and “OPTIONAL” in the normative parts of this
    document are to be interpreted as described in RFC 2119.
    However, for readability, these words do not appear in all uppercase
    letters in this specification.

    </p>
  <p>All of the text of this specification is normative except sections
    explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a></p>
  <p>Examples in this specification are introduced with the words “for example”
    or are set apart from the normative text with <code>class="example"</code>,
    like this:

    </p>
  <div class="example" id="w3c-example">
   <a class="self-link" href="#w3c-example"></a>
        
   <p>This is an example of an informative example.</p>
  </div>
  <p>Informative notes begin with the word “Note” and are set apart from the
    normative text with <code>class="note"</code>, like this:

    </p>
  <p class="note" role="note">Note, this is an informative note.</p>
  <p>Advisements are normative sections styled to evoke special attention and are
    set apart from other normative text with <code>&lt;strong class="advisement"></code>, like
    this:

    <strong class="advisement">
        UAs MUST provide an accessible alternative.
    </strong></p>
  <h3 class="no-ref heading settled" id="w3c-conformance-classes"><span class="content">
Conformance classes</span><a class="self-link" href="#w3c-conformance-classes"></a></h3>
  <p>Conformance to this specification
    is defined for three conformance classes:
    </p>
  <dl>
   <dt>style sheet
            
   <dd>A <a href="https://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
            style sheet</a>.
        
   <dt>renderer
            
   <dd>A <a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
            that interprets the semantics of a style sheet and renders
            documents that use them.
        
   <dt>authoring tool
            
   <dd>A <a href="https://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
            that writes a style sheet.
    
  </dl>
  <p>A style sheet is conformant to this specification
    if all of its statements that use syntax defined in this module are valid
    according to the generic CSS grammar and the individual grammars of each
    feature defined in this module.

    </p>
  <p>A renderer is conformant to this specification
    if, in addition to interpreting the style sheet as defined by the
    appropriate specifications, it supports all the features defined
    by this specification by parsing them correctly
    and rendering the document accordingly. However, the inability of a
    UA to correctly render a document due to limitations of the device
    does not make the UA non-conformant. (For example, a UA is not
    required to render color on a monochrome monitor.)

    </p>
  <p>An authoring tool is conformant to this specification
    if it writes style sheets that are syntactically correct according to the
    generic CSS grammar and the individual grammars of each feature in
    this module, and meet all other conformance requirements of style sheets
    as described in this module.

</p>
  <h3 class="no-ref heading settled" id="w3c-partial"><span class="content">
Partial implementations</span><a class="self-link" href="#w3c-partial"></a></h3>
  <p>So that authors can exploit the forward-compatible parsing rules to
    assign fallback values, CSS renderers <strong>must</strong>
    treat as invalid (and <a href="https://www.w3.org/TR/CSS21/conform.html#ignore">ignore
    as appropriate</a>) any at-rules, properties, property values, keywords,
    and other syntactic constructs for which they have no usable level of
    support. In particular, user agents <strong>must not</strong> selectively
    ignore unsupported component values and honor supported values in a single
    multi-value property declaration: if any value is considered invalid
    (as unsupported values must be), CSS requires that the entire declaration
    be ignored.</p>
  <h4 class="heading settled" id="w3c-conform-future-proofing"><span class="content">
Implementations of Unstable and Proprietary Features</span><a class="self-link" href="#w3c-conform-future-proofing"></a></h4>
  <p>To avoid clashes with future stable CSS features,
        the CSSWG recommends <a href="https://www.w3.org/TR/CSS/#future-proofing">following best practices</a> for the implementation of <a href="https://www.w3.org/TR/CSS/#unstable">unstable</a> features and <a href="https://www.w3.org/TR/CSS/#proprietary-extension">proprietary extensions</a> to CSS.

</p>
  <h3 class="no-ref heading settled" id="w3c-testing"><span class="content">
Non-experimental implementations</span><a class="self-link" href="#w3c-testing"></a></h3>
  <p>Once a specification reaches the Candidate Recommendation stage,
    non-experimental implementations are possible, and implementors should
    release an unprefixed implementation of any CR-level feature they
    can demonstrate to be correctly implemented according to spec.

    </p>
  <p>To establish and maintain the interoperability of CSS across
    implementations, the CSS Working Group requests that non-experimental
    CSS renderers submit an implementation report (and, if necessary, the
    testcases used for that implementation report) to the W3C before
    releasing an unprefixed implementation of any CSS features. Testcases
    submitted to W3C are subject to review and correction by the CSS
    Working Group.

    </p>
  <p>Further information on submitting testcases and implementation reports
    can be found from on the CSS Working Group’s website at
    <a href="https://www.w3.org/Style/CSS/Test/">https://www.w3.org/Style/CSS/Test/</a>.
    Questions should be directed to the
    <a href="https://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a>
    mailing list.</p>
  <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#propdef-animation-delay">animation-delay</a><span>, in § Unnumbered section</span>
   <li><a href="#propdef-animation-delay-end">animation-delay-end</a><span>, in § Unnumbered section</span>
   <li><a href="#propdef-animation-delay-start">animation-delay-start</a><span>, in § Unnumbered section</span>
   <li><a href="#propdef-animation-range">animation-range</a><span>, in § Unnumbered section</span>
   <li><a href="#animationtimeline">AnimationTimeline</a><span>, in § Unnumbered section</span>
   <li><a href="#valdef-view-timeline-inset-auto">auto</a><span>, in § 3.3.3</span>
   <li><a href="#typedef-axis">&lt;axis></a><span>, in § 2.1.1</span>
   <li>
    axis
    <ul>
     <li><a href="#dom-scrolltimeline-axis">attribute for ScrollTimeline</a><span>, in § 2.1.2</span>
     <li><a href="#dom-scrolltimelineoptions-axis">dict-member for ScrollTimelineOptions</a><span>, in § 2.1.2</span>
     <li><a href="#dom-viewtimelineoptions-axis">dict-member for ViewTimelineOptions</a><span>, in § 3.2.1</span>
    </ul>
   <li><a href="#dom-scrollaxis-block">"block"</a><span>, in § 2.1.2</span>
   <li><a href="#valdef-scroll-block">block</a><span>, in § 2.1.1</span>
   <li>
    constructor()
    <ul>
     <li><a href="#dom-scrolltimeline-scrolltimeline">constructor for ScrollTimeline</a><span>, in § 2.1.2</span>
     <li><a href="#dom-viewtimeline-viewtimeline">constructor for ViewTimeline</a><span>, in § 3.2.1</span>
    </ul>
   <li>
    constructor(options)
    <ul>
     <li><a href="#dom-scrolltimeline-scrolltimeline">constructor for ScrollTimeline</a><span>, in § 2.1.2</span>
     <li><a href="#dom-viewtimeline-viewtimeline">constructor for ViewTimeline</a><span>, in § 3.2.1</span>
    </ul>
   <li><a href="#valdef-animation-timeline-range-contain">contain</a><span>, in § 3.1</span>
   <li><a href="#valdef-animation-timeline-range-cover">cover</a><span>, in § 3.1</span>
   <li><a href="#dom-animationtimeline-currenttime">currentTime</a><span>, in § Unnumbered section</span>
   <li><a href="#dom-viewtimeline-endoffset">endOffset</a><span>, in § 3.2.1</span>
   <li><a href="#valdef-animation-timeline-range-entry">entry</a><span>, in § 3.1</span>
   <li><a href="#valdef-animation-timeline-range-exit">exit</a><span>, in § 3.1</span>
   <li><a href="#dom-animationtimeline-getcurrenttime">getCurrentTime()</a><span>, in § Unnumbered section</span>
   <li><a href="#dom-animationtimeline-getcurrenttime">getCurrentTime(optionalrangeName)</a><span>, in § Unnumbered section</span>
   <li><a href="#dom-animationtimeline-getcurrenttime">getCurrentTime(rangeName)</a><span>, in § Unnumbered section</span>
   <li><a href="#dom-scrollaxis-horizontal">"horizontal"</a><span>, in § 2.1.2</span>
   <li><a href="#valdef-scroll-horizontal">horizontal</a><span>, in § 2.1.1</span>
   <li><a href="#dom-scrollaxis-inline">"inline"</a><span>, in § 2.1.2</span>
   <li><a href="#valdef-scroll-inline">inline</a><span>, in § 2.1.1</span>
   <li><a href="#layout-cycles">layout cycles</a><span>, in § 5</span>
   <li><a href="#valdef-view-timeline-inset-length-percentage">&lt;length-percentage></a><span>, in § 3.3.3</span>
   <li><a href="#named-timeline-range">named timeline range</a><span>, in § Unnumbered section</span>
   <li><a href="#valdef-scroll-nearest">nearest</a><span>, in § 2.1.1</span>
   <li><a href="#valdef-scroll-root">root</a><span>, in § 2.1.1</span>
   <li><a href="#funcdef-scroll">scroll()</a><span>, in § 2.1.1</span>
   <li><a href="#enumdef-scrollaxis">ScrollAxis</a><span>, in § 2.1.2</span>
   <li><a href="#scroll-driven-animations">scroll-driven animations</a><span>, in § 1</span>
   <li><a href="#typedef-scroller">&lt;scroller></a><span>, in § 2.1.1</span>
   <li><a href="#scroll-progress-timelines">Scroll progress timelines</a><span>, in § 2</span>
   <li><a href="#propdef-scroll-timeline">scroll-timeline</a><span>, in § 2.2.3</span>
   <li><a href="#scrolltimeline">ScrollTimeline</a><span>, in § 2.1.2</span>
   <li><a href="#dom-scrolltimeline-scrolltimeline">ScrollTimeline()</a><span>, in § 2.1.2</span>
   <li><a href="#propdef-scroll-timeline-axis">scroll-timeline-axis</a><span>, in § 2.2.2</span>
   <li><a href="#propdef-scroll-timeline-name">scroll-timeline-name</a><span>, in § 2.2.1</span>
   <li><a href="#dom-scrolltimeline-scrolltimeline">ScrollTimeline(options)</a><span>, in § 2.1.2</span>
   <li><a href="#dictdef-scrolltimelineoptions">ScrollTimelineOptions</a><span>, in § 2.1.2</span>
   <li>
    source
    <ul>
     <li><a href="#dom-scrolltimeline-source">attribute for ScrollTimeline</a><span>, in § 2.1.2</span>
     <li><a href="#dom-scrolltimelineoptions-source">dict-member for ScrollTimelineOptions</a><span>, in § 2.1.2</span>
    </ul>
   <li><a href="#dom-viewtimeline-startoffset">startOffset</a><span>, in § 3.2.1</span>
   <li>
    subject
    <ul>
     <li><a href="#dom-viewtimeline-subject">attribute for ViewTimeline</a><span>, in § 3.2.1</span>
     <li><a href="#dom-viewtimelineoptions-subject">dict-member for ViewTimelineOptions</a><span>, in § 3.2.1</span>
    </ul>
   <li><a href="#valdef-animation-delay-start-time">&lt;time></a><span>, in § Unnumbered section</span>
   <li><a href="#typedef-timeline-range-name">&lt;timeline-range-name></a><span>, in § Unnumbered section</span>
   <li><a href="#valdef-animation-delay-start-timeline-range-name-percentage">&lt;timeline-range-name> &lt;percentage></a><span>, in § Unnumbered section</span>
   <li><a href="#dom-scrollaxis-vertical">"vertical"</a><span>, in § 2.1.2</span>
   <li><a href="#valdef-scroll-vertical">vertical</a><span>, in § 2.1.1</span>
   <li><a href="#view-progress-subject">view progress subject</a><span>, in § 3</span>
   <li><a href="#view-progress-timelines">View progress timelines</a><span>, in § 3</span>
   <li><a href="#view-progress-visibility-range">view progress visibility range</a><span>, in § 3.3.3</span>
   <li><a href="#propdef-view-timeline">view-timeline</a><span>, in § 3.3.4</span>
   <li><a href="#viewtimeline">ViewTimeline</a><span>, in § 3.2.1</span>
   <li><a href="#dom-viewtimeline-viewtimeline">ViewTimeline()</a><span>, in § 3.2.1</span>
   <li><a href="#propdef-view-timeline-axis">view-timeline-axis</a><span>, in § 3.3.2</span>
   <li><a href="#propdef-view-timeline-inset">view-timeline-inset</a><span>, in § 3.3.3</span>
   <li><a href="#propdef-view-timeline-name">view-timeline-name</a><span>, in § 3.3.1</span>
   <li><a href="#dom-viewtimeline-viewtimeline">ViewTimeline(options)</a><span>, in § 3.2.1</span>
   <li><a href="#dictdef-viewtimelineoptions">ViewTimelineOptions</a><span>, in § 3.2.1</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[CSS-ALIGN-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="46bad8dc">content distribution</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-ANIMATIONS-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="a73d7d2b">&lt;keyframe-selector></span>
     <li><span class="dfn-paneled" id="7177b17d">@keyframes</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-ANIMATIONS-2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="f5426905">animation-timeline</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-BOX-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="3e6781f5">border edge</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-CASCADE-5]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="e14541aa">shorthand</span>
     <li><span class="dfn-paneled" id="980ac56a">shorthand property</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-DISPLAY-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="7a605ac8">principal box</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-OVERFLOW-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="a3cabdb1">scroll container</span>
     <li><span class="dfn-paneled" id="e3488cd0">scrollable overflow</span>
     <li><span class="dfn-paneled" id="b1f927bc">scrollable overflow rectangle</span>
     <li><span class="dfn-paneled" id="700ea31d">scrollport</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-SCOPING-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="ec00b552">flattened element tree</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-SCROLL-SNAP-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="2f6cb60c">scroll-padding</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-TYPED-OM-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="3e58bc07">CSSNumberish</span>
     <li><span class="dfn-paneled" id="b9f1859f">CSSNumericValue</span>
     <li><span class="dfn-paneled" id="49e082b8">CSSUnitValue</span>
     <li><span class="dfn-paneled" id="7a89512e">new unit value</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-VALUES-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="c297b070">#</span>
     <li><span class="dfn-paneled" id="a0144f62">&lt;custom-ident></span>
     <li><span class="dfn-paneled" id="4fd7e54f">&lt;length-percentage></span>
     <li><span class="dfn-paneled" id="128295ac">&lt;percentage></span>
     <li><span class="dfn-paneled" id="7aaa7c88">&lt;time></span>
     <li><span class="dfn-paneled" id="d4441b24">?</span>
     <li><span class="dfn-paneled" id="842014fe">CSS identifier</span>
     <li><span class="dfn-paneled" id="8a110a7b">CSS-wide keywords</span>
     <li><span class="dfn-paneled" id="de901111">functional notation</span>
     <li><span class="dfn-paneled" id="20730c34">px</span>
     <li><span class="dfn-paneled" id="3bafef5e">{A,B}</span>
     <li><span class="dfn-paneled" id="4eb9d37e">|</span>
     <li><span class="dfn-paneled" id="a0336d84">||</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-WRITING-MODES-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="b8dade0f">block axis</span>
     <li><span class="dfn-paneled" id="e112902f">end</span>
     <li><span class="dfn-paneled" id="d15658b4">horizontal axis</span>
     <li><span class="dfn-paneled" id="a6eb24bb">inline axis</span>
     <li><span class="dfn-paneled" id="dea08a34">rtl</span>
     <li><span class="dfn-paneled" id="90c7548c">start</span>
     <li><span class="dfn-paneled" id="6e1a9e5c">vertical axis</span>
     <li><span class="dfn-paneled" id="eb6008ce">writing mode</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="6865960e">selector</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSSOM-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="9d357000">CSSOMString</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSSOM-VIEW-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="74f897b3">scrollingElement</span>
    </ul>
   <li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="85394472">Document</span>
     <li><span class="dfn-paneled" id="296f3551">Element</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="5d7209e9">Window</span>
     <li><span class="dfn-paneled" id="ce3d2bbb">current global object</span>
     <li><span class="dfn-paneled" id="bf79f80d">document associated with a window</span>
     <li><span class="dfn-paneled" id="e57197d8">requestAnimationFrame(callback)</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEB-ANIMATIONS-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="50ef97a6">Animation</span>
     <li><span class="dfn-paneled" id="287c9f40">animate(keyframes)</span>
     <li><span class="dfn-paneled" id="6d1e34c4">animation</span>
     <li><span class="dfn-paneled" id="a7c3490a">inactive timeline</span>
     <li><span class="dfn-paneled" id="4c9d6912">timeline</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEB-ANIMATIONS-2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="20c04e6c">duration</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="889e932f">Exposed</span>
     <li><span class="dfn-paneled" id="3024958b">method steps</span>
     <li><span class="dfn-paneled" id="4013a022">this</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-css-align-3">[CSS-ALIGN-3]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-align-3/"><cite>CSS Box Alignment Module Level 3</cite></a>. 11 March 2025. WD. URL: <a href="https://www.w3.org/TR/css-align-3/">https://www.w3.org/TR/css-align-3/</a>
   <dt id="biblio-css-animations-1">[CSS-ANIMATIONS-1]
   <dd>David Baron; et al. <a href="https://www.w3.org/TR/css-animations-1/"><cite>CSS Animations Level 1</cite></a>. 2 March 2023. WD. URL: <a href="https://www.w3.org/TR/css-animations-1/">https://www.w3.org/TR/css-animations-1/</a>
   <dt id="biblio-css-animations-2">[CSS-ANIMATIONS-2]
   <dd>David Baron; Brian Birtles. <a href="https://www.w3.org/TR/css-animations-2/"><cite>CSS Animations Level 2</cite></a>. 2 June 2023. WD. URL: <a href="https://www.w3.org/TR/css-animations-2/">https://www.w3.org/TR/css-animations-2/</a>
   <dt id="biblio-css-box-4">[CSS-BOX-4]
   <dd>Elika Etemad. <a href="https://www.w3.org/TR/css-box-4/"><cite>CSS Box Model Module Level 4</cite></a>. 4 August 2024. WD. URL: <a href="https://www.w3.org/TR/css-box-4/">https://www.w3.org/TR/css-box-4/</a>
   <dt id="biblio-css-cascade-5">[CSS-CASCADE-5]
   <dd>Elika Etemad; Miriam Suzanne; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-cascade-5/"><cite>CSS Cascading and Inheritance Level 5</cite></a>. 13 January 2022. CR. URL: <a href="https://www.w3.org/TR/css-cascade-5/">https://www.w3.org/TR/css-cascade-5/</a>
   <dt id="biblio-css-display-4">[CSS-DISPLAY-4]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-display-4/"><cite>CSS Display Module Level 4</cite></a>. 19 December 2024. FPWD. URL: <a href="https://www.w3.org/TR/css-display-4/">https://www.w3.org/TR/css-display-4/</a>
   <dt id="biblio-css-overflow-3">[CSS-OVERFLOW-3]
   <dd>Elika Etemad; Florian Rivoal. <a href="https://www.w3.org/TR/css-overflow-3/"><cite>CSS Overflow Module Level 3</cite></a>. 29 March 2023. WD. URL: <a href="https://www.w3.org/TR/css-overflow-3/">https://www.w3.org/TR/css-overflow-3/</a>
   <dt id="biblio-css-scroll-snap-1">[CSS-SCROLL-SNAP-1]
   <dd>Matt Rakow; et al. <a href="https://www.w3.org/TR/css-scroll-snap-1/"><cite>CSS Scroll Snap Module Level 1</cite></a>. 11 March 2021. CR. URL: <a href="https://www.w3.org/TR/css-scroll-snap-1/">https://www.w3.org/TR/css-scroll-snap-1/</a>
   <dt id="biblio-css-typed-om-1">[CSS-TYPED-OM-1]
   <dd>Tab Atkins Jr.; François Remy. <a href="https://www.w3.org/TR/css-typed-om-1/"><cite>CSS Typed OM Level 1</cite></a>. 21 March 2024. WD. URL: <a href="https://www.w3.org/TR/css-typed-om-1/">https://www.w3.org/TR/css-typed-om-1/</a>
   <dt id="biblio-css-values-3">[CSS-VALUES-3]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-values-3/"><cite>CSS Values and Units Module Level 3</cite></a>. 22 March 2024. CRD. URL: <a href="https://www.w3.org/TR/css-values-3/">https://www.w3.org/TR/css-values-3/</a>
   <dt id="biblio-css-values-4">[CSS-VALUES-4]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-values-4/"><cite>CSS Values and Units Module Level 4</cite></a>. 12 March 2024. WD. URL: <a href="https://www.w3.org/TR/css-values-4/">https://www.w3.org/TR/css-values-4/</a>
   <dt id="biblio-css-writing-modes-4">[CSS-WRITING-MODES-4]
   <dd>Elika Etemad; Koji Ishii. <a href="https://www.w3.org/TR/css-writing-modes-4/"><cite>CSS Writing Modes Level 4</cite></a>. 30 July 2019. CR. URL: <a href="https://www.w3.org/TR/css-writing-modes-4/">https://www.w3.org/TR/css-writing-modes-4/</a>
   <dt id="biblio-css2">[CSS2]
   <dd>Bert Bos; et al. <a href="https://www.w3.org/TR/CSS2/"><cite>Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification</cite></a>. 7 June 2011. REC. URL: <a href="https://www.w3.org/TR/CSS2/">https://www.w3.org/TR/CSS2/</a>
   <dt id="biblio-cssom-1">[CSSOM-1]
   <dd>Daniel Glazman; Emilio Cobos Álvarez. <a href="https://www.w3.org/TR/cssom-1/"><cite>CSS Object Model (CSSOM)</cite></a>. 26 August 2021. WD. URL: <a href="https://www.w3.org/TR/cssom-1/">https://www.w3.org/TR/cssom-1/</a>
   <dt id="biblio-cssom-view-1">[CSSOM-VIEW-1]
   <dd>Simon Pieters. <a href="https://www.w3.org/TR/cssom-view-1/"><cite>CSSOM View Module</cite></a>. 17 March 2016. WD. URL: <a href="https://www.w3.org/TR/cssom-view-1/">https://www.w3.org/TR/cssom-view-1/</a>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
   <dt id="biblio-web-animations-1">[WEB-ANIMATIONS-1]
   <dd>Brian Birtles; et al. <a href="https://www.w3.org/TR/web-animations-1/"><cite>Web Animations</cite></a>. 5 June 2023. WD. URL: <a href="https://www.w3.org/TR/web-animations-1/">https://www.w3.org/TR/web-animations-1/</a>
   <dt id="biblio-web-animations-2">[WEB-ANIMATIONS-2]
   <dd>Brian Birtles; Robert Flack. <a href="https://www.w3.org/TR/web-animations-2/"><cite>Web Animations Level 2</cite></a>. 21 February 2023. FPWD. URL: <a href="https://www.w3.org/TR/web-animations-2/">https://www.w3.org/TR/web-animations-2/</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-css-scoping-1">[CSS-SCOPING-1]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-scoping-1/"><cite>CSS Scoping Module Level 1</cite></a>. 3 April 2014. FPWD. URL: <a href="https://www.w3.org/TR/css-scoping-1/">https://www.w3.org/TR/css-scoping-1/</a>
   <dt id="biblio-scroll-animations-1">[SCROLL-ANIMATIONS-1]
   <dd>Brian Birtles; et al. <a href="https://www.w3.org/TR/scroll-animations-1/"><cite>Scroll-driven Animations</cite></a>. 6 June 2023. WD. URL: <a href="https://www.w3.org/TR/scroll-animations-1/">https://www.w3.org/TR/scroll-animations-1/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="property-index"><span class="content">Property Index</span><a class="self-link" href="#property-index"></a></h2>
  <div class="big-element-wrapper">
   <table class="index">
    <thead>
     <tr>
      <th scope="col">Name
      <th scope="col">Value
      <th scope="col">Initial
      <th scope="col">Applies to
      <th scope="col">Inh.
      <th scope="col">%ages
      <th scope="col">Ani­mat­able
      <th scope="col">Anim­ation type
      <th scope="col">Canonical order
      <th scope="col">Com­puted value
    <tbody>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-animation-delay" id="ref-for-propdef-animation-delay①">animation-delay</a>
      <td>[ &lt;'animation-delay-start'> &lt;'animation-delay-end'>? | &lt;timeline-range-name> ]#
      <td>see individual properties
      <td>see individual properties
      <td>see individual properties
      <td>see individual properties
      <td>
      <td>see individual properties
      <td>per grammar
      <td>see individual properties
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-animation-delay-end" id="ref-for-propdef-animation-delay-end④">animation-delay-end</a>
      <td>[ &lt;time> | &lt;timeline-range-name> &lt;percentage> ]
      <td>0s
      <td>all elements
      <td>no
      <td>relative to the specified named timeline range
      <td>no
      <td>
      <td>per grammar
      <td>list, each item either a duration or a timeline range and progress percentage
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-animation-delay-start" id="ref-for-propdef-animation-delay-start④">animation-delay-start</a>
      <td>[ &lt;time> | &lt;timeline-range-name> &lt;percentage> ]
      <td>0s
      <td>all elements
      <td>no
      <td>relative to the specified named timeline range
      <td>no
      <td>
      <td>per grammar
      <td>list, each item either a duration or a timeline range and progress percentage
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-animation-range" id="ref-for-propdef-animation-range①">animation-range</a>
      <td>[ &lt;'animation-delay-start'> &lt;'animation-delay-end'>? | &lt;timeline-range-name> ]#
      <td>see individual properties
      <td>see individual properties
      <td>see individual properties
      <td>see individual properties
      <td>
      <td>see individual properties
      <td>per grammar
      <td>see individual properties
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-scroll-timeline" id="ref-for-propdef-scroll-timeline②">scroll-timeline</a>
      <td>&lt;'scroll-timeline-name'> || &lt;'scroll-timeline-axis'>
      <td>see individual properties
      <td>scroll containers
      <td>no
      <td>see individual properties
      <td>
      <td>not animatable
      <td>per grammar
      <td>see individual properties
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-scroll-timeline-axis" id="ref-for-propdef-scroll-timeline-axis④">scroll-timeline-axis</a>
      <td>block | inline | vertical | horizontal
      <td>block
      <td>scroll containers
      <td>no
      <td>n/a
      <td>
      <td>not animatable
      <td>per grammar
      <td>the specified keyword
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-scroll-timeline-name" id="ref-for-propdef-scroll-timeline-name④">scroll-timeline-name</a>
      <td>none | &lt;custom-ident>
      <td>none
      <td>scroll containers
      <td>no
      <td>n/a
      <td>
      <td>not animatable
      <td>per grammar
      <td>the specified keyword
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-view-timeline" id="ref-for-propdef-view-timeline②">view-timeline</a>
      <td>[ &lt;'view-timeline-name'> || &lt;'view-timeline-axis'> ]#
      <td>see individual properties
      <td>all elements
      <td>see individual properties
      <td>see individual properties
      <td>
      <td>see individual properties
      <td>per grammar
      <td>see individual properties
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-view-timeline-axis" id="ref-for-propdef-view-timeline-axis⑦">view-timeline-axis</a>
      <td>[ block | inline | vertical | horizontal ]#
      <td>block
      <td>all elements
      <td>no
      <td>n/a
      <td>
      <td>not animatable
      <td>per grammar
      <td>a list of the keywords specified
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-view-timeline-inset" id="ref-for-propdef-view-timeline-inset⑦">view-timeline-inset</a>
      <td>[ [ auto | &lt;length-percentage> ]{1,2} ]#
      <td>0
      <td>all elements
      <td>no
      <td>relative to the corresponding dimension of the relevant scrollport
      <td>
      <td>by computed value type
      <td>per grammar
      <td>a list consisting of two-value pairs representing the start and end insets each as either the keyword auto or a computed &lt;length-percentage> value
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-view-timeline-name" id="ref-for-propdef-view-timeline-name⑦">view-timeline-name</a>
      <td>none | &lt;custom-ident>#
      <td>none
      <td>all elements
      <td>no
      <td>n/a
      <td>
      <td>not animatable
      <td>per grammar
      <td>the keyword none or a list of &lt;custom-ident>s
   </table>
  </div>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def"><c- b>enum</c-> <a href="#enumdef-scrollaxis"><code><c- g>ScrollAxis</c-></code></a> {
  <a href="#dom-scrollaxis-block"><code><c- s>"block"</c-></code></a>,
  <a href="#dom-scrollaxis-inline"><code><c- s>"inline"</c-></code></a>,
  <a href="#dom-scrollaxis-horizontal"><code><c- s>"horizontal"</c-></code></a>,
  <a href="#dom-scrollaxis-vertical"><code><c- s>"vertical"</c-></code></a>
};

<c- b>dictionary</c-> <a href="#dictdef-scrolltimelineoptions"><code><c- g>ScrollTimelineOptions</c-></code></a> {
  <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element"><c- n>Element</c-></a>? <a data-type="Element?" href="#dom-scrolltimelineoptions-source"><code><c- g>source</c-></code></a>;
  <a data-link-type="idl-name" href="#enumdef-scrollaxis"><c- n>ScrollAxis</c-></a> <a data-default="&quot;block&quot;" data-type="ScrollAxis" href="#dom-scrolltimelineoptions-axis"><code><c- g>axis</c-></code></a> = "block";
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#scrolltimeline"><code><c- g>ScrollTimeline</c-></code></a> : <a data-link-type="idl-name" href="#animationtimeline"><c- n>AnimationTimeline</c-></a> {
  <a class="idl-code" data-link-type="constructor" href="#dom-scrolltimeline-scrolltimeline"><c- g>constructor</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-scrolltimelineoptions"><c- n>ScrollTimelineOptions</c-></a> <a href="#dom-scrolltimeline-scrolltimeline-options-options"><code><c- g>options</c-></code></a> = {});
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element"><c- n>Element</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="Element?" href="#dom-scrolltimeline-source"><c- g>source</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-scrollaxis"><c- n>ScrollAxis</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ScrollAxis" href="#dom-scrolltimeline-axis"><c- g>axis</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-viewtimelineoptions"><code><c- g>ViewTimelineOptions</c-></code></a> {
  <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element"><c- n>Element</c-></a> <a data-type="Element" href="#dom-viewtimelineoptions-subject"><code><c- g>subject</c-></code></a>;
  <a data-link-type="idl-name" href="#enumdef-scrollaxis"><c- n>ScrollAxis</c-></a> <a data-default="&quot;block&quot;" data-type="ScrollAxis" href="#dom-viewtimelineoptions-axis"><code><c- g>axis</c-></code></a> = "block";
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#viewtimeline"><code><c- g>ViewTimeline</c-></code></a> : <a data-link-type="idl-name" href="#scrolltimeline"><c- n>ScrollTimeline</c-></a> {
  <a class="idl-code" data-link-type="constructor" href="#dom-viewtimeline-viewtimeline"><c- g>constructor</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-viewtimelineoptions"><c- n>ViewTimelineOptions</c-></a> <a href="#dom-viewtimeline-viewtimeline-options-options"><code><c- g>options</c-></code></a> = {});
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element"><c- n>Element</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Element" href="#dom-viewtimeline-subject"><c- g>subject</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/css-typed-om-1/#cssnumericvalue"><c- n>CSSNumericValue</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSNumericValue" href="#dom-viewtimeline-startoffset"><c- g>startOffset</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/css-typed-om-1/#cssnumericvalue"><c- n>CSSNumericValue</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSNumericValue" href="#dom-viewtimeline-endoffset"><c- g>endOffset</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#animationtimeline"><code><c- g>AnimationTimeline</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/css-typed-om-1/#typedefdef-cssnumberish"><c- n>CSSNumberish</c-></a>? <a data-readonly data-type="CSSNumberish?" href="#dom-animationtimeline-currenttime"><code><c- g>currentTime</c-></code></a>;
  <a data-link-type="idl-name" href="https://www.w3.org/TR/css-typed-om-1/#cssnumericvalue"><c- n>CSSNumericValue</c-></a>? <a class="idl-code" data-link-type="method" href="#dom-animationtimeline-getcurrenttime"><c- g>getCurrentTime</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a href="#dom-animationtimeline-getcurrenttime-rangename-rangename"><code><c- g>rangeName</c-></code></a>);
};

</pre>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> While 0% will usually represent the <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scroll-container">scroll container</a>’s initial scroll position,
	it might not depending on its <a data-link-type="dfn" href="https://www.w3.org/TR/css-align-3/#content-distribute">content distribution</a>.
	See <a href="https://www.w3.org/TR/css-align-3/#overflow-scroll-position"><cite>CSS Box Alignment 3</cite> § 5.3 Alignment Overflow and Scroll Containers</a>.
	Is this what we want? <a class="issue-return" href="#issue-73faeaf7" title="Jump to section">↵</a></div>
   <div class="issue"> Add a note about whether <code class="idl"><a data-link-type="idl" href="#dom-animationtimeline-currenttime">currentTime</a></code>
	can be negative or > 100%. <a class="issue-return" href="#issue-00572649" title="Jump to section">↵</a></div>
   <div class="issue"> Should this be <a class="css" data-link-type="maybe" href="#valdef-animation-timeline-range-entry">entry</a> or <span class="css">enter</span>? <a class="issue-return" href="#issue-c602d121" title="Jump to section">↵</a></div>
   <div class="issue"> Insert diagrams. <a class="issue-return" href="#issue-aab79dad" title="Jump to section">↵</a></div>
   <div class="issue"> This makes the offsets compatible with the way scrollLeft and scrollTop work,
	which go negative from zero in RTL scroll containers,
	is this how we want it to work here? <a class="issue-return" href="#issue-f300c2e9" title="Jump to section">↵</a></div>
   <div class="issue"> Figure out how to incorporate fit/inset abilities. <a class="issue-return" href="#issue-d2753247" title="Jump to section">↵</a></div>
   <div class="issue"> Should it reset <a class="property css" data-link-type="property" href="#propdef-view-timeline-inset">view-timeline-inset</a> also? <a class="issue-return" href="#issue-6b6d7174" title="Jump to section">↵</a></div>
   <div class="issue"> Do we want to expand this scope to preceding siblings and/or distant cousins? <a class="issue-return" href="#issue-330d057d" title="Jump to section">↵</a></div>
   <div class="issue"> This section should move to CSS-ANIMATIONS-2 and WEB-ANIMATIONS-2. <a class="issue-return" href="#issue-79ed79d9" title="Jump to section">↵</a></div>
  </div>
<script>/* Boilerplate: script-dom-helper */
"use strict";
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}</script>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
let dfnPanelData = {
"128295ac": {"dfnID":"128295ac","dfnText":"<percentage>","external":true,"refSections":[{"refs":[{"id":"ref-for-percentage-value"},{"id":"ref-for-percentage-value\u2460"},{"id":"ref-for-percentage-value\u2461"}],"title":"Named Timeline Range Keyframe Selectors"},{"refs":[{"id":"ref-for-percentage-value\u2462"},{"id":"ref-for-percentage-value\u2463"},{"id":"ref-for-percentage-value\u2464"}],"title":"Attaching Animations to Timeline Ranges"}],"url":"https://www.w3.org/TR/css-values-4/#percentage-value"},
"20730c34": {"dfnID":"20730c34","dfnText":"px","external":true,"refSections":[{"refs":[{"id":"ref-for-px"},{"id":"ref-for-px\u2460"}],"title":"3.2.1. The ViewTimeline Interface"}],"url":"https://www.w3.org/TR/css-values-4/#px"},
"20c04e6c": {"dfnID":"20c04e6c","dfnText":"duration","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-effecttiming-duration"}],"title":"2.1.2. The ScrollTimeline Interface"}],"url":"https://www.w3.org/TR/web-animations-2/#dom-effecttiming-duration"},
"287c9f40": {"dfnID":"287c9f40","dfnText":"animate(keyframes)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-animatable-animate"}],"title":"2.1.2. The ScrollTimeline Interface"},{"refs":[{"id":"ref-for-dom-animatable-animate\u2460"}],"title":"3.2.1. The ViewTimeline Interface"}],"url":"https://www.w3.org/TR/web-animations-1/#dom-animatable-animate"},
"296f3551": {"dfnID":"296f3551","dfnText":"Element","external":true,"refSections":[{"refs":[{"id":"ref-for-element"},{"id":"ref-for-element\u2460"},{"id":"ref-for-element\u2461"}],"title":"2.1.2. The ScrollTimeline Interface"},{"refs":[{"id":"ref-for-element\u2462"},{"id":"ref-for-element\u2463"},{"id":"ref-for-element\u2464"}],"title":"3.2.1. The ViewTimeline Interface"}],"url":"https://dom.spec.whatwg.org/#element"},
"2f6cb60c": {"dfnID":"2f6cb60c","dfnText":"scroll-padding","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-scroll-padding"},{"id":"ref-for-propdef-scroll-padding\u2460"}],"title":"3.3.3. Inset of a View Progress Timeline: the view-timeline-inset property"}],"url":"https://www.w3.org/TR/css-scroll-snap-1/#propdef-scroll-padding"},
"3024958b": {"dfnID":"3024958b","dfnText":"method steps","external":true,"refSections":[{"refs":[{"id":"ref-for-method-steps"}],"title":"Reporting Timeline Range Progress: the getTime() method"}],"url":"https://webidl.spec.whatwg.org/#method-steps"},
"3bafef5e": {"dfnID":"3bafef5e","dfnText":"{A,B}","external":true,"refSections":[{"refs":[{"id":"ref-for-mult-num-range"}],"title":"3.3.3. Inset of a View Progress Timeline: the view-timeline-inset property"}],"url":"https://www.w3.org/TR/css-values-4/#mult-num-range"},
"3e58bc07": {"dfnID":"3e58bc07","dfnText":"CSSNumberish","external":true,"refSections":[{"refs":[{"id":"ref-for-typedefdef-cssnumberish"}],"title":"Reporting Timeline Range Progress: the getTime() method"}],"url":"https://www.w3.org/TR/css-typed-om-1/#typedefdef-cssnumberish"},
"3e6781f5": {"dfnID":"3e6781f5","dfnText":"border edge","external":true,"refSections":[{"refs":[{"id":"ref-for-border-edge"},{"id":"ref-for-border-edge\u2460"},{"id":"ref-for-border-edge\u2461"},{"id":"ref-for-border-edge\u2462"},{"id":"ref-for-border-edge\u2463"},{"id":"ref-for-border-edge\u2464"}],"title":"3.1. View Progress Timeline Ranges"}],"url":"https://www.w3.org/TR/css-box-4/#border-edge"},
"4013a022": {"dfnID":"4013a022","dfnText":"this","external":true,"refSections":[{"refs":[{"id":"ref-for-this"},{"id":"ref-for-this\u2460"},{"id":"ref-for-this\u2461"}],"title":"Reporting Timeline Range Progress: the getTime() method"}],"url":"https://webidl.spec.whatwg.org/#this"},
"46bad8dc": {"dfnID":"46bad8dc","dfnText":"content distribution","external":true,"refSections":[{"refs":[{"id":"ref-for-content-distribute"}],"title":"2.1.2. The ScrollTimeline Interface"}],"url":"https://www.w3.org/TR/css-align-3/#content-distribute"},
"49e082b8": {"dfnID":"49e082b8","dfnText":"CSSUnitValue","external":true,"refSections":[{"refs":[{"id":"ref-for-cssunitvalue"}],"title":"3.2.1. The ViewTimeline Interface"}],"url":"https://www.w3.org/TR/css-typed-om-1/#cssunitvalue"},
"4c9d6912": {"dfnID":"4c9d6912","dfnText":"timeline","external":true,"refSections":[{"refs":[{"id":"ref-for-timeline"},{"id":"ref-for-timeline\u2460"}],"title":"1.1. Relationship to other specifications"},{"refs":[{"id":"ref-for-timeline\u2461"},{"id":"ref-for-timeline\u2462"}],"title":"Appendix A: Named Timeline Ranges"},{"refs":[{"id":"ref-for-timeline\u2463"}],"title":"Attaching Animations to Timeline Ranges"}],"url":"https://www.w3.org/TR/web-animations-1/#timeline"},
"4eb9d37e": {"dfnID":"4eb9d37e","dfnText":"|","external":true,"refSections":[{"refs":[{"id":"ref-for-comb-one"},{"id":"ref-for-comb-one\u2460"},{"id":"ref-for-comb-one\u2461"},{"id":"ref-for-comb-one\u2462"}],"title":"2.1.1. The scroll() notation"},{"refs":[{"id":"ref-for-comb-one\u2463"}],"title":"2.2.1. Naming a Scroll Progress Timeline: the scroll-timeline-name property"},{"refs":[{"id":"ref-for-comb-one\u2464"},{"id":"ref-for-comb-one\u2465"},{"id":"ref-for-comb-one\u2466"}],"title":"2.2.2. Axis of a Scroll Progress Timeline: the scroll-timeline-axis property"},{"refs":[{"id":"ref-for-comb-one\u2467"}],"title":"3.3.1. Naming a View Progress Timeline: the view-timeline-name property"},{"refs":[{"id":"ref-for-comb-one\u2468"},{"id":"ref-for-comb-one\u2460\u24ea"},{"id":"ref-for-comb-one\u2460\u2460"}],"title":"3.3.2. Axis of a View Progress Timeline: the view-timeline-axis property"},{"refs":[{"id":"ref-for-comb-one\u2460\u2461"}],"title":"3.3.3. Inset of a View Progress Timeline: the view-timeline-inset property"},{"refs":[{"id":"ref-for-comb-one\u2460\u2462"},{"id":"ref-for-comb-one\u2460\u2463"},{"id":"ref-for-comb-one\u2460\u2464"}],"title":"Named Timeline Range Keyframe Selectors"},{"refs":[{"id":"ref-for-comb-one\u2460\u2465"},{"id":"ref-for-comb-one\u2460\u2466"},{"id":"ref-for-comb-one\u2460\u2467"}],"title":"Attaching Animations to Timeline Ranges"}],"url":"https://www.w3.org/TR/css-values-4/#comb-one"},
"4fd7e54f": {"dfnID":"4fd7e54f","dfnText":"<length-percentage>","external":true,"refSections":[{"refs":[{"id":"ref-for-typedef-length-percentage"},{"id":"ref-for-typedef-length-percentage\u2460"},{"id":"ref-for-typedef-length-percentage\u2461"}],"title":"3.3.3. Inset of a View Progress Timeline: the view-timeline-inset property"}],"url":"https://www.w3.org/TR/css-values-4/#typedef-length-percentage"},
"50ef97a6": {"dfnID":"50ef97a6","dfnText":"Animation","external":true,"refSections":[{"refs":[{"id":"ref-for-animation"}],"title":"2.1.2. The ScrollTimeline Interface"},{"refs":[{"id":"ref-for-animation\u2460"}],"title":"3.2.1. The ViewTimeline Interface"}],"url":"https://www.w3.org/TR/web-animations-1/#animation"},
"5d7209e9": {"dfnID":"5d7209e9","dfnText":"Window","external":true,"refSections":[{"refs":[{"id":"ref-for-window"}],"title":"2.1.2. The ScrollTimeline Interface"}],"url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"},
"6865960e": {"dfnID":"6865960e","dfnText":"selector","external":true,"refSections":[{"refs":[{"id":"ref-for-x15"}],"title":"4. Named Timeline Scoping"}],"url":"https://www.w3.org/TR/CSS2/syndata.html#x15"},
"6d1e34c4": {"dfnID":"6d1e34c4","dfnText":"animation","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-animation"}],"title":"1.1. Relationship to other specifications"}],"url":"https://www.w3.org/TR/web-animations-1/#concept-animation"},
"6e1a9e5c": {"dfnID":"6e1a9e5c","dfnText":"vertical axis","external":true,"refSections":[{"refs":[{"id":"ref-for-y-axis"}],"title":"2.1.1. The scroll() notation"}],"url":"https://www.w3.org/TR/css-writing-modes-4/#y-axis"},
"700ea31d": {"dfnID":"700ea31d","dfnText":"scrollport","external":true,"refSections":[{"refs":[{"id":"ref-for-scrollport"},{"id":"ref-for-scrollport\u2460"},{"id":"ref-for-scrollport\u2461"}],"title":"3. View Progress Timelines"},{"refs":[{"id":"ref-for-scrollport\u2462"}],"title":"3.1. View Progress Timeline Ranges"},{"refs":[{"id":"ref-for-scrollport\u2463"}],"title":"3.2.1. The ViewTimeline Interface"},{"refs":[{"id":"ref-for-scrollport\u2464"},{"id":"ref-for-scrollport\u2465"}],"title":"3.3.3. Inset of a View Progress Timeline: the view-timeline-inset property"}],"url":"https://www.w3.org/TR/css-overflow-3/#scrollport"},
"7177b17d": {"dfnID":"7177b17d","dfnText":"@keyframes","external":true,"refSections":[{"refs":[{"id":"ref-for-at-ruledef-keyframes"}],"title":"Named Timeline Range Keyframe Selectors"}],"url":"https://www.w3.org/TR/css-animations-1/#at-ruledef-keyframes"},
"74f897b3": {"dfnID":"74f897b3","dfnText":"scrollingElement","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-document-scrollingelement"}],"title":"2.1.2. The ScrollTimeline Interface"}],"url":"https://www.w3.org/TR/cssom-view-1/#dom-document-scrollingelement"},
"7a605ac8": {"dfnID":"7a605ac8","dfnText":"principal box","external":true,"refSections":[{"refs":[{"id":"ref-for-principal-box"}],"title":"2.1.2. The ScrollTimeline Interface"},{"refs":[{"id":"ref-for-principal-box\u2460"}],"title":"3. View Progress Timelines"},{"refs":[{"id":"ref-for-principal-box\u2461"},{"id":"ref-for-principal-box\u2462"},{"id":"ref-for-principal-box\u2463"},{"id":"ref-for-principal-box\u2464"},{"id":"ref-for-principal-box\u2465"},{"id":"ref-for-principal-box\u2466"},{"id":"ref-for-principal-box\u2467"},{"id":"ref-for-principal-box\u2468"},{"id":"ref-for-principal-box\u2460\u24ea"}],"title":"3.1. View Progress Timeline Ranges"},{"refs":[{"id":"ref-for-principal-box\u2460\u2460"},{"id":"ref-for-principal-box\u2460\u2461"},{"id":"ref-for-principal-box\u2460\u2462"}],"title":"3.2.1. The ViewTimeline Interface"},{"refs":[{"id":"ref-for-principal-box\u2460\u2463"}],"title":"3.3.1. Naming a View Progress Timeline: the view-timeline-name property"}],"url":"https://www.w3.org/TR/css-display-4/#principal-box"},
"7a89512e": {"dfnID":"7a89512e","dfnText":"new unit value","external":true,"refSections":[{"refs":[{"id":"ref-for-create-a-cssunitvalue-from-a-pair"},{"id":"ref-for-create-a-cssunitvalue-from-a-pair\u2460"}],"title":"Reporting Timeline Range Progress: the getTime() method"}],"url":"https://www.w3.org/TR/css-typed-om-1/#create-a-cssunitvalue-from-a-pair"},
"7aaa7c88": {"dfnID":"7aaa7c88","dfnText":"<time>","external":true,"refSections":[{"refs":[{"id":"ref-for-time-value"},{"id":"ref-for-time-value\u2460"},{"id":"ref-for-time-value\u2461"}],"title":"Attaching Animations to Timeline Ranges"}],"url":"https://www.w3.org/TR/css-values-4/#time-value"},
"842014fe": {"dfnID":"842014fe","dfnText":"CSS identifier","external":true,"refSections":[{"refs":[{"id":"ref-for-css-css-identifier"}],"title":"Appendix A: Named Timeline Ranges"},{"refs":[{"id":"ref-for-css-css-identifier\u2460"}],"title":"Named Timeline Range Keyframe Selectors"}],"url":"https://www.w3.org/TR/css-values-4/#css-css-identifier"},
"85394472": {"dfnID":"85394472","dfnText":"Document","external":true,"refSections":[{"refs":[{"id":"ref-for-document"}],"title":"2.1.2. The ScrollTimeline Interface"}],"url":"https://dom.spec.whatwg.org/#document"},
"889e932f": {"dfnID":"889e932f","dfnText":"Exposed","external":true,"refSections":[{"refs":[{"id":"ref-for-Exposed"}],"title":"2.1.2. The ScrollTimeline Interface"},{"refs":[{"id":"ref-for-Exposed\u2460"}],"title":"3.2.1. The ViewTimeline Interface"},{"refs":[{"id":"ref-for-Exposed\u2461"}],"title":"Reporting Timeline Range Progress: the getTime() method"}],"url":"https://webidl.spec.whatwg.org/#Exposed"},
"8a110a7b": {"dfnID":"8a110a7b","dfnText":"CSS-wide keywords","external":true,"refSections":[{"refs":[{"id":"ref-for-css-wide-keywords"}],"title":"1.3. Value Definitions"}],"url":"https://www.w3.org/TR/css-values-4/#css-wide-keywords"},
"90c7548c": {"dfnID":"90c7548c","dfnText":"start","external":true,"refSections":[{"refs":[{"id":"ref-for-start"},{"id":"ref-for-start\u2460"},{"id":"ref-for-start\u2461"},{"id":"ref-for-start\u2462"},{"id":"ref-for-start\u2463"},{"id":"ref-for-start\u2464"},{"id":"ref-for-start\u2465"}],"title":"3.1. View Progress Timeline Ranges"},{"refs":[{"id":"ref-for-start\u2466"}],"title":"3.3.3. Inset of a View Progress Timeline: the view-timeline-inset property"}],"url":"https://www.w3.org/TR/css-writing-modes-4/#start"},
"980ac56a": {"dfnID":"980ac56a","dfnText":"shorthand property","external":true,"refSections":[{"refs":[{"id":"ref-for-shorthand-property"}],"title":"2.2.3. Scroll Timeline Shorthand: the scroll-timeline shorthand"},{"refs":[{"id":"ref-for-shorthand-property\u2460"}],"title":"3.3.4. View Timeline Shorthand: the view-timeline shorthand"},{"refs":[{"id":"ref-for-shorthand-property\u2461"}],"title":"Attaching Animations to Timeline Ranges"}],"url":"https://www.w3.org/TR/css-cascade-5/#shorthand-property"},
"9d357000": {"dfnID":"9d357000","dfnText":"CSSOMString","external":true,"refSections":[{"refs":[{"id":"ref-for-cssomstring"}],"title":"Reporting Timeline Range Progress: the getTime() method"}],"url":"https://www.w3.org/TR/cssom-1/#cssomstring"},
"a0144f62": {"dfnID":"a0144f62","dfnText":"<custom-ident>","external":true,"refSections":[{"refs":[{"id":"ref-for-identifier-value"}],"title":"2.2.1. Naming a Scroll Progress Timeline: the scroll-timeline-name property"},{"refs":[{"id":"ref-for-identifier-value\u2460"},{"id":"ref-for-identifier-value\u2461"}],"title":"3.3.1. Naming a View Progress Timeline: the view-timeline-name property"}],"url":"https://www.w3.org/TR/css-values-4/#identifier-value"},
"a0336d84": {"dfnID":"a0336d84","dfnText":"||","external":true,"refSections":[{"refs":[{"id":"ref-for-comb-any"}],"title":"2.1.1. The scroll() notation"},{"refs":[{"id":"ref-for-comb-any\u2460"}],"title":"2.2.3. Scroll Timeline Shorthand: the scroll-timeline shorthand"},{"refs":[{"id":"ref-for-comb-any\u2461"}],"title":"3.3.4. View Timeline Shorthand: the view-timeline shorthand"}],"url":"https://www.w3.org/TR/css-values-4/#comb-any"},
"a3cabdb1": {"dfnID":"a3cabdb1","dfnText":"scroll container","external":true,"refSections":[{"refs":[{"id":"ref-for-scroll-container"},{"id":"ref-for-scroll-container\u2460"}],"title":"2. Scroll Progress Timelines"},{"refs":[{"id":"ref-for-scroll-container\u2461"},{"id":"ref-for-scroll-container\u2462"},{"id":"ref-for-scroll-container\u2463"},{"id":"ref-for-scroll-container\u2464"},{"id":"ref-for-scroll-container\u2465"},{"id":"ref-for-scroll-container\u2466"},{"id":"ref-for-scroll-container\u2467"}],"title":"2.1.1. The scroll() notation"},{"refs":[{"id":"ref-for-scroll-container\u2468"},{"id":"ref-for-scroll-container\u2460\u24ea"},{"id":"ref-for-scroll-container\u2460\u2460"},{"id":"ref-for-scroll-container\u2460\u2461"},{"id":"ref-for-scroll-container\u2460\u2462"}],"title":"2.1.2. The ScrollTimeline Interface"},{"refs":[{"id":"ref-for-scroll-container\u2460\u2463"},{"id":"ref-for-scroll-container\u2460\u2464"}],"title":"2.2.1. Naming a Scroll Progress Timeline: the scroll-timeline-name property"},{"refs":[{"id":"ref-for-scroll-container\u2460\u2465"},{"id":"ref-for-scroll-container\u2460\u2466"}],"title":"2.2.2. Axis of a Scroll Progress Timeline: the scroll-timeline-axis property"},{"refs":[{"id":"ref-for-scroll-container\u2460\u2467"}],"title":"2.2.3. Scroll Timeline Shorthand: the scroll-timeline shorthand"},{"refs":[{"id":"ref-for-scroll-container\u2460\u2468"}],"title":"3.1. View Progress Timeline Ranges"},{"refs":[{"id":"ref-for-scroll-container\u2461\u24ea"},{"id":"ref-for-scroll-container\u2461\u2460"},{"id":"ref-for-scroll-container\u2461\u2461"},{"id":"ref-for-scroll-container\u2461\u2462"}],"title":"3.2.1. The ViewTimeline Interface"},{"refs":[{"id":"ref-for-scroll-container\u2461\u2463"}],"title":"3.3.2. Axis of a View Progress Timeline: the view-timeline-axis property"}],"url":"https://www.w3.org/TR/css-overflow-3/#scroll-container"},
"a6eb24bb": {"dfnID":"a6eb24bb","dfnText":"inline axis","external":true,"refSections":[{"refs":[{"id":"ref-for-inline-axis"}],"title":"2.1.1. The scroll() notation"}],"url":"https://www.w3.org/TR/css-writing-modes-4/#inline-axis"},
"a73d7d2b": {"dfnID":"a73d7d2b","dfnText":"<keyframe-selector>","external":true,"refSections":[{"refs":[{"id":"ref-for-typedef-keyframe-selector"}],"title":"Named Timeline Range Keyframe Selectors"}],"url":"https://www.w3.org/TR/css-animations-1/#typedef-keyframe-selector"},
"a7c3490a": {"dfnID":"a7c3490a","dfnText":"inactive timeline","external":true,"refSections":[{"refs":[{"id":"ref-for-inactive-timeline"}],"title":"2. Scroll Progress Timelines"},{"refs":[{"id":"ref-for-inactive-timeline\u2460"},{"id":"ref-for-inactive-timeline\u2461"}],"title":"2.1.2. The ScrollTimeline Interface"},{"refs":[{"id":"ref-for-inactive-timeline\u2462"},{"id":"ref-for-inactive-timeline\u2463"},{"id":"ref-for-inactive-timeline\u2464"},{"id":"ref-for-inactive-timeline\u2465"}],"title":"3.2.1. The ViewTimeline Interface"},{"refs":[{"id":"ref-for-inactive-timeline\u2466"}],"title":"Reporting Timeline Range Progress: the getTime() method"}],"url":"https://www.w3.org/TR/web-animations-1/#inactive-timeline"},
"animationtimeline": {"dfnID":"animationtimeline","dfnText":"AnimationTimeline","external":false,"refSections":[{"refs":[{"id":"ref-for-animationtimeline"},{"id":"ref-for-animationtimeline\u2460"},{"id":"ref-for-animationtimeline\u2461"}],"title":"2.1.2. The ScrollTimeline Interface"},{"refs":[{"id":"ref-for-animationtimeline\u2462"},{"id":"ref-for-animationtimeline\u2463"}],"title":"3.2.1. The ViewTimeline Interface"},{"refs":[{"id":"ref-for-animationtimeline\u2464"}],"title":"Reporting Timeline Range Progress: the getTime() method"}],"url":"#animationtimeline"},
"b1f927bc": {"dfnID":"b1f927bc","dfnText":"scrollable overflow rectangle","external":true,"refSections":[{"refs":[{"id":"ref-for-scrollable-overflow-rectangle"}],"title":"3. View Progress Timelines"}],"url":"https://www.w3.org/TR/css-overflow-3/#scrollable-overflow-rectangle"},
"b8dade0f": {"dfnID":"b8dade0f","dfnText":"block axis","external":true,"refSections":[{"refs":[{"id":"ref-for-block-axis"},{"id":"ref-for-block-axis\u2460"}],"title":"2.1.1. The scroll() notation"}],"url":"https://www.w3.org/TR/css-writing-modes-4/#block-axis"},
"b9f1859f": {"dfnID":"b9f1859f","dfnText":"CSSNumericValue","external":true,"refSections":[{"refs":[{"id":"ref-for-cssnumericvalue"},{"id":"ref-for-cssnumericvalue\u2460"},{"id":"ref-for-cssnumericvalue\u2461"},{"id":"ref-for-cssnumericvalue\u2462"}],"title":"3.2.1. The ViewTimeline Interface"},{"refs":[{"id":"ref-for-cssnumericvalue\u2463"}],"title":"Reporting Timeline Range Progress: the getTime() method"}],"url":"https://www.w3.org/TR/css-typed-om-1/#cssnumericvalue"},
"bf79f80d": {"dfnID":"bf79f80d","dfnText":"document associated with a window","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-document-window"}],"title":"2.1.2. The ScrollTimeline Interface"}],"url":"https://html.spec.whatwg.org/multipage/window-object.html#concept-document-window"},
"c297b070": {"dfnID":"c297b070","dfnText":"#","external":true,"refSections":[{"refs":[{"id":"ref-for-mult-comma"}],"title":"3.3.1. Naming a View Progress Timeline: the view-timeline-name property"},{"refs":[{"id":"ref-for-mult-comma\u2460"}],"title":"3.3.2. Axis of a View Progress Timeline: the view-timeline-axis property"},{"refs":[{"id":"ref-for-mult-comma\u2461"}],"title":"3.3.3. Inset of a View Progress Timeline: the view-timeline-inset property"},{"refs":[{"id":"ref-for-mult-comma\u2462"}],"title":"3.3.4. View Timeline Shorthand: the view-timeline shorthand"},{"refs":[{"id":"ref-for-mult-comma\u2463"}],"title":"Attaching Animations to Timeline Ranges"}],"url":"https://www.w3.org/TR/css-values-4/#mult-comma"},
"ce3d2bbb": {"dfnID":"ce3d2bbb","dfnText":"current global object","external":true,"refSections":[{"refs":[{"id":"ref-for-current-global-object"}],"title":"2.1.2. The ScrollTimeline Interface"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object"},
"d15658b4": {"dfnID":"d15658b4","dfnText":"horizontal axis","external":true,"refSections":[{"refs":[{"id":"ref-for-x-axis"}],"title":"2.1.1. The scroll() notation"},{"refs":[{"id":"ref-for-x-axis\u2460"}],"title":"3.2.1. The ViewTimeline Interface"}],"url":"https://www.w3.org/TR/css-writing-modes-4/#x-axis"},
"d4441b24": {"dfnID":"d4441b24","dfnText":"?","external":true,"refSections":[{"refs":[{"id":"ref-for-mult-opt"}],"title":"2.1.1. The scroll() notation"},{"refs":[{"id":"ref-for-mult-opt\u2460"}],"title":"Attaching Animations to Timeline Ranges"}],"url":"https://www.w3.org/TR/css-values-4/#mult-opt"},
"de901111": {"dfnID":"de901111","dfnText":"functional notation","external":true,"refSections":[{"refs":[{"id":"ref-for-functional-notation"}],"title":"2. Scroll Progress Timelines"}],"url":"https://www.w3.org/TR/css-values-4/#functional-notation"},
"dea08a34": {"dfnID":"dea08a34","dfnText":"rtl","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-direction-rtl"}],"title":"3.2.1. The ViewTimeline Interface"}],"url":"https://www.w3.org/TR/css-writing-modes-4/#valdef-direction-rtl"},
"dictdef-scrolltimelineoptions": {"dfnID":"dictdef-scrolltimelineoptions","dfnText":"ScrollTimelineOptions","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-scrolltimelineoptions"}],"title":"2.1.2. The ScrollTimeline Interface"}],"url":"#dictdef-scrolltimelineoptions"},
"dictdef-viewtimelineoptions": {"dfnID":"dictdef-viewtimelineoptions","dfnText":"ViewTimelineOptions","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-viewtimelineoptions"}],"title":"3.2.1. The ViewTimeline Interface"}],"url":"#dictdef-viewtimelineoptions"},
"dom-animationtimeline-currenttime": {"dfnID":"dom-animationtimeline-currenttime","dfnText":"currentTime","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-animationtimeline-currenttime"},{"id":"ref-for-dom-animationtimeline-currenttime\u2460"}],"title":"2.1.2. The ScrollTimeline Interface"},{"refs":[{"id":"ref-for-dom-animationtimeline-currenttime\u2461"}],"title":"3.2.1. The ViewTimeline Interface"},{"refs":[{"id":"ref-for-dom-animationtimeline-currenttime\u2462"}],"title":"Reporting Timeline Range Progress: the getTime() method"}],"url":"#dom-animationtimeline-currenttime"},
"dom-animationtimeline-getcurrenttime": {"dfnID":"dom-animationtimeline-getcurrenttime","dfnText":"getCurrentTime(optional rangeName)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-animationtimeline-getcurrenttime"},{"id":"ref-for-dom-animationtimeline-getcurrenttime\u2460"}],"title":"Reporting Timeline Range Progress: the getTime() method"}],"url":"#dom-animationtimeline-getcurrenttime"},
"dom-animationtimeline-getcurrenttime-rangename-rangename": {"dfnID":"dom-animationtimeline-getcurrenttime-rangename-rangename","dfnText":"rangeName","external":false,"refSections":[],"url":"#dom-animationtimeline-getcurrenttime-rangename-rangename"},
"dom-scrollaxis-block": {"dfnID":"dom-scrollaxis-block","dfnText":"\"block\"","external":false,"refSections":[],"url":"#dom-scrollaxis-block"},
"dom-scrollaxis-horizontal": {"dfnID":"dom-scrollaxis-horizontal","dfnText":"\"horizontal\"","external":false,"refSections":[],"url":"#dom-scrollaxis-horizontal"},
"dom-scrollaxis-inline": {"dfnID":"dom-scrollaxis-inline","dfnText":"\"inline\"","external":false,"refSections":[],"url":"#dom-scrollaxis-inline"},
"dom-scrollaxis-vertical": {"dfnID":"dom-scrollaxis-vertical","dfnText":"\"vertical\"","external":false,"refSections":[],"url":"#dom-scrollaxis-vertical"},
"dom-scrolltimeline-axis": {"dfnID":"dom-scrolltimeline-axis","dfnText":"axis","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-scrolltimeline-axis"},{"id":"ref-for-dom-scrolltimeline-axis\u2460"}],"title":"2.1.2. The ScrollTimeline Interface"},{"refs":[{"id":"ref-for-dom-scrolltimeline-axis\u2461"},{"id":"ref-for-dom-scrolltimeline-axis\u2462"}],"title":"3.2.1. The ViewTimeline Interface"}],"url":"#dom-scrolltimeline-axis"},
"dom-scrolltimeline-scrolltimeline": {"dfnID":"dom-scrolltimeline-scrolltimeline","dfnText":"ScrollTimeline(options)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-scrolltimeline-scrolltimeline"}],"title":"2.1.2. The ScrollTimeline Interface"}],"url":"#dom-scrolltimeline-scrolltimeline"},
"dom-scrolltimeline-scrolltimeline-options-options": {"dfnID":"dom-scrolltimeline-scrolltimeline-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-scrolltimeline-scrolltimeline-options-options"},
"dom-scrolltimeline-source": {"dfnID":"dom-scrolltimeline-source","dfnText":"source","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-scrolltimeline-source"},{"id":"ref-for-dom-scrolltimeline-source\u2460"},{"id":"ref-for-dom-scrolltimeline-source\u2461"}],"title":"2.1.2. The ScrollTimeline Interface"},{"refs":[{"id":"ref-for-dom-scrolltimeline-source\u2462"},{"id":"ref-for-dom-scrolltimeline-source\u2463"},{"id":"ref-for-dom-scrolltimeline-source\u2464"}],"title":"3.2.1. The ViewTimeline Interface"}],"url":"#dom-scrolltimeline-source"},
"dom-scrolltimelineoptions-axis": {"dfnID":"dom-scrolltimelineoptions-axis","dfnText":"axis","external":false,"refSections":[],"url":"#dom-scrolltimelineoptions-axis"},
"dom-scrolltimelineoptions-source": {"dfnID":"dom-scrolltimelineoptions-source","dfnText":"source","external":false,"refSections":[],"url":"#dom-scrolltimelineoptions-source"},
"dom-viewtimeline-endoffset": {"dfnID":"dom-viewtimeline-endoffset","dfnText":"endOffset","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-viewtimeline-endoffset"},{"id":"ref-for-dom-viewtimeline-endoffset\u2460"}],"title":"3.2.1. The ViewTimeline Interface"}],"url":"#dom-viewtimeline-endoffset"},
"dom-viewtimeline-startoffset": {"dfnID":"dom-viewtimeline-startoffset","dfnText":"startOffset","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-viewtimeline-startoffset"},{"id":"ref-for-dom-viewtimeline-startoffset\u2460"}],"title":"3.2.1. The ViewTimeline Interface"}],"url":"#dom-viewtimeline-startoffset"},
"dom-viewtimeline-subject": {"dfnID":"dom-viewtimeline-subject","dfnText":"subject","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-viewtimeline-subject"},{"id":"ref-for-dom-viewtimeline-subject\u2460"},{"id":"ref-for-dom-viewtimeline-subject\u2461"},{"id":"ref-for-dom-viewtimeline-subject\u2462"},{"id":"ref-for-dom-viewtimeline-subject\u2463"}],"title":"3.2.1. The ViewTimeline Interface"}],"url":"#dom-viewtimeline-subject"},
"dom-viewtimeline-viewtimeline": {"dfnID":"dom-viewtimeline-viewtimeline","dfnText":"ViewTimeline(options)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-viewtimeline-viewtimeline"}],"title":"3.2.1. The ViewTimeline Interface"}],"url":"#dom-viewtimeline-viewtimeline"},
"dom-viewtimeline-viewtimeline-options-options": {"dfnID":"dom-viewtimeline-viewtimeline-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-viewtimeline-viewtimeline-options-options"},
"dom-viewtimelineoptions-axis": {"dfnID":"dom-viewtimelineoptions-axis","dfnText":"axis","external":false,"refSections":[],"url":"#dom-viewtimelineoptions-axis"},
"dom-viewtimelineoptions-subject": {"dfnID":"dom-viewtimelineoptions-subject","dfnText":"subject","external":false,"refSections":[],"url":"#dom-viewtimelineoptions-subject"},
"e112902f": {"dfnID":"e112902f","dfnText":"end","external":true,"refSections":[{"refs":[{"id":"ref-for-end"},{"id":"ref-for-end\u2460"},{"id":"ref-for-end\u2461"},{"id":"ref-for-end\u2462"},{"id":"ref-for-end\u2463"},{"id":"ref-for-end\u2464"},{"id":"ref-for-end\u2465"}],"title":"3.1. View Progress Timeline Ranges"},{"refs":[{"id":"ref-for-end\u2466"}],"title":"3.3.3. Inset of a View Progress Timeline: the view-timeline-inset property"}],"url":"https://www.w3.org/TR/css-writing-modes-4/#end"},
"e14541aa": {"dfnID":"e14541aa","dfnText":"shorthand","external":true,"refSections":[{"refs":[{"id":"ref-for-shorthand-property"}],"title":"2.2.3. Scroll Timeline Shorthand: the scroll-timeline shorthand"},{"refs":[{"id":"ref-for-shorthand-property\u2460"}],"title":"3.3.4. View Timeline Shorthand: the view-timeline shorthand"},{"refs":[{"id":"ref-for-shorthand-property\u2461"}],"title":"Attaching Animations to Timeline Ranges"}],"url":"https://www.w3.org/TR/css-cascade-5/#shorthand-property"},
"e3488cd0": {"dfnID":"e3488cd0","dfnText":"scrollable overflow","external":true,"refSections":[{"refs":[{"id":"ref-for-scrollable-overflow"}],"title":"2.1.2. The ScrollTimeline Interface"},{"refs":[{"id":"ref-for-scrollable-overflow\u2460"}],"title":"3.2.1. The ViewTimeline Interface"}],"url":"https://www.w3.org/TR/css-overflow-3/#scrollable-overflow"},
"e57197d8": {"dfnID":"e57197d8","dfnText":"requestAnimationFrame(callback)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-animationframeprovider-requestanimationframe"}],"title":"5. Avoiding cycles with layout"}],"url":"https://html.spec.whatwg.org/multipage/imagebitmap-and-animations.html#dom-animationframeprovider-requestanimationframe"},
"eb6008ce": {"dfnID":"eb6008ce","dfnText":"writing mode","external":true,"refSections":[{"refs":[{"id":"ref-for-writing-mode"}],"title":"2.1.2. The ScrollTimeline Interface"},{"refs":[{"id":"ref-for-writing-mode\u2460"},{"id":"ref-for-writing-mode\u2461"}],"title":"3.1. View Progress Timeline Ranges"},{"refs":[{"id":"ref-for-writing-mode\u2462"}],"title":"3.2.1. The ViewTimeline Interface"}],"url":"https://www.w3.org/TR/css-writing-modes-4/#writing-mode"},
"ec00b552": {"dfnID":"ec00b552","dfnText":"flattened element tree","external":true,"refSections":[{"refs":[{"id":"ref-for-flat-tree"}],"title":"4. Named Timeline Scoping"}],"url":"https://andreubotella.com/csswg-auto-build/test/css-scoping-1/#flat-tree"},
"enumdef-scrollaxis": {"dfnID":"enumdef-scrollaxis","dfnText":"ScrollAxis","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-scrollaxis"},{"id":"ref-for-enumdef-scrollaxis\u2460"},{"id":"ref-for-enumdef-scrollaxis\u2461"}],"title":"2.1.2. The ScrollTimeline Interface"},{"refs":[{"id":"ref-for-enumdef-scrollaxis\u2462"}],"title":"3.2.1. The ViewTimeline Interface"}],"url":"#enumdef-scrollaxis"},
"f5426905": {"dfnID":"f5426905","dfnText":"animation-timeline","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-animation-timeline"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-propdef-animation-timeline\u2460"}],"title":"2. Scroll Progress Timelines"},{"refs":[{"id":"ref-for-propdef-animation-timeline\u2461"}],"title":"2.1.1. The scroll() notation"},{"refs":[{"id":"ref-for-propdef-animation-timeline\u2462"}],"title":"3. View Progress Timelines"},{"refs":[{"id":"ref-for-propdef-animation-timeline\u2463"}],"title":"4. Named Timeline Scoping"}],"url":"https://www.w3.org/TR/css-animations-2/#propdef-animation-timeline"},
"funcdef-scroll": {"dfnID":"funcdef-scroll","dfnText":"scroll()","external":false,"refSections":[{"refs":[{"id":"ref-for-funcdef-scroll"}],"title":"2. Scroll Progress Timelines"},{"refs":[{"id":"ref-for-funcdef-scroll\u2460"},{"id":"ref-for-funcdef-scroll\u2461"},{"id":"ref-for-funcdef-scroll\u2462"}],"title":"2.1.1. The scroll() notation"},{"refs":[{"id":"ref-for-funcdef-scroll\u2463"}],"title":"2.2.2. Axis of a Scroll Progress Timeline: the scroll-timeline-axis property"}],"url":"#funcdef-scroll"},
"layout-cycles": {"dfnID":"layout-cycles","dfnText":"layout cycles","external":false,"refSections":[{"refs":[{"id":"ref-for-layout-cycles"}],"title":"5. Avoiding cycles with layout"}],"url":"#layout-cycles"},
"named-timeline-range": {"dfnID":"named-timeline-range","dfnText":"named timeline range","external":false,"refSections":[{"refs":[{"id":"ref-for-named-timeline-range"}],"title":"3.1. View Progress Timeline Ranges"},{"refs":[{"id":"ref-for-named-timeline-range\u2460"},{"id":"ref-for-named-timeline-range\u2461"},{"id":"ref-for-named-timeline-range\u2462"},{"id":"ref-for-named-timeline-range\u2463"},{"id":"ref-for-named-timeline-range\u2464"},{"id":"ref-for-named-timeline-range\u2465"}],"title":"Appendix A: Named Timeline Ranges"},{"refs":[{"id":"ref-for-named-timeline-range\u2466"},{"id":"ref-for-named-timeline-range\u2467"},{"id":"ref-for-named-timeline-range\u2468"},{"id":"ref-for-named-timeline-range\u2460\u24ea"},{"id":"ref-for-named-timeline-range\u2460\u2460"},{"id":"ref-for-named-timeline-range\u2460\u2461"}],"title":"Named Timeline Range Keyframe Selectors"},{"refs":[{"id":"ref-for-named-timeline-range\u2460\u2462"},{"id":"ref-for-named-timeline-range\u2460\u2463"},{"id":"ref-for-named-timeline-range\u2460\u2464"}],"title":"Attaching Animations to Timeline Ranges"},{"refs":[{"id":"ref-for-named-timeline-range\u2460\u2465"}],"title":"Reporting Timeline Range Progress: the getTime() method"}],"url":"#named-timeline-range"},
"propdef-animation-delay": {"dfnID":"propdef-animation-delay","dfnText":"animation-delay","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-animation-delay"}],"title":"Attaching Animations to Timeline Ranges"}],"url":"#propdef-animation-delay"},
"propdef-animation-delay-end": {"dfnID":"propdef-animation-delay-end","dfnText":"animation-delay-end","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-animation-delay-end"},{"id":"ref-for-propdef-animation-delay-end\u2460"},{"id":"ref-for-propdef-animation-delay-end\u2461"},{"id":"ref-for-propdef-animation-delay-end\u2462"}],"title":"Attaching Animations to Timeline Ranges"}],"url":"#propdef-animation-delay-end"},
"propdef-animation-delay-start": {"dfnID":"propdef-animation-delay-start","dfnText":"animation-delay-start","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-animation-delay-start"},{"id":"ref-for-propdef-animation-delay-start\u2460"},{"id":"ref-for-propdef-animation-delay-start\u2461"},{"id":"ref-for-propdef-animation-delay-start\u2462"}],"title":"Attaching Animations to Timeline Ranges"}],"url":"#propdef-animation-delay-start"},
"propdef-animation-range": {"dfnID":"propdef-animation-range","dfnText":"animation-range","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-animation-range"}],"title":"Attaching Animations to Timeline Ranges"}],"url":"#propdef-animation-range"},
"propdef-scroll-timeline": {"dfnID":"propdef-scroll-timeline","dfnText":"scroll-timeline","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-scroll-timeline"}],"title":"2. Scroll Progress Timelines"},{"refs":[{"id":"ref-for-propdef-scroll-timeline\u2460"}],"title":"2.2.3. Scroll Timeline Shorthand: the scroll-timeline shorthand"}],"url":"#propdef-scroll-timeline"},
"propdef-scroll-timeline-axis": {"dfnID":"propdef-scroll-timeline-axis","dfnText":"scroll-timeline-axis","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-scroll-timeline-axis"}],"title":"2.2.1. Naming a Scroll Progress Timeline: the scroll-timeline-name property"},{"refs":[{"id":"ref-for-propdef-scroll-timeline-axis\u2460"}],"title":"2.2.2. Axis of a Scroll Progress Timeline: the scroll-timeline-axis property"},{"refs":[{"id":"ref-for-propdef-scroll-timeline-axis\u2461"},{"id":"ref-for-propdef-scroll-timeline-axis\u2462"}],"title":"2.2.3. Scroll Timeline Shorthand: the scroll-timeline shorthand"}],"url":"#propdef-scroll-timeline-axis"},
"propdef-scroll-timeline-name": {"dfnID":"propdef-scroll-timeline-name","dfnText":"scroll-timeline-name","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-scroll-timeline-name"}],"title":"2.2.1. Naming a Scroll Progress Timeline: the scroll-timeline-name property"},{"refs":[{"id":"ref-for-propdef-scroll-timeline-name\u2460"}],"title":"2.2.2. Axis of a Scroll Progress Timeline: the scroll-timeline-axis property"},{"refs":[{"id":"ref-for-propdef-scroll-timeline-name\u2461"},{"id":"ref-for-propdef-scroll-timeline-name\u2462"}],"title":"2.2.3. Scroll Timeline Shorthand: the scroll-timeline shorthand"}],"url":"#propdef-scroll-timeline-name"},
"propdef-view-timeline": {"dfnID":"propdef-view-timeline","dfnText":"view-timeline","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-view-timeline"}],"title":"3. View Progress Timelines"},{"refs":[{"id":"ref-for-propdef-view-timeline\u2460"}],"title":"3.3.4. View Timeline Shorthand: the view-timeline shorthand"}],"url":"#propdef-view-timeline"},
"propdef-view-timeline-axis": {"dfnID":"propdef-view-timeline-axis","dfnText":"view-timeline-axis","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-view-timeline-axis"},{"id":"ref-for-propdef-view-timeline-axis\u2460"},{"id":"ref-for-propdef-view-timeline-axis\u2461"},{"id":"ref-for-propdef-view-timeline-axis\u2462"},{"id":"ref-for-propdef-view-timeline-axis\u2463"}],"title":"3.3.2. Axis of a View Progress Timeline: the view-timeline-axis property"},{"refs":[{"id":"ref-for-propdef-view-timeline-axis\u2464"},{"id":"ref-for-propdef-view-timeline-axis\u2465"}],"title":"3.3.4. View Timeline Shorthand: the view-timeline shorthand"}],"url":"#propdef-view-timeline-axis"},
"propdef-view-timeline-inset": {"dfnID":"propdef-view-timeline-inset","dfnText":"view-timeline-inset","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-view-timeline-inset"},{"id":"ref-for-propdef-view-timeline-inset\u2460"},{"id":"ref-for-propdef-view-timeline-inset\u2461"},{"id":"ref-for-propdef-view-timeline-inset\u2462"},{"id":"ref-for-propdef-view-timeline-inset\u2463"}],"title":"3.3.3. Inset of a View Progress Timeline: the view-timeline-inset property"},{"refs":[{"id":"ref-for-propdef-view-timeline-inset\u2464"},{"id":"ref-for-propdef-view-timeline-inset\u2465"}],"title":"3.3.4. View Timeline Shorthand: the view-timeline shorthand"}],"url":"#propdef-view-timeline-inset"},
"propdef-view-timeline-name": {"dfnID":"propdef-view-timeline-name","dfnText":"view-timeline-name","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-view-timeline-name"}],"title":"3.3.1. Naming a View Progress Timeline: the view-timeline-name property"},{"refs":[{"id":"ref-for-propdef-view-timeline-name\u2460"},{"id":"ref-for-propdef-view-timeline-name\u2461"}],"title":"3.3.2. Axis of a View Progress Timeline: the view-timeline-axis property"},{"refs":[{"id":"ref-for-propdef-view-timeline-name\u2462"},{"id":"ref-for-propdef-view-timeline-name\u2463"}],"title":"3.3.3. Inset of a View Progress Timeline: the view-timeline-inset property"},{"refs":[{"id":"ref-for-propdef-view-timeline-name\u2464"},{"id":"ref-for-propdef-view-timeline-name\u2465"}],"title":"3.3.4. View Timeline Shorthand: the view-timeline shorthand"}],"url":"#propdef-view-timeline-name"},
"scroll-driven-animations": {"dfnID":"scroll-driven-animations","dfnText":"scroll-driven animations","external":false,"refSections":[],"url":"#scroll-driven-animations"},
"scroll-progress-timelines": {"dfnID":"scroll-progress-timelines","dfnText":"Scroll progress timelines","external":false,"refSections":[{"refs":[{"id":"ref-for-scroll-progress-timelines"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-scroll-progress-timelines\u2460"}],"title":"1.1. Relationship to other specifications"},{"refs":[{"id":"ref-for-scroll-progress-timelines\u2461"}],"title":"2. Scroll Progress Timelines"},{"refs":[{"id":"ref-for-scroll-progress-timelines\u2462"}],"title":"2.1.1. The scroll() notation"},{"refs":[{"id":"ref-for-scroll-progress-timelines\u2463"},{"id":"ref-for-scroll-progress-timelines\u2464"}],"title":"2.1.2. The ScrollTimeline Interface"},{"refs":[{"id":"ref-for-scroll-progress-timelines\u2465"}],"title":"2.2.1. Naming a Scroll Progress Timeline: the scroll-timeline-name property"},{"refs":[{"id":"ref-for-scroll-progress-timelines\u2466"}],"title":"2.2.2. Axis of a Scroll Progress Timeline: the scroll-timeline-axis property"},{"refs":[{"id":"ref-for-scroll-progress-timelines\u2467"},{"id":"ref-for-scroll-progress-timelines\u2468"}],"title":"3. View Progress Timelines"},{"refs":[{"id":"ref-for-scroll-progress-timelines\u2460\u24ea"},{"id":"ref-for-scroll-progress-timelines\u2460\u2460"}],"title":"4. Named Timeline Scoping"},{"refs":[{"id":"ref-for-scroll-progress-timelines\u2460\u2461"}],"title":"5. Avoiding cycles with layout"}],"url":"#scroll-progress-timelines"},
"scrolltimeline": {"dfnID":"scrolltimeline","dfnText":"ScrollTimeline","external":false,"refSections":[{"refs":[{"id":"ref-for-scrolltimeline"}],"title":"2. Scroll Progress Timelines"},{"refs":[{"id":"ref-for-scrolltimeline\u2460"},{"id":"ref-for-scrolltimeline\u2461"},{"id":"ref-for-scrolltimeline\u2462"},{"id":"ref-for-scrolltimeline\u2463"},{"id":"ref-for-scrolltimeline\u2464"},{"id":"ref-for-scrolltimeline\u2465"},{"id":"ref-for-scrolltimeline\u2466"}],"title":"2.1.2. The ScrollTimeline Interface"},{"refs":[{"id":"ref-for-scrolltimeline\u2467"},{"id":"ref-for-scrolltimeline\u2468"},{"id":"ref-for-scrolltimeline\u2460\u24ea"}],"title":"3.2.1. The ViewTimeline Interface"}],"url":"#scrolltimeline"},
"typedef-axis": {"dfnID":"typedef-axis","dfnText":"<axis>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-axis"},{"id":"ref-for-typedef-axis\u2460"}],"title":"2.1.1. The scroll() notation"},{"refs":[{"id":"ref-for-typedef-axis\u2461"}],"title":"2.1.2. The ScrollTimeline Interface"},{"refs":[{"id":"ref-for-typedef-axis\u2462"}],"title":"3.2.1. The ViewTimeline Interface"}],"url":"#typedef-axis"},
"typedef-scroller": {"dfnID":"typedef-scroller","dfnText":"<scroller>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-scroller"},{"id":"ref-for-typedef-scroller\u2460"}],"title":"2.1.1. The scroll() notation"}],"url":"#typedef-scroller"},
"typedef-timeline-range-name": {"dfnID":"typedef-timeline-range-name","dfnText":"<timeline-range-name>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-timeline-range-name"}],"title":"Appendix A: Named Timeline Ranges"},{"refs":[{"id":"ref-for-typedef-timeline-range-name\u2460"}],"title":"Named Timeline Range Keyframe Selectors"},{"refs":[{"id":"ref-for-typedef-timeline-range-name\u2461"},{"id":"ref-for-typedef-timeline-range-name\u2462"},{"id":"ref-for-typedef-timeline-range-name\u2463"},{"id":"ref-for-typedef-timeline-range-name\u2464"},{"id":"ref-for-typedef-timeline-range-name\u2465"}],"title":"Attaching Animations to Timeline Ranges"}],"url":"#typedef-timeline-range-name"},
"valdef-animation-delay-start-time": {"dfnID":"valdef-animation-delay-start-time","dfnText":"<time>","external":false,"refSections":[],"url":"#valdef-animation-delay-start-time"},
"valdef-animation-delay-start-timeline-range-name-percentage": {"dfnID":"valdef-animation-delay-start-timeline-range-name-percentage","dfnText":"<timeline-range-name> <percentage>","external":false,"refSections":[],"url":"#valdef-animation-delay-start-timeline-range-name-percentage"},
"valdef-animation-timeline-range-contain": {"dfnID":"valdef-animation-timeline-range-contain","dfnText":"contain","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-animation-timeline-range-contain"},{"id":"ref-for-valdef-animation-timeline-range-contain\u2460"}],"title":"3.1. View Progress Timeline Ranges"}],"url":"#valdef-animation-timeline-range-contain"},
"valdef-animation-timeline-range-cover": {"dfnID":"valdef-animation-timeline-range-cover","dfnText":"cover","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-animation-timeline-range-cover"},{"id":"ref-for-valdef-animation-timeline-range-cover\u2460"}],"title":"3.1. View Progress Timeline Ranges"}],"url":"#valdef-animation-timeline-range-cover"},
"valdef-animation-timeline-range-entry": {"dfnID":"valdef-animation-timeline-range-entry","dfnText":"entry","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-animation-timeline-range-entry"}],"title":"3.1. View Progress Timeline Ranges"}],"url":"#valdef-animation-timeline-range-entry"},
"valdef-animation-timeline-range-exit": {"dfnID":"valdef-animation-timeline-range-exit","dfnText":"exit","external":false,"refSections":[],"url":"#valdef-animation-timeline-range-exit"},
"valdef-scroll-block": {"dfnID":"valdef-scroll-block","dfnText":"block","external":false,"refSections":[],"url":"#valdef-scroll-block"},
"valdef-scroll-horizontal": {"dfnID":"valdef-scroll-horizontal","dfnText":"horizontal","external":false,"refSections":[],"url":"#valdef-scroll-horizontal"},
"valdef-scroll-inline": {"dfnID":"valdef-scroll-inline","dfnText":"inline","external":false,"refSections":[],"url":"#valdef-scroll-inline"},
"valdef-scroll-nearest": {"dfnID":"valdef-scroll-nearest","dfnText":"nearest","external":false,"refSections":[],"url":"#valdef-scroll-nearest"},
"valdef-scroll-root": {"dfnID":"valdef-scroll-root","dfnText":"root","external":false,"refSections":[],"url":"#valdef-scroll-root"},
"valdef-scroll-vertical": {"dfnID":"valdef-scroll-vertical","dfnText":"vertical","external":false,"refSections":[],"url":"#valdef-scroll-vertical"},
"valdef-view-timeline-inset-auto": {"dfnID":"valdef-view-timeline-inset-auto","dfnText":"auto","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-view-timeline-inset-auto"}],"title":"3.3.3. Inset of a View Progress Timeline: the view-timeline-inset property"}],"url":"#valdef-view-timeline-inset-auto"},
"valdef-view-timeline-inset-length-percentage": {"dfnID":"valdef-view-timeline-inset-length-percentage","dfnText":"<length-percentage>","external":false,"refSections":[],"url":"#valdef-view-timeline-inset-length-percentage"},
"view-progress-subject": {"dfnID":"view-progress-subject","dfnText":"view progress subject","external":false,"refSections":[],"url":"#view-progress-subject"},
"view-progress-timelines": {"dfnID":"view-progress-timelines","dfnText":"View progress timelines","external":false,"refSections":[{"refs":[{"id":"ref-for-view-progress-timelines"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-view-progress-timelines\u2460"}],"title":"3. View Progress Timelines"},{"refs":[{"id":"ref-for-view-progress-timelines\u2461"},{"id":"ref-for-view-progress-timelines\u2462"}],"title":"3.1. View Progress Timeline Ranges"},{"refs":[{"id":"ref-for-view-progress-timelines\u2463"},{"id":"ref-for-view-progress-timelines\u2464"},{"id":"ref-for-view-progress-timelines\u2465"},{"id":"ref-for-view-progress-timelines\u2466"},{"id":"ref-for-view-progress-timelines\u2467"}],"title":"3.2.1. The ViewTimeline Interface"},{"refs":[{"id":"ref-for-view-progress-timelines\u2468"},{"id":"ref-for-view-progress-timelines\u2460\u24ea"}],"title":"3.3.1. Naming a View Progress Timeline: the view-timeline-name property"},{"refs":[{"id":"ref-for-view-progress-timelines\u2460\u2460"}],"title":"3.3.2. Axis of a View Progress Timeline: the view-timeline-axis property"},{"refs":[{"id":"ref-for-view-progress-timelines\u2460\u2461"}],"title":"3.3.3. Inset of a View Progress Timeline: the view-timeline-inset property"},{"refs":[{"id":"ref-for-view-progress-timelines\u2460\u2462"},{"id":"ref-for-view-progress-timelines\u2460\u2463"}],"title":"4. Named Timeline Scoping"},{"refs":[{"id":"ref-for-view-progress-timelines\u2460\u2464"}],"title":"Appendix A: Named Timeline Ranges"}],"url":"#view-progress-timelines"},
"view-progress-visibility-range": {"dfnID":"view-progress-visibility-range","dfnText":"view progress visibility range","external":false,"refSections":[{"refs":[{"id":"ref-for-view-progress-visibility-range"}],"title":"3. View Progress Timelines"},{"refs":[{"id":"ref-for-view-progress-visibility-range\u2460"},{"id":"ref-for-view-progress-visibility-range\u2461"},{"id":"ref-for-view-progress-visibility-range\u2462"},{"id":"ref-for-view-progress-visibility-range\u2463"},{"id":"ref-for-view-progress-visibility-range\u2464"},{"id":"ref-for-view-progress-visibility-range\u2465"},{"id":"ref-for-view-progress-visibility-range\u2466"},{"id":"ref-for-view-progress-visibility-range\u2467"},{"id":"ref-for-view-progress-visibility-range\u2468"}],"title":"3.1. View Progress Timeline Ranges"}],"url":"#view-progress-visibility-range"},
"viewtimeline": {"dfnID":"viewtimeline","dfnText":"ViewTimeline","external":false,"refSections":[{"refs":[{"id":"ref-for-viewtimeline"}],"title":"3. View Progress Timelines"},{"refs":[{"id":"ref-for-viewtimeline\u2460"},{"id":"ref-for-viewtimeline\u2461"},{"id":"ref-for-viewtimeline\u2462"},{"id":"ref-for-viewtimeline\u2463"},{"id":"ref-for-viewtimeline\u2464"},{"id":"ref-for-viewtimeline\u2465"}],"title":"3.2.1. The ViewTimeline Interface"}],"url":"#viewtimeline"},
};

document.addEventListener("DOMContentLoaded", ()=>{
    genAllDfnPanels();

    document.body.addEventListener("click", (e) => {
        // If not handled already, just hide all dfn panels.
        hideAllDfnPanels();
    });
});

window.addEventListener("resize", () => {
    // Pin any visible dfn panel
    queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>positionDfnPanel(el));
});

function genAllDfnPanels() {
    for(const panelData of Object.values(dfnPanelData)) {
        const dfnID = panelData.dfnID;
        const dfn = document.getElementById(dfnID);
        if(!dfn) {
            console.log(`Can't find dfn#${dfnID}.`, panelData);
            continue;
        }
        dfn.panelData = panelData;
        insertDfnPopupAction(dfn);
    }
}

function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
    const dfnPanel = mk.aside({
        class: "dfn-panel on",
        id: `infopanel-for-${dfnID}`,
        "data-for": dfnID,
        "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
        },
        mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
            `Info about the '${dfnText}' ${external?"external":""} reference.`),
        mk.a({href:url, class:"dfn-link"}, url),
        refSections.length == 0 ? [] :
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({ href: `#${ref.id}` },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        genLinkingSyntaxes(dfn),
    );

    dfnPanel.addEventListener('click', (event) => {
        if (event.target.nodeName == 'A') {
            scrollToTargetAndHighlight(event);
            pinDfnPanel(dfnPanel);
        }
        event.stopPropagation();
        refocusOnTarget(event);
    });
    dfnPanel.addEventListener('keydown', (event) => {
        if(event.keyCode == 27) { // Escape key
            hideDfnPanel({dfnPanel});
            event.stopPropagation();
            event.preventDefault();
        }
    });

    dfnPanel.dfn = dfn;
    dfn.dfnPanel = dfnPanel;
    return dfnPanel;
}



function hideAllDfnPanels() {
    // Delete the currently-active dfn panel.
    queryAll(".dfn-panel").forEach(dfnPanel=>hideDfnPanel({dfnPanel}));
}

function showDfnPanel(dfn) {
    hideAllDfnPanels(); // Only display one at a time.

    dfn.setAttribute("aria-expanded", "true");

    const dfnPanel = genDfnPanel(dfn, dfn.panelData);

    // Give the dfn a unique tabindex, and then
    // give all the tabbable panel bits successive indexes.
    let tabIndex = 100;
    dfn.tabIndex = tabIndex++;
    const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
    for (const el of tabbable) {
        el.tabIndex = tabIndex++;
    }

    append(document.body, dfnPanel);
    positionDfnPanel(dfnPanel);
}

function positionDfnPanel(dfnPanel) {
    const dfn = dfnPanel.dfn;
    const dfnPos = getBounds(dfn);
    dfnPanel.style.top = dfnPos.bottom + "px";
    dfnPanel.style.left = dfnPos.left + "px";

    const panelPos = dfnPanel.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
        dfnPanel.style.left = newLeft + "px";
    }
}

function pinDfnPanel(dfnPanel) {
    // Switch it to "activated" state, which pins it.
    dfnPanel.classList.add("activated");
    dfnPanel.style.position = "fixed";
    dfnPanel.style.left = null;
    dfnPanel.style.top = null;
}

function hideDfnPanel({dfn, dfnPanel}) {
    if(!dfnPanel) dfnPanel = dfn.dfnPanel;
    if(!dfn) dfn = dfnPanel.dfn;
    dfn.dfnPanel = undefined;
    dfnPanel.dfn = undefined;
    dfn.setAttribute("aria-expanded", "false");
    dfn.tabIndex = undefined;
    dfnPanel.remove()
}

function toggleDfnPanel(dfn) {
    if(dfn.dfnPanel) {
        hideDfnPanel(dfn);
    } else {
        showDfnPanel(dfn);
    }
}

function insertDfnPopupAction(dfn) {
    dfn.setAttribute('role', 'button');
    dfn.setAttribute('aria-expanded', 'false')
    dfn.tabIndex = 0;
    dfn.classList.add('has-dfn-panel');
    dfn.addEventListener('click', (event) => {
        toggleDfnPanel(dfn);
        event.stopPropagation();
    });
    dfn.addEventListener('keypress', (event) => {
        const kc = event.keyCode;
        // 32->Space, 13->Enter
        if(kc == 32 || kc == 13) {
            toggleDfnPanel(dfn);
            event.stopPropagation();
            event.preventDefault();
        }
    });
}

function refocusOnTarget(event) {
    const target = event.target;
    setTimeout(() => {
        // Refocus on the event.target element.
        // This is needed after browser scrolls to the destination.
        target.focus();
    });
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function scrollToTargetAndHighlight(event) {
    let hash = event.target.hash;
    if (hash) {
        hash = decodeURIComponent(hash.substring(1));
        const dest = document.getElementById(hash);
        if (dest) {
            dest.classList.add('highlighted');
            setTimeout(() => dest.classList.remove('highlighted'), 1000);
        }
    }
}

// Functions, divided by link type, that wrap an autolink's
// contents with the appropriate outer syntax.
// Alternately, a string naming another type they format
// the same as.
function needsFor(type) {
    switch(type) {
        case "descriptor":
        case "value":
        case "element-attr":
        case "attr-value":
        case "element-state":
        case "method":
        case "constructor":
        case "argument":
        case "attribute":
        case "const":
        case "dict-member":
        case "event":
        case "enum-value":
        case "stringifier":
        case "serializer":
        case "iterator":
        case "maplike":
        case "setlike":
        case "state":
        case "mode":
        case "context":
        case "facet": return true;

        default: return false;
    }
}
function refusesFor(type) {
    switch(type) {
        case "property":
        case "element":
        case "interface":
        case "namespace":
        case "callback":
        case "dictionary":
        case "enum":
        case "exception":
        case "typedef":
        case "http-header":
        case "permission": return true;

        default: return false;
    }
}
function linkFormatterFromType(type) {
    switch(type) {
        case 'scheme':
        case 'permission':
        case 'dfn': return (text) => `[=${text}=]`;

        case 'abstract-op': return (text) => `[\$${text}\$]`;

        case 'function':
        case 'at-rule':
        case 'selector':
        case 'value': return (text) => `''${text}''`;

        case 'http-header': return (text) => `[:${text}:]`;

        case 'interface':
        case 'constructor':
        case 'method':
        case 'argument':
        case 'attribute':
        case 'callback':
        case 'dictionary':
        case 'dict-member':
        case 'enum':
        case 'enum-value':
        case 'exception':
        case 'const':
        case 'typedef':
        case 'stringifier':
        case 'serializer':
        case 'iterator':
        case 'maplike':
        case 'setlike':
        case 'extended-attribute':
        case 'event':
        case 'idl': return (text) => `{{${text}}}`;

        case 'element-state':
        case 'element-attr':
        case 'attr-value':
        case 'element': return (element) => `<{${element}}>`;

        case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

        case 'type': return (text)=> `<<${text}>>`;

        case 'descriptor':
        case 'property': return (text) => `'${text}'`;

        default: return;
    };
};

function genLinkingSyntaxes(dfn) {
    if(dfn.tagName != "DFN") return;

    const type = dfn.getAttribute('data-dfn-type');
    if(!type) {
        console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
        return [];
    }

    // Return a function that wraps link text based on the type
    const linkFormatter = linkFormatterFromType(type);
    if(!linkFormatter) {
        console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
        return [];
    }

    let ltAlts;
    if(dfn.hasAttribute('data-lt')) {
        ltAlts = dfn.getAttribute('data-lt')
            .split("|")
            .map(x=>x.trim());
    } else {
        ltAlts = [dfn.textContent.trim()];
    }
    if(type == "type") {
        // lt of "<foo>", but "foo" is the interior;
        // <<foo/bar>> is how you write it with a for,
        // not <foo/<bar>> or whatever.
        for(var i = 0; i < ltAlts.length; i++) {
            const lt = ltAlts[i];
            const match = /<(.*)>/.exec(lt);
            if(match) { ltAlts[i] = match[1]; }
        }
    }

    let forAlts;
    if(dfn.hasAttribute('data-dfn-for')) {
        forAlts = dfn.getAttribute('data-dfn-for')
            .split(",")
            .map(x=>x.trim());
    } else {
        forAlts = [''];
    }

    let linkingSyntaxes = [];
    if(!needsFor(type)) {
        for(const lt of ltAlts) {
            linkingSyntaxes.push(linkFormatter(lt));
        }
    }
    if(!refusesFor(type)) {
        for(const f of forAlts) {
            linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
        }
    }
    return [
        mk.b({}, 'Possible linking syntaxes:'),
        mk.ul({},
            ...linkingSyntaxes.map(link => {
                const copyLink = async () =>
                    await navigator.clipboard.writeText(link);
                return mk.li({},
                    mk.div({ class: 'link-item' },
                        mk.button({
                            class: 'copy-icon', title: 'Copy',
                            type: 'button',
                            _onclick: copyLink,
                            tabindex: 0,
                        }, mk.span({ class: 'icon' }) ),
                        mk.span({}, link)
                    )
                );
            })
        )
    ];
}
}
</script>
<script>/* Boilerplate: script-link-titles */
"use strict";
{
let linkTitleData = {
"https://www.w3.org/TR/css-values-4/#time-value": "Expands to: ms | s",
};

function setTypeTitles() {
	for(let el of document.querySelectorAll("a[href]")) {
		if(el.href in linkTitleData && !el.hasAttribute("title")) {
			el.setAttribute("title", linkTitleData[el.href]);
		}
	}
}

document.addEventListener("DOMContentLoaded", setTypeTitles);
}
</script>
<script>/* Boilerplate: script-ref-hints */
"use strict";
{
let refsData = {
"#animationtimeline": {"displayText":"AnimationTimeline","export":true,"for_":[],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"AnimationTimeline","type":"interface","url":"#animationtimeline"},
"#dictdef-scrolltimelineoptions": {"displayText":"ScrollTimelineOptions","export":true,"for_":[],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"ScrollTimelineOptions","type":"dictionary","url":"#dictdef-scrolltimelineoptions"},
"#dictdef-viewtimelineoptions": {"displayText":"ViewTimelineOptions","export":true,"for_":[],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"ViewTimelineOptions","type":"dictionary","url":"#dictdef-viewtimelineoptions"},
"#dom-animationtimeline-currenttime": {"displayText":"currentTime","export":true,"for_":["AnimationTimeline"],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"currentTime","type":"attribute","url":"#dom-animationtimeline-currenttime"},
"#dom-animationtimeline-getcurrenttime": {"displayText":"getCurrentTime()","export":true,"for_":["AnimationTimeline"],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"getCurrentTime()","type":"method","url":"#dom-animationtimeline-getcurrenttime"},
"#dom-scrolltimeline-axis": {"displayText":"axis","export":true,"for_":["ScrollTimeline"],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"axis","type":"attribute","url":"#dom-scrolltimeline-axis"},
"#dom-scrolltimeline-scrolltimeline": {"displayText":"ScrollTimeline(options)","export":true,"for_":["ScrollTimeline"],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"ScrollTimeline(options)","type":"constructor","url":"#dom-scrolltimeline-scrolltimeline"},
"#dom-scrolltimeline-source": {"displayText":"source","export":true,"for_":["ScrollTimeline"],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"source","type":"attribute","url":"#dom-scrolltimeline-source"},
"#dom-viewtimeline-endoffset": {"displayText":"endOffset","export":true,"for_":["ViewTimeline"],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"endOffset","type":"attribute","url":"#dom-viewtimeline-endoffset"},
"#dom-viewtimeline-startoffset": {"displayText":"startOffset","export":true,"for_":["ViewTimeline"],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"startOffset","type":"attribute","url":"#dom-viewtimeline-startoffset"},
"#dom-viewtimeline-subject": {"displayText":"subject","export":true,"for_":["ViewTimeline"],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"subject","type":"attribute","url":"#dom-viewtimeline-subject"},
"#dom-viewtimeline-viewtimeline": {"displayText":"ViewTimeline(options)","export":true,"for_":["ViewTimeline"],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"ViewTimeline(options)","type":"constructor","url":"#dom-viewtimeline-viewtimeline"},
"#enumdef-scrollaxis": {"displayText":"ScrollAxis","export":true,"for_":[],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"ScrollAxis","type":"enum","url":"#enumdef-scrollaxis"},
"#funcdef-scroll": {"displayText":"scroll()","export":true,"for_":[],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"scroll()","type":"function","url":"#funcdef-scroll"},
"#layout-cycles": {"displayText":"layout cycles","export":true,"for_":[],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"layout cycles","type":"dfn","url":"#layout-cycles"},
"#named-timeline-range": {"displayText":"named timeline range","export":true,"for_":[],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"named timeline range","type":"dfn","url":"#named-timeline-range"},
"#propdef-animation-delay": {"displayText":"animation-delay","export":true,"for_":[],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"animation-delay","type":"property","url":"#propdef-animation-delay"},
"#propdef-animation-delay-end": {"displayText":"animation-delay-end","export":true,"for_":[],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"animation-delay-end","type":"property","url":"#propdef-animation-delay-end"},
"#propdef-animation-delay-start": {"displayText":"animation-delay-start","export":true,"for_":[],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"animation-delay-start","type":"property","url":"#propdef-animation-delay-start"},
"#propdef-animation-range": {"displayText":"animation-range","export":true,"for_":[],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"animation-range","type":"property","url":"#propdef-animation-range"},
"#propdef-scroll-timeline": {"displayText":"scroll-timeline","export":true,"for_":[],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"scroll-timeline","type":"property","url":"#propdef-scroll-timeline"},
"#propdef-scroll-timeline-axis": {"displayText":"scroll-timeline-axis","export":true,"for_":[],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"scroll-timeline-axis","type":"property","url":"#propdef-scroll-timeline-axis"},
"#propdef-scroll-timeline-name": {"displayText":"scroll-timeline-name","export":true,"for_":[],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"scroll-timeline-name","type":"property","url":"#propdef-scroll-timeline-name"},
"#propdef-view-timeline": {"displayText":"view-timeline","export":true,"for_":[],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"view-timeline","type":"property","url":"#propdef-view-timeline"},
"#propdef-view-timeline-axis": {"displayText":"view-timeline-axis","export":true,"for_":[],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"view-timeline-axis","type":"property","url":"#propdef-view-timeline-axis"},
"#propdef-view-timeline-inset": {"displayText":"view-timeline-inset","export":true,"for_":[],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"view-timeline-inset","type":"property","url":"#propdef-view-timeline-inset"},
"#propdef-view-timeline-name": {"displayText":"view-timeline-name","export":true,"for_":[],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"view-timeline-name","type":"property","url":"#propdef-view-timeline-name"},
"#scroll-progress-timelines": {"displayText":"scroll progress timelines","export":true,"for_":[],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"scroll progress timelines","type":"dfn","url":"#scroll-progress-timelines"},
"#scrolltimeline": {"displayText":"ScrollTimeline","export":true,"for_":[],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"ScrollTimeline","type":"interface","url":"#scrolltimeline"},
"#typedef-axis": {"displayText":"<axis>","export":true,"for_":[],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"<axis>","type":"type","url":"#typedef-axis"},
"#typedef-scroller": {"displayText":"<scroller>","export":true,"for_":[],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"<scroller>","type":"type","url":"#typedef-scroller"},
"#typedef-timeline-range-name": {"displayText":"<timeline-range-name>","export":true,"for_":[],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"<timeline-range-name>","type":"type","url":"#typedef-timeline-range-name"},
"#valdef-animation-timeline-range-contain": {"displayText":"contain","export":true,"for_":["animation-timeline-range"],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"contain","type":"value","url":"#valdef-animation-timeline-range-contain"},
"#valdef-animation-timeline-range-cover": {"displayText":"cover","export":true,"for_":["animation-timeline-range"],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"cover","type":"value","url":"#valdef-animation-timeline-range-cover"},
"#valdef-animation-timeline-range-entry": {"displayText":"entry","export":true,"for_":["animation-timeline-range"],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"entry","type":"value","url":"#valdef-animation-timeline-range-entry"},
"#valdef-view-timeline-inset-auto": {"displayText":"auto","export":true,"for_":["view-timeline-inset"],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"auto","type":"value","url":"#valdef-view-timeline-inset-auto"},
"#view-progress-timelines": {"displayText":"view progress timelines","export":true,"for_":[],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"view progress timelines","type":"dfn","url":"#view-progress-timelines"},
"#view-progress-visibility-range": {"displayText":"view progress visibility range","export":true,"for_":[],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"view progress visibility range","type":"dfn","url":"#view-progress-visibility-range"},
"#viewtimeline": {"displayText":"ViewTimeline","export":true,"for_":[],"level":"1","normative":true,"shortname":"scroll-animations-1","spec":"scroll-animations-1-1","status":"local","text":"ViewTimeline","type":"interface","url":"#viewtimeline"},
"https://andreubotella.com/csswg-auto-build/test/css-scoping-1/#flat-tree": {"displayText":"flattened element tree","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-scoping","spec":"css-scoping-1","status":"current","text":"flattened element tree","type":"dfn","url":"https://andreubotella.com/csswg-auto-build/test/css-scoping-1/#flat-tree"},
"https://dom.spec.whatwg.org/#document": {"displayText":"Document","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"Document","type":"interface","url":"https://dom.spec.whatwg.org/#document"},
"https://dom.spec.whatwg.org/#element": {"displayText":"Element","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"Element","type":"interface","url":"https://dom.spec.whatwg.org/#element"},
"https://html.spec.whatwg.org/multipage/imagebitmap-and-animations.html#dom-animationframeprovider-requestanimationframe": {"displayText":"requestAnimationFrame(callback)","export":true,"for_":["AnimationFrameProvider"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"requestAnimationFrame(callback)","type":"method","url":"https://html.spec.whatwg.org/multipage/imagebitmap-and-animations.html#dom-animationframeprovider-requestanimationframe"},
"https://html.spec.whatwg.org/multipage/nav-history-apis.html#window": {"displayText":"Window","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"Window","type":"interface","url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"},
"https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object": {"displayText":"current global object","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"current global object","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object"},
"https://html.spec.whatwg.org/multipage/window-object.html#concept-document-window": {"displayText":"document associated with a window","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"document associated with a window","type":"dfn","url":"https://html.spec.whatwg.org/multipage/window-object.html#concept-document-window"},
"https://webidl.spec.whatwg.org/#Exposed": {"displayText":"Exposed","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"Exposed","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#Exposed"},
"https://webidl.spec.whatwg.org/#method-steps": {"displayText":"method steps","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"method steps","type":"dfn","url":"https://webidl.spec.whatwg.org/#method-steps"},
"https://webidl.spec.whatwg.org/#this": {"displayText":"this","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"this","type":"dfn","url":"https://webidl.spec.whatwg.org/#this"},
"https://www.w3.org/TR/CSS2/syndata.html#x15": {"displayText":"selector","export":true,"for_":[],"level":"2","normative":true,"shortname":"css","spec":"css2","status":"snapshot","text":"selector","type":"dfn","url":"https://www.w3.org/TR/CSS2/syndata.html#x15"},
"https://www.w3.org/TR/css-align-3/#content-distribute": {"displayText":"content distribution","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"snapshot","text":"content distribution","type":"dfn","url":"https://www.w3.org/TR/css-align-3/#content-distribute"},
"https://www.w3.org/TR/css-animations-1/#at-ruledef-keyframes": {"displayText":"@keyframes","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-animations","spec":"css-animations-1","status":"snapshot","text":"@keyframes","type":"at-rule","url":"https://www.w3.org/TR/css-animations-1/#at-ruledef-keyframes"},
"https://www.w3.org/TR/css-animations-1/#typedef-keyframe-selector": {"displayText":"<keyframe-selector>","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-animations","spec":"css-animations-1","status":"snapshot","text":"<keyframe-selector>","type":"type","url":"https://www.w3.org/TR/css-animations-1/#typedef-keyframe-selector"},
"https://www.w3.org/TR/css-animations-2/#propdef-animation-timeline": {"displayText":"animation-timeline","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-animations","spec":"css-animations-2","status":"snapshot","text":"animation-timeline","type":"property","url":"https://www.w3.org/TR/css-animations-2/#propdef-animation-timeline"},
"https://www.w3.org/TR/css-box-4/#border-edge": {"displayText":"border edge","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-box","spec":"css-box-4","status":"snapshot","text":"border edge","type":"dfn","url":"https://www.w3.org/TR/css-box-4/#border-edge"},
"https://www.w3.org/TR/css-cascade-5/#shorthand-property": {"displayText":"shorthand","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-cascade","spec":"css-cascade-5","status":"snapshot","text":"shorthand","type":"dfn","url":"https://www.w3.org/TR/css-cascade-5/#shorthand-property"},
"https://www.w3.org/TR/css-display-4/#principal-box": {"displayText":"principal box","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-display","spec":"css-display-4","status":"snapshot","text":"principal box","type":"dfn","url":"https://www.w3.org/TR/css-display-4/#principal-box"},
"https://www.w3.org/TR/css-overflow-3/#scroll-container": {"displayText":"scroll container","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-overflow","spec":"css-overflow-3","status":"snapshot","text":"scroll container","type":"dfn","url":"https://www.w3.org/TR/css-overflow-3/#scroll-container"},
"https://www.w3.org/TR/css-overflow-3/#scrollable-overflow": {"displayText":"scrollable overflow","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-overflow","spec":"css-overflow-3","status":"snapshot","text":"scrollable overflow","type":"dfn","url":"https://www.w3.org/TR/css-overflow-3/#scrollable-overflow"},
"https://www.w3.org/TR/css-overflow-3/#scrollable-overflow-rectangle": {"displayText":"scrollable overflow rectangle","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-overflow","spec":"css-overflow-3","status":"snapshot","text":"scrollable overflow rectangle","type":"dfn","url":"https://www.w3.org/TR/css-overflow-3/#scrollable-overflow-rectangle"},
"https://www.w3.org/TR/css-overflow-3/#scrollport": {"displayText":"scrollport","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-overflow","spec":"css-overflow-3","status":"snapshot","text":"scrollport","type":"dfn","url":"https://www.w3.org/TR/css-overflow-3/#scrollport"},
"https://www.w3.org/TR/css-scroll-snap-1/#propdef-scroll-padding": {"displayText":"scroll-padding","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-scroll-snap","spec":"css-scroll-snap-1","status":"snapshot","text":"scroll-padding","type":"property","url":"https://www.w3.org/TR/css-scroll-snap-1/#propdef-scroll-padding"},
"https://www.w3.org/TR/css-typed-om-1/#create-a-cssunitvalue-from-a-pair": {"displayText":"new unit value","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-typed-om","spec":"css-typed-om-1","status":"snapshot","text":"new unit value","type":"dfn","url":"https://www.w3.org/TR/css-typed-om-1/#create-a-cssunitvalue-from-a-pair"},
"https://www.w3.org/TR/css-typed-om-1/#cssnumericvalue": {"displayText":"CSSNumericValue","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-typed-om","spec":"css-typed-om-1","status":"snapshot","text":"CSSNumericValue","type":"interface","url":"https://www.w3.org/TR/css-typed-om-1/#cssnumericvalue"},
"https://www.w3.org/TR/css-typed-om-1/#cssunitvalue": {"displayText":"CSSUnitValue","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-typed-om","spec":"css-typed-om-1","status":"snapshot","text":"CSSUnitValue","type":"interface","url":"https://www.w3.org/TR/css-typed-om-1/#cssunitvalue"},
"https://www.w3.org/TR/css-typed-om-1/#typedefdef-cssnumberish": {"displayText":"CSSNumberish","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-typed-om","spec":"css-typed-om-1","status":"snapshot","text":"CSSNumberish","type":"typedef","url":"https://www.w3.org/TR/css-typed-om-1/#typedefdef-cssnumberish"},
"https://www.w3.org/TR/css-values-4/#comb-any": {"displayText":"||","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"snapshot","text":"||","type":"grammar","url":"https://www.w3.org/TR/css-values-4/#comb-any"},
"https://www.w3.org/TR/css-values-4/#comb-one": {"displayText":"|","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"snapshot","text":"|","type":"grammar","url":"https://www.w3.org/TR/css-values-4/#comb-one"},
"https://www.w3.org/TR/css-values-4/#css-css-identifier": {"displayText":"CSS identifier","export":true,"for_":["CSS"],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"snapshot","text":"css identifier","type":"dfn","url":"https://www.w3.org/TR/css-values-4/#css-css-identifier"},
"https://www.w3.org/TR/css-values-4/#css-wide-keywords": {"displayText":"CSS-wide keywords","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"snapshot","text":"css-wide keywords","type":"dfn","url":"https://www.w3.org/TR/css-values-4/#css-wide-keywords"},
"https://www.w3.org/TR/css-values-4/#functional-notation": {"displayText":"functional notation","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"snapshot","text":"functional notation","type":"dfn","url":"https://www.w3.org/TR/css-values-4/#functional-notation"},
"https://www.w3.org/TR/css-values-4/#identifier-value": {"displayText":"<custom-ident>","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"snapshot","text":"<custom-ident>","type":"type","url":"https://www.w3.org/TR/css-values-4/#identifier-value"},
"https://www.w3.org/TR/css-values-4/#mult-comma": {"displayText":"#","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"snapshot","text":"#","type":"grammar","url":"https://www.w3.org/TR/css-values-4/#mult-comma"},
"https://www.w3.org/TR/css-values-4/#mult-num-range": {"displayText":"{A,B}","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"snapshot","text":"{a,b}","type":"grammar","url":"https://www.w3.org/TR/css-values-4/#mult-num-range"},
"https://www.w3.org/TR/css-values-4/#mult-opt": {"displayText":"?","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"snapshot","text":"?","type":"grammar","url":"https://www.w3.org/TR/css-values-4/#mult-opt"},
"https://www.w3.org/TR/css-values-4/#percentage-value": {"displayText":"<percentage>","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"snapshot","text":"<percentage>","type":"type","url":"https://www.w3.org/TR/css-values-4/#percentage-value"},
"https://www.w3.org/TR/css-values-4/#px": {"displayText":"px","export":true,"for_":["<length>"],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"snapshot","text":"px","type":"value","url":"https://www.w3.org/TR/css-values-4/#px"},
"https://www.w3.org/TR/css-values-4/#time-value": {"displayText":"<time>","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"snapshot","text":"<time>","type":"type","url":"https://www.w3.org/TR/css-values-4/#time-value"},
"https://www.w3.org/TR/css-values-4/#typedef-length-percentage": {"displayText":"<length-percentage>","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"snapshot","text":"<length-percentage>","type":"type","url":"https://www.w3.org/TR/css-values-4/#typedef-length-percentage"},
"https://www.w3.org/TR/css-writing-modes-4/#block-axis": {"displayText":"block axis","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-writing-modes","spec":"css-writing-modes-4","status":"snapshot","text":"block axis","type":"dfn","url":"https://www.w3.org/TR/css-writing-modes-4/#block-axis"},
"https://www.w3.org/TR/css-writing-modes-4/#end": {"displayText":"end","export":true,"for_":["CSS"],"level":"4","normative":true,"shortname":"css-writing-modes","spec":"css-writing-modes-4","status":"snapshot","text":"end","type":"dfn","url":"https://www.w3.org/TR/css-writing-modes-4/#end"},
"https://www.w3.org/TR/css-writing-modes-4/#inline-axis": {"displayText":"inline axis","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-writing-modes","spec":"css-writing-modes-4","status":"snapshot","text":"inline axis","type":"dfn","url":"https://www.w3.org/TR/css-writing-modes-4/#inline-axis"},
"https://www.w3.org/TR/css-writing-modes-4/#start": {"displayText":"start","export":true,"for_":["CSS"],"level":"4","normative":true,"shortname":"css-writing-modes","spec":"css-writing-modes-4","status":"snapshot","text":"start","type":"dfn","url":"https://www.w3.org/TR/css-writing-modes-4/#start"},
"https://www.w3.org/TR/css-writing-modes-4/#valdef-direction-rtl": {"displayText":"rtl","export":true,"for_":["direction"],"level":"4","normative":true,"shortname":"css-writing-modes","spec":"css-writing-modes-4","status":"snapshot","text":"rtl","type":"value","url":"https://www.w3.org/TR/css-writing-modes-4/#valdef-direction-rtl"},
"https://www.w3.org/TR/css-writing-modes-4/#writing-mode": {"displayText":"writing mode","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-writing-modes","spec":"css-writing-modes-4","status":"snapshot","text":"writing mode","type":"dfn","url":"https://www.w3.org/TR/css-writing-modes-4/#writing-mode"},
"https://www.w3.org/TR/css-writing-modes-4/#x-axis": {"displayText":"horizontal axis","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-writing-modes","spec":"css-writing-modes-4","status":"snapshot","text":"horizontal axis","type":"dfn","url":"https://www.w3.org/TR/css-writing-modes-4/#x-axis"},
"https://www.w3.org/TR/css-writing-modes-4/#y-axis": {"displayText":"vertical axis","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-writing-modes","spec":"css-writing-modes-4","status":"snapshot","text":"vertical axis","type":"dfn","url":"https://www.w3.org/TR/css-writing-modes-4/#y-axis"},
"https://www.w3.org/TR/cssom-1/#cssomstring": {"displayText":"CSSOMString","export":true,"for_":[],"level":"1","normative":true,"shortname":"cssom","spec":"cssom-1","status":"snapshot","text":"CSSOMString","type":"interface","url":"https://www.w3.org/TR/cssom-1/#cssomstring"},
"https://www.w3.org/TR/cssom-view-1/#dom-document-scrollingelement": {"displayText":"scrollingElement","export":true,"for_":["Document"],"level":"1","normative":true,"shortname":"cssom-view","spec":"cssom-view-1","status":"snapshot","text":"scrollingElement","type":"attribute","url":"https://www.w3.org/TR/cssom-view-1/#dom-document-scrollingelement"},
"https://www.w3.org/TR/web-animations-1/#animation": {"displayText":"Animation","export":true,"for_":[],"level":"1","normative":true,"shortname":"web-animations","spec":"web-animations-1","status":"snapshot","text":"Animation","type":"interface","url":"https://www.w3.org/TR/web-animations-1/#animation"},
"https://www.w3.org/TR/web-animations-1/#concept-animation": {"displayText":"animation","export":true,"for_":[],"level":"1","normative":true,"shortname":"web-animations","spec":"web-animations-1","status":"snapshot","text":"animation","type":"dfn","url":"https://www.w3.org/TR/web-animations-1/#concept-animation"},
"https://www.w3.org/TR/web-animations-1/#dom-animatable-animate": {"displayText":"animate(keyframes)","export":true,"for_":["Animatable"],"level":"1","normative":true,"shortname":"web-animations","spec":"web-animations-1","status":"snapshot","text":"animate(keyframes)","type":"method","url":"https://www.w3.org/TR/web-animations-1/#dom-animatable-animate"},
"https://www.w3.org/TR/web-animations-1/#inactive-timeline": {"displayText":"inactive timeline","export":true,"for_":[],"level":"1","normative":true,"shortname":"web-animations","spec":"web-animations-1","status":"snapshot","text":"inactive timeline","type":"dfn","url":"https://www.w3.org/TR/web-animations-1/#inactive-timeline"},
"https://www.w3.org/TR/web-animations-1/#timeline": {"displayText":"timeline","export":true,"for_":[],"level":"1","normative":true,"shortname":"web-animations","spec":"web-animations-1","status":"snapshot","text":"timeline","type":"dfn","url":"https://www.w3.org/TR/web-animations-1/#timeline"},
"https://www.w3.org/TR/web-animations-2/#dom-effecttiming-duration": {"displayText":"duration","export":true,"for_":["EffectTiming"],"level":"2","normative":true,"shortname":"web-animations","spec":"web-animations-2","status":"snapshot","text":"duration","type":"dict-member","url":"https://www.w3.org/TR/web-animations-2/#dom-effecttiming-duration"},
};

function mkRefHint(link, ref) {
    const linkText = link.textContent;
    let dfnTextElements = '';
    if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
        // Give the original term if it's being displayed in a different way.
        // But allow casing differences, they're insignificant.
        dfnTextElements =
            mk.li({},
                mk.b({}, "Term: "),
                mk.span({}, ref.displayText)
            );
    }
    const forList = ref.for_;
    let forListElements;
    if(forList.length == 0) {
        forListElements = [];
    } else if(forList.length == 1) {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.span({}, forList[0]),
        );
    } else {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.ul({},
                ...forList.map(forItem =>
                    mk.li({},
                        mk.span({}, forItem)
                    ),
                ),
            ),
        );
    }
    const url = ref.url;
    const safeUrl = encodeURIComponent(url);
    const hintPanel = mk.aside({
        class: "ref-hint",
        id: `ref-hint-for-${safeUrl}`,
        "data-for": url,
        "aria-labelled-by": `ref-hint-for-${safeUrl}`,
    },
        mk.ul({},
            dfnTextElements,
            mk.li({},
                mk.b({}, "URL: "),
                mk.a({ href: url, class: "ref" }, url),
            ),
            mk.li({},
                mk.b({}, "Type: "),
                mk.span({}, `${ref.type}`),
            ),
            mk.li({},
                mk.b({}, "Spec: "),
                mk.span({}, `${ref.spec ? ref.spec : ''}`),
            ),
            forListElements
        ),
    );
    hintPanel.forLink = link;
    setupRefHintEventListeners(link, hintPanel);
    return hintPanel;
}

function hideAllRefHints() {
    queryAll(".ref-hint").forEach(el=>hideRefHint(el));
}

function hideRefHint(refHint) {
    const link = refHint.forLink;
    link.setAttribute("aria-expanded", "false");
    if(refHint.teardownEventListeners) {
        refHint.teardownEventListeners();
    }
    refHint.remove();
}

function showRefHint(link) {
    if(link.classList.contains("dfn-link")) return;
    const url = link.getAttribute("href");
    const refHintKey = link.getAttribute("data-refhint-key");
    let key = url;
    if(refHintKey) {
        key = refHintKey + "_" + url;
    }
    const ref = refsData[key];
    if(!ref) return;

    hideAllRefHints(); // Only display one at this time.

    const refHint = mkRefHint(link, ref);
    append(document.body, refHint);
    link.setAttribute("aria-expanded", "true");
    positionRefHint(refHint);
}

function setupRefHintEventListeners(link, refHint) {
    if (refHint.teardownEventListeners) return;
    // Add event handlers to hide the refHint after the user moves away
    // from both the link and refHint, if not hovering either within one second.
    let timeout = null;
    const startHidingRefHint = (event) => {
        if (timeout) {
            clearTimeout(timeout);
        }
        timeout = setTimeout(() => {
            hideRefHint(refHint);
        }, 1000);
    }
    const resetHidingRefHint = (event) => {
        if (timeout) clearTimeout(timeout);
        timeout = null;
    };
    link.addEventListener("mouseleave", startHidingRefHint);
    link.addEventListener("mouseenter", resetHidingRefHint);
    link.addEventListener("blur", startHidingRefHint);
    link.addEventListener("focus", resetHidingRefHint);
    refHint.addEventListener("mouseleave", startHidingRefHint);
    refHint.addEventListener("mouseenter", resetHidingRefHint);
    refHint.addEventListener("blur", startHidingRefHint);
    refHint.addEventListener("focus", resetHidingRefHint);

    refHint.teardownEventListeners = () => {
        // remove event listeners
        resetHidingRefHint();
        link.removeEventListener("mouseleave", startHidingRefHint);
        link.removeEventListener("mouseenter", resetHidingRefHint);
        link.removeEventListener("blur", startHidingRefHint);
        link.removeEventListener("focus", resetHidingRefHint);
        refHint.removeEventListener("mouseleave", startHidingRefHint);
        refHint.removeEventListener("mouseenter", resetHidingRefHint);
        refHint.removeEventListener("blur", startHidingRefHint);
        refHint.removeEventListener("focus", resetHidingRefHint);
    };
}

function positionRefHint(refHint) {
    const link = refHint.forLink;
    const linkPos = getBounds(link);
    refHint.style.top = linkPos.bottom + "px";
    refHint.style.left = linkPos.left + "px";

    const panelPos = refHint.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
        refHint.style.left = newLeft + "px";
    }
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function showRefHintListener(e) {
    // If the target isn't in a link (or is a link),
    // just ignore it.
    let link = e.target.closest("a");
    if(!link) return;

    // If the target is in a ref-hint panel
    // (aka a link in the already-open one),
    // also just ignore it.
    if(link.closest(".ref-hint")) return;

    // Otherwise, show the panel for the link.
    showRefHint(link);
}

function hideAllHintsListener(e) {
    // If the click is inside a ref-hint panel, ignore it.
    if(e.target.closest(".ref-hint")) return;
    // Otherwise, close all the current panels.
    hideAllRefHints();
}

document.addEventListener("DOMContentLoaded", () => {
    document.body.addEventListener("mousedown", showRefHintListener);
    document.body.addEventListener("focus", showRefHintListener);

    document.body.addEventListener("click", hideAllHintsListener);
});

window.addEventListener("resize", () => {
    // Hide any open ref hint.
    hideAllRefHints();
});
}
</script>
<script>/* Boilerplate: script-var-click-highlighting */
"use strict";
{
/*
Color-choosing design:

* Colors are ordered by goodness.
* On clicking a var, give it the earliest color
    with the lowest usage in the algorithm.
* On re-clicking, re-use the var's most recent color
    if that's not currently being used elsewhere.
*/

const COLOR_COUNT = 7;

document.addEventListener("click", e=>{
    if(e.target.nodeName == "VAR") {
        highlightSameAlgoVars(e.target);
    }
});

function highlightSameAlgoVars(v) {
    // Find the algorithm container.
    let algoContainer = findAlgoContainer(v);

    // Not highlighting document-global vars,
    // too likely to be unrelated.
    if(algoContainer == null) return;

    const varName = nameFromVar(v);
    if(!v.hasAttribute("data-var-color")) {
        const newColor = chooseHighlightColor(algoContainer, v);
        for(const el of algoContainer.querySelectorAll("var")) {
            if(nameFromVar(el) == varName) {
                el.setAttribute("data-var-color", newColor);
                el.setAttribute("data-var-last-color", newColor);
            }
        }
    } else {
        for(const el of algoContainer.querySelectorAll("var")) {
            if(nameFromVar(el) == varName) {
                el.removeAttribute("data-var-color");
            }
        }
    }
}
function findAlgoContainer(el) {
    while(el != document.body) {
        if(el.hasAttribute("data-algorithm")) return el;
        el = el.parentNode;
    }
    return null;
}
function nameFromVar(el) {
    return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
}
function colorCountsFromContainer(container) {
    const namesFromColor = Array.from({length:COLOR_COUNT}, x=>new Set());
    for(let v of container.querySelectorAll("var[data-var-color]")) {
        let color = +v.getAttribute("data-var-color");
        namesFromColor[color].add(nameFromVar(v));
    }

    return namesFromColor.map(x=>x.size);
}
function leastUsedColor(colors) {
    // Find the earliest color with the lowest count.
    let minCount = Infinity;
    let minColor = null;
    for(var i = 0; i < colors.length; i++) {
        if(colors[i] < minCount) {
            minColor = i;
            minCount = colors[i];
        }
    }
    return minColor;
}
function chooseHighlightColor(container, v) {
    const colorCounts = colorCountsFromContainer(container);
    if(v.hasAttribute("data-var-last-color")) {
        let color = +v.getAttribute("data-var-last-color");
        if(colorCounts[color] == 0) return color;
    }
    return leastUsedColor(colorCounts);
}
}
</script>