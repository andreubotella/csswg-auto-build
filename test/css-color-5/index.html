<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>CSS Color Module Level 5</title>
  <meta content="ED" name="w3c-status">
  <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-ED" rel="stylesheet">
  <meta content="Bikeshed version 618007319, updated Thu Jun 26 17:23:55 2025 -0700" name="generator">
  <link href="https://www.w3.org/TR/css-color-5/" rel="canonical">
  <link href="https://drafts.csswg.org/csslogo.ico" rel="icon">
  <meta content="1942d0918a25bc8e3d6b68611a77aa1499d14053" name="revision">
  <meta content="dark light" name="color-scheme">
  <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css">
  <link href="style.css" rel="stylesheet">
<style>
	table.deltaE td {border: 4px solid white; padding: 6px; font-size: 1.4em; color: black;}
	table.deltaE td.dE0 { background: rgb(68, 243, 91)}
	table.deltaE td.dE1 { background: rgb(153, 243, 68)}
	table.deltaE td.dE2 { background: rgb(217, 243, 68)}
	table.deltaE td.dE3 { background: rgb(243, 240, 68)}
	table.deltaE td.dE4 { background: rgb(243, 202, 68)}
	table.deltaE td.dE5 { background: rgb(243, 103, 68); color: white}
	table.deltaE th {text-align: center }
	/* work-around for https://github.com/tabatkins/bikeshed/issues/1799 */
	div.example, div.example pre {
		overflow: visible;
	}
	div.example>a.self-link::before {
		content: "¶";
	}
</style>
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */
/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
    --dfnpanel-target-bg: #ffc;
    --dfnpanel-target-outline: orange;
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
        --dfnpanel-target-bg: #333;
        --dfnpanel-target-outline: silver;
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel a:focus {
    outline: 5px auto Highlight;
    outline: 5px auto -webkit-focus-ring-color;
}
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: 8px;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
    transition: left 1s ease-out, bottom 1s ease-out;
}

.dfn-panel .link-item:hover {
    text-decoration: underline;
}
.dfn-panel .link-item .copy-icon {
    opacity: 0;
}
.dfn-panel .link-item:hover .copy-icon,
.dfn-panel .link-item .copy-icon:focus {
    opacity: 1;
}

.dfn-panel .copy-icon {
    display: inline-block;
    margin-right: 0.5em;
    width: 0.85em;
    height: 1em;
    border-radius: 3px;
    background-color: #ccc;
    cursor: pointer;
}

.dfn-panel .copy-icon .icon {
    width: 100%;
    height: 100%;
    background-color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
}

.dfn-panel .copy-icon .icon::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 1px solid black;
    background-color: #ccc;
    opacity: 0.25;
    transform: translate(3px, -3px);
}

.dfn-panel .copy-icon:active .icon::before {
    opacity: 1;
}

.dfn-paneled[role="button"] { cursor: help; }

.highlighted {
    animation: target-fade 3s;
}

@keyframes target-fade {
    from {
        background-color: var(--dfnpanel-target-bg);
        outline: 5px solid var(--dfnpanel-target-outline);
    }
    to {
        color: var(--a-normal-text);
        background-color: transparent;
        outline: transparent;
    }
}
</style>
<style>/* Boilerplate: style-idl-highlighting */
pre.idl.highlight {
    background: var(--borderedblock-bg, var(--def-bg));
}
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-mdn-anno */
:root {
	--mdn-bg: #EEE;
	--mdn-shadow: #999;
	--mdn-nosupport-text: #ccc;
	--mdn-pass: green;
	--mdn-fail: red;
}
@media (prefers-color-scheme: dark) {
	:root {
		--mdn-bg: #222;
		--mdn-shadow: #444;
		--mdn-nosupport-text: #666;
		--mdn-pass: #690;
		--mdn-fail: #d22;
	}
}
.mdn-anno {
	background: var(--mdn-bg, #EEE);
	border-radius: .25em;
	box-shadow: 0 0 3px var(--mdn-shadow, #999);
	color: var(--text, black);
	font: 1em sans-serif;
	hyphens: none;
	max-width: min-content;
	overflow: hidden;
	padding: 0.2em;
	position: absolute;
	right: 0.3em;
	top: auto;
	white-space: nowrap;
	word-wrap: normal;
	z-index: 8;
}
.mdn-anno.unpositioned {
	display: none;
}
.mdn-anno.overlapping-main {
	opacity: .2;
	transition: opacity .1s;
}
.mdn-anno[open] {
	opacity: 1;
	z-index: 9;
	min-width: 9em;
}
.mdn-anno:hover {
	opacity: 1;
	outline: var(--text, black) 1px solid;
}
.mdn-anno > summary {
	font-weight: normal;
	text-align: right;
	cursor: pointer;
	display: block;
}
.mdn-anno > summary > .less-than-two-engines-flag {
	color: var(--mdn-fail);
	padding-right: 2px;
}
.mdn-anno > summary > .all-engines-flag {
	color: var(--mdn-pass);
	padding-right: 2px;
}
.mdn-anno > summary > span {
	color: #fff;
	background-color: #000;
	font-weight: normal;
	font-family: zillaslab, Palatino, "Palatino Linotype", serif;
	padding: 2px 3px 0px 3px;
	line-height: 1.3em;
	vertical-align: top;
}
.mdn-anno > .feature {
	margin-top: 20px;
}
.mdn-anno > .feature:not(:first-of-type) {
	border-top: 1px solid #999;
	margin-top: 6px;
	padding-top: 2px;
}
.mdn-anno > .feature > .less-than-two-engines-text {
	color: var(--mdn-fail);
}
.mdn-anno > .feature > .all-engines-text {
	color: var(--mdn-pass);
}
.mdn-anno > .feature > p {
	font-size: .75em;
	margin-top: 6px;
	margin-bottom: 0;
}
.mdn-anno > .feature > p + p {
	margin-top: 3px;
}
.mdn-anno > .feature > .support {
	display: block;
	font-size: 0.6em;
	margin: 0;
	padding: 0;
	margin-top: 2px;
}
.mdn-anno > .feature > .support + div {
	padding-top: 0.5em;
}
.mdn-anno > .feature > .support > hr {
	display: block;
	border: none;
	border-top: 1px dotted #999;
	padding: 3px 0px 0px 0px;
	margin: 2px 3px 0px 3px;
}
.mdn-anno > .feature > .support > hr::before {
	content: "";
}
.mdn-anno > .feature > .support > span {
	padding: 0.2em 0;
	display: block;
	display: table;
}
.mdn-anno > .feature > .support > span.no {
	color: var(--mdn-nosupport-text);
	filter: grayscale(100%);
}
.mdn-anno > .feature > .support > span.no::before {
	opacity: 0.5;
}
.mdn-anno > .feature > .support > span:first-of-type {
	padding-top: 0.5em;
}
.mdn-anno > .feature > .support > span > span {
	padding: 0 0.5em;
	display: table-cell;
}
.mdn-anno > .feature > .support > span > span:first-child {
	width: 100%;
}
.mdn-anno > .feature > .support > span > span:last-child {
	width: 100%;
	white-space: pre;
	padding: 0;
}
.mdn-anno > .feature > .support > span::before {
	content: ' ';
	display: table-cell;
	min-width: 1.5em;
	height: 1.5em;
	background: no-repeat center center;
	background-size: contain;
	text-align: right;
	font-size: 0.75em;
	font-weight: bold;
}
.mdn-anno > .feature > .support > .chrome_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
}
.mdn-anno > .feature > .support > .firefox_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
}
.mdn-anno > .feature > .support > .chrome::before {
	background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
}
.mdn-anno > .feature > .support > .edge_blink::before {
	background-image: url(https://resources.whatwg.org/browser-logos/edge.svg);
}
.mdn-anno > .feature > .support > .edge::before {
	background-image: url(https://resources.whatwg.org/browser-logos/edge_legacy.svg);
}
.mdn-anno > .feature > .support > .firefox::before {
	background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
}
.mdn-anno > .feature > .support > .ie::before {
	background-image: url(https://resources.whatwg.org/browser-logos/ie.png);
}
.mdn-anno > .feature > .support > .safari_ios::before {
	background-image: url(https://resources.whatwg.org/browser-logos/safari-ios.svg);
}
.mdn-anno > .feature > .support > .nodejs::before {
	background-image: url(https://nodejs.org/favicon.ico);
}
.mdn-anno > .feature > .support > .opera_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
}
.mdn-anno > .feature > .support > .opera::before {
	background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
}
.mdn-anno > .feature > .support > .safari::before {
	background-image: url(https://resources.whatwg.org/browser-logos/safari.png);
}
.mdn-anno > .feature > .support > .samsunginternet_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/samsung.svg);
}
.mdn-anno > .feature > .support > .webview_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/android-webview.png);
}
.name-slug-mismatch {
	color: red;
}
.caniuse-status:hover {
	z-index: 9;
}
/* dt, li, .issue, .note, and .example are "position: relative", so to put annotation at right margin, must move to right of containing block */;
.h-entry:not(.status-LS) dt > .mdn-anno, .h-entry:not(.status-LS) li > .mdn-anno, .h-entry:not(.status-LS) .issue > .mdn-anno, .h-entry:not(.status-LS) .note > .mdn-anno, .h-entry:not(.status-LS) .example > .mdn-anno {
	right: -6.7em;
}
.h-entry p + .mdn-anno {
	margin-top: 0;
}
 h2 + .mdn-anno.after {
	margin: -48px 0 0 0;
}
 h3 + .mdn-anno.after {
	margin: -46px 0 0 0;
}
 h4 + .mdn-anno.after {
	margin: -42px 0 0 0;
}
 h5 + .mdn-anno.after {
	margin: -40px 0 0 0;
}
 h6 + .mdn-anno.after {
	margin: -40px 0 0 0;
}
</style>
<style>/* Boilerplate: style-ref-hints */
:root {
    --ref-hint-bg: #ddd;
    --ref-hint-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --ref-hint-bg: #222;
        --ref-hint-text: var(--text);
    }
}

.ref-hint {
    display: inline-block;
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.5em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--ref-hint-bg);
    color: var(--ref-hint-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}

.ref-hint * { margin: 0; padding: 0; text-indent: 0; }

.ref-hint ul { padding: 0 0 0 1em; list-style: none; }
</style>
<style>/* Boilerplate: style-selflinks */
:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
<style>/* Boilerplate: style-var-click-highlighting */
/*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)

For darkmode:
0 = oklab(50%   0%  108%)
1 = oklab(50% -51%   51%)
2 = oklab(50% -64%  -20%)
3 = oklab(50%   6%   19%)
4 = oklab(50% -12%  -64%)
5 = oklab(50%  44%  -19%)  
6 = oklab(50% 102%   38%)
*/

[data-algorithm] var { cursor: pointer; }
var[data-var-color] { background-color: var(--var-bg); box-shadow: 0 0 0 2px var(--var-bg); }

var[data-var-color] { --var-bg: #F4D200; }
var[data-var-color="1"] { --var-bg: #FF87A2; }
var[data-var-color="2"] { --var-bg: #96E885; }
var[data-var-color="3"] { --var-bg: #3EEED2; }
var[data-var-color="4"] { --var-bg: #EACFB6; }
var[data-var-color="5"] { --var-bg: #82DDFF; }
var[data-var-color="6"] { --var-vg: #FFBCF2; }

@media (prefers-color-scheme: dark) {
	var[data-var-color] { --var-bg: #bc1a00; }
	var[data-var-color="1"] { --var-bg: #007f00; }
	var[data-var-color="2"] { --var-bg: #008698; }
	var[data-var-color="3"] { --var-bg: #7f5b2b; }
	var[data-var-color="4"] { --var-bg: #004df3; }
	var[data-var-color="5"] { --var-bg: #a1248a; }
	var[data-var-color="6"] { --var-vg: #ff0000; }
}
</style>
<style>/* Boilerplate: style-wpt */
:root {
    --wpt-border: hsl(0, 0%, 60%);
    --wpt-bg: hsl(0, 0%, 95%);
    --wpt-text: var(--text);
    --wptheading-text: hsl(0, 0%, 30%);
}
@media (prefers-color-scheme: dark) {
    :root {
        --wpt-border: hsl(0, 0%, 30%);
        --wpt-bg: var(--borderedblock-bg);
        --wpt-text: var(--text);
        --wptheading-text: hsl(0, 0%, 60%);
    }
}
.wpt-tests-block {
    list-style: none;
    border-left: .5em solid var(--wpt-border);
    background: var(--wpt-bg);
    color: var(--wpt-text);
    margin: 1em auto;
    padding: .5em;
}
.wpt-tests-block summary {
    color: var(--wptheading-text);
    font-weight: normal;
    text-transform: uppercase;
}
.wpt-tests-block summary::marker{
    color: var(--wpt-border);
}
.wpt-tests-block summary:hover::marker{
    color: var(--wpt-text);
}
/*
   The only content  of a wpt test block in its closed state is the <summary>,
   which contains the word TESTS,
   and that is absolutely positioned.
   In that closed state, wpt test blocks are styled
   to have a top margin whose height is exactly equal
   to the height of the absolutely positioned <summary>,
   and no other background/padding/margin/border.
   The wpt test block elements will therefore allow the maring
   of the previous/next block elements
   to collapse through them;
   if this combined margin would be larger than its own top margin,
   it stays as is,
   and therefore the pre-existing vertical rhythm of the document is undisturbed.
   If that combined margin would be smaller, it is grown to that size.
   This means that the wpt test block ensures
   that there's always enough vertical space to insert the summary,
   without adding more than is needed.
*/
.wpt-tests-block:not([open]){
    padding: 0;
    border: none;
    background: none;
    font-size: 0.75em;
    line-height: 1;
    position: relative;
    margin: 1em 0 0;
}
.wpt-tests-block:not([open]) summary {
    position: absolute;
    right: 0;
    bottom: 0;
}
/*
   It is possible that both the last child of a block element
   and the block element itself
   would be annotated with a <wpt> block each.
   If the block element has a padding or a border,
   that's fine, but otherwise
   the bottom margin of the block and of its last child would collapse
   and both <wpt> elements would overlap, being both placed there.
   To avoid that, add 1px of padding to the <wpt> element annotating the last child
   to prevent the bottom margin of the block and of its last child from collapsing
   (and as much negative margin,
   as wel only want to prevent margin collapsing,
   but are not trying to actually take more space).
*/
.wpt-tests-block:not([open]):last-child {
    padding-bottom: 1px;
    margin-bottom: -1px;
}
/*
   Exception to the previous rule:
   don't do that in non-last list items,
   because it's not necessary,
   and would therefore consume more space than strictly needed.
   Lists must have list items as children, not <wpt> elements,
   so a <wpt> element cannot be a sibling of a list item,
   and the collision that the previous rule avoids cannot happen.
*/
li:not(:last-child) > .wpt-tests-block:not([open]):last-child,
dd:not(:last-child) > .wpt-tests-block:not([open]):last-child {
    padding-bottom: 0;
    margin-bottom: 0;
}
.wpt-tests-block:not([open]):not(:hover){
    opacity: 0.5;
}
.wpt-tests-list {
    list-style: none;
    display: grid;
    margin: 0;
    padding: 0;
    grid-template-columns: 1fr max-content auto auto;
    grid-column-gap: .5em;
}
.wpt-tests-block hr:last-child {
    display: none;
}
.wpt-test {
    display: contents;
}
.wpt-test > a {
    text-decoration: underline;
    border: none;
}
.wpt-test > .wpt-name { grid-column: 1; }
.wpt-test > .wpt-results { grid-column: 2; }
.wpt-test > .wpt-live { grid-column: 3; }
.wpt-test > .wpt-source { grid-column: 4; }

.wpt-test > .wpt-results {
    display: flex;
    gap: .1em;
}
.wpt-test .wpt-result {
    display: inline-block;
    height: 1em;
    width: 1em;
    border-radius: 50%;
    position: relative;
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/">
    <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
</a>
</p>
   <h1 class="p-name no-ref" id="title">CSS Color Module Level 5</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types/#ED">Editor’s Draft</a>,
    <time class="dt-updated" datetime="2025-06-13">13 June 2025</time></p>
   <details open>
    <summary>More details about this document</summary>
    <div data-fill-with="spec-metadata">
     <dl>
      <dt>This version:
      <dd><a class="u-url" href="https://drafts.csswg.org/css-color-5/">https://drafts.csswg.org/css-color-5/</a>
      <dt>Latest published version:
      <dd><a href="https://www.w3.org/TR/css-color-5/">https://www.w3.org/TR/css-color-5/</a>
      <dt>Previous Versions:
      <dd><a href="https://www.w3.org/TR/2024/WD-css-color-5-20240229/" rel="prev">https://www.w3.org/TR/2024/WD-css-color-5-20240229/</a>
      <dt>Feedback:
      <dd><a href="https://github.com/w3c/csswg-drafts/labels/css-color-5">CSSWG Issues Repository</a>
      <dt class="editor">Editors:
      <dd class="editor p-author h-card vcard" data-editor-id="1438"><a class="p-name fn u-url url" href="https://svgees.us/">Chris Lilley</a> (<span class="p-org org">W3C</span>)
      <dd class="editor p-author h-card vcard" data-editor-id="115525"><a class="p-name fn u-url url" href="https://una.im">Una Kravets</a> (<span class="p-org org">Google</span>)
      <dd class="editor p-author h-card vcard" data-editor-id="52258"><a class="p-name fn u-url url" href="https://lea.verou.me/about">Lea Verou</a> (<span class="p-org org">Invited Expert</span>)
      <dd class="editor p-author h-card vcard" data-editor-id="112669"><a class="p-name fn u-url url" href="https://nerdy.dev">Adam Argyle</a> (<span class="p-org org">Google</span>)
      <dt>Suggest an Edit for this Spec:
      <dd><a href="https://github.com/w3c/csswg-drafts/blob/main/css-color-5/Overview.bs">GitHub Editor</a>
      <dt>Delta Spec:
      <dd>yes
      <dt>Test Suite:
      <dd class="wpt-overview"><a href="https://wpt.fyi/results/css/css-color/">https://wpt.fyi/results/css/css-color/</a>
     </dl>
    </div>
   </details>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> © 2025 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/copyright/software-license/" rel="license" title="W3C Software and Document License">permissive document license</a> rules apply.
</p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This module extends CSS Color <a data-link-type="biblio" href="#biblio-css-color-4" title="CSS Color Module Level 4">[css-color-4]</a> to add color modification functions, custom color spaces (ICC profiles), contrast-color(), light-dark() and device-cmyk().</p>
   


<a href="https://www.w3.org/TR/CSS/">CSS</a> is a language for describing the rendering of structured documents
(such as HTML and XML)
on screen, on paper, etc.


  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p>
	This is a public copy of the editors’ draft.
	It is provided for discussion only and may change at any moment.
	Its publication here does not imply endorsement of its contents by W3C.
	Don’t cite this document other than as work in progress.

</p>
   <p>Please send feedback
	by <a href="https://github.com/w3c/csswg-drafts/issues">filing issues in GitHub</a> (preferred),
	including the spec code “css-color” in the title, like this:
	“[css-color] <i>…summary of comment…</i>”.
	All issues and comments are <a href="https://lists.w3.org/Archives/Public/public-css-archive/">archived</a>.
	Alternately, feedback can be sent to the (<a href="https://lists.w3.org/Archives/Public/www-style/">archived</a>) public mailing list
	<a href="mailto:www-style@w3.org?Subject=%5Bcss-color%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a>.

</p>
   <p>This document is governed by the
	<a href="https://www.w3.org/policies/process/20231103/" id="w3c_process_revision">03 November 2023 W3C Process Document</a>.

</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li><a href="#color-syntax"><span class="secno">2</span> <span class="content">The <span class="production">&lt;color></span> syntax</span></a>
    <li>
     <a href="#color-mix"><span class="secno">3</span> <span class="content">Mixing Colors: the <span class="css">color-mix()</span> Function</span></a>
     <ol class="toc">
      <li><a href="#color-mix-percent-norm"><span class="secno">3.1</span> <span class="content">
	Percentage Normalization
</span></a>
      <li><a href="#color-mix-result"><span class="secno">3.2</span> <span class="content">
	Calculating the Result of color-mix
</span></a>
      <li><a href="#color-mix-color-space-effect"><span class="secno">3.3</span> <span class="content">
	Effect of Mixing Color Space on color-mix
</span></a>
      <li><a href="#color-mix-with-alpha"><span class="secno">3.4</span> <span class="content">
	Effect of Non-Unity Alpha on color-mix
</span></a>
     </ol>
    <li>
     <a href="#relative-colors"><span class="secno">4</span> <span class="content">
	Relative Colors
</span></a>
     <ol class="toc">
      <li><a href="#rcs-intro"><span class="secno">4.1</span> <span class="content">
	Processing Model for Relative Colors
</span></a>
      <li><a href="#relative-syntax"><span class="secno">4.2</span> <span class="content">
	Relative Color Syntax
</span></a>
      <li><a href="#relative-RGB"><span class="secno">4.3</span> <span class="content">Relative sRGB Colors</span></a>
      <li><a href="#relative-HSL"><span class="secno">4.4</span> <span class="content">Relative HSL Colors</span></a>
      <li><a href="#relative-HWB"><span class="secno">4.5</span> <span class="content">Relative HWB Colors</span></a>
      <li><a href="#relative-Lab"><span class="secno">4.6</span> <span class="content">Relative Lab Colors</span></a>
      <li><a href="#relative-Oklab"><span class="secno">4.7</span> <span class="content">Relative Oklab Colors</span></a>
      <li><a href="#relative-LCH"><span class="secno">4.8</span> <span class="content">Relative LCH Colors</span></a>
      <li><a href="#relative-OkLCh"><span class="secno">4.9</span> <span class="content">Relative OkLCh Colors</span></a>
     </ol>
    <li>
     <a href="#color-function"><span class="secno">5</span> <span class="content">
	Specifying Predefined and Custom Color Spaces: the <span class="css">color()</span> Function
</span></a>
     <ol class="toc">
      <li><a href="#relative-color-function"><span class="secno">5.1</span> <span class="content">Relative Color-Function Colors</span></a>
      <li><a href="#custom-color"><span class="secno">5.2</span> <span class="content">
	Custom Color Spaces
</span></a>
      <li><a href="#at-profile"><span class="secno">5.3</span> <span class="content">
	Specifying a Color Profile: the <span class="css">@color-profile</span> at-rule
</span></a>
      <li><a href="#cal-cmyk"><span class="secno">5.4</span> <span class="content">
	CSS and Print: Using Calibrated CMYK and Other Printed Color Spaces
</span></a>
      <li><a href="#cmyk-to-lab"><span class="secno">5.5</span> <span class="content">
		Converting CMYK colors to Lab
		</span></a>
      <li><a href="#lab-to-cmyk"><span class="secno">5.6</span> <span class="content">
			Converting Lab colors to CMYK
			</span></a>
     </ol>
    <li>
     <a href="#device-cmyk"><span class="secno">6</span> <span class="content">
	Uncalibrated CMYK Colors: the <span class="css">device-cmyk()</span> Function
</span></a>
     <ol class="toc">
      <li><a href="#cmyk-rgb"><span class="secno">6.1</span> <span class="content">
	Naively Converting Between Uncalibrated CMYK and sRGB-Based Color
</span></a>
     </ol>
    <li><a href="#light-dark"><span class="secno">7</span> <span class="content">
	Reacting to the used color-scheme: the <span class="css">light-dark()</span> Function
</span></a>
    <li><a href="#contrast-color"><span class="secno">8</span> <span class="content">
	Dynamically specifying a text color with adequate contrast: the <span class="css">contrast-color()</span> Function
</span></a>
    <li>
     <a href="#interpolation"><span class="secno">9</span> <span class="content">
	Color Interpolation</span></a>
     <ol class="toc">
      <li><a href="#interpolation-space"><span class="secno">9.1</span> <span class="content">
	Color Space for Interpolation</span></a>
     </ol>
    <li>
     <a href="#resolving-color-values"><span class="secno">10</span> <span class="content">
	Resolving <span class="production">&lt;color></span> Values
</span></a>
     <ol class="toc">
      <li><a href="#resolving-mix"><span class="secno">10.1</span> <span class="content">
	Resolving <span class="css">color-mix()</span> Values
</span></a>
      <li><a href="#resolving-rcs"><span class="secno">10.2</span> <span class="content">
	Resolving Relative Color Syntax Values
</span></a>
      <li><a href="#resolving-device-cmyk-values"><span class="secno">10.3</span> <span class="content">
	Resolving <span class="css">device-cmyk</span> Values
</span></a>
     </ol>
    <li>
     <a href="#serial"><span class="secno">11</span> <span class="content">
	Serialization
</span></a>
     <ol class="toc">
      <li><a href="#serial-color-mix"><span class="secno">11.1</span> <span class="content">
	Serializing color-mix()
</span></a>
      <li><a href="#serial-origin-color"><span class="secno">11.2</span> <span class="content">
	Serializing Origin Colors
</span></a>
      <li><a href="#serial-relative-color"><span class="secno">11.3</span> <span class="content">
	Serializing Relative Color Functions
</span></a>
      <li><a href="#serial-custom-color"><span class="secno">11.4</span> <span class="content">
	Serializing Custom Color Spaces
</span></a>
      <li><a href="#serializing-device-cmyk-values"><span class="secno">11.5</span> <span class="content">
	Serializing <span class="css">device-cmyk</span> Values
</span></a>
     </ol>
    <li>
     <a href="#apis"><span class="secno">12</span> <span class="content">APIs</span></a>
     <ol class="toc">
      <li><a href="#the-csscolorprofilerule-interface"><span class="secno">12.1</span> <span class="content">The <code>CSSColorProfileRule</code> interface</span></a>
     </ol>
    <li><a href="#sample"><span class="secno">13</span> <span class="content">
	Default Style Rules
</span></a>
    <li><a href="#color-conversion-code"><span class="secno">14</span> <span class="content">
Sample code for Color Conversions</span></a>
    <li><a href="#security"><span class="secno">15</span> <span class="content">
	Security Considerations
</span></a>
    <li><a href="#privacy"><span class="secno">16</span> <span class="content">
	Privacy Considerations
</span></a>
    <li><a href="#a11y-sec"><span class="secno">17</span> <span class="content">Accessibility Considerations </span></a>
    <li>
     <a href="#changes"><span class="secno">18</span> <span class="content">
	Changes
</span></a>
     <ol class="toc">
      <li><a href="#changes-20250318"><span class="secno">18.1</span> <span class="content">
	Since the <span>Working Draft of 18 March 2025</span>
</span></a>
      <li><a href="#changes-20240229"><span class="secno">18.2</span> <span class="content">
	Since the <span>Working Draft of 29 February 2024</span>
</span></a>
      <li><a href="#changes-20220628"><span class="secno">18.3</span> <span class="content">
	Since the <span>Working Draft of 28 June 2022</span>
</span></a>
      <li><a href="#changes-20220428"><span class="secno">18.4</span> <span class="content">
	Since the <span>Working Draft of 28 April 2022</span>
</span></a>
      <li><a href="#changes-20211215"><span class="secno">18.5</span> <span class="content">
	Since the <span>Working Draft of 15 December 2021</span>
</span></a>
      <li><a href="#changes-20210601"><span class="secno">18.6</span> <span class="content">
	Since the <span>Working Draft of 1 June 2021</span>
</span></a>
      <li><a href="#changes-20200303"><span class="secno">18.7</span> <span class="content">
	Since the <span>FPWD of 10 June 2020</span>
</span></a>
      <li><a href="#changes-from-4"><span class="secno">18.8</span> <span class="content">
	Changes from CSS Color 4
</span></a>
     </ol>
    <li>
     <a href="#w3c-conformance"><span class="secno"></span> <span class="content">
Conformance</span></a>
     <ol class="toc">
      <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">
Document conventions</span></a>
      <li><a href="#w3c-conformance-classes"><span class="secno"></span> <span class="content">
Conformance classes</span></a>
      <li>
       <a href="#w3c-partial"><span class="secno"></span> <span class="content">
Partial implementations</span></a>
       <ol class="toc">
        <li><a href="#w3c-conform-future-proofing"><span class="secno"></span> <span class="content">
Implementations of Unstable and Proprietary Features</span></a>
       </ol>
      <li><a href="#w3c-testing"><span class="secno"></span> <span class="content">
Non-experimental implementations</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li>
     <a href="#property-index"><span class="secno"></span> <span class="content">Property Index</span></a>
     <ol class="toc">
      <li><a href="#color-profile-descriptor-table"><span class="secno"></span> <span class="content"><span>@color-profile</span> Descriptors</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
   </ol>
  </nav>
  <main>
<script>
document.addEventListener("DOMContentLoaded", ()=>{
	for (let e of document.querySelectorAll(".swatch")) {
		e.tabIndex = "0";
		const swatchColor = getComputedStyle(e).getPropertyValue("--color");

		if (!CSS.supports('color', swatchColor)) {
			e.style.background = "repeating-linear-gradient(135deg, red 0, red 4px, white 4px, white 8px)";
			e.setAttribute("title", "Your browser does not recognize this color value, so we can't preview it.");
		}
	}
});
</script>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
   <p><em>This section is not normative.</em></p>
   <p>This module adds the new functions
	<a class="css" data-link-type="maybe" href="#funcdef-contrast-color" id="ref-for-funcdef-contrast-color">contrast-color()</a>, 
	<a class="css" data-link-type="maybe" href="#funcdef-color-mix" id="ref-for-funcdef-color-mix">color-mix()</a> and <a class="css" data-link-type="maybe" href="#funcdef-light-dark" id="ref-for-funcdef-light-dark">light-dark()</a>,
	and extends existing ones with <a href="#relative-colors">relative color syntax</a>.</p>
   <p>It also extends the <a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color">color()</a> function
	so that not only predefined color spaces,
	but also custom color spaces defined by ICC profiles
	(including calibrated CMYK)
	can be used in CSS.</p>
   <p>It also adds <span class="css">device-cmyk</span>,
	a representation of
	uncalibrated cmyk color.</p>
   <h2 class="heading settled" data-level="2" id="color-syntax"><span class="secno">2. </span><span class="content">The <a class="production css" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color">&lt;color></a> syntax</span><a class="self-link" href="#color-syntax"></a></h2>
   <p>Colors in CSS are represented by the <dfn class="dfn-paneled css" data-dfn-type="type" data-export id="typedef-color"><a class="production css" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①">&lt;color></a></dfn> type:</p>
<pre class="prod">&lt;color> = <a class="production" data-link-type="type" href="#typedef-color-base" id="ref-for-typedef-color-base">&lt;color-base></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one">|</a> currentColor <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①">|</a> <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-color-4/#typedef-system-color" id="ref-for-typedef-system-color">&lt;system-color></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one②">|</a> 
      <a class="production" data-link-type="function" href="#funcdef-contrast-color" id="ref-for-funcdef-contrast-color①">&lt;contrast-color()></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one③">|</a> <a class="production" data-link-type="function" href="#funcdef-device-cmyk" id="ref-for-funcdef-device-cmyk">&lt;device-cmyk()></a>  <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one④">|</a> <a class="production" data-link-type="function" href="#funcdef-light-dark" id="ref-for-funcdef-light-dark①">&lt;light-dark()></a>

<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-color-base">&lt;color-base></dfn> = <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-color-4/#typedef-hex-color" id="ref-for-typedef-hex-color">&lt;hex-color></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑤">|</a> <a class="production" data-link-type="type" href="#typedef-color-function" id="ref-for-typedef-color-function">&lt;color-function></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑥">|</a> <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-color-4/#typedef-named-color" id="ref-for-typedef-named-color">&lt;named-color></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑦">|</a> <a class="production" data-link-type="function" href="#funcdef-color-mix" id="ref-for-funcdef-color-mix①">&lt;color-mix()></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑧">|</a> transparent
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-color-function">&lt;color-function></dfn> = <a class="production" data-link-type="function" href="https://drafts.csswg.org/css-color-4/#funcdef-rgb" id="ref-for-funcdef-rgb">&lt;rgb()></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑨">|</a> <a class="production" data-link-type="function" href="https://drafts.csswg.org/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba">&lt;rgba()></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①⓪">|</a>
              <a class="production" data-link-type="function" href="https://drafts.csswg.org/css-color-4/#funcdef-hsl" id="ref-for-funcdef-hsl">&lt;hsl()></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①①">|</a> <a class="production" data-link-type="function" href="https://drafts.csswg.org/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla">&lt;hsla()></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①②">|</a> <a class="production" data-link-type="function" href="#funcdef-hwb" id="ref-for-funcdef-hwb">&lt;hwb()></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①③">|</a>
              <a class="production" data-link-type="function" href="#funcdef-lab" id="ref-for-funcdef-lab">&lt;lab()></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①④">|</a> <a class="production" data-link-type="function" href="#funcdef-lch" id="ref-for-funcdef-lch">&lt;lch()></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①⑤">|</a> <a class="production" data-link-type="function" href="#funcdef-oklab" id="ref-for-funcdef-oklab">&lt;oklab()></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①⑥">|</a> <a class="production" data-link-type="function" href="#funcdef-oklch" id="ref-for-funcdef-oklch">&lt;oklch()></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①⑦">|</a>
              <a class="production" data-link-type="function" href="#funcdef-color" id="ref-for-funcdef-color①">&lt;color()></a>
</pre>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="absolute-color">absolute color</dfn>
	is a <a class="production css" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color②">&lt;color></a> whose computed value
	has an absolute, colorimetric interpretation.
	This means that the value is not:</p>
   <ul>
    <li data-md>
     <p><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-currentcolor" id="ref-for-valdef-color-currentcolor">currentColor</a> (which depends on the value of the <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-color-4/#propdef-color" id="ref-for-propdef-color">color</a> property)</p>
    <li data-md>
     <p>a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-color-4/#typedef-system-color" id="ref-for-typedef-system-color①">&lt;system-color></a> (which depends on the color mode)</p>
    <li data-md>
     <p><a class="production css" data-link-type="function" href="#funcdef-light-dark" id="ref-for-funcdef-light-dark②">&lt;light-dark()></a> (which depends on the color mode)</p>
    <li data-md>
     <p><a class="production css" data-link-type="function" href="#funcdef-contrast-color" id="ref-for-funcdef-contrast-color②">&lt;contrast-color()></a> (which depends on the color mode)</p>
    <li data-md>
     <p><a class="production css" data-link-type="function" href="#funcdef-device-cmyk" id="ref-for-funcdef-device-cmyk①">&lt;device-cmyk()></a> (which has no colorimetric basis)</p>
   </ul>
   <p>Nor are any of those values used inside <a class="production css" data-link-type="function" href="#funcdef-color-mix" id="ref-for-funcdef-color-mix②">&lt;color-mix()></a>
	or in relative color syntax.</p>
   <p>The colors that <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="resolve-to-srgb">resolve to sRGB</dfn> are:</p>
   <ul>
    <li data-md>
     <p><a href="css-color-4#hex-notation">hex</a> colors</p>
    <li data-md>
     <p><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-rgb" id="ref-for-funcdef-rgb①">rgb()</a> and <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba①">rgba()</a> values, including relative colors</p>
    <li data-md>
     <p><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-hsl" id="ref-for-funcdef-hsl①">hsl()</a> and <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla①">hsla()</a> values, including relative colors</p>
    <li data-md>
     <p><a class="css" data-link-type="maybe" href="#funcdef-hwb" id="ref-for-funcdef-hwb①">hwb()</a> values, including relative colors</p>
    <li data-md>
     <p><a href="css-color-4#named-colors">named</a> colors</p>
   </ul>
   <p>The functions that <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="support-legacy-color-syntax">support legacy color syntax</dfn> are:</p>
   <ul>
    <li data-md>
     <p><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-rgb" id="ref-for-funcdef-rgb②">rgb()</a> and <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba②">rgba()</a></p>
    <li data-md>
     <p><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-hsl" id="ref-for-funcdef-hsl②">hsl()</a> and <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla②">hsla()</a></p>
   </ul>
   <p>The <a class="production css" data-link-type="function" href="https://drafts.csswg.org/css-color-4/#funcdef-hsl" id="ref-for-funcdef-hsl③">&lt;hsl()></a>, <a class="production css" data-link-type="function" href="https://drafts.csswg.org/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla③">&lt;hsla()></a>, <a class="production css" data-link-type="function" href="#funcdef-hwb" id="ref-for-funcdef-hwb②">&lt;hwb()></a>, <a class="production css" data-link-type="function" href="#funcdef-lch" id="ref-for-funcdef-lch①">&lt;lch()></a>, and <a class="production css" data-link-type="function" href="#funcdef-oklch" id="ref-for-funcdef-oklch①">&lt;oklch()></a> <a data-link-type="dfn" href="https://drafts.csswg.org/css-color-4/#color-functions" id="ref-for-color-functions">color functions</a>
	are <a data-link-type="dfn" href="https://drafts.csswg.org/css-color-4/#cylindrical-polar-color" id="ref-for-cylindrical-polar-color">cylindrical polar color</a> representations using a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-color-4/#typedef-hue" id="ref-for-typedef-hue">&lt;hue></a> angle;
	the other <span id="ref-for-color-functions①">color functions</span> use <a data-link-type="dfn" href="https://drafts.csswg.org/css-color-4/#rectangular-orthogonal-color" id="ref-for-rectangular-orthogonal-color">rectangular orthogonal color</a> representations.</p>
   <h2 class="heading settled" data-level="3" id="color-mix"><span class="secno">3. </span><span class="content">Mixing Colors: the <a class="css" data-link-type="maybe" href="#funcdef-color-mix" id="ref-for-funcdef-color-mix③">color-mix()</a> Function</span><a class="self-link" href="#color-mix"></a></h2>
   <p>Web developers, design tools and design system developers
	often use color functions to assist in scaling the design
	of their component color relations.
	With the increasing usage of design systems that support multiple platforms
	and multiple user preferences, like the increased capability of Dark Mode in UI,
	this becomes even more useful to not need to manually set color,
	and to instead have a single source from which schemes are calculated.</p>
   <figure id="fig-chloropleth">
    <p><img alt="LC color picker" height="1045" src="images/LC-picker-scale.png" style="width: 40vmin" width="1168"><br>
			<img alt="chloropleth map of the US" height="1014" src="images/LC-picker-map2.png" style="width: 48vmin" width="1396"></p>
    <figcaption>Above, a color picker operating in CIE LCH space.
			Here, a pair of colors are being used
			to define a color scale
			on the Chroma-Lightness plane (constant Hue).
			Below, the color scale in use on a choropleth map.
		</figcaption>
   </figure>
   <p>Currently Sass, calc() on HSL values, or PostCSS is used to do this.
	However, preprocessors are unable to work on dynamically adjusted colors;
	all current solutions are restricted to the sRGB gamut
	and to the perceptual limitations of HSL
	(colors are bunched up in the color wheel,
	and two colors with visually different lightness,
	like yellow and blue, can have the same HSL lightness).</p>
   <p>To meet this need, the color-mix() function takes two <a class="production css" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color③">&lt;color></a> specifications
	and returns the result of mixing them,
	in a given <a class="production css" data-link-type="type" href="#typedef-color-space" id="ref-for-typedef-color-space">&lt;color-space></a>,
	by a specified amount.</p>
<pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-color-mix">color-mix()</dfn> = color-mix( <a class="production" data-link-type="type" href="#color-interpolation-method" id="ref-for-color-interpolation-method">&lt;color-interpolation-method></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-comma" id="ref-for-comb-comma">,</a> [ <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color④">&lt;color></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-all" id="ref-for-comb-all">&amp;&amp;</a> <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value">&lt;percentage [0,100]></a><a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt">?</a> ]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-comma" id="ref-for-mult-comma">#</a>)
</pre>
   <details class="wpt-tests-block" dir="ltr" lang="en" open>
    <summary>Tests</summary>
    <ul class="wpt-tests-list">
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/parsing/color-computed-color-mix-function.html" title="css/css-color/parsing/color-computed-color-mix-function.html">color-computed-color-mix-function.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/parsing/color-computed-color-mix-function.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-color-mix-function.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/parsing/color-valid-color-mix-function.html" title="css/css-color/parsing/color-valid-color-mix-function.html">color-valid-color-mix-function.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/parsing/color-valid-color-mix-function.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-color-mix-function.html"><small>(source)</small></a>
    </ul>
   </details>
   <h3 class="heading settled" data-level="3.1" id="color-mix-percent-norm"><span class="secno">3.1. </span><span class="content">
	Percentage Normalization
</span><a class="self-link" href="#color-mix-percent-norm"></a></h3>
   <p>Percentages are required to be in the range 0% to 100%.
	Negative percentages are specifically disallowed.
	Percentages are normalized by <a data-link-type="dfn" href="https://drafts.csswg.org/css-values-5/#normalize-mix-percentages" id="ref-for-normalize-mix-percentages">normalizing mix percentages</a>.</p>
   <details class="wpt-tests-block" dir="ltr" lang="en" open>
    <summary>Tests</summary>
    <ul class="wpt-tests-list">
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/color-mix-percents-01.html" title="css/css-color/color-mix-percents-01.html">color-mix-percents-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/color-mix-percents-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-percents-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/color-mix-percents-02.html" title="css/css-color/color-mix-percents-02.html">color-mix-percents-02.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/color-mix-percents-02.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-percents-02.html"><small>(source)</small></a>
    </ul>
   </details>
   <div class="example" id="ex-mix-syntactic">
    <a class="self-link" href="#ex-mix-syntactic"></a>
	These syntactic forms are thus all equivalent:

	
<pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple <c- m>50</c-><c- k>%</c-><c- p>,</c-> plum <c- m>50</c-><c- k>%</c-><c- p>)</c->
<c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple <c- m>50</c-><c- k>%</c-><c- p>,</c-> plum<c- p>)</c->
<c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple<c- p>,</c-> plum <c- m>50</c-><c- k>%</c-><c- p>)</c->
<c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple<c- p>,</c-> plum<c- p>)</c->
<c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> plum<c- p>,</c-> purple<c- p>)</c->
<c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple <c- m>80</c-><c- k>%</c-><c- p>,</c-> plum <c- m>80</c-><c- k>%</c-><c- p>)</c->
</pre>
    <p>All produce a 50-50 mix of <span class="swatch" style="--color: purple"></span> purple and <span class="swatch" style="--color: plum"></span> plum,
	in lch: <span class="swatch" style="--color: rgb(68.51%, 36.01%, 68.29%)"></span> lch(51.51% 52.21 325.8) which is <span class="swatch" style="--color: rgb(68.51%, 36.01%, 68.29%)"></span> rgb(68.51% 36.01% 68.29%).</p>
    <p>However, this form is <em>not</em> the same, as the alpha is less than one:</p>
<pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> purple <c- m>30</c-><c- k>%</c-><c- p>,</c-> plum <c- m>30</c-><c- k>%</c-><c- p>)</c->
</pre>
    <p>This produces <span class="swatch" style="--color: rgb(68.51%, 36.01%, 68.29%, 0.6)"></span> lch(51.51% 52.21 325.8 / 0.6) which is <span class="swatch" style="--color: rgb(68.51%, 36.01%, 68.29%, 0.6)"></span> rgb(68.51% 36.01% 68.29% / 0.6).</p>
   </div>
   <h3 class="heading settled" data-level="3.2" id="color-mix-result"><span class="secno">3.2. </span><span class="content">
	Calculating the Result of color-mix
</span><a class="self-link" href="#color-mix-result"></a></h3>
   <div class="algorithm" data-algorithm="calculate a color-mix()">
    
	To <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="calculate-a-color-mix">calculate a color-mix()</dfn>:


    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://drafts.csswg.org/css-values-5/#normalize-mix-percentages" id="ref-for-normalize-mix-percentages①">Normalize mix percentages</a> from the list of <a data-link-type="dfn" href="https://drafts.csswg.org/css-values-5/#mix-item" id="ref-for-mix-item">mix items</a> passed to the function,
with the "forced normalization" flag set to true,
letting <var>items</var> and <var>leftover</var> be the result.</p>
     <li data-md>
      <p>If <var>leftover</var> is 100%,
return <a data-link-type="dfn" href="https://drafts.csswg.org/css-color-4/#transparent-black" id="ref-for-transparent-black">transparent black</a>,
converted to the specified interpolation <a class="production css" data-link-type="type" href="#typedef-color-space" id="ref-for-typedef-color-space①">&lt;color-space></a>.</p>
     <li data-md>
      <p>Let <var>alpha mult</var> be <code>1 - <var>leftover</var></code>,
interpreting <var>leftover</var> as a number between 0 and 1.</p>
     <li data-md>
      <p>If <var>items</var> is length 1,
set <var>color</var> to the color of that sole item,
converted to the specified interpolation <a class="production css" data-link-type="type" href="#typedef-color-space" id="ref-for-typedef-color-space②">&lt;color-space></a>.</p>
      <p>Otherwise:</p>
      <ol>
       <li data-md>
        <p>Let <var>item stack</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#stack" id="ref-for-stack">stack</a> made by reversing <var>items</var>.
(Thus, with the first item at the top of the stack.)</p>
       <li data-md>
        <p>While <var>item stack</var> has length 2 or greater:</p>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#stack-pop" id="ref-for-stack-pop">Pop</a> from <var>item stack</var> twice,
letting <var>a</var> and <var>b</var> be the two results in order.
Let <var>combined percentage</var> be the sum of <var>a</var> and <var>b</var>’s percentages.</p>
         <li data-md>
          <p>Interpolate <var>a</var> and <var>b</var>’s colors
as described in <a href="https://drafts.csswg.org/css-color-4/#interpolation"><cite>CSS Color 4</cite> §  12. Color Interpolation</a>,
with a progress percentage equal to <code>(<var>b</var>’s percentage) / <var>combined percentage</var>)</code>.
If the specified color space is a <a data-link-type="dfn" href="https://drafts.csswg.org/css-color-4/#cylindrical-polar-color" id="ref-for-cylindrical-polar-color①">cylindrical polar color</a> space,
then the <a class="production css" data-link-type="type" href="#typedef-hue-interpolation-method" id="ref-for-typedef-hue-interpolation-method">&lt;hue-interpolation-method></a> controls the
interpolation of hue, as described in
<a href="https://drafts.csswg.org/css-color-4/#hue-interpolation"><cite>CSS Color 4</cite> § 12.4 Hue Interpolation</a>.
If no <span class="production" id="ref-for-typedef-hue-interpolation-method①">&lt;hue-interpolation-method></span> is specified,
assume <span class="css">shorter</span>.</p>
         <li data-md>
          <p>Create a new <a data-link-type="dfn" href="https://drafts.csswg.org/css-values-5/#mix-item" id="ref-for-mix-item①">mix item</a> with the resulting color
and a percentage of <var>combined percentage</var>,
and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#stack-push" id="ref-for-stack-push">push</a> it onto <var>item stack</var>.</p>
        </ol>
       <li data-md>
        <p>Set <var>color</var> to the color of the sole remaining item in <var>item stack</var>.</p>
      </ol>
     <li data-md>
      <p>Multiply the alpha component of <var>color</var> by <var>alpha mult</var>.</p>
     <li data-md>
      <p>Return <var>color</var>.</p>
    </ol>
    <p class="note" role="note"><span class="marker">Note:</span> In <a data-link-type="dfn" href="https://drafts.csswg.org/css-color-4/#cylindrical-polar-color" id="ref-for-cylindrical-polar-color②">cylindrical polar color</a> spaces,
	mixing is order-dependent,
	as which direction is “shorter” or “longer” around the hue circle
	can change depending on what other mixes have already been performed.
	This algorithm mixes each color in the specified order,
	mixing the result with the next in the list.
	For <a data-link-type="dfn" href="https://drafts.csswg.org/css-color-4/#rectangular-orthogonal-color" id="ref-for-rectangular-orthogonal-color①">rectangular orthogonal color</a> spaces,
	the order doesn’t matter,
	and the process can be simplified.</p>
   </div>
   <details class="wpt-tests-block" dir="ltr" lang="en" open>
    <summary>Tests</summary>
    <ul class="wpt-tests-list">
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/color-mix-basic-001.html" title="css/css-color/color-mix-basic-001.html">color-mix-basic-001.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/color-mix-basic-001.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-basic-001.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/color-mix-missing-components.html" title="css/css-color/color-mix-missing-components.html">color-mix-missing-components.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/color-mix-missing-components.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-missing-components.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/color-mix-non-srgb-001.html" title="css/css-color/color-mix-non-srgb-001.html">color-mix-non-srgb-001.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/color-mix-non-srgb-001.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-non-srgb-001.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/parsing/color-computed-color-mix-function.html" title="css/css-color/parsing/color-computed-color-mix-function.html">color-computed-color-mix-function.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/parsing/color-computed-color-mix-function.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-color-mix-function.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/parsing/color-invalid-color-mix-function.html" title="css/css-color/parsing/color-invalid-color-mix-function.html">color-invalid-color-mix-function.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/parsing/color-invalid-color-mix-function.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-color-mix-function.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/parsing/color-valid-color-mix-function.html" title="css/css-color/parsing/color-valid-color-mix-function.html">color-valid-color-mix-function.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/parsing/color-valid-color-mix-function.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-color-mix-function.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/parsing/color-mix-out-of-gamut.html" title="css/css-color/parsing/color-mix-out-of-gamut.html">color-mix-out-of-gamut.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/parsing/color-mix-out-of-gamut.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-mix-out-of-gamut.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.html" title="html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.html">2d.fillStyle.colormix.html</a> <a class="wpt-live" href="http://wpt.live/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.currentcolor.html" title="html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.currentcolor.html">2d.fillStyle.colormix.currentcolor.html</a> <a class="wpt-live" href="http://wpt.live/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.currentcolor.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/html/canvas/element/fill-and-stroke-styles/2d.fillStyle.colormix.currentcolor.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/html/canvas/element/fill-and-stroke-styles/2d.strokeStyle.colormix.html" title="html/canvas/element/fill-and-stroke-styles/2d.strokeStyle.colormix.html">2d.strokeStyle.colormix.html</a> <a class="wpt-live" href="http://wpt.live/html/canvas/element/fill-and-stroke-styles/2d.strokeStyle.colormix.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/html/canvas/element/fill-and-stroke-styles/2d.strokeStyle.colormix.html"><small>(source)</small></a>
    </ul>
   </details>
   <p>The result of mixing is the color at the specified percentage along the progression
of the second color to the first color.</p>
   <p class="note" role="note"><span class="marker">Note:</span> As a corollary, a percentage of 0% just returns the other color converted to the specified color space,
and a percentage of 100% returns the same color converted to the specified color space.</p>
   <div class="example" id="ex-mix-lch-peru40">
    <a class="self-link" href="#ex-mix-lch-peru40"></a>
	This example produces a mixture of 40% <span class="swatch" style="--color: peru"></span> peru
	and 60% <span class="swatch" style="--color: palegoldenrod"></span> palegoldenrod.

	
<pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> peru <c- m>40</c-><c- k>%</c-><c- p>,</c-> palegoldenrod<c- p>)</c-></pre>
    <p>The mixing is done in <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-lch-lch" id="ref-for-valdef-lch-lch">lch</a> color space.
	Here is a top-down view, looking along the neutral L axis:</p>
    <figure id="fig-LCH-peru-goldenrod">
     <object data="images/CH-mixing.svg" height="480" width="480">
      <p>A mixture of two colors, and the mixed output.
				We are looking down the CIE L axis onto the ab plane.
				There are two axes, labelled <em>a</em> and <em>b</em>
				which cross at the origin,
				which is in the centre of the plot.</p>
     </object>
     <figcaption>Mixtures of peru and palegoldenrod in CIE LCH.
			Peru has a hue angle, measured from the positive a axis,
			of 63.677 degrees
			while palegoldenrod has a hue angle of 98.834 degrees.
			Peru has a chroma, or distance from the central neutral axis, of 54.011
			while palegoldenrod has a chroma of 31.406.
			All possible mixtures lie along the curve. A 40%/60% mixture is shown.
		</figcaption>
    </figure>
    <p>The calculation is as follows:</p>
    <ul>
     <li data-md>
      <p><span class="swatch" style="--color: peru"></span> peru is lch(62.253% 54.011 63.677)</p>
     <li data-md>
      <p><span class="swatch" style="--color: palegoldenrod"></span> palegoldenrod is lch(91.374% 31.406 98.834)</p>
     <li data-md>
      <p>the mixed lightness is 62.253 * 40/100 + 91.374 * (100-40)/100 = 79.7256</p>
     <li data-md>
      <p>the mixed chroma is 54.011 * 40/100 + 31.406 * (100-40)/100 = 40.448</p>
     <li data-md>
      <p>the mixed hue is 63.677 * 40/100 + 98.834 * (100-40)/100 = 84.771</p>
     <li data-md>
      <p>the mixed result is <span class="swatch" style="--color: rgb(87.416% 76.036% 47.637%)"></span> lch(79.7256% 40.448 84.771)</p>
    </ul>
   </div>
   <div class="example" id="ex-mix-lch-teal65">
    <a class="self-link" href="#ex-mix-lch-teal65"></a>
	This example produces the mixture of teal and olive,
	in <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-lch-lch" id="ref-for-valdef-lch-lch①">lch</a> color space,
	with each lch component being 65% of the value for teal
	and 35% of the value for olive.


    <p class="note" role="note"><span class="marker">Note:</span> interpolating on hue and chroma
	keeps the intermediate colors
	as saturated as the endpoint colors.</p>
<pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> teal <c- m>65</c-><c- k>%</c-><c- p>,</c-> olive<c- p>);</c-></pre>
    <figure id="fig-LCH-teal-olive">
     <object data="images/CH-mixing3.svg" height="500" width="500">
      <p>A mixture of two colors, and the mixed output.
				We are looking down the CIE L axis onto the ab plane.
				There are two axes, labelled <em>a</em> and <em>b</em>
				which cross at the origin,
				which is in the centre of the plot.
			</p>
     </object>
     <figcaption>Mixtures of teal and olive.
			Teal has a hue angle, measured from the positive a axis,
			of 196.4524 degrees
			while olive has a hue angle of 99.5746 degrees.
			Teal has a chroma, or distance from the central neutral axis, of 31.6903
			while olive has a chroma of 56.8124.
			Mixtures lie along the dashed curve. A 65%/35% mixture is shown.
		</figcaption>
    </figure>
    <p>The calculation is as follows:</p>
    <ul>
     <li data-md>
      <p>sRGB  <span class="swatch" style="--color: teal"></span> teal (#008080) is lch(47.9855% 31.6903 196.4524)</p>
     <li data-md>
      <p>sRGB <span class="swatch" style="--color: olive"></span>  olive (#808000) is lch(52.1496% 56.8124 99.5746)</p>
     <li data-md>
      <p>mixed lightness is 47.9855 * 0.65 + 52.1496 * 0.35 = 49.4429</p>
     <li data-md>
      <p>mixed chroma is 31.6903 * 0.65 + 56.8124 * 0.35 = 40.4830</p>
     <li data-md>
      <p>mixed hue is 196.4524 * 0.65 + 99.5746 * 0.35 = 162.5452</p>
     <li data-md>
      <p>mixed result is lch(49.4429% 40.4830 162.5452)</p>
     <li data-md>
      <p>which is a slightly-blueish green: <span class="swatch" style="--color: rgb(7.7377% 52.5730% 37.3213%)"></span>  rgb(7.7377% 52.5730% 37.3213%)</p>
    </ul>
   </div>
   <div class="example" id="ex-mix-zero-sum">
    <a class="self-link" href="#ex-mix-zero-sum"></a>
	In this example, both percentages are zero, so their sum is also zero:

	
<pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in oklch<c- p>,</c-> teal <c- m>0</c-><c- k>%</c-><c- p>,</c-> olive <c- m>0</c-><c- k>%</c-><c- p>);</c-></pre>
    <p>Thus, the result is transparent black, in the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-oklch-oklch" id="ref-for-valdef-oklch-oklch">oklch</a> color space:<br>
	<span class="swatch" style="--color: transparent"></span> oklch(0% 0 none / 0)</p>
   </div>
   <h3 class="heading settled" data-level="3.3" id="color-mix-color-space-effect"><span class="secno">3.3. </span><span class="content">
	Effect of Mixing Color Space on color-mix
</span><a class="self-link" href="#color-mix-color-space-effect"></a></h3>
   <p>The choice of mixing color space can have a large effect on the end result.</p>
   <div class="example" id="ex-mix-colorspaces-black-white">
    <a class="self-link" href="#ex-mix-colorspaces-black-white"></a>
	This example is a 50% mix of white and black,
	in three different color spaces.

	
<pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> white<c- p>,</c-> black<c- p>);</c->
<c- nf>color-mix</c-><c- p>(</c->in xyz<c- p>,</c-> white<c- p>,</c-> black<c- p>);</c->
<c- nf>color-mix</c-><c- p>(</c->in srgb<c- p>,</c-> white<c- p>,</c-> black<c- p>);</c->
</pre>
    <p>The calculation is as follows:</p>
    <ul>
     <li data-md>
      <p>sRGB  <span class="swatch" style="--color: white"></span> white (#FFF) is lch(100% 0 0)</p>
     <li data-md>
      <p>sRGB <span class="swatch" style="--color: black"></span>  black (#000) is lch(0% 0 0)</p>
     <li data-md>
      <p>The mix in LCH is <span class="swatch" style="--color: rgb(47% 47% 47%)"></span>  lch(50% 0 0)</p>
     <li data-md>
      <p>The mix in XYZ is <span class="swatch" style="--color: rgb(74% 74% 74%)"></span>  lch(76% 0 0)</p>
     <li data-md>
      <p>The mix in sRGB is <span class="swatch" style="--color: rgb(50% 50% 50%)"></span>  lch(53.4% 0 0)</p>
    </ul>
    <p>The mix in LCH gives an L value of 50%,
	a perfect mid gray, exactly as expected
	(mixing in Lab would do the same,
	as the Lightness axis is the same in LCH and Lab).</p>
    <p>The mix in XYZ gives a result that is too light;
	XYZ is linear-light but is not perceptually uniform.
	The mix in sRGB gives a result that is a bit too light;
	sRGB is neither perceptually uniform nor linear-light.</p>
   </div>
   <div class="example" id="ex-mix-xyz">
    <a class="self-link" href="#ex-mix-xyz"></a>
	This example produces the mixture of
	the a red and a sky blue,
	in <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-xyz" id="ref-for-valdef-color-xyz">xyz</a> color space,
	with the mixture being 75.23% of that of the red
	(and thus, 24.77% of that of the blue).

	
<pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in xyz<c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>82.02</c-><c- k>%</c-> <c- m>30.21</c-><c- k>%</c-> <c- m>35.02</c-><c- k>%</c-><c- p>)</c-> <c- m>75.23</c-><c- k>%</c-><c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>5.64</c-><c- k>%</c-> <c- m>55.94</c-><c- k>%</c-> <c- m>85.31</c-><c- k>%</c-><c- p>));</c-></pre>
    <p>The calculation is as follows:</p>
    <ul>
     <li data-md>
      <p><span class="swatch" style="--color: rgb(82.02% 30.21% 35.02%)"></span> rgb(82.02% 30.21% 35.02%) is lch(52% 58.1 22.7) which is X=0.3214, Y=0.2014, Z=0.0879.</p>
     <li data-md>
      <p><span class="swatch" style="--color: rgb(5.64% 55.94% 85.31%)"></span> rgb(5.64% 55.94% 85.31%) is lch(56% 49.1 257.1) which is X=0.2070, Y=0.2391, Z=0.5249.</p>
     <li data-md>
      <p>mixed result X=(0.3214 * 0.7523) + (0.2070 * (1 - 0.7523)) = 0.29306.</p>
     <li data-md>
      <p>mixed result Y=(0.2014 * 0.7523) + (0.2391 * (1 - 0.7523)) = 0.21074.</p>
     <li data-md>
      <p>mixed result Z=(0.0879 * 0.7523) + (0.5249 * (1 - 0.7523)) = 0.19614.</p>
     <li data-md>
      <p>mix result is <span class="swatch" style="--color: rgb(72.300% 38.639% 53.557%)"></span> lch(53.0304% 38.9346 352.8138) which is rgb(72.300% 38.639% 53.557%)</p>
    </ul>
   </div>
   <div class="example" id="ex-mix-blue-white">
    <a class="self-link" href="#ex-mix-blue-white"></a>



    <p>This example is a 50% mix of white and blue,
	in three different color spaces.</p>
<pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in lch<c- p>,</c-> white<c- p>,</c-> blue<c- p>);</c->
<c- nf>color-mix</c-><c- p>(</c->in oklch<c- p>,</c-> white<c- p>,</c-> blue<c- p>);</c->
<c- nf>color-mix</c-><c- p>(</c->in srgb<c- p>,</c-> white<c- p>,</c-> blue<c- p>);</c->
</pre>
    <p>The calcuation is as follows:</p>
    <ul>
     <li data-md>
      <p><span class="swatch" style="--color: white"></span> white
is rgb(100% 100% 100%)
which is lch(100% 0 none)
which is oklch(100% 0 none)</p>
     <li data-md>
      <p><span class="swatch" style="--color: blue"></span> blue
is rgb(0% 0% 100%)
which is lch(29.5683% 131.201 301.364)
which is oklch(45.201% 0.31321 264.052)</p>
     <li data-md>
      <p><span class="swatch" style="--color: rgb(68.594% 53.794% 100%)"></span> mix
in lch is lch(64.7841% 65.6008 301.364) which is quite purple</p>
     <li data-md>
      <p><span class="swatch" style="--color: rgb(45.304% 63.808% 100%)"></span> mix
in oklch is oklch(72.601% 0.15661 264.052)</p>
     <li data-md>
      <p><span class="swatch" style="--color: rgb(50% 50% 100%)"></span> mix
in srgb is rgb(50% 50% 100%) which is also a bit purple</p>
    </ul>
   </div>
   <div class="example" id="ex-hsl-gamut-map">
    <a class="self-link" href="#ex-hsl-gamut-map"></a>
	This example is a mix of two colors,
	in <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-hsl-hsl" id="ref-for-valdef-hsl-hsl">hsl</a> color space,
	where one of the colors to be mixed
	is outside the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-srgb" id="ref-for-valdef-color-srgb">sRGB</a> gamut.

	
<pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in hsl<c- p>,</c-> <c- nf>color</c-><c- p>(</c->display-p3 <c- m>0</c-> <c- m>1</c-> <c- m>0</c-><c- p>)</c-> <c- m>80</c-><c- k>%</c-><c- p>,</c-> yellow<c- p>);</c->
</pre>
    <p>The calcuation is as follows:</p>
    <ul>
     <li data-md>
      <p><span class="swatch oog" style="--color: white"></span> color(display-p3 0 1 0)
is color(srgb -0.5116 1.01827 -0.3107) which is outside the sRGB gamut</p>
     <li data-md>
      <p>Converted to <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-hsl-hsl" id="ref-for-valdef-hsl-hsl①">hsl</a>
<span class="swatch oog" style="--color: rgb(0% 99.797% 0%)"></span>
hsl(127.879 301.946 25.334)</p>
     <li data-md>
      <p><span class="swatch" style="--color: yellow"></span> yellow is
<span class="swatch" style="--color: yellow"></span> hsl(60 100% 50%)</p>
     <li data-md>
      <p>the hue is 127.879 × 0.8 + 60 × 0.2 = 114.3032</p>
     <li data-md>
      <p>the saturation is 301.946 × 0.8 + 100 × 0.2 = 261.5568</p>
     <li data-md>
      <p>the lightness is 25.334 × 0.8 + 50 × 0.2 = 30.2672</p>
     <li data-md>
      <p>the mixed result is
<span class="swatch oog" style="--color: rgb(72.66% 100% 0%)"></span> hsl(114.3032 261.5568 30.2672) which is
<span class="swatch oog" style="--color: rgb(72.66% 100% 0%)"></span> color(srgb -0.3387 1.0943 -0.48899)</p>
    </ul>
   </div>
   <div class="example" id="ex-device-cmyk-mix">
    <a class="self-link" href="#ex-device-cmyk-mix"></a>
	<a class="css" data-link-type="maybe" href="#funcdef-device-cmyk" id="ref-for-funcdef-device-cmyk②">device-cmyk()</a> can be used in <a class="css" data-link-type="maybe" href="#funcdef-color-mix" id="ref-for-funcdef-color-mix④">color-mix()</a>
	but the result will depend on how the implementation
	chooses to obtain a computed value.


	
<pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in lab<c- p>,</c-> <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0.091777</c-> <c- m>0.043303</c-> <c- m>0.312816</c-> <c- m>0.000000</c-><c- p>)</c-> <c- m>100</c-><c- k>%</c-><c- p>,</c-> yellow<c- p>);</c->
</pre>
    <p>Since the first color is at 100%,
	the second color is 0% and does not affect the mixed result in any way.
	The result is thus the computed value of the first color,
	in CIE Lab.</p>
    <p>To visualize the result,
	let us say that the device CMYK values 
	are in fact to be printed using SWOP 2006 coated.</p>
    <ul>
     <li data-md>
      <p><span class="swatch" style="--color: rgb(98% 89% 75%)"></span>
device-cmyk(0.091777 0.043303 0.312816 0.000000) is 
<span class="swatch" style="--color: rgb(98% 89% 75%)"></span> 
lab(91.44% 4.142 20.52)</p>
    </ul>
    <p>Suppose the implementation uses an ICC profile
	to obtain <a class="css" data-link-type="maybe" href="#funcdef-lab" id="ref-for-funcdef-lab①">lab()</a> colors,
	and in this example a FOGRA39 Coated profile is used:</p>
    <ul>
     <li data-md>
      <p><span class="swatch" style="--color: rgb(98% 89% 75%)"></span>
device-cmyk(0.091777 0.043303 0.312816 0.000000) is 
<span class="swatch" style="--color: rgb(92.81% 91.34% 75.31%)"></span> 
lab(91.840596 -3.559090 20.449159)</p>
     <li data-md>
      <p>The deltaE 2000 between this and the original printed color
is <strong>8.17</strong> which is clearly visible.</p>
    </ul>
    <p>Now suppose another implementation uses
	the naive color conversion algorithm,
	giving an sRGB result.</p>
    <ul>
     <li data-md>
      <p><span class="swatch" style="--color: rgb(98% 89% 75%)"></span>
device-cmyk(0.091777 0.043303 0.312816 0.000000) is 
<span class="swatch" style="--color: rgb(90.8223% 95.6697% 68.7184%)"></span> 
rgb(90.8223% 95.6697% 68.7184%)
which is
<span class="swatch" style="--color: rgb(90.8223% 95.6697% 68.7184%)"></span>
lab(94.02% -12.31 31.79)</p>
     <li data-md>
      <p>The deltaE 2000 between this and the original printed color
is <strong>14.3</strong> which is very visible.</p>
    </ul>
   </div>
   <h3 class="heading settled" data-level="3.4" id="color-mix-with-alpha"><span class="secno">3.4. </span><span class="content">
	Effect of Non-Unity Alpha on color-mix
</span><a class="self-link" href="#color-mix-with-alpha"></a></h3>
   <p>So far, all the <a class="css" data-link-type="maybe" href="#funcdef-color-mix" id="ref-for-funcdef-color-mix⑤">color-mix()</a> examples
have used fully opaque colors.
To simplify the examples,
the <a data-link-type="dfn" href="https://drafts.csswg.org/css-color-4/#premultiplied" id="ref-for-premultiplied">premultilication</a> and unpremultiplication steps
were omitted
because these would simply multiply by 1, and divide by 1,
so the result would be unchanged.</p>
   <p>In the general case,
colors may have non-unity alpha components
and thus the <a data-link-type="dfn" href="https://drafts.csswg.org/css-color-4/#premultiplied" id="ref-for-premultiplied①">premultiply</a>, interpolate, unpremultiply steps
must not be omitted.</p>
   <div class="example" id="ex-premultiply-srgb">
    <a class="self-link" href="#ex-premultiply-srgb"></a>
	This example is 25% semi-opaque red
	and 75% semi-opaque green.
	mixed in sRGB.
	Both the correct (<a data-link-type="dfn" href="https://drafts.csswg.org/css-color-4/#premultiplied" id="ref-for-premultiplied②">premultiplied</a>)
	and incorrect (non-premultiplied)
	workings are shown.

	
<pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in srgb<c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>100</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> / <c- m>0.7</c-><c- p>)</c-> <c- m>25</c-><c- k>%</c-><c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>0</c-><c- k>%</c-> <c- m>100</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> / <c- m>0.2</c-><c- p>));</c->
</pre>
    <p>The calcuation is as follows:</p>
    <ul>
     <li data-md>
      <p><span class="swatch" style="--color: rgb(100% 0% 0% / 0.7)"></span> rgb(100% 0% 0% / 0.7)
when premultiplied, is [0.7, 0, 0]</p>
     <li data-md>
      <p><span class="swatch" style="--color: rgb(0% 100% 0% / 0.2)"></span> rgb(0% 100% 0% / 0.2)
when premultiplied, is [0, 0.2, 0]</p>
     <li data-md>
      <p>the premultiplied, interpolated result is
[0.7 * 0.25 + 0 * (1 - 0.25), 0 * 0.25 + 0.2 * (1 - 0.25), 0 * 0.25 + 0 * (1 - 0.25)]
which is [0.175, 0.150, 0]</p>
     <li data-md>
      <p>the interpolated alpha is 0.7 * 0.25 + 0.2 * (1 - 0.25) = 0.325</p>
     <li data-md>
      <p>the un-premultiplied result is
[0.175 / 0.325, 0.150 / 0.325, 0 / 0.325]
which is [0.53846, 0.46154, 0]</p>
     <li data-md>
      <p>so the mixed color is
<span class="swatch" style="--color: rgba(53.846%, 46.154%, 0%, 0.325)"></span>
color(srgb 0.53846 0.46154 0 / 0.325)</p>
    </ul>
    <p>The <em>incorrect</em> calculation would be:</p>
    <ul>
     <li data-md>
      <p>the interpolated result is
[1 * 0.25 + 0 * (1 - 0.25), 0 * 0.25 + 1 * (1 - 0.25), 0 * 0.25 + 0 * (1 - 0.25)]
which is [0.25, 0.75, 0]</p>
     <li data-md>
      <p>so the <em>incorrect</em> mixed color is
<span class="swatch" style="--color: rgba(25%, 75%, 0%, 0.325)"></span>
color(srgb 0.25 0.75 0 / 0.325)</p>
    </ul>
    <p>This is a <em>huge</em> difference; the ΔE2000 between the correct and incorrect results is 30.7!</p>
   </div>
   <p>When the percentage normalization generates an alpha multiplier,
the calculation is the same except for an additional last step.</p>
   <div class="example" id="ex-premultiply-srgb-2">
    <a class="self-link" href="#ex-premultiply-srgb-2"></a>
	This example is similar to the previous one,
	25% semi-opaque red
	and 75% semi-opaque green.
	mixed in sRGB.


    <p>However in this case the percentages are specified as
	20% of the first color and 60% of the second.
	This adds to 80% so the alpha multiplier is 0.8.</p>
    <p>The mix percentages are then scaled
	by a factor of 100/80:<br>
	20% * 100/80 = 25%<br>
	60% * 100/80 = 75%<br>
	giving the same final mix percentages as the previous example.</p>
<pre class="lang-css highlight"><c- nf>color-mix</c-><c- p>(</c->in srgb<c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>100</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> / <c- m>0.7</c-><c- p>)</c-> <c- m>20</c-><c- k>%</c-><c- p>,</c-> <c- nf>rgb</c-><c- p>(</c-><c- m>0</c-><c- k>%</c-> <c- m>100</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> / <c- m>0.2</c-><c- p>)</c-> <c- m>60</c-><c- k>%</c-><c- p>);</c->
</pre>
    <p>The calcuation is as follows:</p>
    <ul>
     <li data-md>
      <p><span class="swatch" style="--color: rgb(100% 0% 0% / 0.7)"></span> rgb(100% 0% 0% / 0.7)
when premultiplied, is [0.7, 0, 0]</p>
     <li data-md>
      <p><span class="swatch" style="--color: rgb(0% 100% 0% / 0.2)"></span> rgb(0% 100% 0% / 0.2)
when premultiplied, is [0, 0.2, 0]</p>
     <li data-md>
      <p>the premultiplied, interpolated result is
[0.7 * 0.25 + 0 * (1 - 0.25), 0 * 0.25 + 0.2 * (1 - 0.25), 0 * 0.25 + 0 * (1 - 0.25)]
which is [0.175, 0.150, 0]</p>
     <li data-md>
      <p>the interpolated alpha is 0.7 * 0.25 + 0.2 * (1 - 0.25) = 0.325</p>
     <li data-md>
      <p>the un-premultiplied result is
[0.175 / 0.325, 0.150 / 0.325, 0 / 0.325]
which is [0.53846, 0.46154, 0]</p>
     <li data-md>
      <p>so the mixed color would be
<span class="swatch" style="--color: rgba(53.846%, 46.154%, 0%, 0.325)"></span>
color(srgb 0.53846 0.46154 0 / 0.325)</p>
     <li data-md>
      <p>there is a 0.8 alpha multiplier,
so the alpha of the mixed result is actually 0.325 * 0.8 = 0.260
so the mixed color is actually <span class="swatch" style="--color: rgba(53.846%, 46.154%, 0%, 0.260)"></span>
color(srgb 0.53846 0.46154 0 / 0.260)</p>
    </ul>
   </div>
   <p class="note" role="note"><span class="marker">Note:</span> do not multiply the interpolated alpha by the alpha multiplier
and then use that to undo premultiplication.
That would be correct if the mix percentages were not scaled to sum to 100%,
but they are, so doing it this way would adjust the mixed color <em>twice</em>.</p>
   <h2 class="heading settled" data-level="4" id="relative-colors"><span class="secno">4. </span><span class="content">
	Relative Colors
</span><a class="self-link" href="#relative-colors"></a></h2>
   <h3 class="heading settled" data-level="4.1" id="rcs-intro"><span class="secno">4.1. </span><span class="content">
	Processing Model for Relative Colors
</span><a class="self-link" href="#rcs-intro"></a></h3>
   <p>In previous levels of this specification,
the color functions could only specify colors in an absolute manner,
by directly specifying all of the color components.</p>
   <p>The new <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="relative-color">relative color</dfn> syntax
extends <a data-link-type="dfn" href="https://drafts.csswg.org/css-color-4/#modern-color-syntax" id="ref-for-modern-color-syntax">modern color syntax</a>
to allow existing colors to be modified
using the color functions:
if an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="origin-color">origin color</dfn> is specified,
then each color component
(and the alpha component, if specified)
can <em>either</em> be directly specified,
or taken from the origin color
(and possibly modified with <a data-link-type="dfn" href="https://drafts.csswg.org/css-values-4/#math-function" id="ref-for-math-function">math functions</a>).</p>
   <p>The origin color and the relative color need not use the same color function.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="required-conversion">Required conversion</dfn>:
All operations take part in the 
<a data-link-type="dfn" href="https://drafts.csswg.org/css-color-4/#color-space" id="ref-for-color-space">color space</a> of the <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color">relative color</a> function;
if the
<dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="originally-specified-color-space">originally specified color space</dfn>
for the <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color">origin color</a> used a different color function,
it’s first converted into the chosen color function,
so it has meaningful values for the components,
and <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword">component keywords</a> 
refer to the color space of the relative color,
<em>not</em> the <span id="ref-for-origin-color①">origin color</span>.</p>
   <p>If the alpha value of the relative color is omitted,
it defaults to that of the <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color②">origin color</a>
(rather than defaulting to <span class="css">100%</span>, as it does in the absolute syntax).</p>
   <p>When relative color syntax is used,
<strong>color component</strong> values, 
whether directly specified 
or arising from color space conversion,
are <em>not clamped</em> to the reference ranges but are retained as-is.
This preserves out of gamut values,
if the destination color space is capable of representing them.</p>
   <p>However, when relative color syntax is used,
<strong>alpha component</strong> values 
whether directly specified 
or arising from color space conversion,
<em>are</em> clamped to the reference range.</p>
   <p>Missing components are handled the same way as with
<a href="https://drafts.csswg.org/css-color-4/#interpolation-missing"><cite>CSS Color 4</cite> § 12.2 Interpolating with Missing Components</a>:
the origin colorspace and the relative function colorspace
are checked for <a data-link-type="dfn" href="https://drafts.csswg.org/css-color-4/#analogous-components" id="ref-for-analogous-components">analogous components</a>
which are then <a data-link-type="dfn" href="https://drafts.csswg.org/css-color-4/#carried-forward" id="ref-for-carried-forward">carried forward</a> as missing.</p>
   <p>While most uses of <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①">relative color</a> syntax
will use the <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword①">component keywords</a> in their corresponding argument,
you can use them in any position.</p>
   <p>Beware when using components outside their normal position;
when percentages are resolved to numbers,
there is no "magic scaling"
to account for the changed position
if those numbers are used in a different place.</p>
   <p>There is no relative <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk" id="ref-for-funcdef-device-cmyk③">device-cmyk()</a> syntax.</p>
   <h3 class="heading settled" data-level="4.2" id="relative-syntax"><span class="secno">4.2. </span><span class="content">
	Relative Color Syntax
</span><a class="self-link" href="#relative-syntax"></a></h3>
   <p>The precise details of each function’s syntactic changes
to accommodate <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color②">relative colors</a> are listed below,
but they all follow a common structure:</p>
   <ul>
    <li data-md>
     <p>An <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color③">origin color</a> can be specified with a <span class="css">from <a class="production css" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color⑤">&lt;color></a></span> value
at the start of the function.
This includes the optional alpha component, if specified.</p>
    <li data-md>
     <p>If no origin color is specified, the function is not a relative color.</p>
    <li data-md>
     <p>If an <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color④">origin color</a> is specified,
the remaining arguments can either be specified directly, as normal,
or be specified as a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="component-keyword">component keyword</dfn>
referring to one of the components of the <span id="ref-for-origin-color⑤">origin color</span>
converted to the <a data-link-type="dfn" href="https://drafts.csswg.org/css-color-4/#color-space" id="ref-for-color-space①">color space</a> of the relative color.
<a data-link-type="dfn" href="https://drafts.csswg.org/css-values-4/#math-function" id="ref-for-math-function①">Math functions</a> can also use these keywords
to do dynamic modifications of the <span id="ref-for-origin-color⑥">origin color’s</span> components.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color③">Relative color</a> syntax doesn’t change whether an argument is required or optional.</p>
    <li data-md>
     <p>Relative color syntax only applies to the <a data-link-type="dfn" href="https://drafts.csswg.org/css-color-4/#modern-color-syntax" id="ref-for-modern-color-syntax①">modern color syntax</a>.
It <em>cannot</em> be used with <a data-link-type="dfn" href="https://drafts.csswg.org/css-color-4/#legacy-color-syntax" id="ref-for-legacy-color-syntax">legacy color syntax</a>
and attempting to do so is an error.</p>
    <li data-md>
     <p>However, the <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color⑦">origin color</a> can use either modern or legacy syntax.</p>
   </ul>
   <p>The <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword②">component keywords</a> return a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value">&lt;number></a>, or <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none">none</a>;
if they were originally specified as a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value①">&lt;percentage></a> or an <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#angle-value" id="ref-for-angle-value">&lt;angle></a>,
that <span class="production" id="ref-for-percentage-value②">&lt;percentage></span> is resolved to a <span class="production" id="ref-for-number-value①">&lt;number></span>
and the <span class="production" id="ref-for-angle-value①">&lt;angle></span> is resolved to a <span class="production" id="ref-for-number-value②">&lt;number></span> of degrees
(which is the <a data-link-type="dfn" href="https://drafts.csswg.org/css-values-4/#canonical-unit" id="ref-for-canonical-unit">canonical unit</a>)
in the range [0, 360].</p>
   <details class="wpt-tests-block" dir="ltr" lang="en" open>
    <summary>Tests</summary>
    <ul class="wpt-tests-list">
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-a98rgb-01.html" title="css/css-color/relative-currentcolor-a98rgb-01.html">relative-currentcolor-a98rgb-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-a98rgb-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-a98rgb-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lch-01.html" title="css/css-color/relative-currentcolor-lch-01.html">relative-currentcolor-lch-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-lch-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lch-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-01.html" title="css/css-color/relative-currentcolor-rgb-01.html">relative-currentcolor-rgb-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-rgb-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-displayp3-01.html" title="css/css-color/relative-currentcolor-displayp3-01.html">relative-currentcolor-displayp3-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-displayp3-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-displayp3-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklab-01.html" title="css/css-color/relative-currentcolor-oklab-01.html">relative-currentcolor-oklab-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-oklab-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklab-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-02.html" title="css/css-color/relative-currentcolor-rgb-02.html">relative-currentcolor-rgb-02.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-rgb-02.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-02.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-01.html" title="css/css-color/relative-currentcolor-hsl-01.html">relative-currentcolor-hsl-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-hsl-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklch-01.html" title="css/css-color/relative-currentcolor-oklch-01.html">relative-currentcolor-oklch-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-oklch-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklch-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-xyzd50-01.html" title="css/css-color/relative-currentcolor-xyzd50-01.html">relative-currentcolor-xyzd50-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-xyzd50-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-xyzd50-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-02.html" title="css/css-color/relative-currentcolor-hsl-02.html">relative-currentcolor-hsl-02.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-hsl-02.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-02.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-prophoto-01.html" title="css/css-color/relative-currentcolor-prophoto-01.html">relative-currentcolor-prophoto-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-prophoto-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-prophoto-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-xyzd65-01.html" title="css/css-color/relative-currentcolor-xyzd65-01.html">relative-currentcolor-xyzd65-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-xyzd65-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-xyzd65-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hwb-01.html" title="css/css-color/relative-currentcolor-hwb-01.html">relative-currentcolor-hwb-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-hwb-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hwb-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rec2020-01.html" title="css/css-color/relative-currentcolor-rec2020-01.html">relative-currentcolor-rec2020-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-rec2020-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rec2020-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lab-01.html" title="css/css-color/relative-currentcolor-lab-01.html">relative-currentcolor-lab-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-lab-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lab-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rec2020-02.html" title="css/css-color/relative-currentcolor-rec2020-02.html">relative-currentcolor-rec2020-02.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-rec2020-02.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rec2020-02.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-visited-getcomputedstyle.html" title="css/css-color/relative-currentcolor-visited-getcomputedstyle.html">relative-currentcolor-visited-getcomputedstyle.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-visited-getcomputedstyle.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-visited-getcomputedstyle.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/parsing/color-computed-relative-color.html" title="css/css-color/parsing/color-computed-relative-color.html">color-computed-relative-color.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/parsing/color-computed-relative-color.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-relative-color.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/parsing/color-invalid-relative-color.html" title="css/css-color/parsing/color-invalid-relative-color.html">color-invalid-relative-color.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/parsing/color-invalid-relative-color.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-relative-color.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/parsing/color-valid-relative-color.html" title="css/css-color/parsing/color-valid-relative-color.html">color-valid-relative-color.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/parsing/color-valid-relative-color.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-relative-color.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/parsing/relative-color-out-of-gamut.html" title="css/css-color/parsing/relative-color-out-of-gamut.html">relative-color-out-of-gamut.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/parsing/relative-color-out-of-gamut.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/relative-color-out-of-gamut.html"><small>(source)</small></a>
    </ul>
   </details>
   <div class="example" id="example-1f6216e3">
    <a class="self-link" href="#example-1f6216e3"></a>
	For example, if a color is specified using <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value③">&lt;percentage></a>,
	then RCS in the same colorspace will use the resolved <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value③">&lt;number></a> form:

	
<pre class="highlight">html <c- p>{</c-> <c- k>--bluegreen</c-><c- p>:</c-> <span class="swatch" style="--color: teal"></span> <c- nf>oklab</c-><c- p>(</c-><c- m>54.3</c-><c- k>%</c-> <c- m>-22.5</c-><c- k>%</c-> <c- m>-5</c-><c- k>%</c-><c- p>);</c-> <c- p>}</c->
.overlay <c- p>{</c->
  <c- k>background</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(4.696% 39.17% 39.38%)"></span> <c- nf>oklab</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--bluegreen<c- p>)</c-> <c- nf>calc</c-><c- p>(</c-><c- m>1.0</c-> - l<c- p>)</c-> <c- nf>calc</c-><c- p>(</c->a * <c- m>0.8</c-><c- p>)</c-> b<c- p>);</c->
<c- p>}</c->
</pre>
    <p>In this example, the specified percentages are resolved to numbers,
	giving oklab(0.543 -0.09 -0.02).
	The resulting RCS color has l = 1 - 0.543 = 0.457,
	a = -0.09 * 0.8 = -0.072,
	and b is unchanged at -0.02:
	oklab(0.457 -0.072 -0.02).</p>
   </div>
   <div class="example" id="example-4889a5cd">
    <a class="self-link" href="#example-4889a5cd"></a>
	For example, if the origin color has a hue <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#angle-value" id="ref-for-angle-value②">&lt;angle></a> specified in degrees,
	then RCS in the same colorspace will use the resolved <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value④">&lt;number></a> form:

	
<pre class="highlight">html <c- p>{</c-> <c- k>--base</c-><c- p>:</c-> <span class="swatch" style="--color: sienna"></span> <c- nf>oklch</c-><c- p>(</c-><c- m>52.6</c-><c- k>%</c-> <c- m>0.115</c-> <c- m>44.6</c-><c- k>deg</c-><c- p>)</c-> <c- p>}</c->
.summary <c- p>{</c->
  <c- k>background</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(30.09% 47.36% 18.46%)"></span> <c- nf>oklch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--base<c- p>)</c-> l c  <c- nf>calc</c-><c- p>(</c->h + <c- m>90</c-><c- p>));</c->
<c- p>}</c->
</pre>
    <p>In this example the resulting RCS color is oklch(0.526 0.115 134.6).</p>
    <p>Had the origin color hue <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#angle-value" id="ref-for-angle-value③">&lt;angle></a> been specified in another unit,
	such as radians or turns,
	still the resolved <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value⑤">&lt;number></a> would be the number of degrees.</p>
   </div>
   <div class="example" id="example-2a49656f">
    <a class="self-link" href="#example-2a49656f"></a>
	By using the <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword③">component keywords</a> in a <a data-link-type="dfn" href="https://drafts.csswg.org/css-values-4/#math-function" id="ref-for-math-function②">math function</a>,
	an <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color⑧">origin color</a> can be manipulated in more advanced ways.

	
<pre class="highlight">html <c- p>{</c-> <c- k>--color</c-><c- p>:</c-> green<c- p>;</c-> <c- p>}</c->
.foo <c- p>{</c->
  <c- k>--darker-accent</c-><c- p>:</c-> <c- nf>lch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--color<c- p>)</c-> <c- nf>calc</c-><c- p>(</c->l / <c- m>2</c-><c- p>)</c-> c h<c- p>);</c->
<c- p>}</c->
</pre>
    <p>In this example, the <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color⑨">origin color</a> is darkened
	by cutting its lightness in half,
	without changing any other aspect of the color.</p>
    <p>Note as well that the <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color①⓪">origin color</a> is a color keyword
	(and thus, sRGB),
	but it’s automatically interpreted as an LCH color
	due to being used in the <a class="css" data-link-type="maybe" href="#funcdef-lch" id="ref-for-funcdef-lch②">lch()</a> function.</p>
   </div>
   <div class="example" id="example-1374fcad">
    <a class="self-link" href="#example-1374fcad"></a>
	For example, if a theme color is specified as opaque,
	but in a particular instance you need it to be partially transparent:

	
<pre class="highlight">html <c- p>{</c-> <c- k>--bg-color</c-><c- p>:</c-> <span class="swatch" style="--color: blue"></span> blue<c- p>;</c-> <c- p>}</c->
.overlay <c- p>{</c->
  <c- k>background</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(0,0,255,80%)"></span> <c- nf>rgb</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--bg-color<c- p>)</c-> r g b / <c- m>80</c-><c- k>%</c-><c- p>);</c->
<c- p>}</c->
</pre>
    <p>In this example, the r, g, and b components of the <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color①①">origin color</a> are unchanged,
	indicated by specifying them with the keywords
	drawing their values from the <span id="ref-for-origin-color①②">origin color</span>,
	but the opacity is set to <span class="css">80%</span> to make it slightly transparent,
	regardless of what the <span id="ref-for-origin-color①③">origin color’s</span> opacity was.</p>
   </div>
   <div class="example" id="example-b1f4bd13">
    <a class="self-link" href="#example-b1f4bd13"></a>
	For example, a Display P3 color
	which is outside the gamut of sRGB can still be represented,
	as it is not clipped.

	
<pre class="highlight"><c- k>--vivid-yellow</c-><c- p>:</c-> <span class="swatch oog" style="--color: color(display-p3 1 1 0)"></span> <c- nf>color</c-><c- p>(</c->display-p3 <c- m>1</c-> <c- m>1</c-> <c- m>0</c-><c- p>);</c-> 
<c- k>--paler-yellow</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(100% 100% 15.37%)"></span> <c- nf>color</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--vivid-yellow<c- p>)</c-> srgb r g <c- nf>calc</c-><c- p>(</c->b + <c- m>0.5</c-><c- p>));</c->
</pre>
    <p>Here --vivid-yellow, once converted to sRGB,
	is <span class="swatch oog" style="--color: color(display-p3 1 1 0)"></span> rgb(100% 100% -34.63%)
	and the negative blue component is not clamped.
	The result of the RCS calculation is 
	<span class="swatch" style="--color: rgb(100% 100% 15.37%)"></span> rgb(100% 100% 15.37%)</p>
   </div>
   <div class="example" id="example-4bad0aeb">
    <a class="self-link" href="#example-4bad0aeb"></a>
	For example, attempting to double an alpha of 0.7 in the origin color
	results in an alpha in the result of 1, not 1.4.

	
<pre class="highlight"><c- k>--tan</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(80.93% 70% 55.27% / 70%)"></span> <c- nf>oklch</c-><c- p>(</c-><c- m>78</c-><c- k>%</c-> <c- m>0.06</c-> <c- m>75</c-> / <c- m>0.7</c-><c- p>);</c->
<c- k>--deeper-tan</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(80.93% 70% 55.27%)"></span> <c- nf>oklch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--tan<c- p>)</c-> l c h / <c- nf>calc</c-><c- p>(</c->alpha * <c- m>2</c-><c- p>));</c->
</pre>
   </div>
   <div class="example" id="example-2bf59389">
    <a class="self-link" href="#example-2bf59389"></a>
	For example, to do a rough approximation of grayscaling a color:

	
<pre class="highlight"><c- k>--blue-into-gray</c-><c- p>:</c-> <c- nf>rgb</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--color<c- p>)</c->
                    <c- nf>calc</c-><c- p>(</c->r * <c- m>.3</c-> + g * <c- m>.59</c-> + b * <c- m>.11</c-><c- p>)</c->
                    <c- nf>calc</c-><c- p>(</c->r * <c- m>.3</c-> + g * <c- m>.59</c-> + b * <c- m>.11</c-><c- p>)</c->
                    <c- nf>calc</c-><c- p>(</c->r * <c- m>.3</c-> + g * <c- m>.59</c-> + b * <c- m>.11</c-><c- p>));</c->
</pre>
    <p>Using this,
	<a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-red" id="ref-for-valdef-color-red">red</a> would become <span class="css">rgb(76.5 76.5 76.5)</span>,
	<a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-lime" id="ref-for-valdef-color-lime">lime</a> would become <span class="css">rgb(150.45 150.45 150.45)</span>,
	and <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-blue" id="ref-for-valdef-color-blue">blue</a> would become <span class="css">rgb(150.45 150.45 150.45)</span>.
	A more moderate color, like <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-darkolivegreen" id="ref-for-valdef-color-darkolivegreen">darkolivegreen</a>,
	which has RGB values <span class="css">rgb(85 107 47)</span>,
	would become <span class="css">rgb(93.8 93.8 93.8)</span>.</p>
    <p>(Rough because firstly,
	although this looks like a luminance calculation,
	the red green and blue values
	are manipulated in gamma-encoded space
	rather than linear-light;
	secondly,
	the weighting factors are those
	for the obsolete NTSC color space,
	not sRGB.)</p>
    <p>(Note, too, that this is just to illustrate the syntax;
	an easier and more accurate way to grayscale a color
	is to use the <a class="css" data-link-type="maybe" href="#funcdef-oklch" id="ref-for-funcdef-oklch②">oklch()</a> function,
	as that color space is more accurate to human perception:
	<span class="css">oklch(from var(--color) l 0 h)</span> preserves the lightness,
	but zeroes out the chroma,
	which determines how "colorful" the color is.)</p>
   </div>
   <div class="example" id="ex-no-percentage-magic">
    <a class="self-link" href="#ex-no-percentage-magic"></a>
	
    <p>For example,</p>
<pre class="highlight"><c- k>color</c-><c- p>:</c-> <c- nf>color</c-><c- p>(</c->from <c- nf>color</c-><c- p>(</c->srgb <c- m>0</c-> <c- m>0</c-> <c- m>0</c-> / <c- m>60</c-><c- k>%</c-><c- p>)</c-> srgb alpha <c- m>0.6</c-> <c- m>0.6</c-> / <c- m>0.9</c-><c- p>);</c->
</pre>
    <p>The alpha component is resolved as a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value⑥">&lt;number></a>,
		giving 0.6; thus the resulting color is
		<span class="swatch" style="--color: rgb(60% 60% 60% / 0.9)"></span> <span class="css">color(srgb 0.6 0.6 0.6 / 0.9)</span>.
	</p>
    <p>However, in this second example, again the alpha resolves to 0.6,
		giving a very different color due to the color component range
		of 0 to 255 in
		rgb() syntax:
	</p>
<pre class="highlight"><c- k>color</c-><c- p>:</c-> <c- nf>rgb</c-><c- p>(</c->from <c- nf>rgb</c-><c- p>(</c-><c- m>0</c-> <c- m>0</c-> <c- m>0</c-> / <c- m>60</c-><c- k>%</c-><c- p>)</c-> alpha <c- m>153</c-> <c- m>153</c-> / <c- m>0.9</c-><c- p>);</c->
</pre>
    <p>which results in
	<span class="swatch" style="--color: rgb(0.235% 60% 60% / 0.9)"></span> <span class="css">rgb(0.6 153 153 / 0.9)</span>
	and <em>not</em>
	<span class="swatch" style="--color: rgb(153 153 153 / 0.9)"></span> <span class="css">rgb(153 153 153 / 0.9)</span>.
	</p>
   </div>
   <div class="example" id="ex-missing-analogous">
    <a class="self-link" href="#ex-missing-analogous"></a>
	In this example the achromatic origin color has a missing hue;
	the <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color④">relative color</a> also has a missing hue,
	which affects a gradient using that color.

	
<pre class="highlight">html <c- p>{</c-> <c- k>--bg</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(51.5% 48.5% 48.5%)"></span> <c- nf>hsl</c-><c- p>(</c->none <c- m>3</c-><c- k>%</c-> <c- m>50</c-><c- k>%</c-><c- p>);</c-> <c- p>}</c->
.foo <c- p>{</c->
  <c- k>--darker-bg</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(37.86% 35.24% 35.91%)"></span> <c- nf>oklch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--bg<c- p>)</c-> <c- nf>calc</c-><c- p>(</c->l * <c- m>0.8</c-><c- p>)</c-> c h<c- p>);</c->
<c- p>}</c->
.bar <c- p>{</c->
  <c- k>background</c-><c- p>:</c-> <c- nf>linear-gradient</c-><c- p>(</c->in Oklab to right<c- p>,</c-> <span class="swatch" style="--color: rgb(37.86% 35.24% 35.91%)"></span>  <c- nf>var</c-><c- p>(</c->--darker-bg<c- p>),</c-> <span class="swatch" style="--color: #4C3"></span>  #4C3<c- p>);</c->
<c- p>}</c->
</pre>
    <p>The value of --bg when converted to OkLCh is
	oklch(0.592 0.009 17.42)
	but the analogous hue component is carried forward
	giving oklch(0.592 0.009 none).
	These values are then used in the relative function, giving
	the darker color oklch(0.474 0.009 none).</p>
    <p>The light green in the gradient is
	<span class="swatch" style="--color: #4C3"></span>  oklch(0.743 0.222 141.6),
	and so, when interpolated, the other color take that hue,
	becoming
	<span class="swatch" style="--color: rgb(34.96% 36.56% 34.72%)"></span> oklch(0.474 0.009 141.6).</p>
    <p>Thus, the gradient will have a constant greenish hue.</p>
    <p>If an implementation failed to do this carrying forward,
	the grayish --darker-bg would have a hue of 0,
	giving an undesirable reddish tint at the start of the  gradient.</p>
    <figure id="fig-gradient-missing">
     
		<img alt height="586" src="./images/rectangular-missing.png" width="830">
		
     <figcaption>Correct (above) and incorrect (below, reddish) gradients.</figcaption>
    </figure>
   </div>
   <p>However, if calculations are done on missing values, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none①">none</a> is treated as 0.</p>
   <h3 class="heading settled" data-level="4.3" id="relative-RGB"><span class="secno">4.3. </span><span class="content">Relative sRGB Colors</span><a class="self-link" href="#relative-RGB"></a></h3>
   <p>The grammar of the <a data-link-type="dfn" href="https://drafts.csswg.org/css-color-4/#modern-color-syntax" id="ref-for-modern-color-syntax②">modern color syntax</a> <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-rgb" id="ref-for-funcdef-rgb③">rgb()</a> and <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba③">rgba()</a> functions are extended as follows:</p>
<pre class="prod"><dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-modern-rgb-syntax"><a class="production" data-link-type="type" href="#typedef-modern-rgb-syntax" id="ref-for-typedef-modern-rgb-syntax">&lt;modern-rgb-syntax></a></dfn> = rgb( [ from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color⑥">&lt;color></a> ]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt①">?</a>
        [ <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value⑦">&lt;number></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①⑧">|</a> <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value④">&lt;percentage></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①⑨">|</a> none]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-num" id="ref-for-mult-num">{3}</a>
        [ / [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value">&lt;alpha-value></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one②⓪">|</a> none] ]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt②">?</a>  )
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-modern-rgba-syntax"><a class="production" data-link-type="type" href="#typedef-modern-rgba-syntax" id="ref-for-typedef-modern-rgba-syntax">&lt;modern-rgba-syntax></a></dfn> = rgba( [ from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color⑦">&lt;color></a> ]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt③">?</a>
        [ <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value⑧">&lt;number></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one②①">|</a> <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value⑤">&lt;percentage></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one②②">|</a> none]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-num" id="ref-for-mult-num①">{3}</a>
        [ / [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value①">&lt;alpha-value></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one②③">|</a> none] ]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt④">?</a>  )
</pre>
   <p>Within a <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color⑤">relative color</a> syntax <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-rgb" id="ref-for-funcdef-rgb④">rgb()</a> or <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba④">rgba()</a> function,
the allowed <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword④">component keywords</a> are:</p>
   <ul>
    <li data-md>
     <p><dfn class="dfn-paneled css" data-dfn-for="rgb()" data-dfn-type="value" data-export id="valdef-rgb-r">r</dfn>, <dfn class="dfn-paneled css" data-dfn-for="rgb()" data-dfn-type="value" data-export id="valdef-rgb-g">g</dfn>, and <dfn class="dfn-paneled css" data-dfn-for="rgb()" data-dfn-type="value" data-export id="valdef-rgb-b">b</dfn>
are all  <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value⑨">&lt;number></a>s
that correspond to the <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color①④">origin color’s</a> red, green, and blue components
after <a data-link-type="dfn" href="#required-conversion" id="ref-for-required-conversion">conversion, if required</a> to sRGB.
255.0 is equivalent to 100%.</p>
    <li data-md>
     <p><dfn class="dfn-paneled css" data-dfn-for="rgb()" data-dfn-type="value" data-export id="valdef-rgb-alpha">alpha</dfn> is a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value①⓪">&lt;number></a> that corresponds to the
<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color①⑤">origin color’s</a> alpha transparency. 1.0 is equivalent to 100%.</p>
   </ul>
   <details class="wpt-tests-block" dir="ltr" lang="en" open>
    <summary>Tests</summary>
    <ul class="wpt-tests-list">
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-01.html" title="css/css-color/relative-currentcolor-rgb-01.html">relative-currentcolor-rgb-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-rgb-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-02.html" title="css/css-color/relative-currentcolor-rgb-02.html">relative-currentcolor-rgb-02.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-rgb-02.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-02.html"><small>(source)</small></a>
    </ul>
   </details>
   <div class="example" id="example-cebe6396">
    <a class="self-link" href="#example-cebe6396"></a>
	To manipulate color components in the sRGB color space:

	
<pre class="highlight"><c- nf>rgb</c-><c- p>(</c->from <span class="swatch" style="--color: indianred"></span> indianred <c- m>255</c-> g b<c- p>)</c->
</pre>
    <p>This takes the sRGB value of indianred (205 92 92) and replaces
	the red component with 255 to give
	<span class="swatch" style="--color: rgb(255 92 92)"></span>  rgb(255 92 92).</p>
   </div>
   <p>Relative sRGB color syntax is <em>only</em> applicable to the non-legacy RGB syntactic forms.</p>
   <div class="example invalid" id="example-648e776c">
    <a class="self-link" href="#example-648e776c"></a>
	For example, this attempt to use the rgba
	<a data-link-type="dfn" href="https://drafts.csswg.org/css-color-4/#legacy-color-syntax" id="ref-for-legacy-color-syntax①">legacy color syntax</a> with commas would be incorrect

	
<pre class="highlight"><c- nf>rgba</c-><c- p>(</c->from <span class="swatch" style="--color: darkblue"></span> darkblue <c- m>16</c-><c- p>,</c-> <c- m>32</c-><c- p>,</c-> b<c- p>,</c-> <c- m>0.5</c-> <c- p>)</c->
</pre>
   </div>
   <div class="example" id="example-c4b962d1">
    <a class="self-link" href="#example-c4b962d1"></a>
	Instead, use

	
<pre class="highlight"><c- nf>rgb</c-><c- p>(</c->from <span class="swatch" style="--color: darkblue"></span> darkblue <c- m>16</c-> <c- m>32</c-> b / <c- m>0.5</c-> <c- p>)</c->
</pre>
    <p>This takes the sRGB value of darkblue (0 0 139) and replaces
	the red, green and alpha components to give
	<span class="swatch" style="--color: rgb(16 32 139 / 0.5)"></span> rgb(16 32 139 / 0.5)</p>
   </div>
   <h3 class="heading settled" data-level="4.4" id="relative-HSL"><span class="secno">4.4. </span><span class="content">Relative HSL Colors</span><a class="self-link" href="#relative-HSL"></a></h3>
   <p>The grammar of the <a data-link-type="dfn" href="https://drafts.csswg.org/css-color-4/#modern-color-syntax" id="ref-for-modern-color-syntax③">modern color syntax</a> <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-hsl" id="ref-for-funcdef-hsl④">hsl()</a> and <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla④">hsla()</a> functions is extended as follows:</p>
<pre class="prod"><dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-modern-hsl-syntax"><a class="production" data-link-type="type" href="#typedef-modern-hsl-syntax" id="ref-for-typedef-modern-hsl-syntax">&lt;modern-hsl-syntax></a></dfn> = hsl([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color⑧">&lt;color></a>]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt⑤">?</a>
          [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-color-4/#typedef-hue" id="ref-for-typedef-hue①">&lt;hue></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one②④">|</a> none]
          [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value⑥">&lt;percentage></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one②⑤">|</a> <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value①①">&lt;number></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one②⑥">|</a> none]
          [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value⑦">&lt;percentage></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one②⑦">|</a> <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value①②">&lt;number></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one②⑧">|</a> none]
          [ / [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value②">&lt;alpha-value></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one②⑨">|</a> none] ]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt⑥">?</a> )
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-modern-hsla-syntax"><a class="production" data-link-type="type" href="#typedef-modern-hsla-syntax" id="ref-for-typedef-modern-hsla-syntax">&lt;modern-hsla-syntax></a></dfn> = hsla([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color⑨">&lt;color></a>]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt⑦">?</a>
        [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-color-4/#typedef-hue" id="ref-for-typedef-hue②">&lt;hue></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one③⓪">|</a> none]
        [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value⑧">&lt;percentage></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one③①">|</a> <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value①③">&lt;number></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one③②">|</a> none]
        [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value⑨">&lt;percentage></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one③③">|</a> <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value①④">&lt;number></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one③④">|</a> none]
        [ / [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value③">&lt;alpha-value></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one③⑤">|</a> none] ]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt⑧">?</a> )
</pre>
   <p>Within a <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color⑥">relative color</a> syntax <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-hsl" id="ref-for-funcdef-hsl⑤">hsl()</a> or <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla⑤">hsla()</a> function,
the allowed <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword⑤">component keywords</a> are:</p>
   <ul>
    <li data-md>
     <p><dfn class="dfn-paneled css" data-dfn-for="hsl()" data-dfn-type="value" data-export id="valdef-hsl-h">h</dfn> is a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value①⑤">&lt;number></a>
that corresponds to the <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color①⑥">origin color’s</a> HSL hue, in degrees,
after <a data-link-type="dfn" href="#required-conversion" id="ref-for-required-conversion①">conversion, if required</a> to sRGB,
normalized to a [0, 360] range. 90 is equivalent to 90deg.</p>
    <li data-md>
     <p><dfn class="dfn-paneled css" data-dfn-for="hsl()" data-dfn-type="value" data-export id="valdef-hsl-s">s</dfn> and <dfn class="dfn-paneled css" data-dfn-for="hsl()" data-dfn-type="value" data-export id="valdef-hsl-l">l</dfn>
are <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value①⑥">&lt;number></a>s that correspond to the <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color①⑦">origin color’s</a>
HSL saturation and lightness,
after <a data-link-type="dfn" href="#required-conversion" id="ref-for-required-conversion②">conversion, if required</a> to sRGB.
100 is equivalent to 100%.</p>
    <li data-md>
     <p><dfn class="dfn-paneled css" data-dfn-for="hsl()" data-dfn-type="value" data-export id="valdef-hsl-alpha">alpha</dfn> is a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value①⑦">&lt;number></a> that corresponds to the
<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color①⑧">origin color’s</a> alpha transparency 1.0 is equivalent to 100%.</p>
   </ul>
   <details class="wpt-tests-block" dir="ltr" lang="en" open>
    <summary>Tests</summary>
    <ul class="wpt-tests-list">
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-01.html" title="css/css-color/relative-currentcolor-hsl-01.html">relative-currentcolor-hsl-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-hsl-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-02.html" title="css/css-color/relative-currentcolor-hsl-02.html">relative-currentcolor-hsl-02.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-hsl-02.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-02.html"><small>(source)</small></a>
    </ul>
   </details>
   <div class="example" id="example-c4b276dd">
    <a class="self-link" href="#example-c4b276dd"></a>
	This adds 180 degrees to the hue angle, giving a complementary color.
	
<pre class="highlight"><c- k>--accent</c-><c- p>:</c-> <span class="swatch" style="--color: lightseagreen"></span> lightseagreen<c- p>;</c->
<c- k>--complement</c-><c- p>:</c->  <span class="swatch" style="--color: hsl(357deg 70% 41%)"></span> <c- nf>hsl</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--accent<c- p>)</c-> <c- nf>calc</c-><c- p>(</c->h + <c- m>180</c-><c- p>)</c-> s l<c- p>);</c->
</pre>
    <p>lightseagreen is hsl(177deg 70% 41%), so --complement is <span class="swatch" style="--color: hsl(357deg 70% 41%)"></span> hsl(357deg 70% 41%)</p>
   </div>
   <p>Relative HSL color syntax is only applicable to the non-legacy HSL syntactic forms.</p>
   <h3 class="heading settled" data-level="4.5" id="relative-HWB"><span class="secno">4.5. </span><span class="content">Relative HWB Colors</span><a class="self-link" href="#relative-HWB"></a></h3>
   <p>The grammar of the <a class="css" data-link-type="maybe" href="#funcdef-hwb" id="ref-for-funcdef-hwb③">hwb()</a> function is extended as follows:</p>
<pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-hwb">hwb()</dfn> = hwb([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①⓪">&lt;color></a>]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt⑨">?</a>
        [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-color-4/#typedef-hue" id="ref-for-typedef-hue③">&lt;hue></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one③⑥">|</a> none]
        [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value①⓪">&lt;percentage></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one③⑦">|</a> <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value①⑧">&lt;number></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one③⑧">|</a> none]
        [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value①①">&lt;percentage></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one③⑨">|</a> <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value①⑨">&lt;number></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one④⓪">|</a> none]
        [ / [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value④">&lt;alpha-value></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one④①">|</a> none] ]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt①⓪">?</a> )
</pre>
   <p>Within a <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color⑦">relative color</a> syntax <a class="css" data-link-type="maybe" href="#funcdef-hwb" id="ref-for-funcdef-hwb④">hwb()</a> function,
the allowed <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword⑥">component keywords</a> are:</p>
   <ul>
    <li data-md>
     <p><dfn class="dfn-paneled css" data-dfn-for="hwb()" data-dfn-type="value" data-export id="valdef-hwb-h">h</dfn> is a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value②⓪">&lt;number></a>
that corresponds to the <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color①⑨">origin color’s</a> HWB hue, in degrees,
after <a data-link-type="dfn" href="#required-conversion" id="ref-for-required-conversion③">conversion, if required</a> to sRGB,
normalized to a [0, 360] range. 90 is equivalent to 90deg.</p>
    <li data-md>
     <p><dfn class="dfn-paneled css" data-dfn-for="hwb()" data-dfn-type="value" data-export id="valdef-hwb-w">w</dfn> and <dfn class="dfn-paneled css" data-dfn-for="hwb()" data-dfn-type="value" data-export id="valdef-hwb-b">b</dfn>
are <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value②①">&lt;number></a>s that correspond to the <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color②⓪">origin color’s</a> HWB whiteness and blackness
after <a data-link-type="dfn" href="#required-conversion" id="ref-for-required-conversion④">conversion, if required</a> to sRGB.
100 is equivalent to 100%.</p>
    <li data-md>
     <p><dfn class="dfn-paneled css" data-dfn-for="hwb()" data-dfn-type="value" data-export id="valdef-hwb-alpha">alpha</dfn> is a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value②②">&lt;number></a> that corresponds to the
<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color②①">origin color’s</a> alpha transparency. 1.0 is equivalent to 100%.</p>
   </ul>
   <details class="wpt-tests-block" dir="ltr" lang="en" open>
    <summary>Tests</summary>
    <ul class="wpt-tests-list">
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hwb-01.html" title="css/css-color/relative-currentcolor-hwb-01.html">relative-currentcolor-hwb-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-hwb-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hwb-01.html"><small>(source)</small></a>
    </ul>
   </details>
   <h3 class="heading settled" data-level="4.6" id="relative-Lab"><span class="secno">4.6. </span><span class="content">Relative Lab Colors</span><a class="self-link" href="#relative-Lab"></a></h3>
   <p>The grammar of the <a class="css" data-link-type="maybe" href="#funcdef-lab" id="ref-for-funcdef-lab②">lab()</a> function is extended as follows:</p>
<pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-lab">lab()</dfn> = lab([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①①">&lt;color></a>]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt①①">?</a>
        [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value①②">&lt;percentage></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one④②">|</a> <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value②③">&lt;number></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one④③">|</a> none]
        [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value①③">&lt;percentage></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one④④">|</a> <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value②④">&lt;number></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one④⑤">|</a> none]
        [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value①④">&lt;percentage></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one④⑥">|</a> <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value②⑤">&lt;number></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one④⑦">|</a> none]
        [ / [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value⑤">&lt;alpha-value></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one④⑧">|</a> none] ]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt①②">?</a> )
</pre>
   <p>Within a <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color⑧">relative color</a> syntax <a class="css" data-link-type="maybe" href="#funcdef-lab" id="ref-for-funcdef-lab③">lab()</a> function,
the allowed <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword⑦">component keywords</a> are:</p>
   <ul>
    <li data-md>
     <p><dfn class="dfn-paneled css" data-dfn-for="lab()" data-dfn-type="value" data-export id="valdef-lab-l">l</dfn> is a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value②⑥">&lt;number></a>
that corresponds to the <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color②②">origin color’s</a> CIE Lightness
after <a data-link-type="dfn" href="#required-conversion" id="ref-for-required-conversion⑤">conversion, if required</a>, to CIE Lab.
100 is equivalent to 100%.</p>
    <li data-md>
     <p><dfn class="dfn-paneled css" data-dfn-for="lab()" data-dfn-type="value" data-export id="valdef-lab-a">a</dfn> and <dfn class="dfn-paneled css" data-dfn-for="lab()" data-dfn-type="value" data-export id="valdef-lab-b">b</dfn> are <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value②⑦">&lt;number></a>s
that correspond to the <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color②③">origin color’s</a> CIE Lab a and b axes
after <a data-link-type="dfn" href="#required-conversion" id="ref-for-required-conversion⑥">conversion, if required</a>, to CIE Lab.
125 is equivalent to 100%, while -125 is equivalent to -100%.</p>
    <li data-md>
     <p><dfn class="dfn-paneled css" data-dfn-for="lab()" data-dfn-type="value" data-export id="valdef-lab-alpha">alpha</dfn> is a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value②⑧">&lt;number></a> that corresponds to the
<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color②④">origin color’s</a> alpha transparency. 1.0 is equivalent to 100%.</p>
     <details class="wpt-tests-block" dir="ltr" lang="en" open>
      <summary>Tests</summary>
      <ul class="wpt-tests-list">
       <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lab-01.html" title="css/css-color/relative-currentcolor-lab-01.html">relative-currentcolor-lab-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-lab-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lab-01.html"><small>(source)</small></a>
      </ul>
     </details>
   </ul>
   <div class="example" id="example-b411f1d3">
    <a class="self-link" href="#example-b411f1d3"></a>
	Multiple ways to adjust the transparency of a base color:


    <ul>
     <li data-md>
      <p><span class="css">lab(from var(--mycolor) l a b / 100%)</span> sets the alpha of <span class="css">var(--mycolor)</span> to 1.0, regardless of what it originally was.</p>
     <li data-md>
      <p><span class="css">lab(from var(--mycolor) l a b / calc(alpha * 0.8))</span> reduces the alpha of <span class="css">var(--mycolor)</span> by 20% of its original value.</p>
    </ul>
    <p>Note that all the adjustments are lossless in the sense that no gamut clipping occurs, since lab() encompasses all visible color.
	This is not true for the alpha adjustments in the sRGB based functions
	(such as 'rgb()', 'hsl()', or 'hwb()'),
	which would also convert to sRGB
	as a necessary step for calculation of HSL or HWB,
	in addition to adjusting the alpha transparency.</p>
   </div>
   <div class="example" id="example-d39afaf1">
    <a class="self-link" href="#example-d39afaf1"></a>
	Fully desaturating a color to gray, keeping the exact same lightness:

	
<pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: orchid"></span> orchid<c- p>;</c->
// orchid is <c- nf>lab</c-><c- p>(</c-><c- m>62.753</c-> <c- m>52.460</c-> <c- m>-34.103</c-><c- p>)</c->
--mygray: <span class="swatch" style="--color: rgb(59.515% 59.515% 59.515%)"></span> <c- nf>lab</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> l <c- m>0</c-> <c- m>0</c-><c- p>)</c->
// mygray is <c- nf>lab</c-><c- p>(</c-><c- m>62.753</c-> <c- m>0</c-> <c- m>0</c-><c- p>)</c-> which is <c- nf>rgb</c-><c- p>(</c-><c- m>59.515</c-><c- k>%</c-> <c- m>59.515</c-><c- k>%</c-> <c- m>59.515</c-><c- k>%</c-><c- p>)</c->
</pre>
   </div>
   <h3 class="heading settled" data-level="4.7" id="relative-Oklab"><span class="secno">4.7. </span><span class="content">Relative Oklab Colors</span><a class="self-link" href="#relative-Oklab"></a></h3>
   <p>The grammar of the <a class="css" data-link-type="maybe" href="#funcdef-oklab" id="ref-for-funcdef-oklab①">oklab()</a> function is extended as follows:</p>
<pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-oklab">oklab()</dfn> = oklab([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①②">&lt;color></a>]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt①③">?</a>
          [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value①⑤">&lt;percentage></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one④⑨">|</a> <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value②⑨">&lt;number></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑤⓪">|</a> none]
          [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value①⑥">&lt;percentage></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑤①">|</a> <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value③⓪">&lt;number></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑤②">|</a> none]
          [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value①⑦">&lt;percentage></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑤③">|</a> <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value③①">&lt;number></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑤④">|</a> none]
          [ / [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value⑥">&lt;alpha-value></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑤⑤">|</a> none] ]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt①④">?</a> )
</pre>
   <p>Within a <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color⑨">relative color</a> syntax <a class="css" data-link-type="maybe" href="#funcdef-oklab" id="ref-for-funcdef-oklab②">oklab()</a> function,
the allowed <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword⑧">component keywords</a> are:</p>
   <ul>
    <li data-md>
     <p><dfn class="dfn-paneled css" data-dfn-for="oklab()" data-dfn-type="value" data-export id="valdef-oklab-l">l</dfn> is a  <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value③②">&lt;number></a>
that corresponds to the <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color②⑤">origin color’s</a> Oklab Lightness
after <a data-link-type="dfn" href="#required-conversion" id="ref-for-required-conversion⑦">conversion, if required</a>, to Oklab.
1.0 is equivalent to 100%.</p>
    <li data-md>
     <p><dfn class="dfn-paneled css" data-dfn-for="oklab()" data-dfn-type="value" data-export id="valdef-oklab-a">a</dfn> and <dfn class="dfn-paneled css" data-dfn-for="oklab()" data-dfn-type="value" data-export id="valdef-oklab-b">b</dfn> are <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value③③">&lt;number></a>s
that correspond to the <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color②⑥">origin color’s</a> Oklab a and b axes
after <a data-link-type="dfn" href="#required-conversion" id="ref-for-required-conversion⑧">conversion, if required</a>, to Oklab.
0.4 is equivalent to 100%, while -0.4 is equivalent to -100%.</p>
    <li data-md>
     <p><dfn class="dfn-paneled css" data-dfn-for="oklab()" data-dfn-type="value" data-export id="valdef-oklab-alpha">alpha</dfn> is a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value③④">&lt;number></a> that corresponds to the
<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color②⑦">origin color’s</a> alpha transparency. 1.0 is equivalent to 100%.</p>
     <details class="wpt-tests-block" dir="ltr" lang="en" open>
      <summary>Tests</summary>
      <ul class="wpt-tests-list">
       <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklab-01.html" title="css/css-color/relative-currentcolor-oklab-01.html">relative-currentcolor-oklab-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-oklab-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklab-01.html"><small>(source)</small></a>
      </ul>
     </details>
   </ul>
   <h3 class="heading settled" data-level="4.8" id="relative-LCH"><span class="secno">4.8. </span><span class="content">Relative LCH Colors</span><a class="self-link" href="#relative-LCH"></a></h3>
   <p>The grammar of the <a class="css" data-link-type="maybe" href="#funcdef-lch" id="ref-for-funcdef-lch③">lch()</a> function is extended as follows:</p>
<pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-lch">lch()</dfn> = lch([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①③">&lt;color></a>]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt①⑤">?</a>
        [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value①⑧">&lt;percentage></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑤⑥">|</a> <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value③⑤">&lt;number></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑤⑦">|</a> none]
        [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value①⑨">&lt;percentage></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑤⑧">|</a> <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value③⑥">&lt;number></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑤⑨">|</a> none]
        [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-color-4/#typedef-hue" id="ref-for-typedef-hue④">&lt;hue></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑥⓪">|</a> none]
        [ / [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value⑦">&lt;alpha-value></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑥①">|</a> none] ]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt①⑥">?</a> )
</pre>
   <p>Within a <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①⓪">relative color</a> syntax <a class="css" data-link-type="maybe" href="#funcdef-lch" id="ref-for-funcdef-lch④">lch()</a> function,
the allowed <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword⑨">component keywords</a> are:</p>
   <ul>
    <li data-md>
     <p><dfn class="dfn-paneled css" data-dfn-for="lch()" data-dfn-type="value" data-export id="valdef-lch-l">l</dfn> is a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value③⑦">&lt;number></a>
that corresponds to the <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color②⑧">origin color’s</a> CIE Lightness
after <a data-link-type="dfn" href="#required-conversion" id="ref-for-required-conversion⑨">conversion, if required</a>, to CIE LCH.
100 is equivalent to 100%.</p>
    <li data-md>
     <p><dfn class="dfn-paneled css" data-dfn-for="lch()" data-dfn-type="value" data-export id="valdef-lch-c">c</dfn> is a  <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value③⑧">&lt;number></a>
that corresponds to the <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color②⑨">origin color’s</a> LCH chroma
after <a data-link-type="dfn" href="#required-conversion" id="ref-for-required-conversion①⓪">conversion, if required</a>, to CIE LCH.
150 is equivalent to 100%.</p>
    <li data-md>
     <p><dfn class="dfn-paneled css" data-dfn-for="lch()" data-dfn-type="value" data-export id="valdef-lch-h">h</dfn> is a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value③⑨">&lt;number></a>
that corresponds to the <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color③⓪">origin color’s</a> LCH hue, in degrees,
after <a data-link-type="dfn" href="#required-conversion" id="ref-for-required-conversion①①">conversion, if required</a>, to CIE LCH,
normalized to a [0, 360] range. 90 is equivalent to 90deg.</p>
    <li data-md>
     <p><dfn class="dfn-paneled css" data-dfn-for="lch()" data-dfn-type="value" data-export id="valdef-lch-alpha">alpha</dfn> is a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value④⓪">&lt;number></a> that corresponds to the
<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color③①">origin color’s</a> alpha transparency. 1.0 is equivalent to 100%.</p>
   </ul>
   <details class="wpt-tests-block" dir="ltr" lang="en" open>
    <summary>Tests</summary>
    <ul class="wpt-tests-list">
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lch-01.html" title="css/css-color/relative-currentcolor-lch-01.html">relative-currentcolor-lch-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-lch-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lch-01.html"><small>(source)</small></a>
    </ul>
   </details>
   <div class="example" id="example-fef81186"><a class="self-link" href="#example-fef81186"></a>
	<span class="css">lch(from peru calc(l * 0.8) c h)</span> produces a color that is 20% darker than <span class="swatch" style="--color: peru"></span> peru or lch(62.2532% 54.0114 63.6769), with its chroma and hue left unchanged.
	The result is <span class="swatch" style="--color: rgb(57.58% 32.47% 3.82%)"> </span> lch(49.80256 54.0114 63.6769)
</div>
   <div class="example" id="example-fb53cf30">
    <a class="self-link" href="#example-fb53cf30"></a>
	This adds 180 degrees to the hue angle, giving the complementary color.
	
<pre class="highlight"><c- k>--accent</c-><c- p>:</c-> <span class="swatch" style="--color: lightseagreen"></span> lightseagreen<c- p>;</c->
<c- k>--complement</c-><c- p>:</c->  <span class="swatch" style="--color: rgb(88.2814% 51.1047% 58.3039%)"></span> <c- nf>lch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--accent<c- p>)</c-> l c <c- nf>calc</c-><c- p>(</c->h + <c- m>180</c-><c- p>));</c->
</pre>
    <p>lightseagreen is lch(65.4937 39.4484 190.1013), so --complement is <span class="swatch" style="--color: rgb(88.2814% 51.1047% 58.3039%)"></span> lch(65.4937 39.4484 370.1013)</p>
   </div>
   <div class="example" id="example-dddffb4a">
    <a class="self-link" href="#example-dddffb4a"></a>
	Fully desaturating a color to gray, keeping the exact same lightness:

	
<pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: orchid"></span> orchid<c- p>;</c->
// orchid is <c- nf>lch</c-><c- p>(</c-><c- m>62.753</c-> <c- m>62.571</c-> <c- m>326.973</c-><c- p>)</c->
--mygray: <span class="swatch" style="--color: rgb(59.515% 59.515% 59.515%)"></span> <c- nf>lch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> l <c- m>0</c-> h<c- p>)</c->
// mygray is <c- nf>lch</c-><c- p>(</c-><c- m>62.753</c-> <c- m>0</c-> <c- m>326.973</c-><c- p>)</c-> which is <c- nf>rgb</c-><c- p>(</c-><c- m>59.515</c-><c- k>%</c-> <c- m>59.515</c-><c- k>%</c-> <c- m>59.515</c-><c- k>%</c-><c- p>)</c->
</pre>
    <p>But now (since the hue was preserved) <em>re-saturating</em> again</p>
<pre class="highlight"><c- k>--mymuted</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(72.710% 53.293% 71.224%)"></span> <c- nf>lch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mygray<c- p>)</c-> l <c- m>30</c-> h<c- p>);</c->
// mymuted is <c- nf>lch</c-><c- p>(</c-><c- m>62.753</c-> <c- m>30</c-> <c- m>326.973</c-><c- p>)</c-> which is <c- nf>rgb</c-><c- p>(</c-><c- m>72.710</c-><c- k>%</c-> <c- m>53.293</c-><c- k>%</c-> <c- m>71.224</c-><c- k>%</c-><c- p>)</c->
</pre>
   </div>
   <p>However, unlike HSL, manipulations are not guaranteed to be in-gamut.</p>
   <div class="example" id="ex-wildly-oog">
    <a class="self-link" href="#ex-wildly-oog"></a>
	In this example, the aim is to produce a new color
	with the same Lightness and Chroma,
	but the triad (hue differs by 120 degrees).
	The origin color is inside the RGB gamut,
	but rotating the hue in LCH
	produces an out of gamut color.


	
<pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span> <c- nf>lch</c-><c- p>(</c-><c- m>60</c-><c- k>%</c-> <c- m>90</c-> <c- m>320</c-><c- p>);</c->
<c- nf>lch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> l c <c- nf>calc</c-><c- p>(</c->h - <c- m>120</c-><c- p>));</c->
</pre>
    <p>This gives a very high-chroma blue-green,
	<span class="swatch oog" style="--color: rgb(0% 64.2% 66.3%)"></span> lch(60% 90 200)
	which is color(srgb -0.6 0.698 0.772)
	and thus out of gamut (negative red value) for sRGB.
	Indeed, it is out of gamut for display-p3:
	<span class="swatch oog" style="--color: rgb(0% 64.2% 66.3%)"></span> color(display-p3 -0.46 0.68 0.758)
	and even rec2020:
	<span class="swatch oog" style="--color: rgb(0% 64.2% 66.3%)"></span> color(rec2020 -0.14 0.623 0.729).</p>
    <p>The closest color inside the sRGB gamut would be <span class="swatch" style="--color: rgb(0% 64.2% 66.3%)"></span> lch(60.71% 37.56 201.1)
	which is <span class="swatch" style="--color: rgb(0% 64.2% 66.3%)"></span> rgb(0% 64.2% 66.3%). The difference in chroma (37.5, instead of 90) is huge.</p>
    <figure id="fig-LCH-rotation-oog">
     <object data="images/LCH-rotation-oog.svg" height="520" width="540"></object>
     <p>Diagram of CIE CH plane showing relative color manipulation.
				The <em>a</em> and <em>b</em> axes are labelled,
				and cross in the middle.
				We are looking down the central Lightness axis.
				The maximal gamut of the sRGB color space
				is shown as an irregular, convex polygon.
			</p>
     <figcaption>
			This diagram shows the sRGB gamut, in the CIE ab plane.
			Small circles indicate the primary and secondary color.
			The <span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span>
			origin color, shown as a large circle, is in gamut for sRGB;
			but becomes <span class="swatch oog" style="--color: #AAA"></span> out of gamut (shown as a grey fill and red border)
			when the LCH hue is rotated -120°.
			The gamut-mapped <span class="swatch" style="--color: rgb(0% 64.2% 66.3%)"></span> result has much lower chroma.
		</figcaption>
    </figure>
    <p>Performing the same operation in HSL will return an in-gamut result.
	But it is unsatisfactory in other ways:</p>
<pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span> <c- nf>lch</c-><c- p>(</c-><c- m>60</c-><c- k>%</c-> <c- m>90</c-> <c- m>320</c-><c- p>);</c->
<c- nf>hsl</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> <c- nf>calc</c-><c- p>(</c->h - <c- m>120</c-><c- p>)</c-> s l<c- p>);</c->
</pre>
    <p>In HSL, --mycolor is
	<span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span> hsl(289.18 93.136% 65.531%)
	so subtracting 120 degrees gives
	<span class="swatch" style="--color: rgb(33.428% 97.634% 86.056%)"></span> hsl(169.18 93.136% 65.531%).
	Converting that result back to LCH
	<span class="swatch" style="--color: rgb(33.428% 97.634% 86.056%)"></span> lch(89.0345% 49.3503 178.714)
	we see that, due to the hue rotate in HSL,
	Lightness shot up from 60% to 89%,
	the Chroma has dropped from 90 to 49,
	and the Hue actually changed by 141 degrees, not 120.</p>
   </div>
   <h3 class="heading settled" data-level="4.9" id="relative-OkLCh"><span class="secno">4.9. </span><span class="content">Relative OkLCh Colors</span><a class="self-link" href="#relative-OkLCh"></a></h3>
   <p>The grammar of the <a class="css" data-link-type="maybe" href="#funcdef-oklch" id="ref-for-funcdef-oklch③">oklch()</a> function is extended as follows:</p>
<pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-oklch">oklch()</dfn> = oklch([from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①④">&lt;color></a>]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt①⑦">?</a>
          [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value②⓪">&lt;percentage></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑥②">|</a> <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value④①">&lt;number></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑥③">|</a> none]
          [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value②①">&lt;percentage></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑥④">|</a> <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value④②">&lt;number></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑥⑤">|</a> none]
          [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-color-4/#typedef-hue" id="ref-for-typedef-hue⑤">&lt;hue></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑥⑥">|</a> none]
          [ / [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value⑧">&lt;alpha-value></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑥⑦">|</a> none] ]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt①⑧">?</a> )
</pre>
   <p>Within a <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①①">relative color</a> syntax <a class="css" data-link-type="maybe" href="#funcdef-oklch" id="ref-for-funcdef-oklch④">oklch()</a> function,
the allowed <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword①⓪">component keywords</a> are:</p>
   <ul>
    <li data-md>
     <p><dfn class="dfn-paneled css" data-dfn-for="oklch()" data-dfn-type="value" data-export id="valdef-oklch-l">l</dfn> is a  <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value④③">&lt;number></a>
that corresponds to the <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color③②">origin color’s</a> Oklab Lightness
after <a data-link-type="dfn" href="#required-conversion" id="ref-for-required-conversion①②">conversion, if required</a>, to OkLCh.
1.0 is equivalent to 100%.</p>
    <li data-md>
     <p><dfn class="dfn-paneled css" data-dfn-for="oklch()" data-dfn-type="value" data-export id="valdef-oklch-c">c</dfn> is a  <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value④④">&lt;number></a>
that corresponds to the <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color③③">origin color’s</a> OkLCh chroma
after <a data-link-type="dfn" href="#required-conversion" id="ref-for-required-conversion①③">conversion, if required</a>, to OkLCh.
0.4 is equivalent to 100%.</p>
    <li data-md>
     <p><dfn class="dfn-paneled css" data-dfn-for="oklch()" data-dfn-type="value" data-export id="valdef-oklch-h">h</dfn> is a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value④⑤">&lt;number></a>
that corresponds to the <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color③④">origin color’s</a> OkLCh hue, in degrees,
after <a data-link-type="dfn" href="#required-conversion" id="ref-for-required-conversion①④">conversion, if required</a>, to OkLCh,
normalized to a [0, 360] range. 90 is equivalent to 90deg.</p>
    <li data-md>
     <p><dfn class="dfn-paneled css" data-dfn-for="oklch()" data-dfn-type="value" data-export id="valdef-oklch-alpha">alpha</dfn> is a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value④⑥">&lt;number></a> that corresponds to the
<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color③⑤">origin color’s</a> alpha transparency. 1.0 is equivalent to 100%.</p>
   </ul>
   <details class="wpt-tests-block" dir="ltr" lang="en" open>
    <summary>Tests</summary>
    <ul class="wpt-tests-list">
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklch-01.html" title="css/css-color/relative-currentcolor-oklch-01.html">relative-currentcolor-oklch-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-oklch-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklch-01.html"><small>(source)</small></a>
    </ul>
   </details>
   <p>Because OkLCh is both perceptually uniform and chroma-preserving,
	and because the axes correspond to easily understood attributes of a color,
	OkLCh is a good choice for color manipulation.</p>
   <div class="example" id="ex-oklch-wildly-oog">
    <a class="self-link" href="#ex-oklch-wildly-oog"></a>
In this example, the aim is again to produce a new color
with the same Lightness and Chroma,
but the triad (hue differs by 120 degrees).
In this example, we will do the manipulation in OkLCh.
The origin color is inside the RGB gamut,
but rotating the hue in OkLCh
again produces an out of gamut color.


<pre class="highlight"><c- k>--mycolor</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span> <c- nf>lch</c-><c- p>(</c-><c- m>60</c-><c- k>%</c-> <c- m>90</c-> <c- m>320</c-><c- p>);</c->
<c- nf>oklch</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--mycolor<c- p>)</c-> l c <c- nf>calc</c-><c- p>(</c->h - <c- m>120</c-><c- p>));</c->
</pre>
    <p>--mycolor is <span class="swatch" style="--color: rgb(86.1% 33.4% 97.6%)"></span> oklch(0.69012 0.25077 319.893).
Subtracting 120 from the Hue gives a very high-chroma blue-green,
<span class="swatch oog" style="--color: grey"></span> oklch(0.69012 0.25077 199.893)
which is out of sRGB gamut,
color(srgb -0.6018 0.7621 0.8448)
as the negative red component indicates.
Bring this into gamut
by reducing OkLCh Chroma, yields
<span class="swatch" style="--color: rgb(0.079% 69.282% 72.067%)"></span> oklch(0.69012 0.1173 199.893).
The OkLCh chroma has dropped from 0.251 to 0.117.</p>
   </div>
   <h2 class="heading settled" data-level="5" id="color-function"><span class="secno">5. </span><span class="content">
	Specifying Predefined and Custom Color Spaces: the <a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color②">color()</a> Function
</span><a class="self-link" href="#color-function"></a></h2>
   <p>The <a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color③">color()</a> function allows a color to be specified
	in a particular, given <a data-link-type="dfn" href="https://drafts.csswg.org/css-color-4/#color-space" id="ref-for-color-space②">color space</a>
	(rather than the implicit sRGB color space that most of the other color functions operate in).</p>
   <p>In this level the <a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color④">color()</a> function is extended
	to allow custom color spaces,
	in addition to the predefined spaces from <a href="https://drafts.csswg.org/css-color-4/#predefined"><cite>CSS Color 4</cite> §  10. Predefined Color Spaces</a>.</p>
   <p>It is also extended to allow relative, rather than just absolute, colors.</p>
   <p>Its syntax is now as follows:</p>
<pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-color">color()</dfn> = color( [from <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①⑤">&lt;color></a>]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt①⑨">?</a> <a class="production" data-link-type="type" href="#typedef-colorspace-params" id="ref-for-typedef-colorspace-params">&lt;colorspace-params></a> [ / [ <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value⑨">&lt;alpha-value></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑥⑧">|</a> none ] ]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt②⓪">?</a> )
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-colorspace-params">&lt;colorspace-params></dfn> = [<a class="production" data-link-type="type" href="#typedef-custom-params" id="ref-for-typedef-custom-params">&lt;custom-params></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑥⑨">|</a> <a class="production" data-link-type="type" href="#typedef-predefined-rgb-params" id="ref-for-typedef-predefined-rgb-params">&lt;predefined-rgb-params></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑦⓪">|</a> <a class="production" data-link-type="type" href="#typedef-xyz-params" id="ref-for-typedef-xyz-params">&lt;xyz-params></a>]
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-custom-params">&lt;custom-params></dfn> = <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident">&lt;dashed-ident></a> [ <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value④⑦">&lt;number></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑦①">|</a> <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value②②">&lt;percentage></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑦②">|</a> none ]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-one-plus" id="ref-for-mult-one-plus">+</a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-predefined-rgb-params">&lt;predefined-rgb-params></dfn> = <a class="production" data-link-type="type" href="#typedef-predefined-rgb" id="ref-for-typedef-predefined-rgb">&lt;predefined-rgb></a> [ <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value④⑧">&lt;number></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑦③">|</a> <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value②③">&lt;percentage></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑦④">|</a> none ]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-num" id="ref-for-mult-num②">{3}</a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-predefined-rgb">&lt;predefined-rgb></dfn> = srgb <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑦⑤">|</a> srgb-linear <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑦⑥">|</a> display-p3 <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑦⑦">|</a> a98-rgb <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑦⑧">|</a> prophoto-rgb <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑦⑨">|</a> rec2020
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-xyz-params">&lt;xyz-params></dfn> = <a class="production" data-link-type="type" href="#typedef-xyz" id="ref-for-typedef-xyz">&lt;xyz></a> [ <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value④⑨">&lt;number></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑧⓪">|</a> <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value②④">&lt;percentage></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑧①">|</a> none ]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-num" id="ref-for-mult-num③">{3}</a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-xyz">&lt;xyz></dfn> = xyz <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑧②">|</a> xyz-d50 <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑧③">|</a> xyz-d65
</pre>
   <p>The color function takes parameters specifying a color, in an explicitly listed color space.</p>
   <p>It represents either an <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="invalid-color">invalid color</dfn>, as described below,
	or a <a data-link-type="dfn" href="#valid-color" id="ref-for-valid-color">valid color</a>.</p>
   <p>Any color which is not an <a data-link-type="dfn" href="#invalid-color" id="ref-for-invalid-color">invalid color</a> is a <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="valid-color">valid color</dfn>.</p>
   <p>A color may be a <a data-link-type="dfn" href="#valid-color" id="ref-for-valid-color①">valid color</a>
	but still be outside the range of colors
	that can be produced by an output device
	(a screen, projector, or printer).
	It is said to be <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="out-of-gamut">out of gamut</dfn>
	for that color space.</p>
   <p>An out of gamut color has component values
	less than 0 or 0%, or greater than 1 or 100%.
	These are not invalid; instead, for display, they are
	<a data-link-type="dfn" href="#gamut-map" id="ref-for-gamut-map">gamut-mapped</a> using a relative colorimetric intent
	which brings the values within the range 0/0% to 1/100%
	at computed-value time.</p>
   <p>Each <a data-link-type="dfn" href="#valid-color" id="ref-for-valid-color②">valid color</a> is either in-gamut for the output device (screen, or printer),
	or it is <a data-link-type="dfn" href="#out-of-gamut" id="ref-for-out-of-gamut">out of gamut</a>.</p>
   <h3 class="heading settled" data-level="5.1" id="relative-color-function"><span class="secno">5.1. </span><span class="content">Relative Color-Function Colors</span><a class="self-link" href="#relative-color-function"></a></h3>
   <p>Within a <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①②">relative color</a> syntax <a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color⑤">color()</a> function using <a class="production css" data-link-type="type" href="#typedef-custom-params" id="ref-for-typedef-custom-params①">&lt;custom-params></a>,
the number and name of the allowed <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword①①">component keywords</a> are:</p>
   <ul>
    <li data-md>
     <p>defined by the <a class="property" data-link-type="propdesc" href="#descdef-color-profile-components" id="ref-for-descdef-color-profile-components">components</a> descriptor on the corresponding <a class="css" data-link-type="maybe" href="#at-ruledef-profile" id="ref-for-at-ruledef-profile">@color-profile</a>,
if present;
otherwise, no relative color manipulation is valid. They are <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value⑤⓪">&lt;number></a>s that correspond to the <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color③⑥">origin color’s</a> components
after <a data-link-type="dfn" href="#required-conversion" id="ref-for-required-conversion①⑤">conversion, if required</a> to the color space of the color profile. The value 1.0 corresponds to 100%.</p>
   </ul>
   <p>Within a <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①③">relative color</a> syntax <a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color⑥">color()</a> function using <a class="production css" data-link-type="type" href="#typedef-predefined-rgb-params" id="ref-for-typedef-predefined-rgb-params①">&lt;predefined-rgb-params></a>,
the allowed <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword①②">component keywords</a> are:</p>
   <ul>
    <li data-md>
     <p><dfn class="dfn-paneled css" data-dfn-for="color()" data-dfn-type="value" data-export id="valdef-color-r">r</dfn>, <dfn class="dfn-paneled css" data-dfn-for="color()" data-dfn-type="value" data-export id="valdef-color-g">g</dfn>, and <dfn class="dfn-paneled css" data-dfn-for="color()" data-dfn-type="value" data-export id="valdef-color-b">b</dfn>
are all <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value⑤①">&lt;number></a>s
that correspond to the <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color③⑦">origin color’s</a> red, green, and blue components
after <a data-link-type="dfn" href="#required-conversion" id="ref-for-required-conversion①⑥">conversion, if required</a> to the predefined RGB color space.
The value 1.0 corresponds to 100%.</p>
   </ul>
   <p>Within a <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①④">relative color</a> syntax <a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color⑦">color()</a> function using <a class="production css" data-link-type="type" href="#typedef-xyz-params" id="ref-for-typedef-xyz-params①">&lt;xyz-params></a>,
the allowed <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword①③">component keywords</a> are:</p>
   <ul>
    <li data-md>
     <p><dfn class="dfn-paneled css" data-dfn-for="color()" data-dfn-type="value" data-export id="valdef-color-x">x</dfn>, <dfn class="dfn-paneled css" data-dfn-for="color()" data-dfn-type="value" data-export id="valdef-color-y">y</dfn>, <dfn class="dfn-paneled css" data-dfn-for="color()" data-dfn-type="value" data-export id="valdef-color-z">z</dfn> are all <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value⑤②">&lt;number></a>s
that correspond to the <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color③⑧">origin color’s</a> X, Y and Z components
after <a data-link-type="dfn" href="#required-conversion" id="ref-for-required-conversion①⑦">conversion, if required</a> to relative CIE XYZ color space
adapted to the relevant white point.
The value 1.0 corresponds to 100%.</p>
   </ul>
   <p>Within a <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①⑤">relative color</a> syntax <a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color⑧">color()</a> function
using either <a class="production css" data-link-type="type" href="#typedef-predefined-rgb-params" id="ref-for-typedef-predefined-rgb-params②">&lt;predefined-rgb-params></a> or
<a class="production css" data-link-type="type" href="#typedef-xyz-params" id="ref-for-typedef-xyz-params②">&lt;xyz-params></a>, an additional allowed <a data-link-type="dfn" href="#component-keyword" id="ref-for-component-keyword①④">component keyword</a> is:</p>
   <ul>
    <li data-md>
     <p><dfn class="dfn-paneled css" data-dfn-for="color()" data-dfn-type="value" data-export id="valdef-color-alpha">alpha</dfn> is a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value⑤③">&lt;number></a> that corresponds to the
	<a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color③⑨">origin color’s</a> alpha transparency. 1.0 is equivalent to 100%.</p>
   </ul>
   <p>The parameters have the following form:</p>
   <ul>
    <li data-md>
     <p>An <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#typedef-ident" id="ref-for-typedef-ident">&lt;ident></a>  or <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident①">&lt;dashed-ident></a> denoting the color space.
If this is an <span class="production" id="ref-for-typedef-ident①">&lt;ident></span> it denotes one of the
	predefined color spaces
	<a href="https://drafts.csswg.org/css-color-4/#predefined"><cite>CSS Color 4</cite> §  10. Predefined Color Spaces</a>
(such as <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-display-p3" id="ref-for-valdef-color-display-p3">display-p3</a>);
if it is a <span class="production" id="ref-for-typedef-dashed-ident②">&lt;dashed-ident></span> it denotes a custom
color space, defined by a <a class="css" data-link-type="maybe" href="#at-ruledef-profile" id="ref-for-at-ruledef-profile①">@color-profile</a> rule.
Individual predefined color spaces
may further restrict whether <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value⑤④">&lt;number></a>s or <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value②⑤">&lt;percentage></a>s
or both, may be used.</p>
     <p>If the <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#typedef-ident" id="ref-for-typedef-ident②">&lt;ident></a> names a non-existent color space
(a name that does not match one of the
predefined color spaces),
or a predefined but unsupported color space,
this argument represents an <a data-link-type="dfn" href="#invalid-color" id="ref-for-invalid-color①">invalid color</a>.</p>
     <p>If the <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident③">&lt;dashed-ident></a> names a non-existent color space
( a name that does not match an <a data-link-type="dfn" href="#css-color-profile" id="ref-for-css-color-profile">color profile’s</a> name,
	or which matches but the corresponding profile has not loaded,
	or does not represent a valid profile),
this argument represents an <a data-link-type="dfn" href="#invalid-color" id="ref-for-invalid-color②">invalid color</a>.</p>
    <li data-md>
     <p>One or more <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value⑤⑤">&lt;number></a>s or <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value②⑥">&lt;percentage></a>s providing the parameter values that the color space takes.</p>
     <p>For custom color spaces,
specified component values
less than 0 or 0%, or greater than 1 or 100%
are not invalid;
they are clamped to the valid range at computed value time.
This is because ICC profiles typically do not accept
out of range input values.</p>
     <p>For custom color spaces, if more <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value⑤⑥">&lt;number></a>s or <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value②⑦">&lt;percentage></a>s are provided than parameters that the color space takes,
the excess <span class="production" id="ref-for-number-value⑤⑦">&lt;number></span>s at the end are ignored.
The color is still a <a data-link-type="dfn" href="#valid-color" id="ref-for-valid-color③">valid color</a>.</p>
     <p>For custom color spaces, if more <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value⑤⑧">&lt;number></a>s or <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value②⑧">&lt;percentage></a>s are provided than components listed in the optional components descriptor,
the additional values at the end are still valid,
but cannot be used in Relative Color Syntax.
The color is still a <a data-link-type="dfn" href="#valid-color" id="ref-for-valid-color④">valid color</a>.</p>
     <p>For custom color spaces, if fewer <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value⑤⑨">&lt;number></a>s or <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value②⑨">&lt;percentage></a>s are provided than parameters that the color space takes,
the missing parameters default to <span class="css">0</span>.
(This is particularly convenient for multicomponent printers
where the additional inks are spot colors or varnishes
that most colors on the page won’t use.)
The color is still a <a data-link-type="dfn" href="#valid-color" id="ref-for-valid-color⑤">valid color</a>.</p>
     <p>For predefined color spaces,
specified component values
less than 0 or 0%, or greater than 1 or 100%
are not invalid;
these out of gamut colors
are gamut mapped to the valid range at computed value time,
with a relative colorimetric intent.</p>
    <li data-md>
     <p>An optional slash-separated <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value①⓪">&lt;alpha-value></a>.If omitted, it defaults to <span class="css">100%</span>.</p>
   </ul>
   <details class="wpt-tests-block" dir="ltr" lang="en" open>
    <summary>Tests</summary>
    <ul class="wpt-tests-list">
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/parsing/color-computed-relative-color.html" title="css/css-color/parsing/color-computed-relative-color.html">color-computed-relative-color.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/parsing/color-computed-relative-color.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-relative-color.html"><small>(source)</small></a>
    </ul>
   </details>
   <div class="example" id="ex-RCS-XYZ">
    <a class="self-link" href="#ex-RCS-XYZ"></a>
	For example, Relative Color Syntax in the CIE XYZ D65 colorspace
	is used to generate a color which has
	the same chromaticity but exactly half the luminance
	of the base color:

	
<pre class="lang-css highlight"><c- k>--base</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(73.58% 48.92% 10.45%)"></span> <c- nf>color</c-><c- p>(</c->display-p3 <c- m>0.7</c-> <c- m>0.5</c-> <c- m>0.1</c-><c- p>);</c->
<c- k>--dark</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(53.617% 35.186% 6.4237%)"></span> <c- nf>color</c-><c- p>(</c->from <c- nf>var</c-><c- p>(</c->--base<c- p>)</c-> xyz-d65 <c- nf>calc</c-><c- p>(</c->x/<c- m>2</c-><c- p>)</c-> <c- nf>calc</c-><c- p>(</c->y/<c- m>2</c-><c- p>)</c-> <c- nf>calc</c-><c- p>(</c->z/<c- m>2</c-><c- p>));</c->
</pre>
    <p>The origin color is color(xyz-d65 0.281 0.253 0.044)
	and so the relative color is color(xyz-d65 0.14 0.126 0.022).</p>
   </div>
   <h3 class="heading settled" data-level="5.2" id="custom-color"><span class="secno">5.2. </span><span class="content">
	Custom Color Spaces
</span><a class="self-link" href="#custom-color"></a></h3>
   <p>CSS allows <a data-link-type="dfn" href="https://drafts.csswg.org/css-color-4/#color" id="ref-for-color">colors</a> to be specified by reference to a color profile.
This could be for example a calibrated CMYK printer,
or an RGB color space,
or any other color or monochrome output device which has been characterized.</p>
   <div class="example" id="ex-profiles-colors">
    <a class="self-link" href="#ex-profiles-colors"></a>
	This example specifies four calibrated colors:
	two are custom spaces
	(for a SWOP-coated CMYK press,
	and for a wide-gamut seven-ink printer),
	the other two are predefined spaces
	(the ProPhoto RGB,
	and display-p3 RGB spaces).
	In each case, the numerical parameters
	are in the range 0.0 to 1.0
	(rather than, for example, 0 to 255).
	
<pre class="lang-css highlight"><c- k>color</c-><c- p>:</c-> <c- nf>color</c-><c- p>(</c->--swopc <c- m>0.0134</c-> <c- m>0.8078</c-> <c- m>0.7451</c-> <c- m>0.3019</c-><c- p>);</c->
<c- k>color</c-><c- p>:</c-> <c- nf>color</c-><c- p>(</c->--indigo <c- m>0.0941</c-> <c- m>0.6274</c-> <c- m>0.3372</c-> <c- m>0.1647</c-> <c- m>0</c-> <c- m>0.0706</c-> <c- m>0.1216</c-><c- p>);</c->
<c- k>color</c-><c- p>:</c-> <c- nf>color</c-><c- p>(</c->prophoto-rgb <c- m>0.9137</c-> <c- m>0.5882</c-> <c- m>0.4784</c-><c- p>);</c->
<c- k>color</c-><c- p>:</c-> <c- nf>color</c-><c- p>(</c->display-p3 <c- m>0.3804</c-> <c- m>0.9921</c-> <c- m>0.1412</c-><c- p>);</c->
</pre>
   </div>
   <p>The colors not using a predefined color space
	<a href="https://drafts.csswg.org/css-color-4/#predefined"><cite>CSS Color 4</cite> §  10. Predefined Color Spaces</a>
	are distinguished by their use of <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident④">&lt;dashed-ident></a> and
	also need a matching <a class="css" data-link-type="maybe" href="#at-ruledef-profile" id="ref-for-at-ruledef-profile②">@color-profile</a> at-rule
	somewhere in the stylesheet,
	to connect the name with the profile data.</p>
   <details class="wpt-tests-block" dir="ltr" lang="en" open>
    <summary>Tests</summary>
    <ul class="wpt-tests-list">
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/at-color-profile-001.html" title="css/css-color/at-color-profile-001.html">at-color-profile-001.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/at-color-profile-001.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/at-color-profile-001.html"><small>(source)</small></a>
    </ul>
   </details>
   <div class="example" id="ex-profiles-colors-at">
    <a class="self-link" href="#ex-profiles-colors-at"></a>
	
<pre class="lang-css highlight"><c- n>@color-profile</c-> --swopc <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'http://example.org/swop-coated.icc'</c-><c- p>);}</c->
<c- n>@color-profile</c-> --indigo <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'http://example.org/indigo-seven.icc'</c-><c- p>);}</c->
</pre>
   </div>
   <h3 class="heading settled" data-level="5.3" id="at-profile"><span class="secno">5.3. </span><span class="content">
	Specifying a Color Profile: the <a class="css" data-link-type="maybe" href="#at-ruledef-profile" id="ref-for-at-ruledef-profile③">@color-profile</a> at-rule
</span><a class="self-link" href="#at-profile"></a></h3>
   <p>The <dfn class="dfn-paneled css" data-dfn-type="at-rule" data-export id="at-ruledef-profile">@color-profile</dfn> rule
		defines and names a <dfn class="dfn-paneled" data-dfn-type="dfn" data-local-lt="color profile" data-lt="CSS color profile" data-noexport id="css-color-profile">color profile</dfn>
		which can later be used in the <a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color⑨">color()</a> function to specify a color.</p>
   <p>It’s defined as:</p>
<pre class="prod">@color-profile = @color-profile [<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident⑤">&lt;dashed-ident></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑧④">|</a> <span class="css">device-cmyk</span>] { <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-syntax-3/#typedef-declaration-list" id="ref-for-typedef-declaration-list">&lt;declaration-list></a> }
</pre>
   <details class="wpt-tests-block" dir="ltr" lang="en" open>
    <summary>Tests</summary>
    <ul class="wpt-tests-list">
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/at-color-profile-001.html" title="css/css-color/at-color-profile-001.html">at-color-profile-001.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/at-color-profile-001.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/at-color-profile-001.html"><small>(source)</small></a>
    </ul>
   </details>
   <p>The <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident⑥">&lt;dashed-ident></a> gives the <a data-link-type="dfn" href="#css-color-profile" id="ref-for-css-color-profile①">color profile’s</a> name,
		by which it will be used in a CSS stylesheet.
		Alternatively, the <span class="css">device-cmyk</span> keyword
		means that this color profile will,
		if valid,
		be used to resolve colors specified in <span class="css">device-cmyk</span>.</p>
   <p>The <a class="css" data-link-type="maybe" href="#at-ruledef-profile" id="ref-for-at-ruledef-profile④">@color-profile</a> rule accepts the descriptors defined in this specification.</p>
   <table class="def descdef">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-for="@color-profile" data-dfn-type="descriptor" data-export id="descdef-color-profile-src">src</dfn>
     <tr>
      <th>For:
      <td><a class="css" data-link-type="at-rule" href="#at-ruledef-profile" id="ref-for-at-ruledef-profile⑤">@color-profile</a>		
     <tr>
      <th>Value:
      <td class="prod"><a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#url-value" id="ref-for-url-value">&lt;url></a>		
     <tr>
      <th>Initial:
      <td>n/a		
   </table>
   <p>The <a class="property" data-link-type="propdesc" href="#descdef-color-profile-src" id="ref-for-descdef-color-profile-src">src</a> descriptor specifies the URL to retrieve the color-profile information from.</p>
   <p>The retrieved ICC profile is valid if</p>
   <ul>
    <li data-md>
     <p>it can be parsed as an ICC Profile</p>
    <li data-md>
     <p>it is an Input, Display, Output, or color space ICC profile. (Abstract, DeviceLink, and NamedColor ICC Profiles must not be used).</p>
   </ul>
   <p>If the profile is not valid, all CSS colors
		which reference this profile
		are <a data-link-type="dfn" href="#invalid-color" id="ref-for-invalid-color③">invalid color</a>s.</p>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="fetch-an-external-color-profile">fetch an external color profile</dfn>, given a
		<a class="css" data-link-type="maybe" href="#at-ruledef-profile" id="ref-for-at-ruledef-profile⑥">@color-profile</a> rule <var>rule</var>,
			<a data-link-type="dfn" href="https://drafts.csswg.org/css-values-4/#fetch-a-style-resource" id="ref-for-fetch-a-style-resource">fetch a style resource</a> given <var>rule</var>’s URL,
			with ruleOrDeclaration being <var>rule</var>,
			destination "color-profile",
			CORS mode "cors",
			and processResponse being the following steps given <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response">response</a> |/res| and null, failure or
			a byte stream <var>byteStream</var>:
				If <var>byteStream</var> is a byte stream,
				apply the color profile as parsed from |byteStream.</p>
   <p class="note" role="note"><span class="marker">Note:</span> The Internet Media Type ("MIME type")
		for ICC profiles is
		<a href="https://www.iana.org/assignments/media-types/application/vnd.iccprofile">application/vnd.iccprofile</a>.</p>
   <table class="def descdef">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-for="@color-profile" data-dfn-type="descriptor" data-export id="descdef-color-profile-rendering-intent">rendering-intent</dfn>
     <tr>
      <th>For:
      <td><a class="css" data-link-type="at-rule" href="#at-ruledef-profile" id="ref-for-at-ruledef-profile⑦">@color-profile</a>		
     <tr>
      <th>Value:
      <td class="prod">relative-colorimetric <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑧⑤">|</a> absolute-colorimetric <span id="ref-for-comb-one⑧⑥">|</span> perceptual <span id="ref-for-comb-one⑧⑦">|</span> saturation		
     <tr>
      <th>Initial:
      <td>relative-colorimetric		
   </table>
   <p><a data-link-type="dfn" href="#css-color-profile" id="ref-for-css-color-profile②">Color profiles</a> contain “rendering intents”,
		which define how to <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="gamut-map">gamut-map</dfn> their color to smaller gamuts than they’re defined over.
		Often a profile will contain only a single intent,
		but when there are multiple,
		the <a class="property" data-link-type="propdesc" href="#descdef-color-profile-rendering-intent" id="ref-for-descdef-color-profile-rendering-intent">rendering-intent</a> descriptor chooses one of them to use.</p>
   <p>The four possible rendering intents are <a data-link-type="biblio" href="#biblio-icc" title="ICC.1:2022 (Profile version 4.4.0.0)">[ICC]</a>:</p>
   <dl>
    <dt><dfn class="dfn-paneled css" data-dfn-for="@color-profile/rendering-intent" data-dfn-type="value" data-export id="valdef-color-profile-rendering-intent-relative-colorimetric">relative-colorimetric</dfn>
			
    <dd>
     
				Media-relative colorimetric is required to leave source colors that fall
				inside the destination medium gamut unchanged relative to the respective
				media white points. Source colors that are out of the destination medium
				gamut are mapped to colors on the gamut boundary using a variety of
				different methods.


     <p>The media-relative colorimetric rendering intent is
				often used with black point compensation, where the source medium black point
				is mapped to the destination medium black point as well.
				This method must map the source white point to the destination white point. If
				black point compensation is in use, the source black point must also be
				mapped to the destination black point. Adaptation algorithms should be used
				to adjust for the change in white point. Relative relationships of colors
				inside both source and destination gamuts should be preserved. Relative
				relationships of colors outside the destination gamut may be changed.</p>
    <dt><dfn class="dfn-paneled css" data-dfn-for="@color-profile/rendering-intent" data-dfn-type="value" data-export id="valdef-color-profile-rendering-intent-absolute-colorimetric">absolute-colorimetric</dfn>
			
    <dd>
     
				ICC-absolute colorimetric is required to leave source colors that fall
				inside the destination medium gamut unchanged relative to the adopted
				white (a perfect reflecting diffuser). Source colors that are out of the
				destination medium gamut are mapped to colors on the gamut boundary using a
				variety of different methods. This method produces the most accurate
				color matching of in-gamut colors, but will result in highlight clipping
				if the destination medium white point is lower than the source medium
				white point. For this reason it is recommended for use only in applications
				that need exact color matching and where highlight clipping is not a concern.


     <p>This method MUST disable white point matching and black point matching when
				converting colors. In general, this option is not recommended except
				for testing purposes.</p>
    <dt><dfn class="dfn-paneled css" data-dfn-for="@color-profile/rendering-intent" data-dfn-type="value" data-export id="valdef-color-profile-rendering-intent-perceptual">perceptual</dfn>
			
    <dd>
     
				This method is often the preferred choice for images, especially when there are
				substantial differences between the source and destination (such as a screen display
				image reproduced on a reflection print). It takes the colors of the source image
				and re-optimizes the appearance for the destination medium using proprietary
				methods. This re-optimization may result in colors within both the source
				and destination gamuts being changed, although perceptual transforms are
				supposed to maintain the basic artistic intent of the original in the
				reproduction. They will not attempt to correct errors in the source image.


     <p class="note" role="note"><span class="marker">Note:</span> With v2 ICC profiles there is no specified perceptual reference medium,
				which can cause interoperability problems. When v2 ICC profiles are used it can
				be safer to use the media-relative colorimetric rendering intent with black
				point compensation, instead of the perceptual rendering intent, unless the
				specific source and destination profiles to be used have been checked to ensure
				the combination produces the desired result.</p>
     <p>This method should maintain relative color values among the pixels as they
				are mapped to the target device gamut. This method may change pixel values
				that were originally within the target device gamut, in order to avoid
				hue shifts and discontinuities and to preserve as much as possible the
				overall appearance of the scene.</p>
    <dt><dfn class="dfn-paneled css" data-dfn-for="@color-profile/rendering-intent" data-dfn-type="value" data-export id="valdef-color-profile-rendering-intent-saturation">saturation</dfn>
			
    <dd>
				This option was created to preserve the relative saturation (chroma) of the original,
				and to keep solid colors pure. However, it experienced interoperability problems like
				the perceptual intent, and as solid color preservation is not amenable to a reference
				medium solution using v4 profiles does not solve the problem. Use of this rendering intent
				is not recommended unless the specific source and destination profiles to be used have
				been checked to ensure the combination produces the desired result.
				This option should preserve the relative saturation (chroma) values of the original
				pixels. Out of gamut colors should be converted to colors that have the same saturation
				but fall just inside the gamut.
		
   </dl>
   <table class="def descdef">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-for="@color-profile" data-dfn-type="descriptor" data-export id="descdef-color-profile-components">components</dfn>
     <tr>
      <th>For:
      <td><a class="css" data-link-type="at-rule" href="#at-ruledef-profile" id="ref-for-at-ruledef-profile⑧">@color-profile</a>		
     <tr>
      <th>Value:
      <td class="prod"><a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#typedef-ident" id="ref-for-typedef-ident③">&lt;ident></a><a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-comma" id="ref-for-mult-comma①">#</a>		
     <tr>
      <th>Initial:
      <td>n/a		
   </table>
   <p>Color profiles can define color spaces which contain a varying number of components.
		For example, a Cyan, Magenta, Yellow and Black (CMYK) profile
		has four components
		named c, m, y and k
		While a four-component additive screen profile
		might use four components
		named r, g, y and b.</p>
   <p>The value of this descriptor is a comma-separated list of <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#typedef-ident" id="ref-for-typedef-ident④">&lt;ident></a> tokens.
		Each <span class="production" id="ref-for-typedef-ident⑤">&lt;ident></span>> names a component,
		in the order in which they are used in the color profile,
		while the total number of tokens defines the number of components.</p>
   <div class="example" id="ex-components-cmyk">
    <a class="self-link" href="#ex-components-cmyk"></a>
			This descriptor declares that there are four components named cyan, magenta, yellow and black:
			
<pre>components: cyan, magenta, yellow, black</pre>
    <p>while this descriptor opts for terser names:</p>
<pre>components: c,m,y,k</pre>
   </div>
   <div class="example" id="ex-components-cmykogv">
    <a class="self-link" href="#ex-components-cmykogv"></a>
			This descriptor declares that there are seven components
			named cyan, magenta, yellow, black, orange, green and violet:
			
<pre>components: cyan, magenta, yellow, black, orange, green, violet</pre>
   </div>
   <p>If a component is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-case-insensitive" id="ref-for-ascii-case-insensitive">ASCII case-insensitive</a> match for <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none②">none</a>,
		the descriptor is invalid,
		because that would clash with the token for missing values.</p>
   <p>If the name chosen for a component
		clashes with a CSS numeric constant
		as defined in <a href="https://drafts.csswg.org/css-values-4/#calc-constants"><cite>CSS Values 4</cite> § 10.7.1 Numeric Constants: e, pi</a>
		the component is still valid,
		but inside <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-values-4/#funcdef-calc" id="ref-for-funcdef-calc">calc()</a> the component
		will be shadowed by the numeric constant
		leading to unexpected results.</p>
   <div class="example" id="ex-component-pi">
    <a class="self-link" href="#ex-component-pi"></a>
			This descriptor unwisely calls a component <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-values-4/#valdef-calc-pi" id="ref-for-valdef-calc-pi">pi</a>,
			leading to unexpected results in Relative Color Syntax.

			
<pre>@color-profile --unwise {
  src: url(https://example.com/unwise);
  components: mi, pi, ni;
}
--base: color(--unwise 35% 20% 8%);
--accent: color(from var(--base) mi calc(pi * 2) calc(ni / 2));
</pre>
    <p>Here, the component values of --accent are 35%,
			3.14159265358979 * 2 = 6.28318530717959,
			4%.</p>
   </div>
   <h3 class="heading settled" data-level="5.4" id="cal-cmyk"><span class="secno">5.4. </span><span class="content">
	CSS and Print: Using Calibrated CMYK and Other Printed Color Spaces
</span><a class="self-link" href="#cal-cmyk"></a></h3>
   <p>The <a class="css" data-link-type="maybe" href="#at-ruledef-profile" id="ref-for-at-ruledef-profile⑨">@color-profile</a> at-rule is not restricted to RGB color spaces.
	While screens typically display colors directly in RGB,
	printers often represent colors with CMYK.</p>
   <p>Calibrated four color print with Cyan, Magenta, Yellow and Black (CMYK),
	or high-fidelity wide gamut printing with additional inks
	such as Cyan Magenta Yellow Black Orange Green Violet (CMYKOGV)
	can also be done in CSS,
	provided you have an ICC profile
	corresponding to the combination of
	inks, paper, total ink coverage  and equipment
	you will use.</p>
   <div class="example" id="ex-fogra">
    <a class="self-link" href="#ex-fogra"></a>
		For example, using offset printing to ISO 12647-2:2004 / Amd 1:2007
		using the FOGRA39 characterization data
		on 115gsm coated paper
		with an ink limit of 300% Total Area Coverage <a data-link-type="biblio" href="#biblio-fogra39" title="ISO 12647-2:2004 / Amd 1, Offset commercial and specialty printing according to ISO 12647-2, paper type 1 or 2 (gloss or matte coated offset, 115 g/m²), screen frequency 60/cm">[FOGRA39]</a>.


		
<pre class="lang-css highlight"><c- n>@color-profile</c-> --fogra39 <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'https://example.org/Coated_Fogra39L_VIGC_300.icc'</c-><c- p>);</c->
<c- p>}</c->
.header <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(93.124% 44.098% 57.491%)"></span>  <c- nf>color</c-><c- p>(</c->--fogra39 <c- m>0</c-><c- k>%</c-> <c- m>70</c-><c- k>%</c-> <c- m>20</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-><c- p>);</c->
  <c- p>}</c->
</pre>
    <p>Here the color() function first states the name we have given the profile,
		then gives the percentage
		of cyan, magenta, yellow, and black.</p>
    <p>In this profile, this resolves to the color
		<span class="swatch" style="--color: rgb(93.124% 44.098% 57.491%)"></span> lab(63.673303% 51.576902 5.811058)
		which is
		<span class="swatch" style="--color: rgb(93.124% 44.098% 57.491%)"></span> rgb(93.124, 44.098% 57.491%).</p>
   </div>
   <p>Because the actual color resulting from a given CMYK combination is known,
	an on-screen visualization of the printed output (soft-proof) can be made.</p>
   <p>Also, procedures that rely on knowing the color
	(anti-aliasing, compositing, using the color in a gradient, etc)
	can proceed as normal.</p>
   <figure id="fig-fogra51-roundtrip">
    <object data="images/macbeth-roundtrip.svg" height="500" width="720">
     <p>A grid of colored squares. There are six columns,
				labelled A to F,
				and four rows,
				labelled 1 to 4.
			</p>
    </object>
    <figcaption>
     <p>A color checker, used for ensuring color fidelity
			in the print and photographic industries.
			Averaged measured Lab values are available for each patch.
			The rectangles show the Lab values, converted to sRGB.
			The circles, which are barely visible, show the Lab values,
			passed through a FOGRA51 <a data-link-type="biblio" href="#biblio-fogra51" title="ISO 12647-2:2013, Process control for the production of half-tone colour separations, proof and production printsPart 2: Offset lithographic processes, PS 1, premium coated, 115 g/m², moderate substrate fluorescence">[FOGRA51]</a> ICC profile to convert them to CMYK.
			The CMYK values are then passed through the same ICC profile in reverse,
			to yield new Lab values. These are then converted to sRGB for display.</p>
     <p>The one patch with a more visible circle (third row, first patch)
			is because the color is slightly outside the gamut of the
			FOGRA51 CMYK space used.</p>
     <p>The table below shows, for each patch, the DeltaE 2000 between the original Lab and the Lab value after round-tripping through CMYK. A DeltaE 2000 of 1 or more is just visible.</p>
     <table class="deltaE">
      <tbody>
       <tr>
        <th>
        <th>A
        <th>B
        <th>C
        <th>D
        <th>E
        <th>F
       <tr>
        <th>1
        <td class="dE0">0.06
        <td class="dE0">0.07
        <td class="dE0">0.03
        <td class="dE0">0.04
        <td class="dE0">0.06
        <td class="dE0">0.17
       <tr>
        <th>2
        <td class="dE0">0.03
        <td class="dE0">0.75
        <td class="dE0">0.05
        <td class="dE0">0.06
        <td class="dE0">0.03
        <td class="dE0">0.02
       <tr>
        <th>3
        <td class="dE2">1.9
        <td class="dE0">0.04
        <td class="dE0">0.06
        <td class="dE0">0.05
        <td class="dE0">0.02
        <td class="dE0">0.05
       <tr>
        <th>4
        <td class="dE0">0.03
        <td class="dE0">0.08
        <td class="dE0">0.03
        <td class="dE0">0.03
        <td class="dE0">0.04
        <td class="dE0">0.80
     </table>
    </figcaption>
   </figure>
   <div class="example" id="ex-swop5v2">
    <a class="self-link" href="#ex-swop5v2"></a>
		This example is using offset printing to ISO 12647-2:2004
		using the CGATS/SWOP TR005 2007 characterization data
		on grade 5 paper
		with an ink limit of 300% Total Area Coverage,
		and medium gray component replacement (GCR).


		
<pre class="lang-css highlight"><c- n>@color-profile</c-> --swop5c <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'https://example.org/SWOP2006_Coated5v2.icc'</c-><c- p>);</c->
<c- p>}</c->
.header <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(94.903% 45.248%  59.104%)"></span>  <c- nf>color</c-><c- p>(</c->--swop5c <c- m>0</c-><c- k>%</c-> <c- m>70</c-><c- k>%</c-> <c- m>20</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-><c- p>);</c->
<c- p>}</c->
</pre>
    <p>In this profile, this  amount of CMYK
		(the same percentages as the previous example)
		resolves to the color
		<span class="swatch" style="--color: rgb(94.903% 45.248%  59.104%)"></span> lab(64.965217% 52.119710 5.406966)
		which is
		<span class="swatch" style="--color: rgb(94.903% 45.248%  59.104%)"></span> rgb(94.903% 45.248% 59.104%).</p>
   </div>
   <p>Fallback colors can be specified,
	for example using media queries,
	to be used
	if the specified CMYK color is known
	to be outside the sRGB gamut.</p>
   <div class="example" id="ex-fogra39-fallback-mq">
    <a class="self-link" href="#ex-fogra39-fallback-mq"></a>
		This example uses the same FOGRA39 setup as before,
		but specifies a bright green which is outside the sRGB gamut.
		It is, however, inside the display-p3 gamut.
		Therefore it is displayed as-is on wide gamut screens
		and in print,
		and a less intense fallback color is used on sRGB screens.


		
<pre class="lang-css highlight"><c- n>@media</c-> <c- p>(</c->color-gamut: srgb<c- p>)</c-> <c- p>{</c->
  .header <c- p>{</c->
    <c- k>background-color</c-><c- p>:</c->  <span class="swatch" style="--color: rgb(8.154% 60.9704% 37.184%)"></span> <c- nf>rgb</c-><c- p>(</c-><c- m>8.154</c-><c- k>%</c-> <c- m>60.9704</c-><c- k>%</c-> <c- m>37.184</c-><c- k>%</c-><c- p>);</c->
    <c- p>}</c->
<c- p>}</c->
<c- n>@media</c-> print<c- p>,</c-> <c- p>(</c->color-gamut: p3<c- p>){</c->
  .header <c- p>{</c->
    <c- k>background-color</c-><c- p>:</c->  <span class="swatch oog" style="--color: rgb(0% 62.06% 34%)"></span> <c- nf>color</c-><c- p>(</c->--fogra39 <c- m>90</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-> <c- m>90</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-><c- p>);</c->
    <c- p>}</c->
<c- p>}</c->
</pre>
    <p>This CMYK color corresponds to lab(56.596645% -58.995875 28.072154)
		or lch(56.596645% 65.33421077211648 154.5533771086801).
		In sRGB this would be rgb(-60.568% 62.558% 32.390%) which,
		as the large negative red component shows,
		is out of gamut.</p>
    <p>Reducing the chroma until the result is in gamut
		gives <span class="swatch" style="--color: rgb(8.154% 60.9704% 37.184%)"></span> lch(56.596645% 51 154.5533771086801)
		which is <span class="swatch" style="--color: rgb(8.154% 60.9704% 37.184%)"></span> rgb(8.154% 60.9704% 37.184%)
		and this has been manually specified as a fallback color.</p>
    <p>For wide gamut screens, the color is inside the display-p3 gamut
		(it is display-p3(0.1658 0.6147 0.3533) ).</p>
   </div>
   <p>Colors are not restricted to four inks (CMYK). For example, wide-gamut 7 Color ink sets can be used.</p>
   <div class="example" id="ex-fogra55beta-7color">
    <a class="self-link" href="#ex-fogra55beta-7color"></a>This example uses the beta FOGRA55 dataset <a data-link-type="biblio" href="#biblio-fogra55" title="CMYKOGV-based gamut exchange space">[FOGRA55]</a> for CMYKOGV seven-color printing.
		Four of the inks - black, cyan, magenta, and yellow - are the same as,
		and give the same results as, the FOGRA51 set.
		The other three inks are:
		
    <ul>
     <li>Orange: CIELAB 65 58 88
     <li>Green: CIELAB 60 -75 0 
     <li>CIELAB 22 47 -56
    </ul>
    <p>The measurement condition is M1,
		which means that optical brighteners in the paper are accounted for
		and the spectrophotometer has no UV-cut filter.</p>
<pre class="lang-css highlight"><c- n>@color-profile</c-> --fogra55beta <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'https://example.org/2020_13.003_FOGRA55beta_CL_Profile.icc'</c-><c- p>);</c->
<c- p>}</c->
.dark_skin <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(45.8702% 32.0071% 26.3813%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.183596</c-> <c- m>0.464444</c-> <c- m>0.461729</c-> <c- m>0.612490</c-> <c- m>0.156903</c-> <c- m>0.000000</c-> <c- m>0.000000</c-><c- p>);</c->
<c- p>}</c->
.light_skin <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(78.0170% 58.1957% 50.7737%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.070804</c-> <c- m>0.334971</c-> <c- m>0.321802</c-> <c- m>0.215606</c-> <c- m>0.103107</c-> <c- m>0.000000</c-> <c- m>0.000000</c-><c- p>);</c->
<c- p>}</c->
.blue_sky <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(35.8614% 48.0665% 61.6556%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.572088</c-> <c- m>0.229346</c-> <c- m>0.081708</c-> <c- m>0.282044</c-> <c- m>0.000000</c-> <c- m>0.000000</c-> <c- m>0.168260</c-><c- p>);</c->
<c- p>}</c->
.foliage <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(34.9582% 42.3446% 25.4209%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.314566</c-> <c- m>0.145687</c-> <c- m>0.661941</c-> <c- m>0.582879</c-> <c- m>0.000000</c-> <c- m>0.234362</c-> <c- m>0.000000</c-><c- p>);</c->
<c- p>}</c->
.blue_flower <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(51.2952% 50.4131% 68.9186%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.375515</c-> <c- m>0.259934</c-> <c- m>0.034849</c-> <c- m>0.107161</c-> <c- m>0.000000</c-> <c- m>0.000000</c-> <c- m>0.308200</c-><c- p>);</c->
<c- p>}</c->
.bluish_green <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(36.8792% 74.3685% 67.4749%)"></span>
  <c- nf>color</c-><c- p>(</c->--fogra55beta <c- m>0.397575</c-> <c- m>0.010047</c-> <c- m>0.223682</c-> <c- m>0.031140</c-> <c- m>0.000000</c-> <c- m>0.317066</c-> <c- m>0.000000</c-><c- p>);</c->
<c- p>}</c->
</pre>
   </div>
   <h3 class="heading settled" data-level="5.5" id="cmyk-to-lab"><span class="secno">5.5. </span><span class="content">
		Converting CMYK colors to Lab
		</span><a class="self-link" href="#cmyk-to-lab"></a></h3>
   <p>Conversion from a calibrated CMYK color space to Lab
			is typically done by looking up the Lab values in an ICC profile.</p>
   <h3 class="heading settled" data-level="5.6" id="lab-to-cmyk"><span class="secno">5.6. </span><span class="content">
			Converting Lab colors to CMYK
			</span><a class="self-link" href="#lab-to-cmyk"></a></h3>
   <p>For print,
			Lab colors will need to be converted
			to the color space of the printer.</p>
   <p>This is typically done by looking up the CMYK values in an ICC profile.</p>
   <h2 class="heading settled" data-level="6" id="device-cmyk"><span class="secno">6. </span><span class="content">
	Uncalibrated CMYK Colors: the <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk" id="ref-for-funcdef-device-cmyk④">device-cmyk()</a> Function
</span><a class="self-link" href="#device-cmyk"></a></h2>
   <p>Sometimes, when a given printer has not been calibrated,
		but the output for particular ink combinations is known through experimentation,
		or via a printed sample swatchbook,
		it is useful to express CMYK colors
		in a device-dependent way.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Because the actual resulting color can be unknown,
		CSS processors might attempt to approximate it.
		This approximation is likely to be visually very far from the actual printed result.</p>
   <p>The <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk" id="ref-for-funcdef-device-cmyk⑤">device-cmyk()</a> function allows authors to specify a color in this way:</p>
<pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-device-cmyk">device-cmyk()</dfn> = <a class="production" data-link-type="type" href="#typedef-legacy-device-cmyk-syntax" id="ref-for-typedef-legacy-device-cmyk-syntax">&lt;legacy-device-cmyk-syntax></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑧⑧">|</a> <a class="production" data-link-type="type" href="#typedef-modern-device-cmyk-syntax" id="ref-for-typedef-modern-device-cmyk-syntax">&lt;modern-device-cmyk-syntax></a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-legacy-device-cmyk-syntax">&lt;legacy-device-cmyk-syntax></dfn> = device-cmyk( <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value⑥⓪">&lt;number></a><a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-comma" id="ref-for-mult-comma②">#{4}</a> )
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-modern-device-cmyk-syntax">&lt;modern-device-cmyk-syntax></dfn> = device-cmyk( <a class="production" data-link-type="type" href="#typedef-cmyk-component" id="ref-for-typedef-cmyk-component">&lt;cmyk-component></a><a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-num" id="ref-for-mult-num④">{4}</a> [ / [ <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-color-4/#typedef-color-alpha-value" id="ref-for-typedef-color-alpha-value①①">&lt;alpha-value></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑧⑨">|</a> <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none③">none</a> ] ]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt②①">?</a> )
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-cmyk-component">&lt;cmyk-component></dfn> = <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value⑥①">&lt;number></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑨⓪">|</a> <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value③⓪">&lt;percentage></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑨①">|</a> <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none④">none</a>
</pre>
   <p>The arguments of the <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk" id="ref-for-funcdef-device-cmyk⑥">device-cmyk()</a> function specify the cyan, magenta, yellow, and black components, in order,
		as a number between 0 and 1
		or, in the modern syntax, as a percentage between 0% and 100%.
		These two usages are equivalent, and map to each other linearly.
		Values less than 0 or 0%, or greater than 1 or 100%,
		are not invalid;
		instead, they are clamped to 0/0% or 1/100% at computed-value time.</p>
   <p>In the modern syntax, the fifth argument specifies the alpha component of the color.
		It’s interpreted identically to the fourth argument of the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-rgb" id="ref-for-funcdef-rgb⑤">rgb()</a> function.
		If omitted, it defaults to <span class="css">100%</span>.</p>
   <p>For <a href="https://www.w3.org/TR/2011/WD-css3-gcpm-20111129/#cmyk-colors">historical reasons</a>,
		<a class="css" data-link-type="maybe" href="#funcdef-device-cmyk" id="ref-for-funcdef-device-cmyk⑦">device-cmyk()</a> also support a <a data-link-type="dfn" href="https://drafts.csswg.org/css-color-4/#legacy-color-syntax" id="ref-for-legacy-color-syntax②">legacy color syntax</a>.</p>
   <p>Typically, print-based applications will actually store the used colors as CMYK,
		and send them to the printer in that form.
		However, such colors do not have a colorimetric interpretation,
		and thus cannot be used in gradients, compositing, blending and so on.</p>
   <p>As such, Device CMYK colors must be converted to an equivalent color.
		This is not trivial, like the conversion from HSL or HWB to RGB;
		the precise conversion depends on the precise characteristics of the output device.</p>
   <ol>
    <li>If the user, author, or user-agent stylesheet
				has an <a class="css" data-link-type="maybe" href="#at-ruledef-profile" id="ref-for-at-ruledef-profile①⓪">@color-profile</a> definition for device-cmyk,
				and the resource specified by the src descriptor can be retrieved,
				and the resource is a valid CMYK ICC profile,
				and the user agent can process ICC profiles,
				the computed value of the <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk" id="ref-for-funcdef-device-cmyk⑧">device-cmyk()</a> function
				must be the Lab value of the CMYK color.
    <li>Otherwise,
				the computed value of the <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk" id="ref-for-funcdef-device-cmyk⑨">device-cmyk()</a> function must be
				the sRGB value of the CMYK color,
				as converted with the following naive conversion algorithm.
			
   </ol>
   <div class="example" id="ex-device-cmyk-naive">
    <a class="self-link" href="#ex-device-cmyk-naive"></a>
			For example, with no <a class="css" data-link-type="maybe" href="#at-ruledef-profile" id="ref-for-at-ruledef-profile①①">@color-profile</a>,
			the following colors are equivalent, using the naive conversion.

			
<pre class="lang-css highlight"><c- k>color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(178 34 34)"></span> <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0</c-> <c- m>81</c-><c- k>%</c-> <c- m>81</c-><c- k>%</c-> <c- m>30</c-><c- k>%</c-><c- p>);</c->
<c- k>color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(178 34 34)"></span> <c- nf>rgb</c-><c- p>(</c-><c- m>178</c-> <c- m>34</c-> <c- m>34</c-><c- p>);</c->
<c- k>color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(178 34 34)"></span> firebrick<c- p>;</c->
</pre>
   </div>
   <div class="example" id="ex-device-cmyk-colprof">
    <a class="self-link" href="#ex-device-cmyk-colprof"></a>
			With the <a class="css" data-link-type="maybe" href="#at-ruledef-profile" id="ref-for-at-ruledef-profile①②">@color-profile</a> specified as in the example stylesheet,
			the following colors are equivalent, using colorimetric conversion.

			
<pre class="lang-css highlight"><c- k>color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(70.690% 26.851% 19.724%)"></span> <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0</c-> <c- m>81</c-><c- k>%</c-> <c- m>81</c-><c- k>%</c-> <c- m>30</c-><c- k>%</c-><c- p>);</c->
<c- k>color</c-><c- p>:</c-> <span class="swatch" style="--color: rgb(70.690% 26.851% 19.724%)"></span> <c- nf>lab</c-><c- p>(</c-><c- m>45.060</c-><c- k>%</c-> <c- m>45.477</c-> <c- m>35.459</c-><c- p>)</c->
color: <span class="swatch" style="--color: rgb(70.690% 26.851% 19.724%)"></span> <c- nf>rgb</c-><c- p>(</c-><c- m>70.690</c-><c- k>%</c-> <c- m>26.851</c-><c- k>%</c-> <c- m>19.724</c-><c- k>%</c-><c- p>);</c->
</pre>
   </div>
   <p>The naive conversion is necessarily approximate,
		since it has no knowledge of the colorimetry of the inks,
		the dot gain,
		the colorimetry of the RGB space, and so on.</p>
   <figure id="fig-naive-cmyk">
    <object data="images/macbeth-naive.svg" height="450" width="670">
     <p>A grid of colored squares. There are six columns,
					labelled A to F,
					and four rows,
					labelled 1 to 4.
				</p>
    </object>
    <figcaption>
     <p>A color checker, used for ensuring color fidelity
				in the print and photographic industries.
				Averaged measured Lab values are available for each patch.
				The rectangles show the Lab values, converted to sRGB.
				The circles show the Lab values, passed through an ICC profile to convert them to CMYK.
				The CMYK value are then naively converted to sRGB.</p>
     <p>The table below shows, for each patch, the DeltaE 2000 between the original Lab and the Lab value after round-tripping through CMYK. A DeltaE 2000 of 1 or more is just visible, while 5 or more is just a different color altogether.</p>
     <table class="deltaE">
      <tbody>
       <tr>
        <th>
        <th>A
        <th>B
        <th>C
        <th>D
        <th>E
        <th>F
       <tr>
        <th>1
        <td class="dE5">11.33
        <td class="dE5">9.36
        <td class="dE5">5.66
        <td class="dE5">7.52
        <td class="dE5">12.39
        <td class="dE5">21.58
       <tr>
        <th>2
        <td class="dE5">6.40
        <td class="dE5">8.79
        <td class="dE5">11.77
        <td class="dE5">17.16
        <td class="dE5">11.91
        <td class="dE3">3.97
       <tr>
        <th>3
        <td class="dE5">12.1
        <td class="dE5">17.00
        <td class="dE3">3.38
        <td class="dE1">1.94
        <td class="dE5">18.08
        <td class="dE5">14.97
       <tr>
        <th>4
        <td class="dE1">1.89
        <td class="dE5">6.56
        <td class="dE5">7.85
        <td class="dE5">8.76
        <td class="dE5">9.82
        <td class="dE5">10.29
     </table>
    </figcaption>
   </figure>
   <h3 class="heading settled" data-level="6.1" id="cmyk-rgb"><span class="secno">6.1. </span><span class="content">
	Naively Converting Between Uncalibrated CMYK and sRGB-Based Color
</span><a class="self-link" href="#cmyk-rgb"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="naively convert from CMYK to RGBA | naively converted to RGBA" id="naively-convert-from-cmyk-to-rgba">naively convert from CMYK to RGBA</dfn>:</p>
   <ul class="lang-javascript">
    <li><code class="highlight">red   <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> min<c- p>(</c-><c- mf>1</c-><c- p>,</c-> cyan <c- o>*</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>)</c-> <c- o>+</c-> black<c- p>)</c-></code>
			
    <li><code class="highlight">green <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> min<c- p>(</c-><c- mf>1</c-><c- p>,</c-> magenta <c- o>*</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>)</c-> <c- o>+</c-> black<c- p>)</c-></code>
			
    <li><code class="highlight">blue  <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> min<c- p>(</c-><c- mf>1</c-><c- p>,</c-> yellow  <c- o>*</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>)</c-> <c- o>+</c-> black<c- p>)</c-></code>
			
    <li>Alpha is same as for input color.
		
   </ul>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="naively convert from RGBA to CMYK | naively converted to CMYK" id="naively-convert-from-rgba-to-cmyk">naively convert from RGBA to CMYK</dfn>:</p>
   <ul class="lang-javascript">
    <li><code class="highlight">black   <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> max<c- p>(</c->red<c- p>,</c-> green<c- p>,</c-> blue<c- p>)</c-></code>
			
    <li><code class="highlight">cyan <c- o>=</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> red <c- o>-</c-> black<c- p>)</c->   <c- o>/</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>),</c-> or <c- mf>0</c-> <c- k>if</c-> black is <c- mf>1</c-></code>
			
    <li><code class="highlight">magenta <c- o>=</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> green <c- o>-</c-> black<c- p>)</c-> <c- o>/</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>),</c-> or <c- mf>0</c-> <c- k>if</c-> black is <c- mf>1</c-></code>
			
    <li><code class="highlight">yellow  <c- o>=</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> blue <c- o>-</c-> black<c- p>)</c->  <c- o>/</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>),</c-> or <c- mf>0</c-> <c- k>if</c-> black is <c- mf>1</c-></code>
			
    <li>alpha is the same as the input color
		
   </ul>
   <h2 class="heading settled" data-level="7" id="light-dark"><span class="secno">7. </span><span class="content">
	Reacting to the used color-scheme: the <a class="css" data-link-type="maybe" href="#funcdef-light-dark" id="ref-for-funcdef-light-dark③">light-dark()</a> Function
</span><a class="self-link" href="#light-dark"></a></h2>
   <p>System colors have the ability to react to the current used <span class="css">color-scheme</span> value.
	The <a class="css" data-link-type="maybe" href="#funcdef-light-dark" id="ref-for-funcdef-light-dark④">light-dark()</a> function exposes the same capability to authors.</p>
<pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-light-dark">light-dark()</dfn> = light-dark( <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①⑥">&lt;color></a><a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-comma" id="ref-for-comb-comma①">,</a> <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①⑦">&lt;color></a> )
</pre>
   <p>This function computes to the computed value of the first color,
	if the <a data-link-type="dfn" href="https://drafts.csswg.org/css-color-adjust-1/#used-color-scheme" id="ref-for-used-color-scheme">used color scheme</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-adjust-1/#valdef-color-scheme-light" id="ref-for-valdef-color-scheme-light">light</a> or unknown,
	or to the computed value of the second color,
	if the <span id="ref-for-used-color-scheme①">used color scheme</span> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-adjust-1/#valdef-color-scheme-dark" id="ref-for-valdef-color-scheme-dark">dark</a>.</p>
   <details class="wpt-tests-block" dir="ltr" lang="en" open>
    <summary>Tests</summary>
    <ul class="wpt-tests-list">
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/light-dark-basic.html" title="css/css-color/light-dark-basic.html">light-dark-basic.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/light-dark-basic.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/light-dark-basic.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/light-dark-currentcolor.html" title="css/css-color/light-dark-currentcolor.html">light-dark-currentcolor.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/light-dark-currentcolor.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/light-dark-currentcolor.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/light-dark-inheritance.html" title="css/css-color/light-dark-inheritance.html">light-dark-inheritance.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/light-dark-inheritance.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/light-dark-inheritance.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/light-dark-currentcolor-in-color.html" title="css/css-color/light-dark-currentcolor-in-color.html">light-dark-currentcolor-in-color.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/light-dark-currentcolor-in-color.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/light-dark-currentcolor-in-color.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-pseudo/highlight-styling-004.html" title="css/css-pseudo/highlight-styling-004.html">highlight-styling-004.html</a> <a class="wpt-live" href="http://wpt.live/css/css-pseudo/highlight-styling-004.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-pseudo/highlight-styling-004.html"><small>(source)</small></a>
    </ul>
   </details>
   <h2 class="heading settled" data-level="8" id="contrast-color"><span class="secno">8. </span><span class="content">
	Dynamically specifying a text color with adequate contrast: the <a class="css" data-link-type="maybe" href="#funcdef-contrast-color" id="ref-for-funcdef-contrast-color③">contrast-color()</a> Function
</span><a class="self-link" href="#contrast-color"></a></h2>
   <p>When colors are created dynamically, it can often be a challenge to specify a text color that
	provides adequate contrast with them when used as a background color.
	The <a class="css" data-link-type="maybe" href="#funcdef-contrast-color" id="ref-for-funcdef-contrast-color④">contrast-color()</a> function automatically provides a color with guaranteed color contrast
	when used as a text color on a solid background of the specified color.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Legibility is a complex topic, and sufficient color contrast is only one piece of the puzzle.
	Having a color pair with sufficient contrast does not guarantee that the text will be legible,
	as that also depends on a variety of factors, such as the font, the size of the text,
	the surrounding colors, etc.</p>
<pre class="prod"><dfn class="dfn-paneled" data-dfn-type="function" data-export id="funcdef-contrast-color">contrast-color()</dfn> = contrast-color( <a class="production" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①⑧">&lt;color></a> )
</pre>
   <p><a class="css" data-link-type="maybe" href="#funcdef-contrast-color" id="ref-for-funcdef-contrast-color⑤">contrast-color()</a> resolves to either <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-white" id="ref-for-valdef-color-white">white</a> or <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-black" id="ref-for-valdef-color-black">black</a>,
	whichever produces <strong>maximum</strong> color contrast for text 
	when the input color is used as a solid background.
	If both <span class="css" id="ref-for-valdef-color-white①">white</span> and <span class="css" id="ref-for-valdef-color-black①">black</span> produce the same contrast,
	it resolves to <span class="css" id="ref-for-valdef-color-white②">white</span>.</p>
   <p>The precise color contrast algorithm for determining whether to output a light or dark color
	is UA-defined at this level.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Future versions of this specification are expected to introduce more control over
	both the contrast algorithm(s) used, the use cases, as well as the returned color.</p>
   <p>UAs are advised to not simply use the WCAG 2.1 <a href="https://www.w3.org/TR/WCAG21/#contrast-minimum">section 1.4.3 Contrast (Minimum)</a>
	contrast ratio algorithm to decide between light and dark colors, as it has <a href="https://www.cedc.tools/article.html">several known issues</a>.
	However, colors returned by this function should still meet the WCAG 2.1 <a href="https://www.w3.org/TR/WCAG21/#contrast-minimum">section 1.4.3 Contrast (Minimum)</a>
	for AA large text, as many authors need to meet legal requirements that mandate this.</p>
   <h2 class="heading settled" data-level="9" id="interpolation"><span class="secno">9. </span><span class="content">
	Color Interpolation</span><a class="self-link" href="#interpolation"></a></h2>
   <h3 class="heading settled" data-level="9.1" id="interpolation-space"><span class="secno">9.1. </span><span class="content">
	Color Space for Interpolation</span><a class="self-link" href="#interpolation-space"></a></h3>
   <p>The <a class="production css" data-link-type="type" href="#color-interpolation-method" id="ref-for-color-interpolation-method①">&lt;color-interpolation-method></a> is extended to allow use of the
	<a href="#custom-color">custom color spaces</a>:</p>
<pre class="prod"><dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-color-space">&lt;color-space></dfn> = <a class="production" data-link-type="type" href="#typedef-rectangular-color-space" id="ref-for-typedef-rectangular-color-space">&lt;rectangular-color-space></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑨②">|</a> <a class="production" data-link-type="type" href="#typedef-polar-color-space" id="ref-for-typedef-polar-color-space">&lt;polar-color-space></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑨③">|</a> <a class="production" data-link-type="type" href="#typedef-custom-color-space" id="ref-for-typedef-custom-color-space">&lt;custom-color-space></a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-rectangular-color-space">&lt;rectangular-color-space></dfn> = <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-srgb" id="ref-for-valdef-color-srgb①">srgb</a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑨④">|</a> <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-srgb-linear" id="ref-for-valdef-color-srgb-linear">srgb-linear</a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑨⑤">|</a> <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-display-p3" id="ref-for-valdef-color-display-p3①">display-p3</a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑨⑥">|</a> <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-a98-rgb" id="ref-for-valdef-color-a98-rgb">a98-rgb</a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑨⑦">|</a> <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-prophoto-rgb" id="ref-for-valdef-color-prophoto-rgb">prophoto-rgb</a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑨⑧">|</a> <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-rec2020" id="ref-for-valdef-color-rec2020">rec2020</a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑨⑨">|</a> <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-lab-lab" id="ref-for-valdef-lab-lab">lab</a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①⓪⓪">|</a> <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-oklab-oklab" id="ref-for-valdef-oklab-oklab">oklab</a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①⓪①">|</a> <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-xyz" id="ref-for-valdef-color-xyz①">xyz</a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①⓪②">|</a> <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-xyz-d50" id="ref-for-valdef-color-xyz-d50">xyz-d50</a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①⓪③">|</a> <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-xyz-d65" id="ref-for-valdef-color-xyz-d65">xyz-d65</a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-polar-color-space">&lt;polar-color-space></dfn> = <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-hsl-hsl" id="ref-for-valdef-hsl-hsl②">hsl</a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①⓪④">|</a> <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-hwb-hwb" id="ref-for-valdef-hwb-hwb">hwb</a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①⓪⑤">|</a> <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-lch-lch" id="ref-for-valdef-lch-lch②">lch</a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①⓪⑥">|</a> <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-oklch-oklch" id="ref-for-valdef-oklch-oklch①">oklch</a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-custom-color-space">&lt;custom-color-space></dfn> = <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident⑦">&lt;dashed-ident></a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-hue-interpolation-method">&lt;hue-interpolation-method></dfn> = [ shorter <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①⓪⑦">|</a> longer <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①⓪⑧">|</a> increasing <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①⓪⑨">|</a> decreasing ] hue
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="color-interpolation-method">&lt;color-interpolation-method></dfn> = in [ <a class="production" data-link-type="type" href="#typedef-rectangular-color-space" id="ref-for-typedef-rectangular-color-space①">&lt;rectangular-color-space></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①①⓪">|</a> <a class="production" data-link-type="type" href="#typedef-polar-color-space" id="ref-for-typedef-polar-color-space①">&lt;polar-color-space></a> <a class="production" data-link-type="type" href="#typedef-hue-interpolation-method" id="ref-for-typedef-hue-interpolation-method②">&lt;hue-interpolation-method></a><a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt②②">?</a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①①①">|</a> <a class="production" data-link-type="type" href="#typedef-custom-color-space" id="ref-for-typedef-custom-color-space①">&lt;custom-color-space></a> ]
</pre>
   <p>The <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident⑧">&lt;dashed-ident></a> must have been declared
	in a valid <a class="css" data-link-type="maybe" href="#at-ruledef-profile" id="ref-for-at-ruledef-profile①③">@color-profile</a> rule,
	otherwise the <a class="production css" data-link-type="type" href="#color-interpolation-method" id="ref-for-color-interpolation-method②">&lt;color-interpolation-method></a> is invalid.</p>
   <h2 class="heading settled" data-level="10" id="resolving-color-values"><span class="secno">10. </span><span class="content">
	Resolving <a class="production css" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color①⑨">&lt;color></a> Values
</span><a class="self-link" href="#resolving-color-values"></a></h2>
   <h3 class="heading settled" data-level="10.1" id="resolving-mix"><span class="secno">10.1. </span><span class="content">
	Resolving <a class="css" data-link-type="maybe" href="#funcdef-color-mix" id="ref-for-funcdef-color-mix⑥">color-mix()</a> Values
</span><a class="self-link" href="#resolving-mix"></a></h3>
   <p>If all <a class="production css" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color②⓪">&lt;color></a> parameters resolve
		to the corresponding colors in their respective color spaces,
		the computed value is the mixed color,
		in the specified mixing color space,
		resolved according to <a href="https://drafts.csswg.org/css-color-4/#resolving-color-values"><cite>CSS Color 4</cite> §  14. Resolving &lt;color> Values</a>.
		Otherwise (if <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-currentcolor" id="ref-for-valdef-color-currentcolor①">currentColor</a> was used in the function),
		the computed value is the <a class="css" data-link-type="maybe" href="#funcdef-color-mix" id="ref-for-funcdef-color-mix⑦">color-mix()</a> function
		with each <span class="production" id="ref-for-typedef-color②①">&lt;color></span> parameter resolved according to <a href="https://drafts.csswg.org/css-color-4/#resolving-color-values"><cite>CSS Color 4</cite> §  14. Resolving &lt;color> Values</a>,
		thus preserving inheritance into child elements.</p>
   <details class="wpt-tests-block" dir="ltr" lang="en" open>
    <summary>Tests</summary>
    <ul class="wpt-tests-list">
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-001.html" title="css/css-color/color-mix-currentcolor-001.html">color-mix-currentcolor-001.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/color-mix-currentcolor-001.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-001.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-002.html" title="css/css-color/color-mix-currentcolor-002.html">color-mix-currentcolor-002.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/color-mix-currentcolor-002.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-002.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-003.html" title="css/css-color/color-mix-currentcolor-003.html">color-mix-currentcolor-003.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/color-mix-currentcolor-003.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-003.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-nested-for-color-property.html" title="css/css-color/color-mix-currentcolor-nested-for-color-property.html">color-mix-currentcolor-nested-for-color-property.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/color-mix-currentcolor-nested-for-color-property.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-nested-for-color-property.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/nested-color-mix-with-currentcolor.html" title="css/css-color/nested-color-mix-with-currentcolor.html">nested-color-mix-with-currentcolor.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/nested-color-mix-with-currentcolor.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/nested-color-mix-with-currentcolor.html"><small>(source)</small></a>
    </ul>
   </details>
   <h3 class="heading settled" data-level="10.2" id="resolving-rcs"><span class="secno">10.2. </span><span class="content">
	Resolving Relative Color Syntax Values
</span><a class="self-link" href="#resolving-rcs"></a></h3>
   <p>If all <a class="production css" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color②②">&lt;color></a> parameters resolve
		to the corresponding colors in their respective color spaces,
		the computed value is the absolute <span class="production" id="ref-for-typedef-color②③">&lt;color></span> value,
		in the specified RCS color space,
		resolved according to <a href="https://drafts.csswg.org/css-color-4/#resolving-color-values"><cite>CSS Color 4</cite> §  14. Resolving &lt;color> Values</a>.</p>
   <details class="wpt-tests-block" dir="ltr" lang="en" open>
    <summary>Tests</summary>
    <ul class="wpt-tests-list">
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/parsing/color-computed-relative-color.html" title="css/css-color/parsing/color-computed-relative-color.html">color-computed-relative-color.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/parsing/color-computed-relative-color.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-computed-relative-color.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/parsing/color-valid-relative-color.html" title="css/css-color/parsing/color-valid-relative-color.html">color-valid-relative-color.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/parsing/color-valid-relative-color.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-relative-color.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/parsing/color-invalid-relative-color.html" title="css/css-color/parsing/color-invalid-relative-color.html">color-invalid-relative-color.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/parsing/color-invalid-relative-color.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-invalid-relative-color.html"><small>(source)</small></a>
    </ul>
   </details>
   <p>Otherwise (if <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-currentcolor" id="ref-for-valdef-color-currentcolor②">currentColor</a> was used in the function),
		the computed value is the Relative Color Syntax function
		with the origin <a class="production css" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color②④">&lt;color></a> parameter resolved according to <a href="https://drafts.csswg.org/css-color-4/#resolving-color-values"><cite>CSS Color 4</cite> §  14. Resolving &lt;color> Values</a>,
		thus preserving inheritance into child elements.</p>
   <details class="wpt-tests-block" dir="ltr" lang="en" open>
    <summary>Tests</summary>
    <ul class="wpt-tests-list">
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-a98rgb-01.html" title="css/css-color/relative-currentcolor-a98rgb-01.html">relative-currentcolor-a98rgb-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-a98rgb-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-a98rgb-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lch-01.html" title="css/css-color/relative-currentcolor-lch-01.html">relative-currentcolor-lch-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-lch-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lch-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-01.html" title="css/css-color/relative-currentcolor-rgb-01.html">relative-currentcolor-rgb-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-rgb-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-displayp3-01.html" title="css/css-color/relative-currentcolor-displayp3-01.html">relative-currentcolor-displayp3-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-displayp3-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-displayp3-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklab-01.html" title="css/css-color/relative-currentcolor-oklab-01.html">relative-currentcolor-oklab-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-oklab-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklab-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rgb-02.html" title="css/css-color/relative-currentcolor-rgb-02.html">relative-currentcolor-rgb-02.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-rgb-02.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rgb-02.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-01.html" title="css/css-color/relative-currentcolor-hsl-01.html">relative-currentcolor-hsl-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-hsl-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-oklch-01.html" title="css/css-color/relative-currentcolor-oklch-01.html">relative-currentcolor-oklch-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-oklch-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-oklch-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-xyzd50-01.html" title="css/css-color/relative-currentcolor-xyzd50-01.html">relative-currentcolor-xyzd50-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-xyzd50-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-xyzd50-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hsl-02.html" title="css/css-color/relative-currentcolor-hsl-02.html">relative-currentcolor-hsl-02.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-hsl-02.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hsl-02.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-prophoto-01.html" title="css/css-color/relative-currentcolor-prophoto-01.html">relative-currentcolor-prophoto-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-prophoto-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-prophoto-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-xyzd65-01.html" title="css/css-color/relative-currentcolor-xyzd65-01.html">relative-currentcolor-xyzd65-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-xyzd65-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-xyzd65-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-hwb-01.html" title="css/css-color/relative-currentcolor-hwb-01.html">relative-currentcolor-hwb-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-hwb-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-hwb-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rec2020-01.html" title="css/css-color/relative-currentcolor-rec2020-01.html">relative-currentcolor-rec2020-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-rec2020-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rec2020-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-lab-01.html" title="css/css-color/relative-currentcolor-lab-01.html">relative-currentcolor-lab-01.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-lab-01.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-lab-01.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/relative-currentcolor-rec2020-02.html" title="css/css-color/relative-currentcolor-rec2020-02.html">relative-currentcolor-rec2020-02.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/relative-currentcolor-rec2020-02.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/relative-currentcolor-rec2020-02.html"><small>(source)</small></a>
    </ul>
   </details>
   <h3 class="heading settled" data-level="10.3" id="resolving-device-cmyk-values"><span class="secno">10.3. </span><span class="content">
	Resolving <span class="css">device-cmyk</span> Values
</span><a class="self-link" href="#resolving-device-cmyk-values"></a></h3>
   <p>The computed and used value
		is the specified device-specific CMYK color,
		(with components as <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value⑥②">&lt;number></a>, not <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value③①">&lt;percentage></a>)
		paired with the specified alpha component
		(as a <span class="production" id="ref-for-number-value⑥③">&lt;number></span>, not a <span class="production" id="ref-for-percentage-value③②">&lt;percentage></span>;
		and defaulting to opaque if unspecified).</p>
   <p>The <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#actual-value" id="ref-for-actual-value">actual value</a> can vary based on the operation;
		for rendering to a CMYK-capable device,
		it may be rendered as a CMYK color;
		for blending with non-CMYK colors
		or rendering to a non-CMYK device,
		it must be converted
		as specified in <a href="#device-cmyk">§ 6 Uncalibrated CMYK Colors: the device-cmyk() Function</a>.</p>
   <div class="example" id="ex-device-cmyk-used">
    <a class="self-link" href="#ex-device-cmyk-used"></a>
			For example,

			
<pre class="lang-css highlight"><span class="swatch" style="--color: rgb(93.124%, 44.098%, 57.491%)"></span> <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0</c-><c- k>%</c-> <c- m>70</c-><c- k>%</c-> <c- m>20</c-><c- k>%</c-> <c- m>0</c-><c- k>%</c-><c- p>)</c->
</pre>
    <p>has the specified and actual value</p>
<pre class="lang-css highlight"><span class="swatch" style="--color: rgb(93.124%, 44.098%, 57.491%)"></span> <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0</c-> <c- m>0.7</c-> <c- m>0.2</c-> <c- m>0</c-><c- p>)</c->
</pre>
    <p>and will, if the implementation understands ICC profiles
			and has an appropriate profile installed,
			have the used value</p>
<pre class="lang-css highlight"><span class="swatch" style="--color: rgb(93.124%, 44.098%, 57.491%)"></span> <c- nf>lab</c-><c- p>(</c-><c- m>63.673</c-><c- k>%</c-> <c- m>51.577</c-> <c- m>5.811</c-><c- p>)</c->
</pre>
    <p class="note" role="note"><span class="marker">Note:</span> As with all colors, the used value is not available to script.</p>
   </div>
   <h2 class="heading settled" data-level="11" id="serial"><span class="secno">11. </span><span class="content">
	Serialization
</span><a class="self-link" href="#serial"></a></h2>
   <p>This section extends <a href="https://drafts.csswg.org/css-color-4/#serializing-color-values"><cite>CSS Color 4</cite> §  15. Serializing &lt;color> Values</a>
to add serialization of the
results of the
<a class="css" data-link-type="maybe" href="#funcdef-color-mix" id="ref-for-funcdef-color-mix⑧">color-mix()</a>,
<a class="css" data-link-type="maybe" href="#funcdef-device-cmyk" id="ref-for-funcdef-device-cmyk①⓪">device-cmyk()</a>,
and
relative color functions.</p>
   <p>In this section, the strings used in the specification and the corresponding characters are as follows.</p>
   <table class="data">
    <tbody>
     <tr>
      <th>String
      <th>Character
     <tr>
      <td>" "
      <td>U+0020 SPACE
     <tr>
      <td>","
      <td>U+002C COMMA
     <tr>
      <td>"-"
      <td>U+002D HYPHEN-MINUS
     <tr>
      <td>"."
      <td>U+002E FULL STOP
     <tr>
      <td>"/"
      <td>U+002F SOLIDUS
   </table>
   <p>The string "." shall be used as a decimal separator,
regardless of locale,
and there shall be no thousands separator.</p>
   <p>As usual,
if the alpha of the result is exactly 1,
it is omitted from the serialization;
an implicit value of 1 (fully opaque) is the default.</p>
   <h3 class="heading settled" data-level="11.1" id="serial-color-mix"><span class="secno">11.1. </span><span class="content">
	Serializing color-mix()
</span><a class="self-link" href="#serial-color-mix"></a></h3>
   <p>The serialization of the declared value of a <a class="css" data-link-type="maybe" href="#funcdef-color-mix" id="ref-for-funcdef-color-mix⑨">color-mix()</a> function
is the string "color-mix(in ",
followed by the specified <a class="production css" data-link-type="type" href="#typedef-color-space" id="ref-for-typedef-color-space③">&lt;color-space></a> in all-lowercase,
followed by ", ",
followed by the first specified color,
followed by a space,
followed by the serialization of the first percentage (see below)
followed by ", ",
followed by the second specified color,
followed by the serialization of the second percentage (see below),
followed by ")".</p>
   <p>The serialization of the <strong>first</strong> percentage of a declared value of a <a class="css" data-link-type="maybe" href="#funcdef-color-mix" id="ref-for-funcdef-color-mix①⓪">color-mix()</a> function is defined as:</p>
   <ul>
    <li data-md>
     <p>If BOTH the first percentage <var>p1</var> and second percentage <var>p2</var> are specified:</p>
     <ul>
      <li data-md>
       <p>if both <var>p1</var> equals 50% and <var>p2</var> equals 50%, nothing is serialized. </p>
      <li data-md>
       <p>else, <var>p1</var> is serialized as is. </p>
     </ul>
    <li data-md>
     <p>else if ONLY the first percentage <var>p1</var> is specified:</p>
     <ul>
      <li data-md>
       <p>if <var>p1</var> is equal to 50%, nothing is serialized. </p>
      <li data-md>
       <p>else, <var>p1</var> is serialized as is. </p>
     </ul>
    <li data-md>
     <p>else if ONLY the second percentage <var>p2</var> is specified:</p>
     <ul>
      <li data-md>
       <p>if <var>p2</var> equals 50%, nothing is serialized. </p>
      <li data-md>
       <p>if <var>p2</var> is not <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-values-4/#funcdef-calc" id="ref-for-funcdef-calc①">calc()</a>, the value of 100% - <var>p2</var> is serialized. </p>
      <li data-md>
       <p>else, nothing is serialized. </p>
     </ul>
    <li data-md>
     <p>else if NEITHER is specified:</p>
     <ul>
      <li data-md>
       <p>nothing is serialized. </p>
     </ul>
   </ul>
   <p>The serialization of the <strong>second</strong> percentage of a declared value of a <a class="css" data-link-type="maybe" href="#funcdef-color-mix" id="ref-for-funcdef-color-mix①①">color-mix()</a> function is defined as:</p>
   <ul>
    <li data-md>
     <p>If BOTH the first percentage p1 and second percentages p2 are specified:</p>
     <ul>
      <li data-md>
       <p>if neither p1 nor p2 is calc(), and p1 + p2 equals 100%, nothing is serialized. </p>
      <li data-md>
       <p>else, p2 is serialized as is. </p>
     </ul>
    <li data-md>
     <p>else if ONLY the first percentage p1 is specified:</p>
     <ul>
      <li data-md>
       <p>nothing is serialized. </p>
     </ul>
    <li data-md>
     <p>else if ONLY the second percentage p2 is specified:</p>
     <ul>
      <li data-md>
       <p>if p2 equals 50%, nothing is serialized. </p>
      <li data-md>
       <p>if p2 is not calc(), nothing is serialized. </p>
      <li data-md>
       <p>else, p2 is serialized as is. </p>
     </ul>
    <li data-md>
     <p>else if NEITHER is specified:</p>
     <ul>
      <li data-md>
       <p>nothing is serialized. </p>
     </ul>
   </ul>
   <p class="note" role="note"><span class="marker">Note:</span> <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-values-4/#funcdef-calc" id="ref-for-funcdef-calc②">calc()</a> values are consider to be unknown,
so are <strong>never</strong> equal 50%,
and never sum with something else to equal 100%.</p>
   <div class="example" id="ex-serial-specified-mix">
    <a class="self-link" href="#ex-serial-specified-mix"></a>
	For example, the serialized declared value of
	
<pre>color-mix(in oklab, teal, peru 40%)</pre>
    <p>would be the string "color-mix(in oklab, teal 60%, peru)".</p>
    <p>The serialized declared value of</p>
<pre>color-mix(in oklab, teal 50%, peru 50%)</pre>
    <p>would be the string "color-mix(in oklab, teal, peru)".</p>
    <p>The serialized declared value of</p>
<pre>color-mix(in oklab, teal 70%, peru 70%)</pre>
    <p>would be the string "color-mix(in oklab, teal 70%, peru 70%)"
	because the fact that these normalize to 50% each
	is only discovered after percentage normalization.</p>
   </div>
   <p>The serialization of the result of a <a class="css" data-link-type="maybe" href="#funcdef-color-mix" id="ref-for-funcdef-color-mix①②">color-mix()</a> function
depends on whether the keyword <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-currentcolor" id="ref-for-valdef-color-currentcolor③">currentColor</a> is used in the mix.
If so, the result is serialized as the declared value.
This allows the correct mixture to be used
on child elements whose <span class="css">color</span> property has a different value.
Otherwise, it
is a <a class="production css" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color②⑤">&lt;color></a>,
as defined in <a href="https://drafts.csswg.org/css-color-4/#serializing-color-values"><cite>CSS Color 4</cite> §  15. Serializing &lt;color> Values</a>.
The form used
depends on the color space specified with "in":</p>
   <table class="data">
    <tbody>
     <tr>
      <th>mixing color space
      <th>form
     <tr>
      <td>srgb
      <td>color(srgb r g b)
     <tr>
      <td>srgb-linear
      <td>color(srgb-linear r g b) 
     <tr>
      <td>display-p3
      <td>color(display-p3 r g b) 
     <tr>
      <td>a98-rgb
      <td>color(a98-rgb r g b) 
     <tr>
      <td>prophoto-rgb
      <td>color(prophoto-rgb r g b) 
     <tr>
      <td>rec2020
      <td>color(rec2020 r g b) 
     <tr>
      <td>hsl
      <td>color(srgb r g b) 
     <tr>
      <td>hwb
      <td>color(srgb r g b)
     <tr>
      <td>xyz-d65
      <td>color(xyz-d65 x y z)
     <tr>
      <td>xyz-d50
      <td>color(xyz-d50 x y z)
     <tr>
      <td>xyz
      <td>color(xyz-d65 x y z) <a href="#fn1">¹</a>
     <tr>
      <td>lab
      <td>lab(l a b)
     <tr>
      <td>lch
      <td>lch(l c h)
     <tr>
      <td>oklab
      <td>oklab(l a b)
     <tr>
      <td>oklch
      <td>oklch(l c h)
   </table>
   <dl>
    <dt id="fn1"><a class="self-link" href="#fn1"></a>¹
    <dd>Because <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-xyz" id="ref-for-valdef-color-xyz②">xyz</a> is just an alias for <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-xyz-d65" id="ref-for-valdef-color-xyz-d65①">xyz-d65</a>
   </dl>
   <details class="wpt-tests-block" dir="ltr" lang="en" open>
    <summary>Tests</summary>
    <ul class="wpt-tests-list">
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/parsing/color-valid-color-mix-function.html" title="css/css-color/parsing/color-valid-color-mix-function.html">color-valid-color-mix-function.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/parsing/color-valid-color-mix-function.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/parsing/color-valid-color-mix-function.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-visited-getcomputedstyle.html" title="css/css-color/color-mix-currentcolor-visited-getcomputedstyle.html">color-mix-currentcolor-visited-getcomputedstyle.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/color-mix-currentcolor-visited-getcomputedstyle.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-visited-getcomputedstyle.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/css/css-color/color-mix-currentcolor-visited.html" title="css/css-color/color-mix-currentcolor-visited.html">color-mix-currentcolor-visited.html</a> <a class="wpt-live" href="http://wpt.live/css/css-color/color-mix-currentcolor-visited.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/css/css-color/color-mix-currentcolor-visited.html"><small>(source)</small></a>
    </ul>
   </details>
   <p>The <em>minimum</em> precision for round-tripping
is the same as that specified in
<a href="https://drafts.csswg.org/css-color-4/#serializing-color-values"><cite>CSS Color 4</cite> §  15. Serializing &lt;color> Values</a>.</p>
   <div class="example" id="ex-serial-computed-color-mix">
    <a class="self-link" href="#ex-serial-computed-color-mix"></a>
	The result of this color mixture
	
<pre>color-mix(in lch, peru 40%, palegoldenrod)</pre>
    <p>is serialized as the string <span class="swatch" style="--color: rgb(87.416% 76.036% 47.637%)"></span>
	"lch(79.7256 40.448 84.771)"
	while the result of</p>
<pre>color-mix(in srgb, peru 40%, palegoldenrod)</pre>
    <p>is serialized as the string <span class="swatch" style="--color: rgb(88.16% 75.45% 49.88%)"></span>
	"color(srgb 0.8816 0.7545 0.4988)".</p>
   </div>
   <h3 class="heading settled" data-level="11.2" id="serial-origin-color"><span class="secno">11.2. </span><span class="content">
	Serializing Origin Colors
</span><a class="self-link" href="#serial-origin-color"></a></h3>
   <p>The serialization of a the declared value of a color
used as the <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color④⓪">origin color</a> inside of another color function 
as components of a declared value is:</p>
   <ol>
    <li data-md>
     <p>For <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-rgb" id="ref-for-funcdef-rgb⑥">rgb()</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba⑤">rgba()</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-hsl" id="ref-for-funcdef-hsl⑥">hsl()</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla⑥">hsla()</a></p>
   </ol>
   <ul>
    <li data-md>
     <p>the string identifying the canonical color function,
"rgb" for <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-rgb" id="ref-for-funcdef-rgb⑦">rgb()</a> and <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba⑥">rgba()</a>, 
"hsl" for <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-hsl" id="ref-for-funcdef-hsl⑦">hsl()</a> and <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla⑦">hsla()</a>, 
in all-lowercase, 
followed by "(", 
followed by a space separated list of the non-alpha components as specified 
(numbers serializing as numbers, 
percentages serializing as percentages, 
angles serializing as canonicalized angles in degrees, 
calc() serializing in its simplified form) 
with no clamping applied, 
followed by " / " and the alpha component as specified 
(using the same rules as the color components) 
if an alpha component is present, 
followed by ")".</p>
   </ul>
   <p class="note" role="note"><span class="marker">NOTE:</span> the same serialization is used regardless of whether the modern or legacy syntax was used.</p>
   <ol start="2">
    <li data-md>
     <p>For <a class="css" data-link-type="maybe" href="#funcdef-hwb" id="ref-for-funcdef-hwb⑤">hwb()</a>, <a class="css" data-link-type="maybe" href="#funcdef-lab" id="ref-for-funcdef-lab④">lab()</a>, <a class="css" data-link-type="maybe" href="#funcdef-lch" id="ref-for-funcdef-lch⑤">lch()</a>, <a class="css" data-link-type="maybe" href="#funcdef-oklab" id="ref-for-funcdef-oklab③">oklab()</a>, <a class="css" data-link-type="maybe" href="#funcdef-oklch" id="ref-for-funcdef-oklch⑤">oklch()</a></p>
   </ol>
   <ul>
    <li data-md>
     <p>the string identifying the color function in all-lowercase,
followed by "(", 
followed by a space separated list of the non-alpha components as specified 
(numbers serializing as numbers, 
percentages serializing as percentages, 
angles serializing as canonicalized angles in degrees, 
calc() serializing in its simplified form) with no clamping applied, 
followed by " / " and the alpha component as specified 
(using the same rules as the color components) 
if an alpha component is present, 
followed by ")".</p>
   </ul>
   <ol start="3">
    <li data-md>
     <p>For <a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color①⓪">color()</a></p>
   </ol>
   <ul>
    <li data-md>
     <p>the string "color("
followed by the canonical colorspace 
("xyz-d65" for "xyz") in all-lowercase 
followed by a space, 
followed by a space separated list of the non-alpha components as specified 
(numbers serializing as numbers, 
percentages serializing as percentages, 
angles serializing as canonicalized angles in degrees, 
calc() serializing in its simplified form) 
with no clamping applied, 
followed by " / " and the alpha component as specified 
(using the same rules as the color components) 
if an alpha component is present, 
followed by ")".</p>
   </ul>
   <h3 class="heading settled" data-level="11.3" id="serial-relative-color"><span class="secno">11.3. </span><span class="content">
	Serializing Relative Color Functions
</span><a class="self-link" href="#serial-relative-color"></a></h3>
   <p>The serialization of the declared value of a relative color is:</p>
   <ol>
    <li data-md>
     <p>For <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-rgb" id="ref-for-funcdef-rgb⑧">rgb()</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba⑦">rgba()</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-hsl" id="ref-for-funcdef-hsl⑧">hsl()</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla⑧">hsla()</a></p>
   </ol>
   <ul>
    <li data-md>
     <p>the string identifying the canonical color function,
"rgb" for <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-rgb" id="ref-for-funcdef-rgb⑨">rgb()</a> and <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-rgba" id="ref-for-funcdef-rgba⑧">rgba()</a>, 
"hsl" for <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-hsl" id="ref-for-funcdef-hsl⑨">hsl()</a> and <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-hsla" id="ref-for-funcdef-hsla⑨">hsla()</a>, 
in all-lowercase, 
followed by "(from ", 
followed by the <a href="#serial-origin-color">serialization of the origin color</a> 
using the rules for serializing nested origin colors, 
followed by a single space, 
followed by a space separated list of the non-alpha channel arguments as specified 
(identifiers serializing as identifiers, 
numbers serializing as numbers, 
percentages serializing as percentages, 
angles serializing as canonicalized angles in degrees, 
calc() serializing in its simplified form), 
followed by " / " and the alpha component as specified 
(using the same rules as the color channel arguments) 
if an alpha component is present, 
followed by ")".</p>
   </ul>
   <ol start="2">
    <li data-md>
     <p>For <a class="css" data-link-type="maybe" href="#funcdef-hwb" id="ref-for-funcdef-hwb⑥">hwb()</a>, <a class="css" data-link-type="maybe" href="#funcdef-lab" id="ref-for-funcdef-lab⑤">lab()</a>, <a class="css" data-link-type="maybe" href="#funcdef-lch" id="ref-for-funcdef-lch⑥">lch()</a>, <a class="css" data-link-type="maybe" href="#funcdef-oklab" id="ref-for-funcdef-oklab④">oklab()</a>, <a class="css" data-link-type="maybe" href="#funcdef-oklch" id="ref-for-funcdef-oklch⑥">oklch()</a></p>
   </ol>
   <ul>
    <li data-md>
     <p>the string identifying the color function in all-lowercase,
followed by "(from ", 
followed by the <a href="#serial-origin-color">serialization of the origin color</a> 
using the rules for serializing nested origin colors, 
followed by a single space, 
followed by a space separated list of the non-alpha channel arguments as specified 
(identifiers serializing as identifiers, 
numbers serializing as numbers, 
percentages serializing as percentages, 
angles serializing as canonicalized angles in degrees, 
calc() serializing in its simplified form), 
followed by " / " and the alpha component as specified 
(using the same rules as the color channel arguments) 
if an alpha component is present, 
followed by ")".</p>
   </ul>
   <ol start="3">
    <li data-md>
     <p>For <a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color①①">color()</a></p>
   </ol>
   <ul>
    <li data-md>
     <p>the string "color(from ",
followed by the <a href="#serial-origin-color">serialization of the origin color</a> 
using the rules for serializing nested origin colors, 
followed by a single space, 
followed by the canonical colorspace ("xyz-d65" for "xyz") 
in all-lowercase, 
followed by a single space, 
followed by space separated list of the non-alpha channel arguments as specified 
(identifiers serializing as identifiers, 
numbers serializing as numbers, 
percentages serializing as percentages, 
angles serializing as canonicalized angles in degrees, 
calc() serializing in its simplified form), 
followed by " / " and the alpha component as specified 
(using the same rules as the color channel arguments) 
if an alpha component is present, 
followed by ")".</p>
   </ul>
   <div class="example" id="ex-serial-rcs-specified-simple">
    <a class="self-link" href="#ex-serial-rcs-specified-simple"></a>
	For example, the serialization of the declared value of

	
<pre class="lang-css highlight"><c- nf>OkLcH</c-><c- p>(</c->from peru  l    c  h<c- p>)</c-></pre>
    <p>is the string "oklch(from peru l c h)"</p>
   </div>
   <div class="example" id="ex-serial-rcs-calc">
    <a class="self-link" href="#ex-serial-rcs-calc"></a>
For example, the serialization of the declared value of


<pre class="lang-css highlight"><c- nf>rgb</c-><c- p>(</c->from red <c- nf>calc</c-><c- p>(</c->r / <c- m>2</c-><c- p>)</c-> g <c- nf>calc</c-><c- p>(</c-><c- m>30</c-><c- k>%</c-><c- p>));</c-></pre>
    <p>is the string "rgb(from red calc(0.5 * r) g calc(30%))",
while the serialization of the computed value
is the string "color(srgb 0.5 0 0.3)".</p>
   </div>
   <div class="example" id="ex-serial-rcs-nested-none">
    <a class="self-link" href="#ex-serial-rcs-nested-none"></a>
For example, the serialization of the declared value of


<pre class="lang-css highlight"><c- nf>hsl</c-><c- p>(</c->from <c- nf>hsl</c-><c- p>(</c->none <c- m>10</c-><c- k>%</c-> <c- m>50</c-><c- k>%</c-><c- p>)</c-> h s l<c- p>);</c-></pre>
    <p>is the string "hsl(from hsl(none 10% 50%) h s l)",
while the serialization of the computed value
is the string "color(srgb 0.55 0.45 0.45)".</p>
   </div>
   <div class="example" id="ex-serial-rcs-hsl-unclamped">
    <a class="self-link" href="#ex-serial-rcs-hsl-unclamped"></a>
For example, the serialization of the declared value of


<pre class="lang-css highlight"><c- nf>hsl</c-><c- p>(</c->from <c- nf>hsl</c-><c- p>(</c-><c- m>127.9</c-> <c- m>302</c-><c- k>%</c-> <c- m>25.33</c-><c- k>%</c-><c- p>)</c-> h s l<c- p>);</c-></pre>
    <p>is the string "hsl(from hsl(127.9 302% 25.33%) h s l)",
while the serialization of the computed value
is the string "color(srgb -0.511666 1.018266 -0.310225)".</p>
   </div>
   <div class="example" id="ex-serial-rcs-currentcolor">
    <a class="self-link" href="#ex-serial-rcs-currentcolor"></a>
Given the following HTML (note the color property set on this element):


<pre class="lang-html highlight"><c- p>&lt;</c-><c- f>div</c-> <c- e>id</c-><c- o>=</c-><c- s>"example"</c-> 
  <c- e>style</c-><c- o>=</c-><c- s>"background-color: rgb(from currentcolor r g calc(b / 2)); </c->
<c- s>  color: blue;"</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
</pre>
    <p>The serialization of the declared value of <span class="css">background-color</span>
is the string "rgb(from currentcolor r g calc(b / 2))"
while the serialization of the computed value
is the string "color(srgb 0 0 0.5)"</p>
   </div>
   <p>The serialization of the result of a relative color function
depends on whether the keyword <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-currentcolor" id="ref-for-valdef-color-currentcolor④">currentColor</a> is the <a data-link-type="dfn" href="#origin-color" id="ref-for-origin-color④①">origin color</a>.
If so, the result is serialized as the declared value.
This allows the correct value to be used
on child elements whose <span class="css">color</span> property has a different value.
Otherwise, it
is the resolved value,
which is a  <a class="production css" data-link-type="type" href="#typedef-color" id="ref-for-typedef-color②⑥">&lt;color></a>,
as defined in <a href="https://drafts.csswg.org/css-color-4/#serializing-color-values"><cite>CSS Color 4</cite> §  15. Serializing &lt;color> Values</a>.</p>
   <p>The form used
depends on the color space of the <a data-link-type="dfn" href="#relative-color" id="ref-for-relative-color①⑥">relative color</a>:</p>
   <table class="data">
    <tbody>
     <tr>
      <th>mixing color space
      <th>form
     <tr>
      <td>srgb
      <td>color(srgb r g b)
     <tr>
      <td>srgb-linear
      <td>color(srgb-linear r g b) 
     <tr>
      <td>display-p3
      <td>color(display-p3 r g b) 
     <tr>
      <td>a98-rgb
      <td>color(a98-rgb r g b) 
     <tr>
      <td>prophoto-rgb
      <td>color(prophoto-rgb r g b) 
     <tr>
      <td>rec2020
      <td>color(rec2020 r g b) 
     <tr>
      <td>hsl
      <td>color(srgb r g b) 
     <tr>
      <td>hwb
      <td>color(srgb r g b)
     <tr>
      <td>xyz-d65
      <td>color(xyz-d65 x y z)
     <tr>
      <td>xyz-d50
      <td>color(xyz-d50 x y z)
     <tr>
      <td>xyz
      <td>color(xyz-d65 x y z)
     <tr>
      <td>lab
      <td>lab(l a b)
     <tr>
      <td>lch
      <td>lch(l c h)
     <tr>
      <td>oklab
      <td>oklab(l a b)
     <tr>
      <td>oklch
      <td>oklch(l c h)
   </table>
   <details class="wpt-tests-block" dir="ltr" lang="en" open>
    <summary>Tests</summary>
    <ul class="wpt-tests-list"></ul>
   </details>
   <p>The <em>minimum</em> precision for round-tripping
is the same as that specified in
<a href="https://drafts.csswg.org/css-color-4/#serializing-color-function-values"><cite>CSS Color 4</cite> § 15.5 Serializing values of the color() function</a>.</p>
   <div class="example" id="ex-serial-rcs-computed">
    <a class="self-link" href="#ex-serial-rcs-computed"></a>
	The result of serializing
	
<pre class="lang-css highlight"><c- nf>lch</c-><c- p>(</c->from peru <c- nf>calc</c-><c- p>(</c->l * <c- m>0.8</c-><c- p>)</c-> <c- nf>calc</c-><c- p>(</c->c * <c- m>0.7</c-><c- p>)</c-> <c- nf>calc</c-><c- p>(</c->h + <c- m>180</c-><c- p>))</c-> </pre>
    <p>is the string
	<span class="swatch" style="--color: rgb(3.12% 50.352% 68.894%)"></span>
	"lch(49.80224 37.80819 243.6803)"</p>
   </div>
   <h3 class="heading settled" data-level="11.4" id="serial-custom-color"><span class="secno">11.4. </span><span class="content">
	Serializing Custom Color Spaces
</span><a class="self-link" href="#serial-custom-color"></a></h3>
   <p>The precision with which <a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color①②">color()</a> component values are retained,
and thus the number of significant figures in the serialized value,
is not defined in this specification,
but for CMYK color spaces must at least be sufficient
to round-trip values
with eight bit precision;
this will result in at least two decimal places
unless trailing zeroes have been omitted.</p>
   <div class="example" id="ex-color-swop-serial">
    <a class="self-link" href="#ex-color-swop-serial"></a>
	
    <p>The serialized value of the color in</p>
<pre class="lang-css highlight"><c- n>@color-profile</c-> --swop5c <c- p>{</c-><c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'https://example.org/SWOP2006_Coated5v2.icc'</c-><c- p>);</c->
<c- p>}</c->
.header <c- p>{</c->
<c- k>background-color</c-><c- p>:</c->  <span class="swatch" style="--color: rgb(94.903% 45.248% 59.104%)"></span>  <c- nf>color</c-><c- p>(</c->--swop5c  <c- m>0</c-><c- k>%</c-> <c- m>70.0</c-><c- k>%</c-> <c- m>20.00</c-><c- k>%</c-> <c- m>.0</c-><c- k>%</c-><c- p>);</c->
<c- p>}</c-></pre>
    <p>is the string "color(--swop5c 0 0.7 0.2 0)"</p>
   </div>
   <h3 class="heading settled" data-level="11.5" id="serializing-device-cmyk-values"><span class="secno">11.5. </span><span class="content">
	Serializing <span class="css">device-cmyk</span> Values
</span><a class="self-link" href="#serializing-device-cmyk-values"></a></h3>
   <p>The serialized form of <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk" id="ref-for-funcdef-device-cmyk①①">device-cmyk()</a> values
	is derived from the <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#computed-value" id="ref-for-computed-value">computed value</a>
	and uses the <span class="css" id="ref-for-funcdef-device-cmyk①②">device-cmyk()</span> form,
	with lowercase letters for the function name.</p>
   <p>The component values are serialized in base 10,
	as <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value⑥④">&lt;number></a>.
	A single ASCII space character " "
	must be used as the separator
	between the component values.</p>
   <p>Trailing fractional zeroes in any component values must be omitted;
	if the fractional part consists of all zeroes,
	the decimal point must also be omitted.</p>
   <div class="example" id="ex-device-cmyk-serial">
    <a class="self-link" href="#ex-device-cmyk-serial"></a>
		
    <p>The serialized value of the color</p>
<pre class="lang-css highlight"><span class="swatch" style="--color: rgb(70.7% 26.9% 19.7%);"></span>  <c- nf>device-cmyk</c-><c- p>(</c-><c- m>0</c-> <c- m>81</c-><c- k>%</c-> <c- m>81</c-><c- k>%</c-> <c- m>30</c-><c- k>%</c-><c- p>)</c-></pre>
    <p>is the string "device-cmyk(0 0.81 0.81 0.3)"</p>
   </div>
   <p>The precision with which <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk" id="ref-for-funcdef-device-cmyk①③">device-cmyk()</a> component values are retained,
	and thus the number of significant figures in the serialized value,
	is not defined in this specification,
	but must at least be sufficient
	to round-trip values
	with eight bit precision;
	this will result in at least two decimal places
	unless trailing zeroes have been omitted.
	Values must be <a href="https://drafts.csswg.org/css-values-4/#combine-integers">rounded towards +∞</a>, not truncated.</p>
   <p>Unitary alpha values are not explicitly serialized.
	Non-unitary alpha values must be explicitly serialized,
	and the string " / "
	(an ASCII space, then forward slash, then another space)
	must be used to separate
	the black ("k") color component value
	from the alpha value.</p>
   <h2 class="heading settled" data-level="12" id="apis"><span class="secno">12. </span><span class="content">APIs</span><a class="self-link" href="#apis"></a></h2>
   <h3 class="heading settled" data-level="12.1" id="the-csscolorprofilerule-interface"><span class="secno">12.1. </span><span class="content">The <code>CSSColorProfileRule</code> interface</span><a class="self-link" href="#the-csscolorprofilerule-interface"></a></h3>
   <p>The <a class="idl-code" data-link-type="interface" href="#csscolorprofilerule" id="ref-for-csscolorprofilerule">CSSColorProfileRule</a> interface represents a <a class="css" data-link-type="maybe" href="#at-ruledef-profile" id="ref-for-at-ruledef-profile①④">@color-profile</a> rule.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="csscolorprofilerule"><code><c- g>CSSColorProfileRule</c-></code></dfn> : <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssrule" id="ref-for-cssrule"><c- n>CSSRule</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-name" id="ref-for-dom-csscolorprofilerule-name"><c- g>name</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring①"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-src" id="ref-for-dom-csscolorprofilerule-src"><c- g>src</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring②"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-renderingintent" id="ref-for-dom-csscolorprofilerule-renderingintent"><c- g>renderingIntent</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring③"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-components" id="ref-for-dom-csscolorprofilerule-components"><c- g>components</c-></a> ;
};
</pre>
   <dl>
    <dt><dfn class="dfn-paneled idl-code" data-dfn-for="CSSColorProfileRule" data-dfn-type="attribute" data-export id="dom-csscolorprofilerule-name"><code>name</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring④">CSSOMString</a>, readonly</span>
    <dd>
			The <var>name</var> attribute on getting must return
			a <code>CSSOMString</code> object
			that contains the serialization
			of the <a data-link-type="dfn" href="#css-color-profile" id="ref-for-css-color-profile③">color profile’s</a> <var>name</var>
			defined for the associated rule.
		
    <dt><dfn class="dfn-paneled idl-code" data-dfn-for="CSSColorProfileRule" data-dfn-type="attribute" data-export id="dom-csscolorprofilerule-src"><code>src</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring⑤">CSSOMString</a>, readonly</span>
    <dt><dfn class="dfn-paneled idl-code" data-dfn-for="CSSColorProfileRule" data-dfn-type="attribute" data-export id="dom-csscolorprofilerule-renderingintent"><code>renderingIntent</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring⑥">CSSOMString</a>, readonly</span>
    <dt><dfn class="dfn-paneled idl-code" data-dfn-for="CSSColorProfileRule" data-dfn-type="attribute" data-export id="dom-csscolorprofilerule-components"><code>components</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring⑦">CSSOMString</a>, readonly</span>
    <dd>
			The remaining attributes on getting
			must return a <code>CSSOMString</code> object
			that contains the serialization of the
			associated descriptor defined for the associated rule.
			If the descriptor was not specified in the associated rule,
			the attribute must return an empty string.
		
   </dl>
   <h2 class="heading settled" data-level="13" id="sample"><span class="secno">13. </span><span class="content">
	Default Style Rules
</span><a class="self-link" href="#sample"></a></h2>
   <p>The following stylesheet is informative, not normative.  This style sheet could be used by an implementation as part of its default styling of HTML Family documents.</p>
<pre class="lang-css highlight"><c- c>/* traditional desktop user agent colors for hyperlinks */</c->
:link <c- p>{</c-> <c- k>color</c-><c- p>:</c-> LinkText<c- p>;</c-> <c- p>}</c->
:visited <c- p>{</c-> <c- k>color</c-><c- p>:</c-> VisitedText<c- p>;</c-> <c- p>}</c->
:active <c- p>{</c-> <c- k>color</c-><c- p>:</c-> ActiveText<c- p>;</c-> <c- p>}</c->

<c- c>/* a reasonable, conservative default for device-cmyk */</c->
<c- n>@color-profile</c-> device-cmyk <c- p>{</c->
  <c- k>src</c-><c- p>:</c-> <c- nf>url</c-><c- p>(</c-><c- s>'https://drafts.csswg.org/css-color-4/ICCprofiles/Coated_Fogra39L_VIGC_300.icc'</c-><c- p>);</c->
<c- p>}</c->
</pre>
   <h2 class="heading settled" data-level="14" id="color-conversion-code"><span class="secno">14. </span><span class="content">
Sample code for Color Conversions</span><a class="self-link" href="#color-conversion-code"></a></h2>
   <p><em>This section is not normative.</em></p>
   <p>The naive conversion from device-cmyk is trivial:</p>
<pre class="include-code highlight"><c- a>function</c-> naive<c- p>(</c->cmyk<c- p>)</c-> <c- p>{</c->
  <c- c1>// naively convert an array of CMYK values</c->
  <c- c1>// to sRGB</c->
  <c- a>let</c-> <c- p>[</c->cyan<c- p>,</c-> magenta<c- p>,</c-> yellow<c- p>,</c-> black<c- p>]</c-> <c- o>=</c-> cmyk<c- p>;</c->
    <c- a>let</c-> red <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> Math<c- p>.</c->min<c- p>(</c-><c- mf>1</c-><c- p>,</c-> cyan <c- o>*</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>)</c-> <c- o>+</c-> black<c- p>);</c->
    <c- a>let</c-> green <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> Math<c- p>.</c->min<c- p>(</c-><c- mf>1</c-><c- p>,</c-> magenta <c- o>*</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>)</c-> <c- o>+</c-> black<c- p>);</c->
    <c- a>let</c-> blue <c- o>=</c-> <c- mf>1</c-> <c- o>-</c-> Math<c- p>.</c->min<c- p>(</c-><c- mf>1</c-><c- p>,</c-> yellow <c- o>*</c-> <c- p>(</c-><c- mf>1</c-> <c- o>-</c-> black<c- p>)</c-> <c- o>+</c-> black<c- p>);</c->
    <c- k>return</c-> <c- p>[</c->red<c- p>,</c-> green<c- p>,</c-> blue<c- p>];</c->
<c- p>}</c->
</pre>
   <h2 class="heading settled" data-level="15" id="security"><span class="secno">15. </span><span class="content">
	Security Considerations
</span><a class="self-link" href="#security"></a></h2>
   <p>This specification adds to CSS the on-demand
downloading of ICC profiles.
These do not contain executable code,
and thus do not constitute an increased security risk.</p>
   <h2 class="heading settled" data-level="16" id="privacy"><span class="secno">16. </span><span class="content">
	Privacy Considerations
</span><a class="self-link" href="#privacy"></a></h2>
   <p>No new privacy considerations have been reported on this specification.</p>
   <h2 class="heading settled" data-level="17" id="a11y-sec"><span class="secno">17. </span><span class="content">Accessibility Considerations </span><a class="self-link" href="#a11y-sec"></a></h2>
   <p>This specification adds a way to ensure adequate contrast for text whose background is a user-specified color, including dynamic colors.</p>
   <h2 class="heading settled" data-level="18" id="changes"><span class="secno">18. </span><span class="content">
	Changes
</span><a class="self-link" href="#changes"></a></h2>
   <h3 class="heading settled" data-level="18.1" id="changes-20250318"><span class="secno">18.1. </span><span class="content">
	Since the <a href="https://www.w3.org/TR/2025/WD-css-color-5-20250318/">Working Draft of 18 March 2025</a>
</span><a class="self-link" href="#changes-20250318"></a></h3>
   <ul>
    <li>Clarified fetching external URLs for style resources
    <li>Clarified that sole item in color-mix() is returned in the specified color space
    <li>Made color mixing algorithm pass the normalization flag
    <li>Made color-mix() accept 1+ arguments, to match *-mix() in general
    <li>Ported definitions for colors that "resolve to sRGB" and "support legacy color syntax" from CSS Color 4
    <li>Added sample javascript code for naively converting from device-cmyk
    <li>Added worked example of color-mix() using device-cmyk fallback color
    <li>Explicitly clarified (rather than inferring) that there is no RCS for device-cmyk()
    <li>Defined that in color-mix(), if the percentages sum to zero, return transparent
    <li>Properly exported the term "required conversion"
   </ul>
   <h3 class="heading settled" data-level="18.2" id="changes-20240229"><span class="secno">18.2. </span><span class="content">
	Since the <a href="https://www.w3.org/TR/2024/WD-css-color-5-20240229/">Working Draft of 29 February 2024</a>
</span><a class="self-link" href="#changes-20240229"></a></h3>
   <ul>
    <li>Clarified that component keywords can return <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none⑤">none</a> as well as a number
    <li>Added examples of serialization of nested color functions
    <li>Defined edge cases of color-mix() with calc, by WG resolution
    <li>Remove the "invalid if sum to zero" wording for color-mix(), per WG resolution
    <li>Consistently use of "color component" rather than "color channel" (both were used)
    <li>Simplified contrast-color(), per WG resolution
    <li>Link to term premultiplied consistently
    <li>Validate color profile components case-insensitively
    <li>Added contrast-color() to the color type definition
    <li>Added accessibility considerations section
    <li>Added references to FOGRA39, 51 and 55 
    <li>Removed mention of &lt;hue-interpolation-method> being an error condition for rectangular color spaces, as the grammar does not allow it
    <li>Clarified which color space the relative color component keywords relate to
    <li>Separated out the conceptual aspects of relative colors from the syntactic details
    <li>Ensured adequate contrast for text in the deltaE table
    <li>Clarified that relative color components are not clamped, while relative alpha is
   </ul>
   <h3 class="heading settled" data-level="18.3" id="changes-20220628"><span class="secno">18.3. </span><span class="content">
	Since the <a href="https://www.w3.org/TR/2022/WD-css-color-5-20220628/">Working Draft of 28 June 2022</a>
</span><a class="self-link" href="#changes-20220628"></a></h3>
   <ul>
    <li>Described CSSOM serialization in terms of declared values, rather than specified values
    <li>Added the <a class="css" data-link-type="maybe" href="#funcdef-contrast-color" id="ref-for-funcdef-contrast-color⑥">contrast-color()</a> function
    <li>Explicitly linked to the CSS color 4 section on interpolation, for <a class="css" data-link-type="maybe" href="#funcdef-color-mix" id="ref-for-funcdef-color-mix①③">color-mix()</a>
    <li>Removed a leftover mention of gamut mapping to HSL
    <li>Defined absolute colors in prose, rather than as part of the grammar
    <li>Explicitly repeated the reference ranges for percent to number conversion in RCS for each case
    <li>Better defined serialization of relative colors whose origin color is currentColor. sRGB, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-hsl" id="ref-for-funcdef-hsl①⓪">hsl()</a> and <a class="css" data-link-type="maybe" href="#funcdef-hwb" id="ref-for-funcdef-hwb⑦">hwb()</a> serialize using color(srgb ...) to enable round-tripping.
    <li>Updated abstract to mention the <a class="css" data-link-type="maybe" href="#funcdef-light-dark" id="ref-for-funcdef-light-dark⑤">light-dark()</a> function
    <li>Ported forward the larger list of rectangular color spaces from CSS Color 4
    <li>Correction to the grammar for custom params (whitespace separated, not comma separated)
    <li>Corrections to the grammar of <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk" id="ref-for-funcdef-device-cmyk①④">device-cmyk()</a> which was missing <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none⑥">none</a>, and the previous (legacy) syntax from CSS GCPM
    <li><a class="css" data-link-type="maybe" href="#funcdef-color-mix" id="ref-for-funcdef-color-mix①④">color-mix()</a> was missing from the grammar of the color type
    <li>Clarified serialization of specified RCS values
    <li>Added the <a class="css" data-link-type="maybe" href="#funcdef-light-dark" id="ref-for-funcdef-light-dark⑥">light-dark()</a> function
    <li>Corrected color-mix percent normalization algorithm to include explicit 50% edge case
    <li>Updated HSL example which still used gamut mapping before sRGB to HSL conversion step
    <li>Fixed syntax highlighting in some examples
    <li>Clarified that RCS origin colors can include optional alpha
    <li>Fixed erroneous use of powerless components
    <li>Used reference ranges for percent to number conversions
    <li>Made <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#funcdef-hsl" id="ref-for-funcdef-hsl①①">hsl()</a> and <a class="css" data-link-type="maybe" href="#funcdef-hwb" id="ref-for-funcdef-hwb⑧">hwb()</a> component values number, per CSSWG resolution.
		Also made all the hue angle component values number, in degrees.
		The RCS intro already said this but the change had not been fully propagated.
    <li>Added an RCS example in CIE XYZ D65 colorspace
    <li>Removed un-needed and unchanged copy of a section of CSS Color 4 which was confusing to read
    <li>Corrected section title to "Specifying Predefined and Custom Color Spaces: the <a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color①③">color()</a> Function"
    <li>Defined that HWB now allows number, previously it was percentage only
    <li>Clarified that, if using RCS components in unusual positions, there is no  "magic scaling"; use calc() if you want that. Added example.
    <li>Clarified which of CIE Lightness and Oklab lightness are being used
    <li>Clarified serialization of the result of a <a class="css" data-link-type="maybe" href="#funcdef-color-mix" id="ref-for-funcdef-color-mix①⑤">color-mix()</a> function if <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-currentcolor" id="ref-for-valdef-color-currentcolor⑤">currentColor</a> is used. Added an example of this.
    <li>Fixed typo’s in some color-mix examples 
    <li>Fixed an example which used 0 instead of none for powerless components
    <li>Defined serialization of specified value of color-mix and clarified that it serializes with specified, not normalized, percentages
    <li>Removed the unchanged alpha-value definition, link to Color 4 instead
    <li>Used separate grammar productions for modern and legacy rgb, rgba, hsl, and hsla
    <li>Clarified that the origin color is unrestricted and can use either modern or legacy syntax
    <li>Added a new color production, clarified that RCS can be nested
    <li>Clarified that percentage and number can be freely mixed for RGB, HSL; not restricted to RCS any more 
    <li>Clarified that RCS only applies to the modern color syntax
    <li>Defined required color space conversions, clarified that un-needed conversions can be skipped
    <li>Added correct and incorrect gradient rendering images
    <li>Clarified that un-named components in custom color spaces are still valid
    <li>Improved some examples to make them clearer
    <li>Defined RCS with missing components
    <li>Added dashed-ident to color-interpolation method, can now interpolate in custom color spaces
    <li>Clarified that hue components in RCS resolve to a number, in degrees
    <li>Specified the resolved RCS where the origin color is currentColor
    <li>Channel keywords can only have a single type
    <li>Corrected invalid example of RCS on legacy syntax, to actually use the legacy syntax
    <li>Used consistent serialization in examples
    <li>Noted that a defined serialization for <a class="css" data-link-type="maybe" href="#funcdef-device-cmyk" id="ref-for-funcdef-device-cmyk①⑤">device-cmyk()</a> exists
    <li>Added the <a class="idl-code" data-link-type="interface" href="#csscolorprofilerule" id="ref-for-csscolorprofilerule①">CSSColorProfileRule</a> interface
    <li>Consistent capitalization of Oklab and OkLCh
    <li>Accessibility improvements for color swatches
    <li>Accessibility improvements for diagrams
    <li>Fixed unwanted clipping of some color swatches
    <li>Improved alternative text for some figures
    <li>Added some missing color swatches
    <li>Added row and column labels for MacBeth images and table of deltaE
    <li>Better labelling on hue-rotate diagram
    <li>Better descriptions of colors on diagrams, improve Accessibility
    <li>Ensured all diagrams and figures have IDs, selflinks
   </ul>
   <h3 class="heading settled" data-level="18.4" id="changes-20220428"><span class="secno">18.4. </span><span class="content">
	Since the <a href="https://www.w3.org/TR/2022/WD-css-color-5-20220428/">Working Draft of 28 April 2022</a>
</span><a class="self-link" href="#changes-20220428"></a></h3>
   <ul>
    <li>Fixed a typo in definition of rgb()
    <li>Editorial improvements (capitalization, spelling, clarity)
    <li>Exported definitions for other specifications to use
    <li> Add missing <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none⑦">none</a> to alpha in grammar of color()
    <li>Moved the color-contrast() function to level 6
   </ul>
   <h3 class="heading settled" data-level="18.5" id="changes-20211215"><span class="secno">18.5. </span><span class="content">
	Since the <a href="https://www.w3.org/TR/2021/WD-css-color-5-20211215/">Working Draft of 15 December 2021</a>
</span><a class="self-link" href="#changes-20211215"></a></h3>
   <ul>
    <li>Forgiveness of too many/too few parameters in color() restricted to custom color spaces
    <li>Changed RCS to allow number or percent everywhere
    <li>Clearly described potential clash of component names with named constants such as PI
    <li>Clarified that Relative Color Syntax does not use legacy (comma-separated) syntax
    <li>Corrected grammar of the rgb() function, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-none" id="ref-for-valdef-color-none⑧">none</a>' was not listed as an option for alpha
    <li>Changed serialization of color-mix() which uses hsl or hwb, to maximize precision
    <li>Added an out of gamut color-mix example
    <li>Use the term "cannot express the color" to describe HSL and HWB models which cannot represent extended, out of gamut colors.
    <li>Fixed some spelling errors
   </ul>
   <h3 class="heading settled" data-level="18.6" id="changes-20210601"><span class="secno">18.6. </span><span class="content">
	Since the <a href="https://www.w3.org/TR/2021/WD-css-color-5-20210601/">Working Draft of 1 June 2021</a>
</span><a class="self-link" href="#changes-20210601"></a></h3>
   <ul>
    <li>Using &lt;hue-interpolation-method> in rectangular spaces is an error
    <li>Changed old &lt;hue-adjuster> to new &lt;hue-interpolation-method>
    <li>Moved @color-profile and device-cmyk to level 5 per CSSWG resolution
    <li>Excluded none as a component name
    <li>Added OkLCh relative color syntax example
    <li>Defined interpolation color space
    <li>Defined loading color profiles in terms of fetch
    <li>Clarified that contrast is calculated relative to D65-adapted CIE XYZ
    <li>Added oklab() and oklch()  to serialization of color-mix()
    <li>Added oklab() and oklch() relative color syntax
    <li>Added lch vs. oklch mixing example
    <li>Prefer oklab and oklch for mixing
    <li>Changed xyz to D65-reative, following CSS Color 4
    <li>Added oklab and oklch color spaces
    <li>Defined how to resolve color-contrast())
    <li>Clarified minimum precision of serialized forms
    <li>Clarified that CIE LCH is meant
    <li>Added some more examples
    <li>Removed color-adjust(), keeping relative color syntax
    <li>Defined serialization of the results of the color-mix, color-contrast, and relative color syntaxes
   </ul>
   <h3 class="heading settled" data-level="18.7" id="changes-20200303"><span class="secno">18.7. </span><span class="content">
	Since the <a href="https://www.w3.org/TR/2020/WD-css-color-5-20200303/">FPWD of 10 June 2020</a>
</span><a class="self-link" href="#changes-20200303"></a></h3>
   <ul>
    <li>Added relative color syntax for the color() function
    <li>Clarified that the color-adjuster is not optional
    <li>Clarified that the percentage in color-mix is mandatory
    <li>Moved hue-adjuster back to color-mix whee it belongs
    <li>Added example with different mixing color spaces
    <li>Added examples of percentage normalization in color-mix()
    <li>Explicitly excluded negative percentages in color-mix()
    <li>Percentages in color-mix() summing to less than 100% produce an alpha transparency less than 100%
    <li>Consistently used the term color space rather than colorspace,
		defined <a class="production css" data-link-type="type" href="#typedef-color-space" id="ref-for-typedef-color-space④">&lt;color-space></a> token
	
    <li>Corrected color-contrast grammar
    <li>Added an optional target contrast ratio to color-contrast()
    <li>Corrected adjuster grammar
    <li>Noted that the corner case of percentages summing to zero needs to be handled
    <li>Clarified order of operations in color-mix()
    <li>Updated examples to match current grammar
    <li>Defined how percentages are normalized
    <li>Clarify meaning of 0% and 100% in color-mix()
    <li>Definition of adjusters moved from color-mix() to color-adjust()
    <li>Allow arguments to color-mix() to be in any order
    <li>Mandatory color space for color-mix()
    <li>Allowed the percentage in color-mix() to come before the color
    <li>Added explicit algorithm for color-mix()
    <li>Removed adjusters from color-mix() and simplified the grammar
    <li>Added the "in" keyword to specify the color space used for mixing
    <li>Required color-contrast() list to have at least two items
    <li>Improved explanation of the relative color syntax
    <li>Link to CSS 4 definition of color serialization
    <li>Added separate section for color spaces
    <li>Updated color-adjust example
    <li>Added explanatory diagrams
    <li>Deal with unresolved percentages
    <li>Normalize arguments to color-mix
    <li>Allow percentages for adjusters
    <li>Link fixes
    <li>Updated color-mix grammar, allowing adjusters, add alpha adjuster
    <li>Corrections to some examples
    <li>Updated Security and Privacy section
    <li>added vs keyword to color-contrast
    <li>added xyz adjuster to grammar
    <li>added hue adjuster keywords
    <li>add XYZ color space for mixing
    <li>defined color-adjuster and color space
    <li>allowed mix percent to default to 50%
    <li>added worked examples and diagrams
    <li>corrected minor spelling, syntax and formatting issues
    <li>Added section on resolving color-contrast() values
   </ul>
   <h3 class="heading settled" data-level="18.8" id="changes-from-4"><span class="secno">18.8. </span><span class="content">
	Changes from CSS Color 4
</span><a class="self-link" href="#changes-from-4"></a></h3>
   <p>One major change, compared to CSS Color 4,
		is that CSS colors are no longer restricted to
		predefined RGB spaces such as sRGB or display-p3.</p>
   <p>To support this, several brand new features have been added:</p>
   <ol>
    <li>The <a class="css" data-link-type="maybe" href="#funcdef-color" id="ref-for-funcdef-color①④">color()</a> function is extended by the <a class="css" data-link-type="maybe" href="#at-ruledef-profile" id="ref-for-at-ruledef-profile①⑤">@color-profile</a> at-rule, for profiled device-dependent color, including calibrated CMYK.

			
    <li><a class="css" data-link-type="maybe" href="#funcdef-device-cmyk" id="ref-for-funcdef-device-cmyk①⑥">device-cmyk()</a> function, for specifying uncalibrated colors in an output-device-specific CMYK color space.
		
   </ol>
   <p>In addition the new <a class="css" data-link-type="maybe" href="#funcdef-color-mix" id="ref-for-funcdef-color-mix①⑥">color-mix()</a> function allows two colors to be mixed,
		in a specified color space, to yield a new color.</p>
  </main>
  <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">
Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>
  <h3 class="no-ref heading settled" id="w3c-conventions"><span class="content">
Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>
  <p>Conformance requirements are expressed with a combination of
    descriptive assertions and RFC 2119 terminology. The key words “MUST”,
    “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
    “RECOMMENDED”, “MAY”, and “OPTIONAL” in the normative parts of this
    document are to be interpreted as described in RFC 2119.
    However, for readability, these words do not appear in all uppercase
    letters in this specification.

    </p>
  <p>All of the text of this specification is normative except sections
    explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a></p>
  <p>Examples in this specification are introduced with the words “for example”
    or are set apart from the normative text with <code>class="example"</code>,
    like this:

    </p>
  <div class="example" id="w3c-example">
   <a class="self-link" href="#w3c-example"></a>
        
   <p>This is an example of an informative example.</p>
  </div>
  <p>Informative notes begin with the word “Note” and are set apart from the
    normative text with <code>class="note"</code>, like this:

    </p>
  <p class="note" role="note">Note, this is an informative note.</p>
  <p>Advisements are normative sections styled to evoke special attention and are
    set apart from other normative text with <code>&lt;strong class="advisement"></code>, like
    this:

    <strong class="advisement">
        UAs MUST provide an accessible alternative.
    </strong></p>
  <details class="wpt-tests-block" dir="ltr" lang="en" open>
   <summary>Tests</summary>
   <p>Tests relating to the content of this specification
                     may be documented in “Tests” blocks like this one.
                     Any such block is non-normative.</p>
   <ul class="wpt-tests-list"></ul>
   <hr>
  </details>
  <h3 class="no-ref heading settled" id="w3c-conformance-classes"><span class="content">
Conformance classes</span><a class="self-link" href="#w3c-conformance-classes"></a></h3>
  <p>Conformance to this specification
    is defined for three conformance classes:
    </p>
  <dl>
   <dt>style sheet
            
   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
            style sheet</a>.
        
   <dt>renderer
            
   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
            that interprets the semantics of a style sheet and renders
            documents that use them.
        
   <dt>authoring tool
            
   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
            that writes a style sheet.
    
  </dl>
  <p>A style sheet is conformant to this specification
    if all of its statements that use syntax defined in this module are valid
    according to the generic CSS grammar and the individual grammars of each
    feature defined in this module.

    </p>
  <p>A renderer is conformant to this specification
    if, in addition to interpreting the style sheet as defined by the
    appropriate specifications, it supports all the features defined
    by this specification by parsing them correctly
    and rendering the document accordingly. However, the inability of a
    UA to correctly render a document due to limitations of the device
    does not make the UA non-conformant. (For example, a UA is not
    required to render color on a monochrome monitor.)

    </p>
  <p>An authoring tool is conformant to this specification
    if it writes style sheets that are syntactically correct according to the
    generic CSS grammar and the individual grammars of each feature in
    this module, and meet all other conformance requirements of style sheets
    as described in this module.

</p>
  <h3 class="no-ref heading settled" id="w3c-partial"><span class="content">
Partial implementations</span><a class="self-link" href="#w3c-partial"></a></h3>
  <p>So that authors can exploit the forward-compatible parsing rules to
    assign fallback values, CSS renderers <strong>must</strong>
    treat as invalid (and <a href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignore
    as appropriate</a>) any at-rules, properties, property values, keywords,
    and other syntactic constructs for which they have no usable level of
    support. In particular, user agents <strong>must not</strong> selectively
    ignore unsupported component values and honor supported values in a single
    multi-value property declaration: if any value is considered invalid
    (as unsupported values must be), CSS requires that the entire declaration
    be ignored.</p>
  <h4 class="heading settled" id="w3c-conform-future-proofing"><span class="content">
Implementations of Unstable and Proprietary Features</span><a class="self-link" href="#w3c-conform-future-proofing"></a></h4>
  <p>To avoid clashes with future stable CSS features,
        the CSSWG recommends <a href="http://www.w3.org/TR/CSS/#future-proofing">following best practices</a> for the implementation of <a href="http://www.w3.org/TR/CSS/#unstable">unstable</a> features and <a href="http://www.w3.org/TR/CSS/#proprietary-extension">proprietary extensions</a> to CSS.

</p>
  <h3 class="no-ref heading settled" id="w3c-testing"><span class="content">
Non-experimental implementations</span><a class="self-link" href="#w3c-testing"></a></h3>
  <p>Once a specification reaches the Candidate Recommendation stage,
    non-experimental implementations are possible, and implementors should
    release an unprefixed implementation of any CR-level feature they
    can demonstrate to be correctly implemented according to spec.

    </p>
  <p>To establish and maintain the interoperability of CSS across
    implementations, the CSS Working Group requests that non-experimental
    CSS renderers submit an implementation report (and, if necessary, the
    testcases used for that implementation report) to the W3C before
    releasing an unprefixed implementation of any CSS features. Testcases
    submitted to W3C are subject to review and correction by the CSS
    Working Group.

    </p>
  <p>Further information on submitting testcases and implementation reports
    can be found from on the CSS Working Group’s website at
    <a href="http://www.w3.org/Style/CSS/Test/">http://www.w3.org/Style/CSS/Test/</a>.
    Questions should be directed to the
    <a href="http://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a>
    mailing list.</p>
  <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li>
    a
    <ul>
     <li><a href="#valdef-lab-a">value for lab()</a><span>, in § 4.6</span>
     <li><a href="#valdef-oklab-a">value for oklab()</a><span>, in § 4.7</span>
    </ul>
   <li><a href="#absolute-color">absolute color</a><span>, in § 2</span>
   <li><a href="#valdef-color-profile-rendering-intent-absolute-colorimetric">absolute-colorimetric</a><span>, in § 5.3</span>
   <li>
    alpha
    <ul>
     <li><a href="#valdef-color-alpha">value for color()</a><span>, in § 5.1</span>
     <li><a href="#valdef-hsl-alpha">value for hsl()</a><span>, in § 4.4</span>
     <li><a href="#valdef-hwb-alpha">value for hwb()</a><span>, in § 4.5</span>
     <li><a href="#valdef-lab-alpha">value for lab()</a><span>, in § 4.6</span>
     <li><a href="#valdef-lch-alpha">value for lch()</a><span>, in § 4.8</span>
     <li><a href="#valdef-oklab-alpha">value for oklab()</a><span>, in § 4.7</span>
     <li><a href="#valdef-oklch-alpha">value for oklch()</a><span>, in § 4.9</span>
     <li><a href="#valdef-rgb-alpha">value for rgb()</a><span>, in § 4.3</span>
    </ul>
   <li>
    b
    <ul>
     <li><a href="#valdef-color-b">value for color()</a><span>, in § 5.1</span>
     <li><a href="#valdef-hwb-b">value for hwb()</a><span>, in § 4.5</span>
     <li><a href="#valdef-lab-b">value for lab()</a><span>, in § 4.6</span>
     <li><a href="#valdef-oklab-b">value for oklab()</a><span>, in § 4.7</span>
     <li><a href="#valdef-rgb-b">value for rgb()</a><span>, in § 4.3</span>
    </ul>
   <li>
    c
    <ul>
     <li><a href="#valdef-lch-c">value for lch()</a><span>, in § 4.8</span>
     <li><a href="#valdef-oklch-c">value for oklch()</a><span>, in § 4.9</span>
    </ul>
   <li><a href="#calculate-a-color-mix">calculate a color-mix()</a><span>, in § 3.2</span>
   <li><a href="#typedef-cmyk-component">&lt;cmyk-component></a><span>, in § 6</span>
   <li><a href="#typedef-color">&lt;color></a><span>, in § 2</span>
   <li><a href="#funcdef-color">color()</a><span>, in § 5</span>
   <li><a href="#typedef-color-base">&lt;color-base></a><span>, in § 2</span>
   <li><a href="#typedef-color-function">&lt;color-function></a><span>, in § 2</span>
   <li><a href="#color-interpolation-method">&lt;color-interpolation-method></a><span>, in § 9.1</span>
   <li><a href="#funcdef-color-mix">color-mix()</a><span>, in § 3</span>
   <li><a href="#at-ruledef-profile">@color-profile</a><span>, in § 5.3</span>
   <li><a href="#css-color-profile">color profile</a><span>, in § 5.3</span>
   <li><a href="#typedef-color-space">&lt;color-space></a><span>, in § 9.1</span>
   <li><a href="#typedef-colorspace-params">&lt;colorspace-params></a><span>, in § 5</span>
   <li><a href="#component-keyword">component keyword</a><span>, in § 4.2</span>
   <li>
    components
    <ul>
     <li><a href="#dom-csscolorprofilerule-components">attribute for CSSColorProfileRule</a><span>, in § 12.1</span>
     <li><a href="#descdef-color-profile-components">descriptor for @color-profile</a><span>, in § 5.3</span>
    </ul>
   <li><a href="#funcdef-contrast-color">contrast-color()</a><span>, in § 8</span>
   <li><a href="#css-color-profile">CSS color profile</a><span>, in § 5.3</span>
   <li><a href="#csscolorprofilerule">CSSColorProfileRule</a><span>, in § 12.1</span>
   <li><a href="#typedef-custom-color-space">&lt;custom-color-space></a><span>, in § 9.1</span>
   <li><a href="#typedef-custom-params">&lt;custom-params></a><span>, in § 5</span>
   <li><a href="#funcdef-device-cmyk">device-cmyk()</a><span>, in § 6</span>
   <li><a href="#fetch-an-external-color-profile">fetch an external color profile</a><span>, in § 5.3</span>
   <li>
    g
    <ul>
     <li><a href="#valdef-color-g">value for color()</a><span>, in § 5.1</span>
     <li><a href="#valdef-rgb-g">value for rgb()</a><span>, in § 4.3</span>
    </ul>
   <li><a href="#gamut-map">gamut-map</a><span>, in § 5.3</span>
   <li>
    h
    <ul>
     <li><a href="#valdef-hsl-h">value for hsl()</a><span>, in § 4.4</span>
     <li><a href="#valdef-hwb-h">value for hwb()</a><span>, in § 4.5</span>
     <li><a href="#valdef-lch-h">value for lch()</a><span>, in § 4.8</span>
     <li><a href="#valdef-oklch-h">value for oklch()</a><span>, in § 4.9</span>
    </ul>
   <li><a href="#typedef-hue-interpolation-method">&lt;hue-interpolation-method></a><span>, in § 9.1</span>
   <li><a href="#funcdef-hwb">hwb()</a><span>, in § 4.5</span>
   <li><a href="#invalid-color">invalid color</a><span>, in § 5</span>
   <li>
    l
    <ul>
     <li><a href="#valdef-hsl-l">value for hsl()</a><span>, in § 4.4</span>
     <li><a href="#valdef-lab-l">value for lab()</a><span>, in § 4.6</span>
     <li><a href="#valdef-lch-l">value for lch()</a><span>, in § 4.8</span>
     <li><a href="#valdef-oklab-l">value for oklab()</a><span>, in § 4.7</span>
     <li><a href="#valdef-oklch-l">value for oklch()</a><span>, in § 4.9</span>
    </ul>
   <li><a href="#funcdef-lab">lab()</a><span>, in § 4.6</span>
   <li><a href="#funcdef-lch">lch()</a><span>, in § 4.8</span>
   <li><a href="#typedef-legacy-device-cmyk-syntax">&lt;legacy-device-cmyk-syntax></a><span>, in § 6</span>
   <li><a href="#funcdef-light-dark">light-dark()</a><span>, in § 7</span>
   <li><a href="#typedef-modern-device-cmyk-syntax">&lt;modern-device-cmyk-syntax></a><span>, in § 6</span>
   <li><a href="#typedef-modern-hsla-syntax">&lt;modern-hsla-syntax></a><span>, in § 4.4</span>
   <li><a href="#typedef-modern-hsl-syntax">&lt;modern-hsl-syntax></a><span>, in § 4.4</span>
   <li><a href="#typedef-modern-rgba-syntax">&lt;modern-rgba-syntax></a><span>, in § 4.3</span>
   <li><a href="#typedef-modern-rgb-syntax">&lt;modern-rgb-syntax></a><span>, in § 4.3</span>
   <li><a href="#naively-convert-from-rgba-to-cmyk">naively converted to CMYK</a><span>, in § 6.1</span>
   <li><a href="#naively-convert-from-cmyk-to-rgba">naively converted to RGBA</a><span>, in § 6.1</span>
   <li><a href="#naively-convert-from-cmyk-to-rgba">naively convert from CMYK to RGBA</a><span>, in § 6.1</span>
   <li><a href="#naively-convert-from-rgba-to-cmyk">naively convert from RGBA to CMYK</a><span>, in § 6.1</span>
   <li><a href="#dom-csscolorprofilerule-name">name</a><span>, in § 12.1</span>
   <li><a href="#funcdef-oklab">oklab()</a><span>, in § 4.7</span>
   <li><a href="#funcdef-oklch">oklch()</a><span>, in § 4.9</span>
   <li><a href="#originally-specified-color-space">originally specified color space</a><span>, in § 4.1</span>
   <li><a href="#origin-color">origin color</a><span>, in § 4.1</span>
   <li><a href="#out-of-gamut">out of gamut</a><span>, in § 5</span>
   <li><a href="#valdef-color-profile-rendering-intent-perceptual">perceptual</a><span>, in § 5.3</span>
   <li><a href="#typedef-polar-color-space">&lt;polar-color-space></a><span>, in § 9.1</span>
   <li><a href="#typedef-predefined-rgb">&lt;predefined-rgb></a><span>, in § 5</span>
   <li><a href="#typedef-predefined-rgb-params">&lt;predefined-rgb-params></a><span>, in § 5</span>
   <li>
    r
    <ul>
     <li><a href="#valdef-color-r">value for color()</a><span>, in § 5.1</span>
     <li><a href="#valdef-rgb-r">value for rgb()</a><span>, in § 4.3</span>
    </ul>
   <li><a href="#typedef-rectangular-color-space">&lt;rectangular-color-space></a><span>, in § 9.1</span>
   <li><a href="#relative-color">relative color</a><span>, in § 4.1</span>
   <li><a href="#valdef-color-profile-rendering-intent-relative-colorimetric">relative-colorimetric</a><span>, in § 5.3</span>
   <li><a href="#descdef-color-profile-rendering-intent">rendering-intent</a><span>, in § 5.3</span>
   <li><a href="#dom-csscolorprofilerule-renderingintent">renderingIntent</a><span>, in § 12.1</span>
   <li><a href="#required-conversion">Required conversion</a><span>, in § 4.1</span>
   <li><a href="#resolve-to-srgb">resolve to sRGB</a><span>, in § 2</span>
   <li><a href="#valdef-hsl-s">s</a><span>, in § 4.4</span>
   <li><a href="#valdef-color-profile-rendering-intent-saturation">saturation</a><span>, in § 5.3</span>
   <li>
    src
    <ul>
     <li><a href="#dom-csscolorprofilerule-src">attribute for CSSColorProfileRule</a><span>, in § 12.1</span>
     <li><a href="#descdef-color-profile-src">descriptor for @color-profile</a><span>, in § 5.3</span>
    </ul>
   <li><a href="#support-legacy-color-syntax">support legacy color syntax</a><span>, in § 2</span>
   <li><a href="#valid-color">valid color</a><span>, in § 5</span>
   <li><a href="#valdef-hwb-w">w</a><span>, in § 4.5</span>
   <li><a href="#valdef-color-x">x</a><span>, in § 5.1</span>
   <li><a href="#typedef-xyz">&lt;xyz></a><span>, in § 5</span>
   <li><a href="#typedef-xyz-params">&lt;xyz-params></a><span>, in § 5</span>
   <li><a href="#valdef-color-y">y</a><span>, in § 5.1</span>
   <li><a href="#valdef-color-z">z</a><span>, in § 5.1</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[CSS-CASCADE-5]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="5d83727e">actual value</span>
     <li><span class="dfn-paneled" id="9cd25054">computed value</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-COLOR-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="79663d83">&lt;alpha-value></span>
     <li><span class="dfn-paneled" id="7a29153c">&lt;hex-color></span>
     <li><span class="dfn-paneled" id="e10c8e34">&lt;hue></span>
     <li><span class="dfn-paneled" id="efa5c464">&lt;named-color></span>
     <li><span class="dfn-paneled" id="02c921d1">&lt;system-color></span>
     <li><span class="dfn-paneled" id="af2d1f38">a98-rgb</span>
     <li><span class="dfn-paneled" id="5078b140">analogous components</span>
     <li><span class="dfn-paneled" id="b3424c1d">black</span>
     <li><span class="dfn-paneled" id="f17eedd8">blue</span>
     <li><span class="dfn-paneled" id="b6f670c1">carried forward</span>
     <li><span class="dfn-paneled" id="a96bc427">color</span>
     <li><span class="dfn-paneled" id="4a1e4e52">color functions</span>
     <li><span class="dfn-paneled" id="c9ce3bd4">color space</span>
     <li><span class="dfn-paneled" id="cad72d2f">currentcolor</span>
     <li><span class="dfn-paneled" id="d39ba4fe">cylindrical polar color</span>
     <li><span class="dfn-paneled" id="6416d648">darkolivegreen</span>
     <li><span class="dfn-paneled" id="d29a9087">display-p3</span>
     <li><span class="dfn-paneled" id="d0872657">HSL</span>
     <li><span class="dfn-paneled" id="218f0f24">hsl()</span>
     <li><span class="dfn-paneled" id="8ec859c9">hsla()</span>
     <li><span class="dfn-paneled" id="3f5d417f">HWB</span>
     <li><span class="dfn-paneled" id="6d24aee9">lab</span>
     <li><span class="dfn-paneled" id="b673431e">LCH</span>
     <li><span class="dfn-paneled" id="b076cecd">legacy color syntax</span>
     <li><span class="dfn-paneled" id="ee3a31a1">lime</span>
     <li><span class="dfn-paneled" id="5591e410">modern color syntax</span>
     <li><span class="dfn-paneled" id="70ca1268">none</span>
     <li><span class="dfn-paneled" id="5667ca99">oklab</span>
     <li><span class="dfn-paneled" id="2288c1e9">OkLCh</span>
     <li><span class="dfn-paneled" id="efad480b">premultiplied</span>
     <li><span class="dfn-paneled" id="c7bfd1bb">prophoto-rgb</span>
     <li><span class="dfn-paneled" id="27d563a2">rec2020</span>
     <li><span class="dfn-paneled" id="eefcc01f">rectangular orthogonal color</span>
     <li><span class="dfn-paneled" id="82ed5c4b">red</span>
     <li><span class="dfn-paneled" id="0f04da53">rgb()</span>
     <li><span class="dfn-paneled" id="dd998a01">rgba()</span>
     <li><span class="dfn-paneled" id="3f544c81">srgb</span>
     <li><span class="dfn-paneled" id="bcdf0026">srgb-linear</span>
     <li><span class="dfn-paneled" id="4f811c05">transparent black</span>
     <li><span class="dfn-paneled" id="e5aac9c3">white</span>
     <li><span class="dfn-paneled" id="d2c140db">xyz</span>
     <li><span class="dfn-paneled" id="b8f37e6b">xyz-d50</span>
     <li><span class="dfn-paneled" id="f77085d6">xyz-d65</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-COLOR-ADJUST-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="386ef1bd">dark</span>
     <li><span class="dfn-paneled" id="2d24dcfd">light</span>
     <li><span class="dfn-paneled" id="d5b6d58f">used color scheme</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-SYNTAX-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="84252421">&lt;declaration-list></span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-VALUES-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="68487d22">#</span>
     <li><span class="dfn-paneled" id="f0809abc">&amp;&amp;</span>
     <li><span class="dfn-paneled" id="bedd9d42">+</span>
     <li><span class="dfn-paneled" id="9f9120ff">,</span>
     <li><span class="dfn-paneled" id="3559c926">&lt;angle></span>
     <li><span class="dfn-paneled" id="8a427103">&lt;dashed-ident></span>
     <li><span class="dfn-paneled" id="9213678e">&lt;ident></span>
     <li><span class="dfn-paneled" id="16310992">&lt;number></span>
     <li><span class="dfn-paneled" id="15f5b381">&lt;percentage></span>
     <li><span class="dfn-paneled" id="fa293cdd">&lt;url></span>
     <li><span class="dfn-paneled" id="537cf076">?</span>
     <li><span class="dfn-paneled" id="584e9c31">calc()</span>
     <li><span class="dfn-paneled" id="17fc5603">canonical unit</span>
     <li><span class="dfn-paneled" id="ee30bd68">fetch a style resource</span>
     <li><span class="dfn-paneled" id="2a26d53d">math function</span>
     <li><span class="dfn-paneled" id="38bfefcf">pi</span>
     <li><span class="dfn-paneled" id="b0d8ebd9">{A}</span>
     <li><span class="dfn-paneled" id="6ec67710">|</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-VALUES-5]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="acb3399b">mix item</span>
     <li><span class="dfn-paneled" id="8093bfd3">normalize mix percentages</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSSOM-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="5fced98b">CSSOMString</span>
     <li><span class="dfn-paneled" id="ebaeb088">CSSRule</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FETCH]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="ee7bba09">response</span>
    </ul>
   <li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="7f9469b5">ASCII case-insensitive</span>
     <li><span class="dfn-paneled" id="fca74142">pop</span>
     <li><span class="dfn-paneled" id="7c3de606">push</span>
     <li><span class="dfn-paneled" id="ceacaa1c">stack</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="889e932f">Exposed</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-css-cascade-5">[CSS-CASCADE-5]
   <dd>Elika Etemad; Miriam Suzanne; Tab Atkins Jr.. <a href="https://drafts.csswg.org/css-cascade-5/"><cite>CSS Cascading and Inheritance Level 5</cite></a>. URL: <a href="https://drafts.csswg.org/css-cascade-5/">https://drafts.csswg.org/css-cascade-5/</a>
   <dt id="biblio-css-color-4">[CSS-COLOR-4]
   <dd>Chris Lilley; Tab Atkins Jr.; Lea Verou. <a href="https://drafts.csswg.org/css-color-4/"><cite>CSS Color Module Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/css-color-4/">https://drafts.csswg.org/css-color-4/</a>
   <dt id="biblio-css-color-adjust-1">[CSS-COLOR-ADJUST-1]
   <dd>Elika Etemad; et al. <a href="https://drafts.csswg.org/css-color-adjust-1/"><cite>CSS Color Adjustment Module Level 1</cite></a>. URL: <a href="https://drafts.csswg.org/css-color-adjust-1/">https://drafts.csswg.org/css-color-adjust-1/</a>
   <dt id="biblio-css-syntax-3">[CSS-SYNTAX-3]
   <dd>Tab Atkins Jr.; Simon Sapin. <a href="https://drafts.csswg.org/css-syntax/"><cite>CSS Syntax Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-syntax/">https://drafts.csswg.org/css-syntax/</a>
   <dt id="biblio-css-values-4">[CSS-VALUES-4]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://drafts.csswg.org/css-values-4/"><cite>CSS Values and Units Module Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/css-values-4/">https://drafts.csswg.org/css-values-4/</a>
   <dt id="biblio-css-values-5">[CSS-VALUES-5]
   <dd>Tab Atkins Jr.; Elika Etemad; Miriam Suzanne. <a href="https://drafts.csswg.org/css-values-5/"><cite>CSS Values and Units Module Level 5</cite></a>. URL: <a href="https://drafts.csswg.org/css-values-5/">https://drafts.csswg.org/css-values-5/</a>
   <dt id="biblio-cssom-1">[CSSOM-1]
   <dd>Daniel Glazman; Emilio Cobos Álvarez. <a href="https://drafts.csswg.org/cssom/"><cite>CSS Object Model (CSSOM)</cite></a>. URL: <a href="https://drafts.csswg.org/cssom/">https://drafts.csswg.org/cssom/</a>
   <dt id="biblio-fetch">[FETCH]
   <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/"><cite>Fetch Standard</cite></a>. Living Standard. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
   <dt id="biblio-icc">[ICC]
   <dd><a href="http://www.color.org/specification/ICC.1-2022-05.pdf"><cite>ICC.1:2022 (Profile version 4.4.0.0)</cite></a>. May 2022. URL: <a href="http://www.color.org/specification/ICC.1-2022-05.pdf">http://www.color.org/specification/ICC.1-2022-05.pdf</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-fogra39">[FOGRA39]
   <dd><a href="https://www.color.org/chardata/FOGRA39.xalter"><cite>ISO 12647-2:2004 / Amd 1, Offset commercial and specialty printing according to ISO 12647-2, paper type 1 or 2 (gloss or matte coated offset, 115 g/m²), screen frequency 60/cm</cite></a>. 2006. URL: <a href="https://www.color.org/chardata/FOGRA39.xalter">https://www.color.org/chardata/FOGRA39.xalter</a>
   <dt id="biblio-fogra51">[FOGRA51]
   <dd><a href="https://www.color.org/chardata/fogra51.xalter"><cite>ISO 12647-2:2013, Process control for the production of half-tone colour separations, proof and production printsPart 2: Offset lithographic processes, PS 1, premium coated, 115 g/m², moderate substrate fluorescence</cite></a>. 2015. URL: <a href="https://www.color.org/chardata/fogra51.xalter">https://www.color.org/chardata/fogra51.xalter</a>
   <dt id="biblio-fogra55">[FOGRA55]
   <dd><a href="https://fogra.org/en/research/prepress-technology/multiprimary-printing-13003"><cite>CMYKOGV-based gamut exchange space</cite></a>. 2021. URL: <a href="https://fogra.org/en/research/prepress-technology/multiprimary-printing-13003">https://fogra.org/en/research/prepress-technology/multiprimary-printing-13003</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="property-index"><span class="content">Property Index</span><a class="self-link" href="#property-index"></a></h2>
  <p>No properties defined.</p>
  <h3 class="no-num no-ref heading settled" id="color-profile-descriptor-table"><span class="content"><a class="css" data-link-type="at-rule" href="#at-ruledef-profile" id="ref-for-at-ruledef-profile①⑥">@color-profile</a> Descriptors</span><a class="self-link" href="#color-profile-descriptor-table"></a></h3>
  <div class="big-element-wrapper">
   <table class="index">
    <thead>
     <tr>
      <th scope="col">Name
      <th scope="col">Value
      <th scope="col">Initial
    <tbody>
     <tr>
      <th scope="row"><a class="css" data-link-type="descriptor" href="#descdef-color-profile-components" id="ref-for-descdef-color-profile-components①">components</a>
      <td>&lt;ident>#
      <td>n/a
     <tr>
      <th scope="row"><a class="css" data-link-type="descriptor" href="#descdef-color-profile-rendering-intent" id="ref-for-descdef-color-profile-rendering-intent①">rendering-intent</a>
      <td>relative-colorimetric | absolute-colorimetric | perceptual | saturation
      <td>relative-colorimetric
     <tr>
      <th scope="row"><a class="css" data-link-type="descriptor" href="#descdef-color-profile-src" id="ref-for-descdef-color-profile-src①">src</a>
      <td>&lt;url>
      <td>n/a
   </table>
  </div>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#csscolorprofilerule"><code><c- g>CSSColorProfileRule</c-></code></a> : <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssrule"><c- n>CSSRule</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-name"><c- g>name</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-src"><c- g>src</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-renderingintent"><c- g>renderingIntent</c-></a> ;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csscolorprofilerule-components"><c- g>components</c-></a> ;
};

</pre>
  <details class="mdn-anno unpositioned" data-anno-for="color-mix">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/color_value/color-mix" title="The color-mix() functional notation takes two <color> values and returns the result of mixing them in a given colorspace by a given amount.">color_value/color-mix</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>113+</span></span><span class="safari yes"><span>Safari</span><span>16.2+</span></span><span class="chrome yes"><span>Chrome</span><span>111+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>111+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
<script>/* Boilerplate: script-dom-helper */
"use strict";
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}</script>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
let dfnPanelData = {
"02c921d1": {"dfnID":"02c921d1","dfnText":"<system-color>","external":true,"refSections":[{"refs":[{"id":"ref-for-typedef-system-color"},{"id":"ref-for-typedef-system-color\u2460"}],"title":"2. The <color> syntax"}],"url":"https://drafts.csswg.org/css-color-4/#typedef-system-color"},
"0f04da53": {"dfnID":"0f04da53","dfnText":"rgb()","external":true,"refSections":[{"refs":[{"id":"ref-for-funcdef-rgb"},{"id":"ref-for-funcdef-rgb\u2460"},{"id":"ref-for-funcdef-rgb\u2461"}],"title":"2. The <color> syntax"},{"refs":[{"id":"ref-for-funcdef-rgb\u2462"},{"id":"ref-for-funcdef-rgb\u2463"}],"title":"4.3. Relative sRGB Colors"},{"refs":[{"id":"ref-for-funcdef-rgb\u2464"}],"title":"6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n"},{"refs":[{"id":"ref-for-funcdef-rgb\u2465"},{"id":"ref-for-funcdef-rgb\u2466"}],"title":"11.2. \n\tSerializing Origin Colors\n"},{"refs":[{"id":"ref-for-funcdef-rgb\u2467"},{"id":"ref-for-funcdef-rgb\u2468"}],"title":"11.3. \n\tSerializing Relative Color Functions\n"}],"url":"https://drafts.csswg.org/css-color-4/#funcdef-rgb"},
"15f5b381": {"dfnID":"15f5b381","dfnText":"<percentage>","external":true,"refSections":[{"refs":[{"id":"ref-for-percentage-value"}],"title":"3. Mixing Colors: the color-mix() Function"},{"refs":[{"id":"ref-for-percentage-value\u2460"},{"id":"ref-for-percentage-value\u2461"},{"id":"ref-for-percentage-value\u2462"}],"title":"4.2. \n\tRelative Color Syntax\n"},{"refs":[{"id":"ref-for-percentage-value\u2463"},{"id":"ref-for-percentage-value\u2464"}],"title":"4.3. Relative sRGB Colors"},{"refs":[{"id":"ref-for-percentage-value\u2465"},{"id":"ref-for-percentage-value\u2466"},{"id":"ref-for-percentage-value\u2467"},{"id":"ref-for-percentage-value\u2468"}],"title":"4.4. Relative HSL Colors"},{"refs":[{"id":"ref-for-percentage-value\u2460\u24ea"},{"id":"ref-for-percentage-value\u2460\u2460"}],"title":"4.5. Relative HWB Colors"},{"refs":[{"id":"ref-for-percentage-value\u2460\u2461"},{"id":"ref-for-percentage-value\u2460\u2462"},{"id":"ref-for-percentage-value\u2460\u2463"}],"title":"4.6. Relative Lab Colors"},{"refs":[{"id":"ref-for-percentage-value\u2460\u2464"},{"id":"ref-for-percentage-value\u2460\u2465"},{"id":"ref-for-percentage-value\u2460\u2466"}],"title":"4.7. Relative Oklab Colors"},{"refs":[{"id":"ref-for-percentage-value\u2460\u2467"},{"id":"ref-for-percentage-value\u2460\u2468"}],"title":"4.8. Relative LCH Colors"},{"refs":[{"id":"ref-for-percentage-value\u2461\u24ea"},{"id":"ref-for-percentage-value\u2461\u2460"}],"title":"4.9. Relative OkLCh Colors"},{"refs":[{"id":"ref-for-percentage-value\u2461\u2461"},{"id":"ref-for-percentage-value\u2461\u2462"},{"id":"ref-for-percentage-value\u2461\u2463"}],"title":"5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n"},{"refs":[{"id":"ref-for-percentage-value\u2461\u2464"},{"id":"ref-for-percentage-value\u2461\u2465"},{"id":"ref-for-percentage-value\u2461\u2466"},{"id":"ref-for-percentage-value\u2461\u2467"},{"id":"ref-for-percentage-value\u2461\u2468"}],"title":"5.1. Relative Color-Function Colors"},{"refs":[{"id":"ref-for-percentage-value\u2462\u24ea"}],"title":"6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n"},{"refs":[{"id":"ref-for-percentage-value\u2462\u2460"},{"id":"ref-for-percentage-value\u2462\u2461"}],"title":"10.3. \n\tResolving device-cmyk Values\n"}],"url":"https://drafts.csswg.org/css-values-4/#percentage-value"},
"16310992": {"dfnID":"16310992","dfnText":"<number>","external":true,"refSections":[{"refs":[{"id":"ref-for-number-value"},{"id":"ref-for-number-value\u2460"},{"id":"ref-for-number-value\u2461"},{"id":"ref-for-number-value\u2462"},{"id":"ref-for-number-value\u2463"},{"id":"ref-for-number-value\u2464"},{"id":"ref-for-number-value\u2465"}],"title":"4.2. \n\tRelative Color Syntax\n"},{"refs":[{"id":"ref-for-number-value\u2466"},{"id":"ref-for-number-value\u2467"},{"id":"ref-for-number-value\u2468"},{"id":"ref-for-number-value\u2460\u24ea"}],"title":"4.3. Relative sRGB Colors"},{"refs":[{"id":"ref-for-number-value\u2460\u2460"},{"id":"ref-for-number-value\u2460\u2461"},{"id":"ref-for-number-value\u2460\u2462"},{"id":"ref-for-number-value\u2460\u2463"},{"id":"ref-for-number-value\u2460\u2464"},{"id":"ref-for-number-value\u2460\u2465"},{"id":"ref-for-number-value\u2460\u2466"}],"title":"4.4. Relative HSL Colors"},{"refs":[{"id":"ref-for-number-value\u2460\u2467"},{"id":"ref-for-number-value\u2460\u2468"},{"id":"ref-for-number-value\u2461\u24ea"},{"id":"ref-for-number-value\u2461\u2460"},{"id":"ref-for-number-value\u2461\u2461"}],"title":"4.5. Relative HWB Colors"},{"refs":[{"id":"ref-for-number-value\u2461\u2462"},{"id":"ref-for-number-value\u2461\u2463"},{"id":"ref-for-number-value\u2461\u2464"},{"id":"ref-for-number-value\u2461\u2465"},{"id":"ref-for-number-value\u2461\u2466"},{"id":"ref-for-number-value\u2461\u2467"}],"title":"4.6. Relative Lab Colors"},{"refs":[{"id":"ref-for-number-value\u2461\u2468"},{"id":"ref-for-number-value\u2462\u24ea"},{"id":"ref-for-number-value\u2462\u2460"},{"id":"ref-for-number-value\u2462\u2461"},{"id":"ref-for-number-value\u2462\u2462"},{"id":"ref-for-number-value\u2462\u2463"}],"title":"4.7. Relative Oklab Colors"},{"refs":[{"id":"ref-for-number-value\u2462\u2464"},{"id":"ref-for-number-value\u2462\u2465"},{"id":"ref-for-number-value\u2462\u2466"},{"id":"ref-for-number-value\u2462\u2467"},{"id":"ref-for-number-value\u2462\u2468"},{"id":"ref-for-number-value\u2463\u24ea"}],"title":"4.8. Relative LCH Colors"},{"refs":[{"id":"ref-for-number-value\u2463\u2460"},{"id":"ref-for-number-value\u2463\u2461"},{"id":"ref-for-number-value\u2463\u2462"},{"id":"ref-for-number-value\u2463\u2463"},{"id":"ref-for-number-value\u2463\u2464"},{"id":"ref-for-number-value\u2463\u2465"}],"title":"4.9. Relative OkLCh Colors"},{"refs":[{"id":"ref-for-number-value\u2463\u2466"},{"id":"ref-for-number-value\u2463\u2467"},{"id":"ref-for-number-value\u2463\u2468"}],"title":"5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n"},{"refs":[{"id":"ref-for-number-value\u2464\u24ea"},{"id":"ref-for-number-value\u2464\u2460"},{"id":"ref-for-number-value\u2464\u2461"},{"id":"ref-for-number-value\u2464\u2462"},{"id":"ref-for-number-value\u2464\u2463"},{"id":"ref-for-number-value\u2464\u2464"},{"id":"ref-for-number-value\u2464\u2465"},{"id":"ref-for-number-value\u2464\u2466"},{"id":"ref-for-number-value\u2464\u2467"},{"id":"ref-for-number-value\u2464\u2468"}],"title":"5.1. Relative Color-Function Colors"},{"refs":[{"id":"ref-for-number-value\u2465\u24ea"},{"id":"ref-for-number-value\u2465\u2460"}],"title":"6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n"},{"refs":[{"id":"ref-for-number-value\u2465\u2461"},{"id":"ref-for-number-value\u2465\u2462"}],"title":"10.3. \n\tResolving device-cmyk Values\n"},{"refs":[{"id":"ref-for-number-value\u2465\u2463"}],"title":"11.5. \n\tSerializing device-cmyk Values\n"}],"url":"https://drafts.csswg.org/css-values-4/#number-value"},
"17fc5603": {"dfnID":"17fc5603","dfnText":"canonical unit","external":true,"refSections":[{"refs":[{"id":"ref-for-canonical-unit"}],"title":"4.2. \n\tRelative Color Syntax\n"}],"url":"https://drafts.csswg.org/css-values-4/#canonical-unit"},
"218f0f24": {"dfnID":"218f0f24","dfnText":"hsl()","external":true,"refSections":[{"refs":[{"id":"ref-for-funcdef-hsl"},{"id":"ref-for-funcdef-hsl\u2460"},{"id":"ref-for-funcdef-hsl\u2461"},{"id":"ref-for-funcdef-hsl\u2462"}],"title":"2. The <color> syntax"},{"refs":[{"id":"ref-for-funcdef-hsl\u2463"},{"id":"ref-for-funcdef-hsl\u2464"}],"title":"4.4. Relative HSL Colors"},{"refs":[{"id":"ref-for-funcdef-hsl\u2465"},{"id":"ref-for-funcdef-hsl\u2466"}],"title":"11.2. \n\tSerializing Origin Colors\n"},{"refs":[{"id":"ref-for-funcdef-hsl\u2467"},{"id":"ref-for-funcdef-hsl\u2468"}],"title":"11.3. \n\tSerializing Relative Color Functions\n"},{"refs":[{"id":"ref-for-funcdef-hsl\u2460\u24ea"},{"id":"ref-for-funcdef-hsl\u2460\u2460"}],"title":"18.3. \n\tSince the Working Draft of 28 June 2022\n"}],"url":"https://drafts.csswg.org/css-color-4/#funcdef-hsl"},
"2288c1e9": {"dfnID":"2288c1e9","dfnText":"OkLCh","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-oklch-oklch"}],"title":"3.2. \n\tCalculating the Result of color-mix\n"},{"refs":[{"id":"ref-for-valdef-oklch-oklch\u2460"}],"title":"9.1. \n\tColor Space for Interpolation"}],"url":"https://drafts.csswg.org/css-color-4/#valdef-oklch-oklch"},
"27d563a2": {"dfnID":"27d563a2","dfnText":"rec2020","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-color-rec2020"}],"title":"9.1. \n\tColor Space for Interpolation"}],"url":"https://drafts.csswg.org/css-color-4/#valdef-color-rec2020"},
"2a26d53d": {"dfnID":"2a26d53d","dfnText":"math function","external":true,"refSections":[{"refs":[{"id":"ref-for-math-function"}],"title":"4.1. \n\tProcessing Model for Relative Colors\n"},{"refs":[{"id":"ref-for-math-function\u2460"},{"id":"ref-for-math-function\u2461"}],"title":"4.2. \n\tRelative Color Syntax\n"}],"url":"https://drafts.csswg.org/css-values-4/#math-function"},
"2d24dcfd": {"dfnID":"2d24dcfd","dfnText":"light","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-color-scheme-light"}],"title":"7. \n\tReacting to the used color-scheme: the light-dark() Function\n"}],"url":"https://drafts.csswg.org/css-color-adjust-1/#valdef-color-scheme-light"},
"3559c926": {"dfnID":"3559c926","dfnText":"<angle>","external":true,"refSections":[{"refs":[{"id":"ref-for-angle-value"},{"id":"ref-for-angle-value\u2460"},{"id":"ref-for-angle-value\u2461"},{"id":"ref-for-angle-value\u2462"}],"title":"4.2. \n\tRelative Color Syntax\n"}],"url":"https://drafts.csswg.org/css-values-4/#angle-value"},
"386ef1bd": {"dfnID":"386ef1bd","dfnText":"dark","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-color-scheme-dark"}],"title":"7. \n\tReacting to the used color-scheme: the light-dark() Function\n"}],"url":"https://drafts.csswg.org/css-color-adjust-1/#valdef-color-scheme-dark"},
"38bfefcf": {"dfnID":"38bfefcf","dfnText":"pi","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-calc-pi"}],"title":"5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n"}],"url":"https://drafts.csswg.org/css-values-4/#valdef-calc-pi"},
"3f544c81": {"dfnID":"3f544c81","dfnText":"srgb","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-color-srgb"}],"title":"3.3. \n\tEffect of Mixing Color Space on color-mix\n"},{"refs":[{"id":"ref-for-valdef-color-srgb\u2460"}],"title":"9.1. \n\tColor Space for Interpolation"}],"url":"https://drafts.csswg.org/css-color-4/#valdef-color-srgb"},
"3f5d417f": {"dfnID":"3f5d417f","dfnText":"HWB","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-hwb-hwb"}],"title":"9.1. \n\tColor Space for Interpolation"}],"url":"https://drafts.csswg.org/css-color-4/#valdef-hwb-hwb"},
"4a1e4e52": {"dfnID":"4a1e4e52","dfnText":"color functions","external":true,"refSections":[{"refs":[{"id":"ref-for-color-functions"},{"id":"ref-for-color-functions\u2460"}],"title":"2. The <color> syntax"}],"url":"https://drafts.csswg.org/css-color-4/#color-functions"},
"4f811c05": {"dfnID":"4f811c05","dfnText":"transparent black","external":true,"refSections":[{"refs":[{"id":"ref-for-transparent-black"}],"title":"3.2. \n\tCalculating the Result of color-mix\n"}],"url":"https://drafts.csswg.org/css-color-4/#transparent-black"},
"5078b140": {"dfnID":"5078b140","dfnText":"analogous components","external":true,"refSections":[{"refs":[{"id":"ref-for-analogous-components"}],"title":"4.1. \n\tProcessing Model for Relative Colors\n"}],"url":"https://drafts.csswg.org/css-color-4/#analogous-components"},
"537cf076": {"dfnID":"537cf076","dfnText":"?","external":true,"refSections":[{"refs":[{"id":"ref-for-mult-opt"}],"title":"3. Mixing Colors: the color-mix() Function"},{"refs":[{"id":"ref-for-mult-opt\u2460"},{"id":"ref-for-mult-opt\u2461"},{"id":"ref-for-mult-opt\u2462"},{"id":"ref-for-mult-opt\u2463"}],"title":"4.3. Relative sRGB Colors"},{"refs":[{"id":"ref-for-mult-opt\u2464"},{"id":"ref-for-mult-opt\u2465"},{"id":"ref-for-mult-opt\u2466"},{"id":"ref-for-mult-opt\u2467"}],"title":"4.4. Relative HSL Colors"},{"refs":[{"id":"ref-for-mult-opt\u2468"},{"id":"ref-for-mult-opt\u2460\u24ea"}],"title":"4.5. Relative HWB Colors"},{"refs":[{"id":"ref-for-mult-opt\u2460\u2460"},{"id":"ref-for-mult-opt\u2460\u2461"}],"title":"4.6. Relative Lab Colors"},{"refs":[{"id":"ref-for-mult-opt\u2460\u2462"},{"id":"ref-for-mult-opt\u2460\u2463"}],"title":"4.7. Relative Oklab Colors"},{"refs":[{"id":"ref-for-mult-opt\u2460\u2464"},{"id":"ref-for-mult-opt\u2460\u2465"}],"title":"4.8. Relative LCH Colors"},{"refs":[{"id":"ref-for-mult-opt\u2460\u2466"},{"id":"ref-for-mult-opt\u2460\u2467"}],"title":"4.9. Relative OkLCh Colors"},{"refs":[{"id":"ref-for-mult-opt\u2460\u2468"},{"id":"ref-for-mult-opt\u2461\u24ea"}],"title":"5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n"},{"refs":[{"id":"ref-for-mult-opt\u2461\u2460"}],"title":"6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n"},{"refs":[{"id":"ref-for-mult-opt\u2461\u2461"}],"title":"9.1. \n\tColor Space for Interpolation"}],"url":"https://drafts.csswg.org/css-values-4/#mult-opt"},
"5591e410": {"dfnID":"5591e410","dfnText":"modern color syntax","external":true,"refSections":[{"refs":[{"id":"ref-for-modern-color-syntax"}],"title":"4.1. \n\tProcessing Model for Relative Colors\n"},{"refs":[{"id":"ref-for-modern-color-syntax\u2460"}],"title":"4.2. \n\tRelative Color Syntax\n"},{"refs":[{"id":"ref-for-modern-color-syntax\u2461"}],"title":"4.3. Relative sRGB Colors"},{"refs":[{"id":"ref-for-modern-color-syntax\u2462"}],"title":"4.4. Relative HSL Colors"}],"url":"https://drafts.csswg.org/css-color-4/#modern-color-syntax"},
"5667ca99": {"dfnID":"5667ca99","dfnText":"oklab","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-oklab-oklab"}],"title":"9.1. \n\tColor Space for Interpolation"}],"url":"https://drafts.csswg.org/css-color-4/#valdef-oklab-oklab"},
"584e9c31": {"dfnID":"584e9c31","dfnText":"calc()","external":true,"refSections":[{"refs":[{"id":"ref-for-funcdef-calc"}],"title":"5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n"},{"refs":[{"id":"ref-for-funcdef-calc\u2460"},{"id":"ref-for-funcdef-calc\u2461"}],"title":"11.1. \n\tSerializing color-mix()\n"}],"url":"https://drafts.csswg.org/css-values-4/#funcdef-calc"},
"5d83727e": {"dfnID":"5d83727e","dfnText":"actual value","external":true,"refSections":[{"refs":[{"id":"ref-for-actual-value"}],"title":"10.3. \n\tResolving device-cmyk Values\n"}],"url":"https://drafts.csswg.org/css-cascade-5/#actual-value"},
"5fced98b": {"dfnID":"5fced98b","dfnText":"CSSOMString","external":true,"refSections":[{"refs":[{"id":"ref-for-cssomstring"},{"id":"ref-for-cssomstring\u2460"},{"id":"ref-for-cssomstring\u2461"},{"id":"ref-for-cssomstring\u2462"},{"id":"ref-for-cssomstring\u2463"},{"id":"ref-for-cssomstring\u2464"},{"id":"ref-for-cssomstring\u2465"},{"id":"ref-for-cssomstring\u2466"}],"title":"12.1. The CSSColorProfileRule interface"}],"url":"https://drafts.csswg.org/cssom-1/#cssomstring"},
"6416d648": {"dfnID":"6416d648","dfnText":"darkolivegreen","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-color-darkolivegreen"}],"title":"4.2. \n\tRelative Color Syntax\n"}],"url":"https://drafts.csswg.org/css-color-4/#valdef-color-darkolivegreen"},
"68487d22": {"dfnID":"68487d22","dfnText":"#","external":true,"refSections":[{"refs":[{"id":"ref-for-mult-comma"}],"title":"3. Mixing Colors: the color-mix() Function"},{"refs":[{"id":"ref-for-mult-comma\u2460"}],"title":"5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n"},{"refs":[{"id":"ref-for-mult-comma\u2461"}],"title":"6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n"}],"url":"https://drafts.csswg.org/css-values-4/#mult-comma"},
"6d24aee9": {"dfnID":"6d24aee9","dfnText":"lab","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-lab-lab"}],"title":"9.1. \n\tColor Space for Interpolation"}],"url":"https://drafts.csswg.org/css-color-4/#valdef-lab-lab"},
"6ec67710": {"dfnID":"6ec67710","dfnText":"|","external":true,"refSections":[{"refs":[{"id":"ref-for-comb-one"},{"id":"ref-for-comb-one\u2460"},{"id":"ref-for-comb-one\u2461"},{"id":"ref-for-comb-one\u2462"},{"id":"ref-for-comb-one\u2463"},{"id":"ref-for-comb-one\u2464"},{"id":"ref-for-comb-one\u2465"},{"id":"ref-for-comb-one\u2466"},{"id":"ref-for-comb-one\u2467"},{"id":"ref-for-comb-one\u2468"},{"id":"ref-for-comb-one\u2460\u24ea"},{"id":"ref-for-comb-one\u2460\u2460"},{"id":"ref-for-comb-one\u2460\u2461"},{"id":"ref-for-comb-one\u2460\u2462"},{"id":"ref-for-comb-one\u2460\u2463"},{"id":"ref-for-comb-one\u2460\u2464"},{"id":"ref-for-comb-one\u2460\u2465"},{"id":"ref-for-comb-one\u2460\u2466"}],"title":"2. The <color> syntax"},{"refs":[{"id":"ref-for-comb-one\u2460\u2467"},{"id":"ref-for-comb-one\u2460\u2468"},{"id":"ref-for-comb-one\u2461\u24ea"},{"id":"ref-for-comb-one\u2461\u2460"},{"id":"ref-for-comb-one\u2461\u2461"},{"id":"ref-for-comb-one\u2461\u2462"}],"title":"4.3. Relative sRGB Colors"},{"refs":[{"id":"ref-for-comb-one\u2461\u2463"},{"id":"ref-for-comb-one\u2461\u2464"},{"id":"ref-for-comb-one\u2461\u2465"},{"id":"ref-for-comb-one\u2461\u2466"},{"id":"ref-for-comb-one\u2461\u2467"},{"id":"ref-for-comb-one\u2461\u2468"},{"id":"ref-for-comb-one\u2462\u24ea"},{"id":"ref-for-comb-one\u2462\u2460"},{"id":"ref-for-comb-one\u2462\u2461"},{"id":"ref-for-comb-one\u2462\u2462"},{"id":"ref-for-comb-one\u2462\u2463"},{"id":"ref-for-comb-one\u2462\u2464"}],"title":"4.4. Relative HSL Colors"},{"refs":[{"id":"ref-for-comb-one\u2462\u2465"},{"id":"ref-for-comb-one\u2462\u2466"},{"id":"ref-for-comb-one\u2462\u2467"},{"id":"ref-for-comb-one\u2462\u2468"},{"id":"ref-for-comb-one\u2463\u24ea"},{"id":"ref-for-comb-one\u2463\u2460"}],"title":"4.5. Relative HWB Colors"},{"refs":[{"id":"ref-for-comb-one\u2463\u2461"},{"id":"ref-for-comb-one\u2463\u2462"},{"id":"ref-for-comb-one\u2463\u2463"},{"id":"ref-for-comb-one\u2463\u2464"},{"id":"ref-for-comb-one\u2463\u2465"},{"id":"ref-for-comb-one\u2463\u2466"},{"id":"ref-for-comb-one\u2463\u2467"}],"title":"4.6. Relative Lab Colors"},{"refs":[{"id":"ref-for-comb-one\u2463\u2468"},{"id":"ref-for-comb-one\u2464\u24ea"},{"id":"ref-for-comb-one\u2464\u2460"},{"id":"ref-for-comb-one\u2464\u2461"},{"id":"ref-for-comb-one\u2464\u2462"},{"id":"ref-for-comb-one\u2464\u2463"},{"id":"ref-for-comb-one\u2464\u2464"}],"title":"4.7. Relative Oklab Colors"},{"refs":[{"id":"ref-for-comb-one\u2464\u2465"},{"id":"ref-for-comb-one\u2464\u2466"},{"id":"ref-for-comb-one\u2464\u2467"},{"id":"ref-for-comb-one\u2464\u2468"},{"id":"ref-for-comb-one\u2465\u24ea"},{"id":"ref-for-comb-one\u2465\u2460"}],"title":"4.8. Relative LCH Colors"},{"refs":[{"id":"ref-for-comb-one\u2465\u2461"},{"id":"ref-for-comb-one\u2465\u2462"},{"id":"ref-for-comb-one\u2465\u2463"},{"id":"ref-for-comb-one\u2465\u2464"},{"id":"ref-for-comb-one\u2465\u2465"},{"id":"ref-for-comb-one\u2465\u2466"}],"title":"4.9. Relative OkLCh Colors"},{"refs":[{"id":"ref-for-comb-one\u2465\u2467"},{"id":"ref-for-comb-one\u2465\u2468"},{"id":"ref-for-comb-one\u2466\u24ea"},{"id":"ref-for-comb-one\u2466\u2460"},{"id":"ref-for-comb-one\u2466\u2461"},{"id":"ref-for-comb-one\u2466\u2462"},{"id":"ref-for-comb-one\u2466\u2463"},{"id":"ref-for-comb-one\u2466\u2464"},{"id":"ref-for-comb-one\u2466\u2465"},{"id":"ref-for-comb-one\u2466\u2466"},{"id":"ref-for-comb-one\u2466\u2467"},{"id":"ref-for-comb-one\u2466\u2468"},{"id":"ref-for-comb-one\u2467\u24ea"},{"id":"ref-for-comb-one\u2467\u2460"},{"id":"ref-for-comb-one\u2467\u2461"},{"id":"ref-for-comb-one\u2467\u2462"}],"title":"5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n"},{"refs":[{"id":"ref-for-comb-one\u2467\u2463"},{"id":"ref-for-comb-one\u2467\u2464"},{"id":"ref-for-comb-one\u2467\u2465"},{"id":"ref-for-comb-one\u2467\u2466"}],"title":"5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n"},{"refs":[{"id":"ref-for-comb-one\u2467\u2467"},{"id":"ref-for-comb-one\u2467\u2468"},{"id":"ref-for-comb-one\u2468\u24ea"},{"id":"ref-for-comb-one\u2468\u2460"}],"title":"6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n"},{"refs":[{"id":"ref-for-comb-one\u2468\u2461"},{"id":"ref-for-comb-one\u2468\u2462"},{"id":"ref-for-comb-one\u2468\u2463"},{"id":"ref-for-comb-one\u2468\u2464"},{"id":"ref-for-comb-one\u2468\u2465"},{"id":"ref-for-comb-one\u2468\u2466"},{"id":"ref-for-comb-one\u2468\u2467"},{"id":"ref-for-comb-one\u2468\u2468"},{"id":"ref-for-comb-one\u2460\u24ea\u24ea"},{"id":"ref-for-comb-one\u2460\u24ea\u2460"},{"id":"ref-for-comb-one\u2460\u24ea\u2461"},{"id":"ref-for-comb-one\u2460\u24ea\u2462"},{"id":"ref-for-comb-one\u2460\u24ea\u2463"},{"id":"ref-for-comb-one\u2460\u24ea\u2464"},{"id":"ref-for-comb-one\u2460\u24ea\u2465"},{"id":"ref-for-comb-one\u2460\u24ea\u2466"},{"id":"ref-for-comb-one\u2460\u24ea\u2467"},{"id":"ref-for-comb-one\u2460\u24ea\u2468"},{"id":"ref-for-comb-one\u2460\u2460\u24ea"},{"id":"ref-for-comb-one\u2460\u2460\u2460"}],"title":"9.1. \n\tColor Space for Interpolation"}],"url":"https://drafts.csswg.org/css-values-4/#comb-one"},
"70ca1268": {"dfnID":"70ca1268","dfnText":"none","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-color-none"},{"id":"ref-for-valdef-color-none\u2460"}],"title":"4.2. \n\tRelative Color Syntax\n"},{"refs":[{"id":"ref-for-valdef-color-none\u2461"}],"title":"5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n"},{"refs":[{"id":"ref-for-valdef-color-none\u2462"},{"id":"ref-for-valdef-color-none\u2463"}],"title":"6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n"},{"refs":[{"id":"ref-for-valdef-color-none\u2464"}],"title":"18.2. \n\tSince the Working Draft of 29 February 2024\n"},{"refs":[{"id":"ref-for-valdef-color-none\u2465"}],"title":"18.3. \n\tSince the Working Draft of 28 June 2022\n"},{"refs":[{"id":"ref-for-valdef-color-none\u2466"}],"title":"18.4. \n\tSince the Working Draft of 28 April 2022\n"},{"refs":[{"id":"ref-for-valdef-color-none\u2467"}],"title":"18.5. \n\tSince the Working Draft of 15 December 2021\n"}],"url":"https://drafts.csswg.org/css-color-4/#valdef-color-none"},
"79663d83": {"dfnID":"79663d83","dfnText":"<alpha-value>","external":true,"refSections":[{"refs":[{"id":"ref-for-typedef-color-alpha-value"},{"id":"ref-for-typedef-color-alpha-value\u2460"}],"title":"4.3. Relative sRGB Colors"},{"refs":[{"id":"ref-for-typedef-color-alpha-value\u2461"},{"id":"ref-for-typedef-color-alpha-value\u2462"}],"title":"4.4. Relative HSL Colors"},{"refs":[{"id":"ref-for-typedef-color-alpha-value\u2463"}],"title":"4.5. Relative HWB Colors"},{"refs":[{"id":"ref-for-typedef-color-alpha-value\u2464"}],"title":"4.6. Relative Lab Colors"},{"refs":[{"id":"ref-for-typedef-color-alpha-value\u2465"}],"title":"4.7. Relative Oklab Colors"},{"refs":[{"id":"ref-for-typedef-color-alpha-value\u2466"}],"title":"4.8. Relative LCH Colors"},{"refs":[{"id":"ref-for-typedef-color-alpha-value\u2467"}],"title":"4.9. Relative OkLCh Colors"},{"refs":[{"id":"ref-for-typedef-color-alpha-value\u2468"}],"title":"5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n"},{"refs":[{"id":"ref-for-typedef-color-alpha-value\u2460\u24ea"}],"title":"5.1. Relative Color-Function Colors"},{"refs":[{"id":"ref-for-typedef-color-alpha-value\u2460\u2460"}],"title":"6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n"}],"url":"https://drafts.csswg.org/css-color-4/#typedef-color-alpha-value"},
"7a29153c": {"dfnID":"7a29153c","dfnText":"<hex-color>","external":true,"refSections":[{"refs":[{"id":"ref-for-typedef-hex-color"}],"title":"2. The <color> syntax"}],"url":"https://drafts.csswg.org/css-color-4/#typedef-hex-color"},
"7c3de606": {"dfnID":"7c3de606","dfnText":"push","external":true,"refSections":[{"refs":[{"id":"ref-for-stack-push"}],"title":"3.2. \n\tCalculating the Result of color-mix\n"}],"url":"https://infra.spec.whatwg.org/#stack-push"},
"7f9469b5": {"dfnID":"7f9469b5","dfnText":"ASCII case-insensitive","external":true,"refSections":[{"refs":[{"id":"ref-for-ascii-case-insensitive"}],"title":"5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n"}],"url":"https://infra.spec.whatwg.org/#ascii-case-insensitive"},
"8093bfd3": {"dfnID":"8093bfd3","dfnText":"normalize mix percentages","external":true,"refSections":[{"refs":[{"id":"ref-for-normalize-mix-percentages"}],"title":"3.1. \n\tPercentage Normalization\n"},{"refs":[{"id":"ref-for-normalize-mix-percentages\u2460"}],"title":"3.2. \n\tCalculating the Result of color-mix\n"}],"url":"https://drafts.csswg.org/css-values-5/#normalize-mix-percentages"},
"82ed5c4b": {"dfnID":"82ed5c4b","dfnText":"red","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-color-red"}],"title":"4.2. \n\tRelative Color Syntax\n"}],"url":"https://drafts.csswg.org/css-color-4/#valdef-color-red"},
"84252421": {"dfnID":"84252421","dfnText":"<declaration-list>","external":true,"refSections":[{"refs":[{"id":"ref-for-typedef-declaration-list"}],"title":"5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n"}],"url":"https://drafts.csswg.org/css-syntax-3/#typedef-declaration-list"},
"889e932f": {"dfnID":"889e932f","dfnText":"Exposed","external":true,"refSections":[{"refs":[{"id":"ref-for-Exposed"}],"title":"12.1. The CSSColorProfileRule interface"}],"url":"https://webidl.spec.whatwg.org/#Exposed"},
"8a427103": {"dfnID":"8a427103","dfnText":"<dashed-ident>","external":true,"refSections":[{"refs":[{"id":"ref-for-typedef-dashed-ident"}],"title":"5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n"},{"refs":[{"id":"ref-for-typedef-dashed-ident\u2460"},{"id":"ref-for-typedef-dashed-ident\u2461"},{"id":"ref-for-typedef-dashed-ident\u2462"}],"title":"5.1. Relative Color-Function Colors"},{"refs":[{"id":"ref-for-typedef-dashed-ident\u2463"}],"title":"5.2. \n\tCustom Color Spaces\n"},{"refs":[{"id":"ref-for-typedef-dashed-ident\u2464"},{"id":"ref-for-typedef-dashed-ident\u2465"}],"title":"5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n"},{"refs":[{"id":"ref-for-typedef-dashed-ident\u2466"},{"id":"ref-for-typedef-dashed-ident\u2467"}],"title":"9.1. \n\tColor Space for Interpolation"}],"url":"https://drafts.csswg.org/css-values-4/#typedef-dashed-ident"},
"8ec859c9": {"dfnID":"8ec859c9","dfnText":"hsla()","external":true,"refSections":[{"refs":[{"id":"ref-for-funcdef-hsla"},{"id":"ref-for-funcdef-hsla\u2460"},{"id":"ref-for-funcdef-hsla\u2461"},{"id":"ref-for-funcdef-hsla\u2462"}],"title":"2. The <color> syntax"},{"refs":[{"id":"ref-for-funcdef-hsla\u2463"},{"id":"ref-for-funcdef-hsla\u2464"}],"title":"4.4. Relative HSL Colors"},{"refs":[{"id":"ref-for-funcdef-hsla\u2465"},{"id":"ref-for-funcdef-hsla\u2466"}],"title":"11.2. \n\tSerializing Origin Colors\n"},{"refs":[{"id":"ref-for-funcdef-hsla\u2467"},{"id":"ref-for-funcdef-hsla\u2468"}],"title":"11.3. \n\tSerializing Relative Color Functions\n"}],"url":"https://drafts.csswg.org/css-color-4/#funcdef-hsla"},
"9213678e": {"dfnID":"9213678e","dfnText":"<ident>","external":true,"refSections":[{"refs":[{"id":"ref-for-typedef-ident"},{"id":"ref-for-typedef-ident\u2460"},{"id":"ref-for-typedef-ident\u2461"}],"title":"5.1. Relative Color-Function Colors"},{"refs":[{"id":"ref-for-typedef-ident\u2462"},{"id":"ref-for-typedef-ident\u2463"},{"id":"ref-for-typedef-ident\u2464"}],"title":"5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n"}],"url":"https://drafts.csswg.org/css-values-4/#typedef-ident"},
"9cd25054": {"dfnID":"9cd25054","dfnText":"computed value","external":true,"refSections":[{"refs":[{"id":"ref-for-computed-value"}],"title":"11.5. \n\tSerializing device-cmyk Values\n"}],"url":"https://drafts.csswg.org/css-cascade-5/#computed-value"},
"9f9120ff": {"dfnID":"9f9120ff","dfnText":",","external":true,"refSections":[{"refs":[{"id":"ref-for-comb-comma"}],"title":"3. Mixing Colors: the color-mix() Function"},{"refs":[{"id":"ref-for-comb-comma\u2460"}],"title":"7. \n\tReacting to the used color-scheme: the light-dark() Function\n"}],"url":"https://drafts.csswg.org/css-values-4/#comb-comma"},
"a96bc427": {"dfnID":"a96bc427","dfnText":"color","external":true,"refSections":[{"refs":[{"id":"ref-for-color"}],"title":"5.2. \n\tCustom Color Spaces\n"}],"url":"https://drafts.csswg.org/css-color-4/#color"},
"absolute-color": {"dfnID":"absolute-color","dfnText":"absolute color","external":false,"refSections":[],"url":"#absolute-color"},
"acb3399b": {"dfnID":"acb3399b","dfnText":"mix item","external":true,"refSections":[{"refs":[{"id":"ref-for-mix-item"},{"id":"ref-for-mix-item\u2460"}],"title":"3.2. \n\tCalculating the Result of color-mix\n"}],"url":"https://drafts.csswg.org/css-values-5/#mix-item"},
"af2d1f38": {"dfnID":"af2d1f38","dfnText":"a98-rgb","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-color-a98-rgb"}],"title":"9.1. \n\tColor Space for Interpolation"}],"url":"https://drafts.csswg.org/css-color-4/#valdef-color-a98-rgb"},
"at-ruledef-profile": {"dfnID":"at-ruledef-profile","dfnText":"@color-profile","external":false,"refSections":[{"refs":[{"id":"ref-for-at-ruledef-profile"},{"id":"ref-for-at-ruledef-profile\u2460"}],"title":"5.1. Relative Color-Function Colors"},{"refs":[{"id":"ref-for-at-ruledef-profile\u2461"}],"title":"5.2. \n\tCustom Color Spaces\n"},{"refs":[{"id":"ref-for-at-ruledef-profile\u2462"},{"id":"ref-for-at-ruledef-profile\u2463"},{"id":"ref-for-at-ruledef-profile\u2464"},{"id":"ref-for-at-ruledef-profile\u2465"},{"id":"ref-for-at-ruledef-profile\u2466"},{"id":"ref-for-at-ruledef-profile\u2467"}],"title":"5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n"},{"refs":[{"id":"ref-for-at-ruledef-profile\u2468"}],"title":"5.4. \n\tCSS and Print: Using Calibrated CMYK and Other Printed Color Spaces\n"},{"refs":[{"id":"ref-for-at-ruledef-profile\u2460\u24ea"},{"id":"ref-for-at-ruledef-profile\u2460\u2460"},{"id":"ref-for-at-ruledef-profile\u2460\u2461"}],"title":"6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n"},{"refs":[{"id":"ref-for-at-ruledef-profile\u2460\u2462"}],"title":"9.1. \n\tColor Space for Interpolation"},{"refs":[{"id":"ref-for-at-ruledef-profile\u2460\u2463"}],"title":"12.1. The CSSColorProfileRule interface"},{"refs":[{"id":"ref-for-at-ruledef-profile\u2460\u2464"}],"title":"18.8. \n\tChanges from CSS Color 4\n"}],"url":"#at-ruledef-profile"},
"b076cecd": {"dfnID":"b076cecd","dfnText":"legacy color syntax","external":true,"refSections":[{"refs":[{"id":"ref-for-legacy-color-syntax"}],"title":"4.2. \n\tRelative Color Syntax\n"},{"refs":[{"id":"ref-for-legacy-color-syntax\u2460"}],"title":"4.3. Relative sRGB Colors"},{"refs":[{"id":"ref-for-legacy-color-syntax\u2461"}],"title":"6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n"}],"url":"https://drafts.csswg.org/css-color-4/#legacy-color-syntax"},
"b0d8ebd9": {"dfnID":"b0d8ebd9","dfnText":"{A}","external":true,"refSections":[{"refs":[{"id":"ref-for-mult-num"},{"id":"ref-for-mult-num\u2460"}],"title":"4.3. Relative sRGB Colors"},{"refs":[{"id":"ref-for-mult-num\u2461"},{"id":"ref-for-mult-num\u2462"}],"title":"5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n"},{"refs":[{"id":"ref-for-mult-num\u2463"}],"title":"6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n"}],"url":"https://drafts.csswg.org/css-values-4/#mult-num"},
"b3424c1d": {"dfnID":"b3424c1d","dfnText":"black","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-color-black"},{"id":"ref-for-valdef-color-black\u2460"}],"title":"8. \n\tDynamically specifying a text color with adequate contrast: the contrast-color() Function\n"}],"url":"https://drafts.csswg.org/css-color-4/#valdef-color-black"},
"b673431e": {"dfnID":"b673431e","dfnText":"LCH","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-lch-lch"},{"id":"ref-for-valdef-lch-lch\u2460"}],"title":"3.2. \n\tCalculating the Result of color-mix\n"},{"refs":[{"id":"ref-for-valdef-lch-lch\u2461"}],"title":"9.1. \n\tColor Space for Interpolation"}],"url":"https://drafts.csswg.org/css-color-4/#valdef-lch-lch"},
"b6f670c1": {"dfnID":"b6f670c1","dfnText":"carried forward","external":true,"refSections":[{"refs":[{"id":"ref-for-carried-forward"}],"title":"4.1. \n\tProcessing Model for Relative Colors\n"}],"url":"https://drafts.csswg.org/css-color-4/#carried-forward"},
"b8f37e6b": {"dfnID":"b8f37e6b","dfnText":"xyz-d50","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-color-xyz-d50"}],"title":"9.1. \n\tColor Space for Interpolation"}],"url":"https://drafts.csswg.org/css-color-4/#valdef-color-xyz-d50"},
"bcdf0026": {"dfnID":"bcdf0026","dfnText":"srgb-linear","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-color-srgb-linear"}],"title":"9.1. \n\tColor Space for Interpolation"}],"url":"https://drafts.csswg.org/css-color-4/#valdef-color-srgb-linear"},
"bedd9d42": {"dfnID":"bedd9d42","dfnText":"+","external":true,"refSections":[{"refs":[{"id":"ref-for-mult-one-plus"}],"title":"5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n"}],"url":"https://drafts.csswg.org/css-values-4/#mult-one-plus"},
"c7bfd1bb": {"dfnID":"c7bfd1bb","dfnText":"prophoto-rgb","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-color-prophoto-rgb"}],"title":"9.1. \n\tColor Space for Interpolation"}],"url":"https://drafts.csswg.org/css-color-4/#valdef-color-prophoto-rgb"},
"c9ce3bd4": {"dfnID":"c9ce3bd4","dfnText":"color space","external":true,"refSections":[{"refs":[{"id":"ref-for-color-space"}],"title":"4.1. \n\tProcessing Model for Relative Colors\n"},{"refs":[{"id":"ref-for-color-space\u2460"}],"title":"4.2. \n\tRelative Color Syntax\n"},{"refs":[{"id":"ref-for-color-space\u2461"}],"title":"5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n"}],"url":"https://drafts.csswg.org/css-color-4/#color-space"},
"cad72d2f": {"dfnID":"cad72d2f","dfnText":"currentcolor","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-color-currentcolor"}],"title":"2. The <color> syntax"},{"refs":[{"id":"ref-for-valdef-color-currentcolor\u2460"}],"title":"10.1. \n\tResolving color-mix() Values\n"},{"refs":[{"id":"ref-for-valdef-color-currentcolor\u2461"}],"title":"10.2. \n\tResolving Relative Color Syntax Values\n"},{"refs":[{"id":"ref-for-valdef-color-currentcolor\u2462"}],"title":"11.1. \n\tSerializing color-mix()\n"},{"refs":[{"id":"ref-for-valdef-color-currentcolor\u2463"}],"title":"11.3. \n\tSerializing Relative Color Functions\n"},{"refs":[{"id":"ref-for-valdef-color-currentcolor\u2464"}],"title":"18.3. \n\tSince the Working Draft of 28 June 2022\n"}],"url":"https://drafts.csswg.org/css-color-4/#valdef-color-currentcolor"},
"calculate-a-color-mix": {"dfnID":"calculate-a-color-mix","dfnText":"calculate a color-mix()","external":false,"refSections":[],"url":"#calculate-a-color-mix"},
"ceacaa1c": {"dfnID":"ceacaa1c","dfnText":"stack","external":true,"refSections":[{"refs":[{"id":"ref-for-stack"}],"title":"3.2. \n\tCalculating the Result of color-mix\n"}],"url":"https://infra.spec.whatwg.org/#stack"},
"color-interpolation-method": {"dfnID":"color-interpolation-method","dfnText":"<color-interpolation-method>","external":false,"refSections":[{"refs":[{"id":"ref-for-color-interpolation-method"}],"title":"3. Mixing Colors: the color-mix() Function"},{"refs":[{"id":"ref-for-color-interpolation-method\u2460"},{"id":"ref-for-color-interpolation-method\u2461"}],"title":"9.1. \n\tColor Space for Interpolation"}],"url":"#color-interpolation-method"},
"component-keyword": {"dfnID":"component-keyword","dfnText":"component keyword","external":false,"refSections":[{"refs":[{"id":"ref-for-component-keyword"},{"id":"ref-for-component-keyword\u2460"}],"title":"4.1. \n\tProcessing Model for Relative Colors\n"},{"refs":[{"id":"ref-for-component-keyword\u2461"},{"id":"ref-for-component-keyword\u2462"}],"title":"4.2. \n\tRelative Color Syntax\n"},{"refs":[{"id":"ref-for-component-keyword\u2463"}],"title":"4.3. Relative sRGB Colors"},{"refs":[{"id":"ref-for-component-keyword\u2464"}],"title":"4.4. Relative HSL Colors"},{"refs":[{"id":"ref-for-component-keyword\u2465"}],"title":"4.5. Relative HWB Colors"},{"refs":[{"id":"ref-for-component-keyword\u2466"}],"title":"4.6. Relative Lab Colors"},{"refs":[{"id":"ref-for-component-keyword\u2467"}],"title":"4.7. Relative Oklab Colors"},{"refs":[{"id":"ref-for-component-keyword\u2468"}],"title":"4.8. Relative LCH Colors"},{"refs":[{"id":"ref-for-component-keyword\u2460\u24ea"}],"title":"4.9. Relative OkLCh Colors"},{"refs":[{"id":"ref-for-component-keyword\u2460\u2460"},{"id":"ref-for-component-keyword\u2460\u2461"},{"id":"ref-for-component-keyword\u2460\u2462"},{"id":"ref-for-component-keyword\u2460\u2463"}],"title":"5.1. Relative Color-Function Colors"}],"url":"#component-keyword"},
"css-color-profile": {"dfnID":"css-color-profile","dfnText":"color profile","external":false,"refSections":[{"refs":[{"id":"ref-for-css-color-profile"}],"title":"5.1. Relative Color-Function Colors"},{"refs":[{"id":"ref-for-css-color-profile\u2460"},{"id":"ref-for-css-color-profile\u2461"}],"title":"5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n"},{"refs":[{"id":"ref-for-css-color-profile\u2462"}],"title":"12.1. The CSSColorProfileRule interface"}],"url":"#css-color-profile"},
"csscolorprofilerule": {"dfnID":"csscolorprofilerule","dfnText":"CSSColorProfileRule","external":false,"refSections":[{"refs":[{"id":"ref-for-csscolorprofilerule"}],"title":"12.1. The CSSColorProfileRule interface"},{"refs":[{"id":"ref-for-csscolorprofilerule\u2460"}],"title":"18.3. \n\tSince the Working Draft of 28 June 2022\n"}],"url":"#csscolorprofilerule"},
"d0872657": {"dfnID":"d0872657","dfnText":"HSL","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-hsl-hsl"},{"id":"ref-for-valdef-hsl-hsl\u2460"}],"title":"3.3. \n\tEffect of Mixing Color Space on color-mix\n"},{"refs":[{"id":"ref-for-valdef-hsl-hsl\u2461"}],"title":"9.1. \n\tColor Space for Interpolation"}],"url":"https://drafts.csswg.org/css-color-4/#valdef-hsl-hsl"},
"d29a9087": {"dfnID":"d29a9087","dfnText":"display-p3","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-color-display-p3"}],"title":"5.1. Relative Color-Function Colors"},{"refs":[{"id":"ref-for-valdef-color-display-p3\u2460"}],"title":"9.1. \n\tColor Space for Interpolation"}],"url":"https://drafts.csswg.org/css-color-4/#valdef-color-display-p3"},
"d2c140db": {"dfnID":"d2c140db","dfnText":"xyz","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-color-xyz"}],"title":"3.3. \n\tEffect of Mixing Color Space on color-mix\n"},{"refs":[{"id":"ref-for-valdef-color-xyz\u2460"}],"title":"9.1. \n\tColor Space for Interpolation"},{"refs":[{"id":"ref-for-valdef-color-xyz\u2461"}],"title":"11.1. \n\tSerializing color-mix()\n"}],"url":"https://drafts.csswg.org/css-color-4/#valdef-color-xyz"},
"d39ba4fe": {"dfnID":"d39ba4fe","dfnText":"cylindrical polar color","external":true,"refSections":[{"refs":[{"id":"ref-for-cylindrical-polar-color"}],"title":"2. The <color> syntax"},{"refs":[{"id":"ref-for-cylindrical-polar-color\u2460"},{"id":"ref-for-cylindrical-polar-color\u2461"}],"title":"3.2. \n\tCalculating the Result of color-mix\n"}],"url":"https://drafts.csswg.org/css-color-4/#cylindrical-polar-color"},
"d5b6d58f": {"dfnID":"d5b6d58f","dfnText":"used color scheme","external":true,"refSections":[{"refs":[{"id":"ref-for-used-color-scheme"},{"id":"ref-for-used-color-scheme\u2460"}],"title":"7. \n\tReacting to the used color-scheme: the light-dark() Function\n"}],"url":"https://drafts.csswg.org/css-color-adjust-1/#used-color-scheme"},
"dd998a01": {"dfnID":"dd998a01","dfnText":"rgba()","external":true,"refSections":[{"refs":[{"id":"ref-for-funcdef-rgba"},{"id":"ref-for-funcdef-rgba\u2460"},{"id":"ref-for-funcdef-rgba\u2461"}],"title":"2. The <color> syntax"},{"refs":[{"id":"ref-for-funcdef-rgba\u2462"},{"id":"ref-for-funcdef-rgba\u2463"}],"title":"4.3. Relative sRGB Colors"},{"refs":[{"id":"ref-for-funcdef-rgba\u2464"},{"id":"ref-for-funcdef-rgba\u2465"}],"title":"11.2. \n\tSerializing Origin Colors\n"},{"refs":[{"id":"ref-for-funcdef-rgba\u2466"},{"id":"ref-for-funcdef-rgba\u2467"}],"title":"11.3. \n\tSerializing Relative Color Functions\n"}],"url":"https://drafts.csswg.org/css-color-4/#funcdef-rgba"},
"descdef-color-profile-components": {"dfnID":"descdef-color-profile-components","dfnText":"components","external":false,"refSections":[{"refs":[{"id":"ref-for-descdef-color-profile-components"}],"title":"5.1. Relative Color-Function Colors"}],"url":"#descdef-color-profile-components"},
"descdef-color-profile-rendering-intent": {"dfnID":"descdef-color-profile-rendering-intent","dfnText":"rendering-intent","external":false,"refSections":[{"refs":[{"id":"ref-for-descdef-color-profile-rendering-intent"}],"title":"5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n"}],"url":"#descdef-color-profile-rendering-intent"},
"descdef-color-profile-src": {"dfnID":"descdef-color-profile-src","dfnText":"src","external":false,"refSections":[{"refs":[{"id":"ref-for-descdef-color-profile-src"}],"title":"5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n"}],"url":"#descdef-color-profile-src"},
"dom-csscolorprofilerule-components": {"dfnID":"dom-csscolorprofilerule-components","dfnText":"components","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-csscolorprofilerule-components"}],"title":"12.1. The CSSColorProfileRule interface"}],"url":"#dom-csscolorprofilerule-components"},
"dom-csscolorprofilerule-name": {"dfnID":"dom-csscolorprofilerule-name","dfnText":"name","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-csscolorprofilerule-name"}],"title":"12.1. The CSSColorProfileRule interface"}],"url":"#dom-csscolorprofilerule-name"},
"dom-csscolorprofilerule-renderingintent": {"dfnID":"dom-csscolorprofilerule-renderingintent","dfnText":"renderingIntent","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-csscolorprofilerule-renderingintent"}],"title":"12.1. The CSSColorProfileRule interface"}],"url":"#dom-csscolorprofilerule-renderingintent"},
"dom-csscolorprofilerule-src": {"dfnID":"dom-csscolorprofilerule-src","dfnText":"src","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-csscolorprofilerule-src"}],"title":"12.1. The CSSColorProfileRule interface"}],"url":"#dom-csscolorprofilerule-src"},
"e10c8e34": {"dfnID":"e10c8e34","dfnText":"<hue>","external":true,"refSections":[{"refs":[{"id":"ref-for-typedef-hue"}],"title":"2. The <color> syntax"},{"refs":[{"id":"ref-for-typedef-hue\u2460"},{"id":"ref-for-typedef-hue\u2461"}],"title":"4.4. Relative HSL Colors"},{"refs":[{"id":"ref-for-typedef-hue\u2462"}],"title":"4.5. Relative HWB Colors"},{"refs":[{"id":"ref-for-typedef-hue\u2463"}],"title":"4.8. Relative LCH Colors"},{"refs":[{"id":"ref-for-typedef-hue\u2464"}],"title":"4.9. Relative OkLCh Colors"}],"url":"https://drafts.csswg.org/css-color-4/#typedef-hue"},
"e5aac9c3": {"dfnID":"e5aac9c3","dfnText":"white","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-color-white"},{"id":"ref-for-valdef-color-white\u2460"},{"id":"ref-for-valdef-color-white\u2461"}],"title":"8. \n\tDynamically specifying a text color with adequate contrast: the contrast-color() Function\n"}],"url":"https://drafts.csswg.org/css-color-4/#valdef-color-white"},
"ebaeb088": {"dfnID":"ebaeb088","dfnText":"CSSRule","external":true,"refSections":[{"refs":[{"id":"ref-for-cssrule"}],"title":"12.1. The CSSColorProfileRule interface"}],"url":"https://drafts.csswg.org/cssom-1/#cssrule"},
"ee30bd68": {"dfnID":"ee30bd68","dfnText":"fetch a style resource","external":true,"refSections":[{"refs":[{"id":"ref-for-fetch-a-style-resource"}],"title":"5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n"}],"url":"https://drafts.csswg.org/css-values-4/#fetch-a-style-resource"},
"ee3a31a1": {"dfnID":"ee3a31a1","dfnText":"lime","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-color-lime"}],"title":"4.2. \n\tRelative Color Syntax\n"}],"url":"https://drafts.csswg.org/css-color-4/#valdef-color-lime"},
"ee7bba09": {"dfnID":"ee7bba09","dfnText":"response","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-response"}],"title":"5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n"}],"url":"https://fetch.spec.whatwg.org/#concept-response"},
"eefcc01f": {"dfnID":"eefcc01f","dfnText":"rectangular orthogonal color","external":true,"refSections":[{"refs":[{"id":"ref-for-rectangular-orthogonal-color"}],"title":"2. The <color> syntax"},{"refs":[{"id":"ref-for-rectangular-orthogonal-color\u2460"}],"title":"3.2. \n\tCalculating the Result of color-mix\n"}],"url":"https://drafts.csswg.org/css-color-4/#rectangular-orthogonal-color"},
"efa5c464": {"dfnID":"efa5c464","dfnText":"<named-color>","external":true,"refSections":[{"refs":[{"id":"ref-for-typedef-named-color"}],"title":"2. The <color> syntax"}],"url":"https://drafts.csswg.org/css-color-4/#typedef-named-color"},
"efad480b": {"dfnID":"efad480b","dfnText":"premultiplied","external":true,"refSections":[{"refs":[{"id":"ref-for-premultiplied"},{"id":"ref-for-premultiplied\u2460"},{"id":"ref-for-premultiplied\u2461"}],"title":"3.4. \n\tEffect of Non-Unity Alpha on color-mix\n"}],"url":"https://drafts.csswg.org/css-color-4/#premultiplied"},
"f0809abc": {"dfnID":"f0809abc","dfnText":"&&","external":true,"refSections":[{"refs":[{"id":"ref-for-comb-all"}],"title":"3. Mixing Colors: the color-mix() Function"}],"url":"https://drafts.csswg.org/css-values-4/#comb-all"},
"f17eedd8": {"dfnID":"f17eedd8","dfnText":"blue","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-color-blue"}],"title":"4.2. \n\tRelative Color Syntax\n"}],"url":"https://drafts.csswg.org/css-color-4/#valdef-color-blue"},
"f77085d6": {"dfnID":"f77085d6","dfnText":"xyz-d65","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-color-xyz-d65"}],"title":"9.1. \n\tColor Space for Interpolation"},{"refs":[{"id":"ref-for-valdef-color-xyz-d65\u2460"}],"title":"11.1. \n\tSerializing color-mix()\n"}],"url":"https://drafts.csswg.org/css-color-4/#valdef-color-xyz-d65"},
"fa293cdd": {"dfnID":"fa293cdd","dfnText":"<url>","external":true,"refSections":[{"refs":[{"id":"ref-for-url-value"}],"title":"5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n"}],"url":"https://drafts.csswg.org/css-values-4/#url-value"},
"fca74142": {"dfnID":"fca74142","dfnText":"pop","external":true,"refSections":[{"refs":[{"id":"ref-for-stack-pop"}],"title":"3.2. \n\tCalculating the Result of color-mix\n"}],"url":"https://infra.spec.whatwg.org/#stack-pop"},
"fetch-an-external-color-profile": {"dfnID":"fetch-an-external-color-profile","dfnText":"fetch an external color profile","external":false,"refSections":[],"url":"#fetch-an-external-color-profile"},
"funcdef-color": {"dfnID":"funcdef-color","dfnText":"color()","external":false,"refSections":[{"refs":[{"id":"ref-for-funcdef-color"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-funcdef-color\u2460"}],"title":"2. The <color> syntax"},{"refs":[{"id":"ref-for-funcdef-color\u2461"},{"id":"ref-for-funcdef-color\u2462"},{"id":"ref-for-funcdef-color\u2463"}],"title":"5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n"},{"refs":[{"id":"ref-for-funcdef-color\u2464"},{"id":"ref-for-funcdef-color\u2465"},{"id":"ref-for-funcdef-color\u2466"},{"id":"ref-for-funcdef-color\u2467"}],"title":"5.1. Relative Color-Function Colors"},{"refs":[{"id":"ref-for-funcdef-color\u2468"}],"title":"5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n"},{"refs":[{"id":"ref-for-funcdef-color\u2460\u24ea"}],"title":"11.2. \n\tSerializing Origin Colors\n"},{"refs":[{"id":"ref-for-funcdef-color\u2460\u2460"}],"title":"11.3. \n\tSerializing Relative Color Functions\n"},{"refs":[{"id":"ref-for-funcdef-color\u2460\u2461"}],"title":"11.4. \n\tSerializing Custom Color Spaces\n"},{"refs":[{"id":"ref-for-funcdef-color\u2460\u2462"}],"title":"18.3. \n\tSince the Working Draft of 28 June 2022\n"},{"refs":[{"id":"ref-for-funcdef-color\u2460\u2463"}],"title":"18.8. \n\tChanges from CSS Color 4\n"}],"url":"#funcdef-color"},
"funcdef-color-mix": {"dfnID":"funcdef-color-mix","dfnText":"color-mix()","external":false,"refSections":[{"refs":[{"id":"ref-for-funcdef-color-mix"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-funcdef-color-mix\u2460"},{"id":"ref-for-funcdef-color-mix\u2461"}],"title":"2. The <color> syntax"},{"refs":[{"id":"ref-for-funcdef-color-mix\u2462"}],"title":"3. Mixing Colors: the color-mix() Function"},{"refs":[{"id":"ref-for-funcdef-color-mix\u2463"}],"title":"3.3. \n\tEffect of Mixing Color Space on color-mix\n"},{"refs":[{"id":"ref-for-funcdef-color-mix\u2464"}],"title":"3.4. \n\tEffect of Non-Unity Alpha on color-mix\n"},{"refs":[{"id":"ref-for-funcdef-color-mix\u2465"},{"id":"ref-for-funcdef-color-mix\u2466"}],"title":"10.1. \n\tResolving color-mix() Values\n"},{"refs":[{"id":"ref-for-funcdef-color-mix\u2467"}],"title":"11. \n\tSerialization\n"},{"refs":[{"id":"ref-for-funcdef-color-mix\u2468"},{"id":"ref-for-funcdef-color-mix\u2460\u24ea"},{"id":"ref-for-funcdef-color-mix\u2460\u2460"},{"id":"ref-for-funcdef-color-mix\u2460\u2461"}],"title":"11.1. \n\tSerializing color-mix()\n"},{"refs":[{"id":"ref-for-funcdef-color-mix\u2460\u2462"},{"id":"ref-for-funcdef-color-mix\u2460\u2463"},{"id":"ref-for-funcdef-color-mix\u2460\u2464"}],"title":"18.3. \n\tSince the Working Draft of 28 June 2022\n"},{"refs":[{"id":"ref-for-funcdef-color-mix\u2460\u2465"}],"title":"18.8. \n\tChanges from CSS Color 4\n"}],"url":"#funcdef-color-mix"},
"funcdef-contrast-color": {"dfnID":"funcdef-contrast-color","dfnText":"contrast-color()","external":false,"refSections":[{"refs":[{"id":"ref-for-funcdef-contrast-color"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-funcdef-contrast-color\u2460"},{"id":"ref-for-funcdef-contrast-color\u2461"}],"title":"2. The <color> syntax"},{"refs":[{"id":"ref-for-funcdef-contrast-color\u2462"},{"id":"ref-for-funcdef-contrast-color\u2463"},{"id":"ref-for-funcdef-contrast-color\u2464"}],"title":"8. \n\tDynamically specifying a text color with adequate contrast: the contrast-color() Function\n"},{"refs":[{"id":"ref-for-funcdef-contrast-color\u2465"}],"title":"18.3. \n\tSince the Working Draft of 28 June 2022\n"}],"url":"#funcdef-contrast-color"},
"funcdef-device-cmyk": {"dfnID":"funcdef-device-cmyk","dfnText":"device-cmyk()","external":false,"refSections":[{"refs":[{"id":"ref-for-funcdef-device-cmyk"},{"id":"ref-for-funcdef-device-cmyk\u2460"}],"title":"2. The <color> syntax"},{"refs":[{"id":"ref-for-funcdef-device-cmyk\u2461"}],"title":"3.3. \n\tEffect of Mixing Color Space on color-mix\n"},{"refs":[{"id":"ref-for-funcdef-device-cmyk\u2462"}],"title":"4.1. \n\tProcessing Model for Relative Colors\n"},{"refs":[{"id":"ref-for-funcdef-device-cmyk\u2463"},{"id":"ref-for-funcdef-device-cmyk\u2464"},{"id":"ref-for-funcdef-device-cmyk\u2465"},{"id":"ref-for-funcdef-device-cmyk\u2466"},{"id":"ref-for-funcdef-device-cmyk\u2467"},{"id":"ref-for-funcdef-device-cmyk\u2468"}],"title":"6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n"},{"refs":[{"id":"ref-for-funcdef-device-cmyk\u2460\u24ea"}],"title":"11. \n\tSerialization\n"},{"refs":[{"id":"ref-for-funcdef-device-cmyk\u2460\u2460"},{"id":"ref-for-funcdef-device-cmyk\u2460\u2461"},{"id":"ref-for-funcdef-device-cmyk\u2460\u2462"}],"title":"11.5. \n\tSerializing device-cmyk Values\n"},{"refs":[{"id":"ref-for-funcdef-device-cmyk\u2460\u2463"},{"id":"ref-for-funcdef-device-cmyk\u2460\u2464"}],"title":"18.3. \n\tSince the Working Draft of 28 June 2022\n"},{"refs":[{"id":"ref-for-funcdef-device-cmyk\u2460\u2465"}],"title":"18.8. \n\tChanges from CSS Color 4\n"}],"url":"#funcdef-device-cmyk"},
"funcdef-hwb": {"dfnID":"funcdef-hwb","dfnText":"hwb()","external":false,"refSections":[{"refs":[{"id":"ref-for-funcdef-hwb"},{"id":"ref-for-funcdef-hwb\u2460"},{"id":"ref-for-funcdef-hwb\u2461"}],"title":"2. The <color> syntax"},{"refs":[{"id":"ref-for-funcdef-hwb\u2462"},{"id":"ref-for-funcdef-hwb\u2463"}],"title":"4.5. Relative HWB Colors"},{"refs":[{"id":"ref-for-funcdef-hwb\u2464"}],"title":"11.2. \n\tSerializing Origin Colors\n"},{"refs":[{"id":"ref-for-funcdef-hwb\u2465"}],"title":"11.3. \n\tSerializing Relative Color Functions\n"},{"refs":[{"id":"ref-for-funcdef-hwb\u2466"},{"id":"ref-for-funcdef-hwb\u2467"}],"title":"18.3. \n\tSince the Working Draft of 28 June 2022\n"}],"url":"#funcdef-hwb"},
"funcdef-lab": {"dfnID":"funcdef-lab","dfnText":"lab()","external":false,"refSections":[{"refs":[{"id":"ref-for-funcdef-lab"}],"title":"2. The <color> syntax"},{"refs":[{"id":"ref-for-funcdef-lab\u2460"}],"title":"3.3. \n\tEffect of Mixing Color Space on color-mix\n"},{"refs":[{"id":"ref-for-funcdef-lab\u2461"},{"id":"ref-for-funcdef-lab\u2462"}],"title":"4.6. Relative Lab Colors"},{"refs":[{"id":"ref-for-funcdef-lab\u2463"}],"title":"11.2. \n\tSerializing Origin Colors\n"},{"refs":[{"id":"ref-for-funcdef-lab\u2464"}],"title":"11.3. \n\tSerializing Relative Color Functions\n"}],"url":"#funcdef-lab"},
"funcdef-lch": {"dfnID":"funcdef-lch","dfnText":"lch()","external":false,"refSections":[{"refs":[{"id":"ref-for-funcdef-lch"},{"id":"ref-for-funcdef-lch\u2460"}],"title":"2. The <color> syntax"},{"refs":[{"id":"ref-for-funcdef-lch\u2461"}],"title":"4.2. \n\tRelative Color Syntax\n"},{"refs":[{"id":"ref-for-funcdef-lch\u2462"},{"id":"ref-for-funcdef-lch\u2463"}],"title":"4.8. Relative LCH Colors"},{"refs":[{"id":"ref-for-funcdef-lch\u2464"}],"title":"11.2. \n\tSerializing Origin Colors\n"},{"refs":[{"id":"ref-for-funcdef-lch\u2465"}],"title":"11.3. \n\tSerializing Relative Color Functions\n"}],"url":"#funcdef-lch"},
"funcdef-light-dark": {"dfnID":"funcdef-light-dark","dfnText":"light-dark()","external":false,"refSections":[{"refs":[{"id":"ref-for-funcdef-light-dark"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-funcdef-light-dark\u2460"},{"id":"ref-for-funcdef-light-dark\u2461"}],"title":"2. The <color> syntax"},{"refs":[{"id":"ref-for-funcdef-light-dark\u2462"},{"id":"ref-for-funcdef-light-dark\u2463"}],"title":"7. \n\tReacting to the used color-scheme: the light-dark() Function\n"},{"refs":[{"id":"ref-for-funcdef-light-dark\u2464"},{"id":"ref-for-funcdef-light-dark\u2465"}],"title":"18.3. \n\tSince the Working Draft of 28 June 2022\n"}],"url":"#funcdef-light-dark"},
"funcdef-oklab": {"dfnID":"funcdef-oklab","dfnText":"oklab()","external":false,"refSections":[{"refs":[{"id":"ref-for-funcdef-oklab"}],"title":"2. The <color> syntax"},{"refs":[{"id":"ref-for-funcdef-oklab\u2460"},{"id":"ref-for-funcdef-oklab\u2461"}],"title":"4.7. Relative Oklab Colors"},{"refs":[{"id":"ref-for-funcdef-oklab\u2462"}],"title":"11.2. \n\tSerializing Origin Colors\n"},{"refs":[{"id":"ref-for-funcdef-oklab\u2463"}],"title":"11.3. \n\tSerializing Relative Color Functions\n"}],"url":"#funcdef-oklab"},
"funcdef-oklch": {"dfnID":"funcdef-oklch","dfnText":"oklch()","external":false,"refSections":[{"refs":[{"id":"ref-for-funcdef-oklch"},{"id":"ref-for-funcdef-oklch\u2460"}],"title":"2. The <color> syntax"},{"refs":[{"id":"ref-for-funcdef-oklch\u2461"}],"title":"4.2. \n\tRelative Color Syntax\n"},{"refs":[{"id":"ref-for-funcdef-oklch\u2462"},{"id":"ref-for-funcdef-oklch\u2463"}],"title":"4.9. Relative OkLCh Colors"},{"refs":[{"id":"ref-for-funcdef-oklch\u2464"}],"title":"11.2. \n\tSerializing Origin Colors\n"},{"refs":[{"id":"ref-for-funcdef-oklch\u2465"}],"title":"11.3. \n\tSerializing Relative Color Functions\n"}],"url":"#funcdef-oklch"},
"gamut-map": {"dfnID":"gamut-map","dfnText":"gamut-map","external":false,"refSections":[{"refs":[{"id":"ref-for-gamut-map"}],"title":"5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n"}],"url":"#gamut-map"},
"invalid-color": {"dfnID":"invalid-color","dfnText":"invalid color","external":false,"refSections":[{"refs":[{"id":"ref-for-invalid-color"}],"title":"5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n"},{"refs":[{"id":"ref-for-invalid-color\u2460"},{"id":"ref-for-invalid-color\u2461"}],"title":"5.1. Relative Color-Function Colors"},{"refs":[{"id":"ref-for-invalid-color\u2462"}],"title":"5.3. \n\tSpecifying a Color Profile: the @color-profile at-rule\n"}],"url":"#invalid-color"},
"naively-convert-from-cmyk-to-rgba": {"dfnID":"naively-convert-from-cmyk-to-rgba","dfnText":"naively convert from CMYK to RGBA","external":false,"refSections":[],"url":"#naively-convert-from-cmyk-to-rgba"},
"naively-convert-from-rgba-to-cmyk": {"dfnID":"naively-convert-from-rgba-to-cmyk","dfnText":"naively convert from RGBA to CMYK","external":false,"refSections":[],"url":"#naively-convert-from-rgba-to-cmyk"},
"origin-color": {"dfnID":"origin-color","dfnText":"origin color","external":false,"refSections":[{"refs":[{"id":"ref-for-origin-color"},{"id":"ref-for-origin-color\u2460"},{"id":"ref-for-origin-color\u2461"}],"title":"4.1. \n\tProcessing Model for Relative Colors\n"},{"refs":[{"id":"ref-for-origin-color\u2462"},{"id":"ref-for-origin-color\u2463"},{"id":"ref-for-origin-color\u2464"},{"id":"ref-for-origin-color\u2465"},{"id":"ref-for-origin-color\u2466"},{"id":"ref-for-origin-color\u2467"},{"id":"ref-for-origin-color\u2468"},{"id":"ref-for-origin-color\u2460\u24ea"},{"id":"ref-for-origin-color\u2460\u2460"},{"id":"ref-for-origin-color\u2460\u2461"},{"id":"ref-for-origin-color\u2460\u2462"}],"title":"4.2. \n\tRelative Color Syntax\n"},{"refs":[{"id":"ref-for-origin-color\u2460\u2463"},{"id":"ref-for-origin-color\u2460\u2464"}],"title":"4.3. Relative sRGB Colors"},{"refs":[{"id":"ref-for-origin-color\u2460\u2465"},{"id":"ref-for-origin-color\u2460\u2466"},{"id":"ref-for-origin-color\u2460\u2467"}],"title":"4.4. Relative HSL Colors"},{"refs":[{"id":"ref-for-origin-color\u2460\u2468"},{"id":"ref-for-origin-color\u2461\u24ea"},{"id":"ref-for-origin-color\u2461\u2460"}],"title":"4.5. Relative HWB Colors"},{"refs":[{"id":"ref-for-origin-color\u2461\u2461"},{"id":"ref-for-origin-color\u2461\u2462"},{"id":"ref-for-origin-color\u2461\u2463"}],"title":"4.6. Relative Lab Colors"},{"refs":[{"id":"ref-for-origin-color\u2461\u2464"},{"id":"ref-for-origin-color\u2461\u2465"},{"id":"ref-for-origin-color\u2461\u2466"}],"title":"4.7. Relative Oklab Colors"},{"refs":[{"id":"ref-for-origin-color\u2461\u2467"},{"id":"ref-for-origin-color\u2461\u2468"},{"id":"ref-for-origin-color\u2462\u24ea"},{"id":"ref-for-origin-color\u2462\u2460"}],"title":"4.8. Relative LCH Colors"},{"refs":[{"id":"ref-for-origin-color\u2462\u2461"},{"id":"ref-for-origin-color\u2462\u2462"},{"id":"ref-for-origin-color\u2462\u2463"},{"id":"ref-for-origin-color\u2462\u2464"}],"title":"4.9. Relative OkLCh Colors"},{"refs":[{"id":"ref-for-origin-color\u2462\u2465"},{"id":"ref-for-origin-color\u2462\u2466"},{"id":"ref-for-origin-color\u2462\u2467"},{"id":"ref-for-origin-color\u2462\u2468"}],"title":"5.1. Relative Color-Function Colors"},{"refs":[{"id":"ref-for-origin-color\u2463\u24ea"}],"title":"11.2. \n\tSerializing Origin Colors\n"},{"refs":[{"id":"ref-for-origin-color\u2463\u2460"}],"title":"11.3. \n\tSerializing Relative Color Functions\n"}],"url":"#origin-color"},
"originally-specified-color-space": {"dfnID":"originally-specified-color-space","dfnText":"originally specified color space","external":false,"refSections":[],"url":"#originally-specified-color-space"},
"out-of-gamut": {"dfnID":"out-of-gamut","dfnText":"out of gamut","external":false,"refSections":[{"refs":[{"id":"ref-for-out-of-gamut"}],"title":"5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n"}],"url":"#out-of-gamut"},
"relative-color": {"dfnID":"relative-color","dfnText":"relative color","external":false,"refSections":[{"refs":[{"id":"ref-for-relative-color"},{"id":"ref-for-relative-color\u2460"}],"title":"4.1. \n\tProcessing Model for Relative Colors\n"},{"refs":[{"id":"ref-for-relative-color\u2461"},{"id":"ref-for-relative-color\u2462"},{"id":"ref-for-relative-color\u2463"}],"title":"4.2. \n\tRelative Color Syntax\n"},{"refs":[{"id":"ref-for-relative-color\u2464"}],"title":"4.3. Relative sRGB Colors"},{"refs":[{"id":"ref-for-relative-color\u2465"}],"title":"4.4. Relative HSL Colors"},{"refs":[{"id":"ref-for-relative-color\u2466"}],"title":"4.5. Relative HWB Colors"},{"refs":[{"id":"ref-for-relative-color\u2467"}],"title":"4.6. Relative Lab Colors"},{"refs":[{"id":"ref-for-relative-color\u2468"}],"title":"4.7. Relative Oklab Colors"},{"refs":[{"id":"ref-for-relative-color\u2460\u24ea"}],"title":"4.8. Relative LCH Colors"},{"refs":[{"id":"ref-for-relative-color\u2460\u2460"}],"title":"4.9. Relative OkLCh Colors"},{"refs":[{"id":"ref-for-relative-color\u2460\u2461"},{"id":"ref-for-relative-color\u2460\u2462"},{"id":"ref-for-relative-color\u2460\u2463"},{"id":"ref-for-relative-color\u2460\u2464"}],"title":"5.1. Relative Color-Function Colors"},{"refs":[{"id":"ref-for-relative-color\u2460\u2465"}],"title":"11.3. \n\tSerializing Relative Color Functions\n"}],"url":"#relative-color"},
"required-conversion": {"dfnID":"required-conversion","dfnText":"Required conversion","external":false,"refSections":[{"refs":[{"id":"ref-for-required-conversion"}],"title":"4.3. Relative sRGB Colors"},{"refs":[{"id":"ref-for-required-conversion\u2460"},{"id":"ref-for-required-conversion\u2461"}],"title":"4.4. Relative HSL Colors"},{"refs":[{"id":"ref-for-required-conversion\u2462"},{"id":"ref-for-required-conversion\u2463"}],"title":"4.5. Relative HWB Colors"},{"refs":[{"id":"ref-for-required-conversion\u2464"},{"id":"ref-for-required-conversion\u2465"}],"title":"4.6. Relative Lab Colors"},{"refs":[{"id":"ref-for-required-conversion\u2466"},{"id":"ref-for-required-conversion\u2467"}],"title":"4.7. Relative Oklab Colors"},{"refs":[{"id":"ref-for-required-conversion\u2468"},{"id":"ref-for-required-conversion\u2460\u24ea"},{"id":"ref-for-required-conversion\u2460\u2460"}],"title":"4.8. Relative LCH Colors"},{"refs":[{"id":"ref-for-required-conversion\u2460\u2461"},{"id":"ref-for-required-conversion\u2460\u2462"},{"id":"ref-for-required-conversion\u2460\u2463"}],"title":"4.9. Relative OkLCh Colors"},{"refs":[{"id":"ref-for-required-conversion\u2460\u2464"},{"id":"ref-for-required-conversion\u2460\u2465"},{"id":"ref-for-required-conversion\u2460\u2466"}],"title":"5.1. Relative Color-Function Colors"}],"url":"#required-conversion"},
"resolve-to-srgb": {"dfnID":"resolve-to-srgb","dfnText":"resolve to sRGB","external":false,"refSections":[],"url":"#resolve-to-srgb"},
"support-legacy-color-syntax": {"dfnID":"support-legacy-color-syntax","dfnText":"support legacy color syntax","external":false,"refSections":[],"url":"#support-legacy-color-syntax"},
"typedef-cmyk-component": {"dfnID":"typedef-cmyk-component","dfnText":"<cmyk-component>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-cmyk-component"}],"title":"6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n"}],"url":"#typedef-cmyk-component"},
"typedef-color": {"dfnID":"typedef-color","dfnText":"<color>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-color"},{"id":"ref-for-typedef-color\u2460"},{"id":"ref-for-typedef-color\u2461"}],"title":"2. The <color> syntax"},{"refs":[{"id":"ref-for-typedef-color\u2462"},{"id":"ref-for-typedef-color\u2463"}],"title":"3. Mixing Colors: the color-mix() Function"},{"refs":[{"id":"ref-for-typedef-color\u2464"}],"title":"4.2. \n\tRelative Color Syntax\n"},{"refs":[{"id":"ref-for-typedef-color\u2465"},{"id":"ref-for-typedef-color\u2466"}],"title":"4.3. Relative sRGB Colors"},{"refs":[{"id":"ref-for-typedef-color\u2467"},{"id":"ref-for-typedef-color\u2468"}],"title":"4.4. Relative HSL Colors"},{"refs":[{"id":"ref-for-typedef-color\u2460\u24ea"}],"title":"4.5. Relative HWB Colors"},{"refs":[{"id":"ref-for-typedef-color\u2460\u2460"}],"title":"4.6. Relative Lab Colors"},{"refs":[{"id":"ref-for-typedef-color\u2460\u2461"}],"title":"4.7. Relative Oklab Colors"},{"refs":[{"id":"ref-for-typedef-color\u2460\u2462"}],"title":"4.8. Relative LCH Colors"},{"refs":[{"id":"ref-for-typedef-color\u2460\u2463"}],"title":"4.9. Relative OkLCh Colors"},{"refs":[{"id":"ref-for-typedef-color\u2460\u2464"}],"title":"5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n"},{"refs":[{"id":"ref-for-typedef-color\u2460\u2465"},{"id":"ref-for-typedef-color\u2460\u2466"}],"title":"7. \n\tReacting to the used color-scheme: the light-dark() Function\n"},{"refs":[{"id":"ref-for-typedef-color\u2460\u2467"}],"title":"8. \n\tDynamically specifying a text color with adequate contrast: the contrast-color() Function\n"},{"refs":[{"id":"ref-for-typedef-color\u2460\u2468"}],"title":"10. \n\tResolving <color> Values\n"},{"refs":[{"id":"ref-for-typedef-color\u2461\u24ea"},{"id":"ref-for-typedef-color\u2461\u2460"}],"title":"10.1. \n\tResolving color-mix() Values\n"},{"refs":[{"id":"ref-for-typedef-color\u2461\u2461"},{"id":"ref-for-typedef-color\u2461\u2462"},{"id":"ref-for-typedef-color\u2461\u2463"}],"title":"10.2. \n\tResolving Relative Color Syntax Values\n"},{"refs":[{"id":"ref-for-typedef-color\u2461\u2464"}],"title":"11.1. \n\tSerializing color-mix()\n"},{"refs":[{"id":"ref-for-typedef-color\u2461\u2465"}],"title":"11.3. \n\tSerializing Relative Color Functions\n"}],"url":"#typedef-color"},
"typedef-color-base": {"dfnID":"typedef-color-base","dfnText":"<color-base>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-color-base"}],"title":"2. The <color> syntax"}],"url":"#typedef-color-base"},
"typedef-color-function": {"dfnID":"typedef-color-function","dfnText":"<color-function>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-color-function"}],"title":"2. The <color> syntax"}],"url":"#typedef-color-function"},
"typedef-color-space": {"dfnID":"typedef-color-space","dfnText":"<color-space>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-color-space"}],"title":"3. Mixing Colors: the color-mix() Function"},{"refs":[{"id":"ref-for-typedef-color-space\u2460"},{"id":"ref-for-typedef-color-space\u2461"}],"title":"3.2. \n\tCalculating the Result of color-mix\n"},{"refs":[{"id":"ref-for-typedef-color-space\u2462"}],"title":"11.1. \n\tSerializing color-mix()\n"},{"refs":[{"id":"ref-for-typedef-color-space\u2463"}],"title":"18.7. \n\tSince the FPWD of 10 June 2020\n"}],"url":"#typedef-color-space"},
"typedef-colorspace-params": {"dfnID":"typedef-colorspace-params","dfnText":"<colorspace-params>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-colorspace-params"}],"title":"5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n"}],"url":"#typedef-colorspace-params"},
"typedef-custom-color-space": {"dfnID":"typedef-custom-color-space","dfnText":"<custom-color-space>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-custom-color-space"},{"id":"ref-for-typedef-custom-color-space\u2460"}],"title":"9.1. \n\tColor Space for Interpolation"}],"url":"#typedef-custom-color-space"},
"typedef-custom-params": {"dfnID":"typedef-custom-params","dfnText":"<custom-params>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-custom-params"}],"title":"5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n"},{"refs":[{"id":"ref-for-typedef-custom-params\u2460"}],"title":"5.1. Relative Color-Function Colors"}],"url":"#typedef-custom-params"},
"typedef-hue-interpolation-method": {"dfnID":"typedef-hue-interpolation-method","dfnText":"<hue-interpolation-method>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-hue-interpolation-method"},{"id":"ref-for-typedef-hue-interpolation-method\u2460"}],"title":"3.2. \n\tCalculating the Result of color-mix\n"},{"refs":[{"id":"ref-for-typedef-hue-interpolation-method\u2461"}],"title":"9.1. \n\tColor Space for Interpolation"}],"url":"#typedef-hue-interpolation-method"},
"typedef-legacy-device-cmyk-syntax": {"dfnID":"typedef-legacy-device-cmyk-syntax","dfnText":"<legacy-device-cmyk-syntax>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-legacy-device-cmyk-syntax"}],"title":"6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n"}],"url":"#typedef-legacy-device-cmyk-syntax"},
"typedef-modern-device-cmyk-syntax": {"dfnID":"typedef-modern-device-cmyk-syntax","dfnText":"<modern-device-cmyk-syntax>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-modern-device-cmyk-syntax"}],"title":"6. \n\tUncalibrated CMYK Colors: the device-cmyk() Function\n"}],"url":"#typedef-modern-device-cmyk-syntax"},
"typedef-modern-hsl-syntax": {"dfnID":"typedef-modern-hsl-syntax","dfnText":"<modern-hsl-syntax>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-modern-hsl-syntax"}],"title":"4.4. Relative HSL Colors"}],"url":"#typedef-modern-hsl-syntax"},
"typedef-modern-hsla-syntax": {"dfnID":"typedef-modern-hsla-syntax","dfnText":"<modern-hsla-syntax>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-modern-hsla-syntax"}],"title":"4.4. Relative HSL Colors"}],"url":"#typedef-modern-hsla-syntax"},
"typedef-modern-rgb-syntax": {"dfnID":"typedef-modern-rgb-syntax","dfnText":"<modern-rgb-syntax>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-modern-rgb-syntax"}],"title":"4.3. Relative sRGB Colors"}],"url":"#typedef-modern-rgb-syntax"},
"typedef-modern-rgba-syntax": {"dfnID":"typedef-modern-rgba-syntax","dfnText":"<modern-rgba-syntax>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-modern-rgba-syntax"}],"title":"4.3. Relative sRGB Colors"}],"url":"#typedef-modern-rgba-syntax"},
"typedef-polar-color-space": {"dfnID":"typedef-polar-color-space","dfnText":"<polar-color-space>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-polar-color-space"},{"id":"ref-for-typedef-polar-color-space\u2460"}],"title":"9.1. \n\tColor Space for Interpolation"}],"url":"#typedef-polar-color-space"},
"typedef-predefined-rgb": {"dfnID":"typedef-predefined-rgb","dfnText":"<predefined-rgb>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-predefined-rgb"}],"title":"5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n"}],"url":"#typedef-predefined-rgb"},
"typedef-predefined-rgb-params": {"dfnID":"typedef-predefined-rgb-params","dfnText":"<predefined-rgb-params>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-predefined-rgb-params"}],"title":"5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n"},{"refs":[{"id":"ref-for-typedef-predefined-rgb-params\u2460"},{"id":"ref-for-typedef-predefined-rgb-params\u2461"}],"title":"5.1. Relative Color-Function Colors"}],"url":"#typedef-predefined-rgb-params"},
"typedef-rectangular-color-space": {"dfnID":"typedef-rectangular-color-space","dfnText":"<rectangular-color-space>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-rectangular-color-space"},{"id":"ref-for-typedef-rectangular-color-space\u2460"}],"title":"9.1. \n\tColor Space for Interpolation"}],"url":"#typedef-rectangular-color-space"},
"typedef-xyz": {"dfnID":"typedef-xyz","dfnText":"<xyz>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-xyz"}],"title":"5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n"}],"url":"#typedef-xyz"},
"typedef-xyz-params": {"dfnID":"typedef-xyz-params","dfnText":"<xyz-params>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-xyz-params"}],"title":"5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n"},{"refs":[{"id":"ref-for-typedef-xyz-params\u2460"},{"id":"ref-for-typedef-xyz-params\u2461"}],"title":"5.1. Relative Color-Function Colors"}],"url":"#typedef-xyz-params"},
"valdef-color-alpha": {"dfnID":"valdef-color-alpha","dfnText":"alpha","external":false,"refSections":[],"url":"#valdef-color-alpha"},
"valdef-color-b": {"dfnID":"valdef-color-b","dfnText":"b","external":false,"refSections":[],"url":"#valdef-color-b"},
"valdef-color-g": {"dfnID":"valdef-color-g","dfnText":"g","external":false,"refSections":[],"url":"#valdef-color-g"},
"valdef-color-profile-rendering-intent-absolute-colorimetric": {"dfnID":"valdef-color-profile-rendering-intent-absolute-colorimetric","dfnText":"absolute-colorimetric","external":false,"refSections":[],"url":"#valdef-color-profile-rendering-intent-absolute-colorimetric"},
"valdef-color-profile-rendering-intent-perceptual": {"dfnID":"valdef-color-profile-rendering-intent-perceptual","dfnText":"perceptual","external":false,"refSections":[],"url":"#valdef-color-profile-rendering-intent-perceptual"},
"valdef-color-profile-rendering-intent-relative-colorimetric": {"dfnID":"valdef-color-profile-rendering-intent-relative-colorimetric","dfnText":"relative-colorimetric","external":false,"refSections":[],"url":"#valdef-color-profile-rendering-intent-relative-colorimetric"},
"valdef-color-profile-rendering-intent-saturation": {"dfnID":"valdef-color-profile-rendering-intent-saturation","dfnText":"saturation","external":false,"refSections":[],"url":"#valdef-color-profile-rendering-intent-saturation"},
"valdef-color-r": {"dfnID":"valdef-color-r","dfnText":"r","external":false,"refSections":[],"url":"#valdef-color-r"},
"valdef-color-x": {"dfnID":"valdef-color-x","dfnText":"x","external":false,"refSections":[],"url":"#valdef-color-x"},
"valdef-color-y": {"dfnID":"valdef-color-y","dfnText":"y","external":false,"refSections":[],"url":"#valdef-color-y"},
"valdef-color-z": {"dfnID":"valdef-color-z","dfnText":"z","external":false,"refSections":[],"url":"#valdef-color-z"},
"valdef-hsl-alpha": {"dfnID":"valdef-hsl-alpha","dfnText":"alpha","external":false,"refSections":[],"url":"#valdef-hsl-alpha"},
"valdef-hsl-h": {"dfnID":"valdef-hsl-h","dfnText":"h","external":false,"refSections":[],"url":"#valdef-hsl-h"},
"valdef-hsl-l": {"dfnID":"valdef-hsl-l","dfnText":"l","external":false,"refSections":[],"url":"#valdef-hsl-l"},
"valdef-hsl-s": {"dfnID":"valdef-hsl-s","dfnText":"s","external":false,"refSections":[],"url":"#valdef-hsl-s"},
"valdef-hwb-alpha": {"dfnID":"valdef-hwb-alpha","dfnText":"alpha","external":false,"refSections":[],"url":"#valdef-hwb-alpha"},
"valdef-hwb-b": {"dfnID":"valdef-hwb-b","dfnText":"b","external":false,"refSections":[],"url":"#valdef-hwb-b"},
"valdef-hwb-h": {"dfnID":"valdef-hwb-h","dfnText":"h","external":false,"refSections":[],"url":"#valdef-hwb-h"},
"valdef-hwb-w": {"dfnID":"valdef-hwb-w","dfnText":"w","external":false,"refSections":[],"url":"#valdef-hwb-w"},
"valdef-lab-a": {"dfnID":"valdef-lab-a","dfnText":"a","external":false,"refSections":[],"url":"#valdef-lab-a"},
"valdef-lab-alpha": {"dfnID":"valdef-lab-alpha","dfnText":"alpha","external":false,"refSections":[],"url":"#valdef-lab-alpha"},
"valdef-lab-b": {"dfnID":"valdef-lab-b","dfnText":"b","external":false,"refSections":[],"url":"#valdef-lab-b"},
"valdef-lab-l": {"dfnID":"valdef-lab-l","dfnText":"l","external":false,"refSections":[],"url":"#valdef-lab-l"},
"valdef-lch-alpha": {"dfnID":"valdef-lch-alpha","dfnText":"alpha","external":false,"refSections":[],"url":"#valdef-lch-alpha"},
"valdef-lch-c": {"dfnID":"valdef-lch-c","dfnText":"c","external":false,"refSections":[],"url":"#valdef-lch-c"},
"valdef-lch-h": {"dfnID":"valdef-lch-h","dfnText":"h","external":false,"refSections":[],"url":"#valdef-lch-h"},
"valdef-lch-l": {"dfnID":"valdef-lch-l","dfnText":"l","external":false,"refSections":[],"url":"#valdef-lch-l"},
"valdef-oklab-a": {"dfnID":"valdef-oklab-a","dfnText":"a","external":false,"refSections":[],"url":"#valdef-oklab-a"},
"valdef-oklab-alpha": {"dfnID":"valdef-oklab-alpha","dfnText":"alpha","external":false,"refSections":[],"url":"#valdef-oklab-alpha"},
"valdef-oklab-b": {"dfnID":"valdef-oklab-b","dfnText":"b","external":false,"refSections":[],"url":"#valdef-oklab-b"},
"valdef-oklab-l": {"dfnID":"valdef-oklab-l","dfnText":"l","external":false,"refSections":[],"url":"#valdef-oklab-l"},
"valdef-oklch-alpha": {"dfnID":"valdef-oklch-alpha","dfnText":"alpha","external":false,"refSections":[],"url":"#valdef-oklch-alpha"},
"valdef-oklch-c": {"dfnID":"valdef-oklch-c","dfnText":"c","external":false,"refSections":[],"url":"#valdef-oklch-c"},
"valdef-oklch-h": {"dfnID":"valdef-oklch-h","dfnText":"h","external":false,"refSections":[],"url":"#valdef-oklch-h"},
"valdef-oklch-l": {"dfnID":"valdef-oklch-l","dfnText":"l","external":false,"refSections":[],"url":"#valdef-oklch-l"},
"valdef-rgb-alpha": {"dfnID":"valdef-rgb-alpha","dfnText":"alpha","external":false,"refSections":[],"url":"#valdef-rgb-alpha"},
"valdef-rgb-b": {"dfnID":"valdef-rgb-b","dfnText":"b","external":false,"refSections":[],"url":"#valdef-rgb-b"},
"valdef-rgb-g": {"dfnID":"valdef-rgb-g","dfnText":"g","external":false,"refSections":[],"url":"#valdef-rgb-g"},
"valdef-rgb-r": {"dfnID":"valdef-rgb-r","dfnText":"r","external":false,"refSections":[],"url":"#valdef-rgb-r"},
"valid-color": {"dfnID":"valid-color","dfnText":"valid color","external":false,"refSections":[{"refs":[{"id":"ref-for-valid-color"},{"id":"ref-for-valid-color\u2460"},{"id":"ref-for-valid-color\u2461"}],"title":"5. \n\tSpecifying Predefined and Custom Color Spaces: the color() Function\n"},{"refs":[{"id":"ref-for-valid-color\u2462"},{"id":"ref-for-valid-color\u2463"},{"id":"ref-for-valid-color\u2464"}],"title":"5.1. Relative Color-Function Colors"}],"url":"#valid-color"},
};

document.addEventListener("DOMContentLoaded", ()=>{
    genAllDfnPanels();

    document.body.addEventListener("click", (e) => {
        // If not handled already, just hide all dfn panels.
        hideAllDfnPanels();
    });
});

window.addEventListener("resize", () => {
    // Pin any visible dfn panel
    queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>positionDfnPanel(el));
});

function genAllDfnPanels() {
    for(const panelData of Object.values(dfnPanelData)) {
        const dfnID = panelData.dfnID;
        const dfn = document.getElementById(dfnID);
        if(!dfn) {
            console.log(`Can't find dfn#${dfnID}.`, panelData);
            continue;
        }
        dfn.panelData = panelData;
        insertDfnPopupAction(dfn);
    }
}

function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
    const dfnPanel = mk.aside({
        class: "dfn-panel on",
        id: `infopanel-for-${dfnID}`,
        "data-for": dfnID,
        "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
        },
        mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
            `Info about the '${dfnText}' ${external?"external":""} reference.`),
        mk.a({href:url, class:"dfn-link"}, url),
        refSections.length == 0 ? [] :
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({ href: `#${ref.id}` },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        genLinkingSyntaxes(dfn),
    );

    dfnPanel.addEventListener('click', (event) => {
        if (event.target.nodeName == 'A') {
            scrollToTargetAndHighlight(event);
            pinDfnPanel(dfnPanel);
        }
        event.stopPropagation();
        refocusOnTarget(event);
    });
    dfnPanel.addEventListener('keydown', (event) => {
        if(event.keyCode == 27) { // Escape key
            hideDfnPanel({dfnPanel});
            event.stopPropagation();
            event.preventDefault();
        }
    });

    dfnPanel.dfn = dfn;
    dfn.dfnPanel = dfnPanel;
    return dfnPanel;
}



function hideAllDfnPanels() {
    // Delete the currently-active dfn panel.
    queryAll(".dfn-panel").forEach(dfnPanel=>hideDfnPanel({dfnPanel}));
}

function showDfnPanel(dfn) {
    hideAllDfnPanels(); // Only display one at a time.

    dfn.setAttribute("aria-expanded", "true");

    const dfnPanel = genDfnPanel(dfn, dfn.panelData);

    // Give the dfn a unique tabindex, and then
    // give all the tabbable panel bits successive indexes.
    let tabIndex = 100;
    dfn.tabIndex = tabIndex++;
    const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
    for (const el of tabbable) {
        el.tabIndex = tabIndex++;
    }

    append(document.body, dfnPanel);
    positionDfnPanel(dfnPanel);
}

function positionDfnPanel(dfnPanel) {
    const dfn = dfnPanel.dfn;
    const dfnPos = getBounds(dfn);
    dfnPanel.style.top = dfnPos.bottom + "px";
    dfnPanel.style.left = dfnPos.left + "px";

    const panelPos = dfnPanel.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
        dfnPanel.style.left = newLeft + "px";
    }
}

function pinDfnPanel(dfnPanel) {
    // Switch it to "activated" state, which pins it.
    dfnPanel.classList.add("activated");
    dfnPanel.style.position = "fixed";
    dfnPanel.style.left = null;
    dfnPanel.style.top = null;
}

function hideDfnPanel({dfn, dfnPanel}) {
    if(!dfnPanel) dfnPanel = dfn.dfnPanel;
    if(!dfn) dfn = dfnPanel.dfn;
    dfn.dfnPanel = undefined;
    dfnPanel.dfn = undefined;
    dfn.setAttribute("aria-expanded", "false");
    dfn.tabIndex = undefined;
    dfnPanel.remove()
}

function toggleDfnPanel(dfn) {
    if(dfn.dfnPanel) {
        hideDfnPanel(dfn);
    } else {
        showDfnPanel(dfn);
    }
}

function insertDfnPopupAction(dfn) {
    dfn.setAttribute('role', 'button');
    dfn.setAttribute('aria-expanded', 'false')
    dfn.tabIndex = 0;
    dfn.classList.add('has-dfn-panel');
    dfn.addEventListener('click', (event) => {
        toggleDfnPanel(dfn);
        event.stopPropagation();
    });
    dfn.addEventListener('keypress', (event) => {
        const kc = event.keyCode;
        // 32->Space, 13->Enter
        if(kc == 32 || kc == 13) {
            toggleDfnPanel(dfn);
            event.stopPropagation();
            event.preventDefault();
        }
    });
}

function refocusOnTarget(event) {
    const target = event.target;
    setTimeout(() => {
        // Refocus on the event.target element.
        // This is needed after browser scrolls to the destination.
        target.focus();
    });
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function scrollToTargetAndHighlight(event) {
    let hash = event.target.hash;
    if (hash) {
        hash = decodeURIComponent(hash.substring(1));
        const dest = document.getElementById(hash);
        if (dest) {
            dest.classList.add('highlighted');
            setTimeout(() => dest.classList.remove('highlighted'), 1000);
        }
    }
}

// Functions, divided by link type, that wrap an autolink's
// contents with the appropriate outer syntax.
// Alternately, a string naming another type they format
// the same as.
function needsFor(type) {
    switch(type) {
        case "descriptor":
        case "value":
        case "element-attr":
        case "attr-value":
        case "element-state":
        case "method":
        case "constructor":
        case "argument":
        case "attribute":
        case "const":
        case "dict-member":
        case "event":
        case "enum-value":
        case "stringifier":
        case "serializer":
        case "iterator":
        case "maplike":
        case "setlike":
        case "state":
        case "mode":
        case "context":
        case "facet": return true;

        default: return false;
    }
}
function refusesFor(type) {
    switch(type) {
        case "property":
        case "element":
        case "interface":
        case "namespace":
        case "callback":
        case "dictionary":
        case "enum":
        case "exception":
        case "typedef":
        case "http-header":
        case "permission": return true;

        default: return false;
    }
}
function linkFormatterFromType(type) {
    switch(type) {
        case 'scheme':
        case 'permission':
        case 'dfn': return (text) => `[=${text}=]`;

        case 'abstract-op': return (text) => `[\$${text}\$]`;

        case 'function':
        case 'at-rule':
        case 'selector':
        case 'value': return (text) => `''${text}''`;

        case 'http-header': return (text) => `[:${text}:]`;

        case 'interface':
        case 'constructor':
        case 'method':
        case 'argument':
        case 'attribute':
        case 'callback':
        case 'dictionary':
        case 'dict-member':
        case 'enum':
        case 'enum-value':
        case 'exception':
        case 'const':
        case 'typedef':
        case 'stringifier':
        case 'serializer':
        case 'iterator':
        case 'maplike':
        case 'setlike':
        case 'extended-attribute':
        case 'event':
        case 'idl': return (text) => `{{${text}}}`;

        case 'element-state':
        case 'element-attr':
        case 'attr-value':
        case 'element': return (element) => `<{${element}}>`;

        case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

        case 'type': return (text)=> `<<${text}>>`;

        case 'descriptor':
        case 'property': return (text) => `'${text}'`;

        default: return;
    };
};

function genLinkingSyntaxes(dfn) {
    if(dfn.tagName != "DFN") return;

    const type = dfn.getAttribute('data-dfn-type');
    if(!type) {
        console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
        return [];
    }

    // Return a function that wraps link text based on the type
    const linkFormatter = linkFormatterFromType(type);
    if(!linkFormatter) {
        console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
        return [];
    }

    let ltAlts;
    if(dfn.hasAttribute('data-lt')) {
        ltAlts = dfn.getAttribute('data-lt')
            .split("|")
            .map(x=>x.trim());
    } else {
        ltAlts = [dfn.textContent.trim()];
    }
    if(type == "type") {
        // lt of "<foo>", but "foo" is the interior;
        // <<foo/bar>> is how you write it with a for,
        // not <foo/<bar>> or whatever.
        for(var i = 0; i < ltAlts.length; i++) {
            const lt = ltAlts[i];
            const match = /<(.*)>/.exec(lt);
            if(match) { ltAlts[i] = match[1]; }
        }
    }

    let forAlts;
    if(dfn.hasAttribute('data-dfn-for')) {
        forAlts = dfn.getAttribute('data-dfn-for')
            .split(",")
            .map(x=>x.trim());
    } else {
        forAlts = [''];
    }

    let linkingSyntaxes = [];
    if(!needsFor(type)) {
        for(const lt of ltAlts) {
            linkingSyntaxes.push(linkFormatter(lt));
        }
    }
    if(!refusesFor(type)) {
        for(const f of forAlts) {
            linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
        }
    }
    return [
        mk.b({}, 'Possible linking syntaxes:'),
        mk.ul({},
            ...linkingSyntaxes.map(link => {
                const copyLink = async () =>
                    await navigator.clipboard.writeText(link);
                return mk.li({},
                    mk.div({ class: 'link-item' },
                        mk.button({
                            class: 'copy-icon', title: 'Copy',
                            type: 'button',
                            _onclick: copyLink,
                            tabindex: 0,
                        }, mk.span({ class: 'icon' }) ),
                        mk.span({}, link)
                    )
                );
            })
        )
    ];
}
}
</script>
<script>/* Boilerplate: script-link-titles */
"use strict";
{
let linkTitleData = {
"https://drafts.csswg.org/css-values-4/#angle-value": "Expands to: deg | grad | rad | turn",
"https://drafts.csswg.org/css-values-4/#url-value": "Expands to: local url flag",
};

function setTypeTitles() {
	for(let el of document.querySelectorAll("a[href]")) {
		if(el.href in linkTitleData && !el.hasAttribute("title")) {
			el.setAttribute("title", linkTitleData[el.href]);
		}
	}
}

document.addEventListener("DOMContentLoaded", setTypeTitles);
}
</script>
<script>/* Boilerplate: script-position-annos */
"use strict";
{
function repositionAnnoPanels(){
    const panels = [...document.querySelectorAll("[data-anno-for]")];
    hydratePanels(panels);
    let vSoFar = 0;
    for(const panel of panels.sort(cmpTops)) {
        if(panel.top < vSoFar) {
            panel.top = vSoFar;
            panel.style.top = vSoFar + "px";
        }
        vSoFar = panel.top + panel.height + 15;
    }
}
function hydratePanels(panels) {
    const main = document.querySelector("main");
    let mainRect;
    if(main) mainRect = main.getBoundingClientRect();
    // First display them all, if they're not already visible.
    for(const panel of panels) {
        panel.classList.remove("unpositioned");
    }
    // Measure them all
    for(const panel of panels) {
        const dfn = document.getElementById(panel.getAttribute("data-anno-for"));
        if(!dfn) {
            console.log("Can't find the annotation panel target:", panel);
            continue;
        }
        panel.dfn = dfn;
        panel.top = window.scrollY + dfn.getBoundingClientRect().top;
        let panelRect = panel.getBoundingClientRect();
        panel.height = panelRect.height;
        if(main) {
            panel.overlappingMain = panelRect.left < mainRect.right;
        } else {
            panel.overlappingMain = false;
        }
    }
    // And finally position them
    for(const panel of panels) {
        const dfn = panel.dfn;
        if(!dfn) continue;
        panel.style.top = panel.top + "px";
        panel.classList.toggle("overlapping-main", panel.overlappingMain);
    }
}

function cmpTops(a,b) {
    return a.top - b.top;
}

window.addEventListener("load", repositionAnnoPanels);
window.addEventListener("resize", repositionAnnoPanels);
}
</script>
<script>/* Boilerplate: script-ref-hints */
"use strict";
{
let refsData = {
"#at-ruledef-profile": {"displayText":"@color-profile","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"@color-profile","type":"at-rule","url":"#at-ruledef-profile"},
"#color-interpolation-method": {"displayText":"<color-interpolation-method>","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"<color-interpolation-method>","type":"type","url":"#color-interpolation-method"},
"#component-keyword": {"displayText":"component keyword","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"component keyword","type":"dfn","url":"#component-keyword"},
"#css-color-profile": {"displayText":"color profile","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"color profile","type":"dfn","url":"#css-color-profile"},
"#csscolorprofilerule": {"displayText":"CSSColorProfileRule","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"CSSColorProfileRule","type":"interface","url":"#csscolorprofilerule"},
"#descdef-color-profile-components": {"displayText":"components","export":true,"for_":["@color-profile"],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"components","type":"descriptor","url":"#descdef-color-profile-components"},
"#descdef-color-profile-rendering-intent": {"displayText":"rendering-intent","export":true,"for_":["@color-profile"],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"rendering-intent","type":"descriptor","url":"#descdef-color-profile-rendering-intent"},
"#descdef-color-profile-src": {"displayText":"src","export":true,"for_":["@color-profile"],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"src","type":"descriptor","url":"#descdef-color-profile-src"},
"#dom-csscolorprofilerule-components": {"displayText":"components","export":true,"for_":["CSSColorProfileRule"],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"components","type":"attribute","url":"#dom-csscolorprofilerule-components"},
"#dom-csscolorprofilerule-name": {"displayText":"name","export":true,"for_":["CSSColorProfileRule"],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"name","type":"attribute","url":"#dom-csscolorprofilerule-name"},
"#dom-csscolorprofilerule-renderingintent": {"displayText":"renderingIntent","export":true,"for_":["CSSColorProfileRule"],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"renderingIntent","type":"attribute","url":"#dom-csscolorprofilerule-renderingintent"},
"#dom-csscolorprofilerule-src": {"displayText":"src","export":true,"for_":["CSSColorProfileRule"],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"src","type":"attribute","url":"#dom-csscolorprofilerule-src"},
"#funcdef-color": {"displayText":"color()","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"color()","type":"function","url":"#funcdef-color"},
"#funcdef-color-mix": {"displayText":"color-mix()","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"color-mix()","type":"function","url":"#funcdef-color-mix"},
"#funcdef-contrast-color": {"displayText":"contrast-color()","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"contrast-color()","type":"function","url":"#funcdef-contrast-color"},
"#funcdef-device-cmyk": {"displayText":"device-cmyk()","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"device-cmyk()","type":"function","url":"#funcdef-device-cmyk"},
"#funcdef-hwb": {"displayText":"hwb()","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"hwb()","type":"function","url":"#funcdef-hwb"},
"#funcdef-lab": {"displayText":"lab()","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"lab()","type":"function","url":"#funcdef-lab"},
"#funcdef-lch": {"displayText":"lch()","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"lch()","type":"function","url":"#funcdef-lch"},
"#funcdef-light-dark": {"displayText":"light-dark()","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"light-dark()","type":"function","url":"#funcdef-light-dark"},
"#funcdef-oklab": {"displayText":"oklab()","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"oklab()","type":"function","url":"#funcdef-oklab"},
"#funcdef-oklch": {"displayText":"oklch()","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"oklch()","type":"function","url":"#funcdef-oklch"},
"#gamut-map": {"displayText":"gamut-map","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"gamut-map","type":"dfn","url":"#gamut-map"},
"#invalid-color": {"displayText":"invalid color","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"invalid color","type":"dfn","url":"#invalid-color"},
"#origin-color": {"displayText":"origin color","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"origin color","type":"dfn","url":"#origin-color"},
"#out-of-gamut": {"displayText":"out of gamut","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"out of gamut","type":"dfn","url":"#out-of-gamut"},
"#relative-color": {"displayText":"relative color","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"relative color","type":"dfn","url":"#relative-color"},
"#required-conversion": {"displayText":"required conversion","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"required conversion","type":"dfn","url":"#required-conversion"},
"#typedef-cmyk-component": {"displayText":"<cmyk-component>","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"<cmyk-component>","type":"type","url":"#typedef-cmyk-component"},
"#typedef-color": {"displayText":"<color>","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"<color>","type":"type","url":"#typedef-color"},
"#typedef-color-base": {"displayText":"<color-base>","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"<color-base>","type":"type","url":"#typedef-color-base"},
"#typedef-color-function": {"displayText":"<color-function>","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"<color-function>","type":"type","url":"#typedef-color-function"},
"#typedef-color-space": {"displayText":"<color-space>","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"<color-space>","type":"type","url":"#typedef-color-space"},
"#typedef-colorspace-params": {"displayText":"<colorspace-params>","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"<colorspace-params>","type":"type","url":"#typedef-colorspace-params"},
"#typedef-custom-color-space": {"displayText":"<custom-color-space>","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"<custom-color-space>","type":"type","url":"#typedef-custom-color-space"},
"#typedef-custom-params": {"displayText":"<custom-params>","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"<custom-params>","type":"type","url":"#typedef-custom-params"},
"#typedef-hue-interpolation-method": {"displayText":"<hue-interpolation-method>","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"<hue-interpolation-method>","type":"type","url":"#typedef-hue-interpolation-method"},
"#typedef-legacy-device-cmyk-syntax": {"displayText":"<legacy-device-cmyk-syntax>","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"<legacy-device-cmyk-syntax>","type":"type","url":"#typedef-legacy-device-cmyk-syntax"},
"#typedef-modern-device-cmyk-syntax": {"displayText":"<modern-device-cmyk-syntax>","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"<modern-device-cmyk-syntax>","type":"type","url":"#typedef-modern-device-cmyk-syntax"},
"#typedef-modern-hsl-syntax": {"displayText":"<modern-hsl-syntax>","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"<modern-hsl-syntax>","type":"type","url":"#typedef-modern-hsl-syntax"},
"#typedef-modern-hsla-syntax": {"displayText":"<modern-hsla-syntax>","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"<modern-hsla-syntax>","type":"type","url":"#typedef-modern-hsla-syntax"},
"#typedef-modern-rgb-syntax": {"displayText":"<modern-rgb-syntax>","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"<modern-rgb-syntax>","type":"type","url":"#typedef-modern-rgb-syntax"},
"#typedef-modern-rgba-syntax": {"displayText":"<modern-rgba-syntax>","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"<modern-rgba-syntax>","type":"type","url":"#typedef-modern-rgba-syntax"},
"#typedef-polar-color-space": {"displayText":"<polar-color-space>","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"<polar-color-space>","type":"type","url":"#typedef-polar-color-space"},
"#typedef-predefined-rgb": {"displayText":"<predefined-rgb>","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"<predefined-rgb>","type":"type","url":"#typedef-predefined-rgb"},
"#typedef-predefined-rgb-params": {"displayText":"<predefined-rgb-params>","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"<predefined-rgb-params>","type":"type","url":"#typedef-predefined-rgb-params"},
"#typedef-rectangular-color-space": {"displayText":"<rectangular-color-space>","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"<rectangular-color-space>","type":"type","url":"#typedef-rectangular-color-space"},
"#typedef-xyz": {"displayText":"<xyz>","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"<xyz>","type":"type","url":"#typedef-xyz"},
"#typedef-xyz-params": {"displayText":"<xyz-params>","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"<xyz-params>","type":"type","url":"#typedef-xyz-params"},
"#valid-color": {"displayText":"valid color","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-color","spec":"css-color-5","status":"local","text":"valid color","type":"dfn","url":"#valid-color"},
"https://drafts.csswg.org/css-cascade-5/#actual-value": {"displayText":"actual value","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-cascade","spec":"css-cascade-5","status":"current","text":"actual value","type":"dfn","url":"https://drafts.csswg.org/css-cascade-5/#actual-value"},
"https://drafts.csswg.org/css-cascade-5/#computed-value": {"displayText":"computed value","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-cascade","spec":"css-cascade-5","status":"current","text":"computed value","type":"dfn","url":"https://drafts.csswg.org/css-cascade-5/#computed-value"},
"https://drafts.csswg.org/css-color-4/#analogous-components": {"displayText":"analogous components","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"analogous components","type":"dfn","url":"https://drafts.csswg.org/css-color-4/#analogous-components"},
"https://drafts.csswg.org/css-color-4/#carried-forward": {"displayText":"carried forward","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"carried forward","type":"dfn","url":"https://drafts.csswg.org/css-color-4/#carried-forward"},
"https://drafts.csswg.org/css-color-4/#color": {"displayText":"color","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"color","type":"dfn","url":"https://drafts.csswg.org/css-color-4/#color"},
"https://drafts.csswg.org/css-color-4/#color-functions": {"displayText":"color functions","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"color functions","type":"dfn","url":"https://drafts.csswg.org/css-color-4/#color-functions"},
"https://drafts.csswg.org/css-color-4/#color-space": {"displayText":"color space","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"color space","type":"dfn","url":"https://drafts.csswg.org/css-color-4/#color-space"},
"https://drafts.csswg.org/css-color-4/#cylindrical-polar-color": {"displayText":"cylindrical polar color","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"cylindrical polar color","type":"dfn","url":"https://drafts.csswg.org/css-color-4/#cylindrical-polar-color"},
"https://drafts.csswg.org/css-color-4/#funcdef-hsl": {"displayText":"hsl()","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"hsl()","type":"function","url":"https://drafts.csswg.org/css-color-4/#funcdef-hsl"},
"https://drafts.csswg.org/css-color-4/#funcdef-hsla": {"displayText":"hsla()","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"hsla()","type":"function","url":"https://drafts.csswg.org/css-color-4/#funcdef-hsla"},
"https://drafts.csswg.org/css-color-4/#funcdef-rgb": {"displayText":"rgb()","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"rgb()","type":"function","url":"https://drafts.csswg.org/css-color-4/#funcdef-rgb"},
"https://drafts.csswg.org/css-color-4/#funcdef-rgba": {"displayText":"rgba()","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"rgba()","type":"function","url":"https://drafts.csswg.org/css-color-4/#funcdef-rgba"},
"https://drafts.csswg.org/css-color-4/#legacy-color-syntax": {"displayText":"legacy color syntax","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"legacy color syntax","type":"dfn","url":"https://drafts.csswg.org/css-color-4/#legacy-color-syntax"},
"https://drafts.csswg.org/css-color-4/#modern-color-syntax": {"displayText":"modern color syntax","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"modern color syntax","type":"dfn","url":"https://drafts.csswg.org/css-color-4/#modern-color-syntax"},
"https://drafts.csswg.org/css-color-4/#premultiplied": {"displayText":"premultiplied","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"premultiplied","type":"dfn","url":"https://drafts.csswg.org/css-color-4/#premultiplied"},
"https://drafts.csswg.org/css-color-4/#propdef-color": {"displayText":"color","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"color","type":"property","url":"https://drafts.csswg.org/css-color-4/#propdef-color"},
"https://drafts.csswg.org/css-color-4/#rectangular-orthogonal-color": {"displayText":"rectangular orthogonal color","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"rectangular orthogonal color","type":"dfn","url":"https://drafts.csswg.org/css-color-4/#rectangular-orthogonal-color"},
"https://drafts.csswg.org/css-color-4/#transparent-black": {"displayText":"transparent black","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"transparent black","type":"dfn","url":"https://drafts.csswg.org/css-color-4/#transparent-black"},
"https://drafts.csswg.org/css-color-4/#typedef-color-alpha-value": {"displayText":"<alpha-value>","export":true,"for_":["<color>"],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"<alpha-value>","type":"type","url":"https://drafts.csswg.org/css-color-4/#typedef-color-alpha-value"},
"https://drafts.csswg.org/css-color-4/#typedef-hex-color": {"displayText":"<hex-color>","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"<hex-color>","type":"type","url":"https://drafts.csswg.org/css-color-4/#typedef-hex-color"},
"https://drafts.csswg.org/css-color-4/#typedef-hue": {"displayText":"<hue>","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"<hue>","type":"type","url":"https://drafts.csswg.org/css-color-4/#typedef-hue"},
"https://drafts.csswg.org/css-color-4/#typedef-named-color": {"displayText":"<named-color>","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"<named-color>","type":"type","url":"https://drafts.csswg.org/css-color-4/#typedef-named-color"},
"https://drafts.csswg.org/css-color-4/#typedef-system-color": {"displayText":"<system-color>","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"<system-color>","type":"type","url":"https://drafts.csswg.org/css-color-4/#typedef-system-color"},
"https://drafts.csswg.org/css-color-4/#valdef-color-a98-rgb": {"displayText":"a98-rgb","export":true,"for_":["color()"],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"a98-rgb","type":"value","url":"https://drafts.csswg.org/css-color-4/#valdef-color-a98-rgb"},
"https://drafts.csswg.org/css-color-4/#valdef-color-black": {"displayText":"black","export":true,"for_":["<color>","<named-color>"],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"black","type":"value","url":"https://drafts.csswg.org/css-color-4/#valdef-color-black"},
"https://drafts.csswg.org/css-color-4/#valdef-color-blue": {"displayText":"blue","export":true,"for_":["<color>","<named-color>"],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"blue","type":"value","url":"https://drafts.csswg.org/css-color-4/#valdef-color-blue"},
"https://drafts.csswg.org/css-color-4/#valdef-color-currentcolor": {"displayText":"currentcolor","export":true,"for_":["<color>"],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"currentcolor","type":"value","url":"https://drafts.csswg.org/css-color-4/#valdef-color-currentcolor"},
"https://drafts.csswg.org/css-color-4/#valdef-color-darkolivegreen": {"displayText":"darkolivegreen","export":true,"for_":["<color>","<named-color>"],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"darkolivegreen","type":"value","url":"https://drafts.csswg.org/css-color-4/#valdef-color-darkolivegreen"},
"https://drafts.csswg.org/css-color-4/#valdef-color-display-p3": {"displayText":"display-p3","export":true,"for_":["color()"],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"display-p3","type":"value","url":"https://drafts.csswg.org/css-color-4/#valdef-color-display-p3"},
"https://drafts.csswg.org/css-color-4/#valdef-color-lime": {"displayText":"lime","export":true,"for_":["<color>","<named-color>"],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"lime","type":"value","url":"https://drafts.csswg.org/css-color-4/#valdef-color-lime"},
"https://drafts.csswg.org/css-color-4/#valdef-color-none": {"displayText":"none","export":true,"for_":["<color>"],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"none","type":"value","url":"https://drafts.csswg.org/css-color-4/#valdef-color-none"},
"https://drafts.csswg.org/css-color-4/#valdef-color-prophoto-rgb": {"displayText":"prophoto-rgb","export":true,"for_":["color()"],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"prophoto-rgb","type":"value","url":"https://drafts.csswg.org/css-color-4/#valdef-color-prophoto-rgb"},
"https://drafts.csswg.org/css-color-4/#valdef-color-rec2020": {"displayText":"rec2020","export":true,"for_":["color()"],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"rec2020","type":"value","url":"https://drafts.csswg.org/css-color-4/#valdef-color-rec2020"},
"https://drafts.csswg.org/css-color-4/#valdef-color-red": {"displayText":"red","export":true,"for_":["<color>","<named-color>"],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"red","type":"value","url":"https://drafts.csswg.org/css-color-4/#valdef-color-red"},
"https://drafts.csswg.org/css-color-4/#valdef-color-srgb": {"displayText":"srgb","export":true,"for_":["color()"],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"srgb","type":"value","url":"https://drafts.csswg.org/css-color-4/#valdef-color-srgb"},
"https://drafts.csswg.org/css-color-4/#valdef-color-srgb-linear": {"displayText":"srgb-linear","export":true,"for_":["color()"],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"srgb-linear","type":"value","url":"https://drafts.csswg.org/css-color-4/#valdef-color-srgb-linear"},
"https://drafts.csswg.org/css-color-4/#valdef-color-white": {"displayText":"white","export":true,"for_":["<color>","<named-color>"],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"white","type":"value","url":"https://drafts.csswg.org/css-color-4/#valdef-color-white"},
"https://drafts.csswg.org/css-color-4/#valdef-color-xyz": {"displayText":"xyz","export":true,"for_":["color()"],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"xyz","type":"value","url":"https://drafts.csswg.org/css-color-4/#valdef-color-xyz"},
"https://drafts.csswg.org/css-color-4/#valdef-color-xyz-d50": {"displayText":"xyz-d50","export":true,"for_":["color()"],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"xyz-d50","type":"value","url":"https://drafts.csswg.org/css-color-4/#valdef-color-xyz-d50"},
"https://drafts.csswg.org/css-color-4/#valdef-color-xyz-d65": {"displayText":"xyz-d65","export":true,"for_":["color()"],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"xyz-d65","type":"value","url":"https://drafts.csswg.org/css-color-4/#valdef-color-xyz-d65"},
"https://drafts.csswg.org/css-color-4/#valdef-hsl-hsl": {"displayText":"HSL","export":true,"for_":["hsl()"],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"hsl","type":"value","url":"https://drafts.csswg.org/css-color-4/#valdef-hsl-hsl"},
"https://drafts.csswg.org/css-color-4/#valdef-hwb-hwb": {"displayText":"HWB","export":true,"for_":["hwb()"],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"hwb","type":"value","url":"https://drafts.csswg.org/css-color-4/#valdef-hwb-hwb"},
"https://drafts.csswg.org/css-color-4/#valdef-lab-lab": {"displayText":"lab","export":true,"for_":["lab()"],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"lab","type":"value","url":"https://drafts.csswg.org/css-color-4/#valdef-lab-lab"},
"https://drafts.csswg.org/css-color-4/#valdef-lch-lch": {"displayText":"LCH","export":true,"for_":["lch()"],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"lch","type":"value","url":"https://drafts.csswg.org/css-color-4/#valdef-lch-lch"},
"https://drafts.csswg.org/css-color-4/#valdef-oklab-oklab": {"displayText":"oklab","export":true,"for_":["oklab()"],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"oklab","type":"value","url":"https://drafts.csswg.org/css-color-4/#valdef-oklab-oklab"},
"https://drafts.csswg.org/css-color-4/#valdef-oklch-oklch": {"displayText":"OkLCh","export":true,"for_":["oklch()"],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"oklch","type":"value","url":"https://drafts.csswg.org/css-color-4/#valdef-oklch-oklch"},
"https://drafts.csswg.org/css-color-adjust-1/#used-color-scheme": {"displayText":"used color scheme","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-color-adjust","spec":"css-color-adjust-1","status":"current","text":"used color scheme","type":"dfn","url":"https://drafts.csswg.org/css-color-adjust-1/#used-color-scheme"},
"https://drafts.csswg.org/css-color-adjust-1/#valdef-color-scheme-dark": {"displayText":"dark","export":true,"for_":["color-scheme"],"level":"1","normative":true,"shortname":"css-color-adjust","spec":"css-color-adjust-1","status":"current","text":"dark","type":"value","url":"https://drafts.csswg.org/css-color-adjust-1/#valdef-color-scheme-dark"},
"https://drafts.csswg.org/css-color-adjust-1/#valdef-color-scheme-light": {"displayText":"light","export":true,"for_":["color-scheme"],"level":"1","normative":true,"shortname":"css-color-adjust","spec":"css-color-adjust-1","status":"current","text":"light","type":"value","url":"https://drafts.csswg.org/css-color-adjust-1/#valdef-color-scheme-light"},
"https://drafts.csswg.org/css-syntax-3/#typedef-declaration-list": {"displayText":"<declaration-list>","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-syntax","spec":"css-syntax-3","status":"current","text":"<declaration-list>","type":"type","url":"https://drafts.csswg.org/css-syntax-3/#typedef-declaration-list"},
"https://drafts.csswg.org/css-values-4/#angle-value": {"displayText":"<angle>","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"<angle>","type":"type","url":"https://drafts.csswg.org/css-values-4/#angle-value"},
"https://drafts.csswg.org/css-values-4/#canonical-unit": {"displayText":"canonical unit","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"canonical unit","type":"dfn","url":"https://drafts.csswg.org/css-values-4/#canonical-unit"},
"https://drafts.csswg.org/css-values-4/#comb-all": {"displayText":"&&","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"&&","type":"grammar","url":"https://drafts.csswg.org/css-values-4/#comb-all"},
"https://drafts.csswg.org/css-values-4/#comb-comma": {"displayText":",","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":",","type":"grammar","url":"https://drafts.csswg.org/css-values-4/#comb-comma"},
"https://drafts.csswg.org/css-values-4/#comb-one": {"displayText":"|","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"|","type":"grammar","url":"https://drafts.csswg.org/css-values-4/#comb-one"},
"https://drafts.csswg.org/css-values-4/#fetch-a-style-resource": {"displayText":"fetch a style resource","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"fetch a style resource","type":"dfn","url":"https://drafts.csswg.org/css-values-4/#fetch-a-style-resource"},
"https://drafts.csswg.org/css-values-4/#funcdef-calc": {"displayText":"calc()","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"calc()","type":"function","url":"https://drafts.csswg.org/css-values-4/#funcdef-calc"},
"https://drafts.csswg.org/css-values-4/#math-function": {"displayText":"math function","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"math function","type":"dfn","url":"https://drafts.csswg.org/css-values-4/#math-function"},
"https://drafts.csswg.org/css-values-4/#mult-comma": {"displayText":"#","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"#","type":"grammar","url":"https://drafts.csswg.org/css-values-4/#mult-comma"},
"https://drafts.csswg.org/css-values-4/#mult-num": {"displayText":"{A}","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"{a}","type":"grammar","url":"https://drafts.csswg.org/css-values-4/#mult-num"},
"https://drafts.csswg.org/css-values-4/#mult-one-plus": {"displayText":"+","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"+","type":"grammar","url":"https://drafts.csswg.org/css-values-4/#mult-one-plus"},
"https://drafts.csswg.org/css-values-4/#mult-opt": {"displayText":"?","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"?","type":"grammar","url":"https://drafts.csswg.org/css-values-4/#mult-opt"},
"https://drafts.csswg.org/css-values-4/#number-value": {"displayText":"<number>","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"<number>","type":"type","url":"https://drafts.csswg.org/css-values-4/#number-value"},
"https://drafts.csswg.org/css-values-4/#percentage-value": {"displayText":"<percentage>","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"<percentage>","type":"type","url":"https://drafts.csswg.org/css-values-4/#percentage-value"},
"https://drafts.csswg.org/css-values-4/#typedef-dashed-ident": {"displayText":"<dashed-ident>","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"<dashed-ident>","type":"type","url":"https://drafts.csswg.org/css-values-4/#typedef-dashed-ident"},
"https://drafts.csswg.org/css-values-4/#typedef-ident": {"displayText":"<ident>","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"<ident>","type":"type","url":"https://drafts.csswg.org/css-values-4/#typedef-ident"},
"https://drafts.csswg.org/css-values-4/#url-value": {"displayText":"<url>","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"<url>","type":"type","url":"https://drafts.csswg.org/css-values-4/#url-value"},
"https://drafts.csswg.org/css-values-4/#valdef-calc-pi": {"displayText":"pi","export":true,"for_":["calc()"],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"pi","type":"value","url":"https://drafts.csswg.org/css-values-4/#valdef-calc-pi"},
"https://drafts.csswg.org/css-values-5/#mix-item": {"displayText":"mix item","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-values","spec":"css-values-5","status":"current","text":"mix item","type":"dfn","url":"https://drafts.csswg.org/css-values-5/#mix-item"},
"https://drafts.csswg.org/css-values-5/#normalize-mix-percentages": {"displayText":"normalize mix percentages","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-values","spec":"css-values-5","status":"current","text":"normalize mix percentages","type":"dfn","url":"https://drafts.csswg.org/css-values-5/#normalize-mix-percentages"},
"https://drafts.csswg.org/cssom-1/#cssomstring": {"displayText":"CSSOMString","export":true,"for_":[],"level":"1","normative":true,"shortname":"cssom","spec":"cssom-1","status":"current","text":"CSSOMString","type":"interface","url":"https://drafts.csswg.org/cssom-1/#cssomstring"},
"https://drafts.csswg.org/cssom-1/#cssrule": {"displayText":"CSSRule","export":true,"for_":[],"level":"1","normative":true,"shortname":"cssom","spec":"cssom-1","status":"current","text":"CSSRule","type":"interface","url":"https://drafts.csswg.org/cssom-1/#cssrule"},
"https://fetch.spec.whatwg.org/#concept-response": {"displayText":"response","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"response","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-response"},
"https://infra.spec.whatwg.org/#ascii-case-insensitive": {"displayText":"ASCII case-insensitive","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"ascii case-insensitive","type":"dfn","url":"https://infra.spec.whatwg.org/#ascii-case-insensitive"},
"https://infra.spec.whatwg.org/#stack": {"displayText":"stack","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"stack","type":"dfn","url":"https://infra.spec.whatwg.org/#stack"},
"https://infra.spec.whatwg.org/#stack-pop": {"displayText":"pop","export":true,"for_":["stack"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"pop","type":"dfn","url":"https://infra.spec.whatwg.org/#stack-pop"},
"https://infra.spec.whatwg.org/#stack-push": {"displayText":"push","export":true,"for_":["stack"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"push","type":"dfn","url":"https://infra.spec.whatwg.org/#stack-push"},
"https://webidl.spec.whatwg.org/#Exposed": {"displayText":"Exposed","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"Exposed","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#Exposed"},
};

function mkRefHint(link, ref) {
    const linkText = link.textContent;
    let dfnTextElements = '';
    if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
        // Give the original term if it's being displayed in a different way.
        // But allow casing differences, they're insignificant.
        dfnTextElements =
            mk.li({},
                mk.b({}, "Term: "),
                mk.span({}, ref.displayText)
            );
    }
    const forList = ref.for_;
    let forListElements;
    if(forList.length == 0) {
        forListElements = [];
    } else if(forList.length == 1) {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.span({}, forList[0]),
        );
    } else {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.ul({},
                ...forList.map(forItem =>
                    mk.li({},
                        mk.span({}, forItem)
                    ),
                ),
            ),
        );
    }
    const url = ref.url;
    const safeUrl = encodeURIComponent(url);
    const hintPanel = mk.aside({
        class: "ref-hint",
        id: `ref-hint-for-${safeUrl}`,
        "data-for": url,
        "aria-labelled-by": `ref-hint-for-${safeUrl}`,
    },
        mk.ul({},
            dfnTextElements,
            mk.li({},
                mk.b({}, "URL: "),
                mk.a({ href: url, class: "ref" }, url),
            ),
            mk.li({},
                mk.b({}, "Type: "),
                mk.span({}, `${ref.type}`),
            ),
            mk.li({},
                mk.b({}, "Spec: "),
                mk.span({}, `${ref.spec ? ref.spec : ''}`),
            ),
            forListElements
        ),
    );
    hintPanel.forLink = link;
    setupRefHintEventListeners(link, hintPanel);
    return hintPanel;
}

function hideAllRefHints() {
    queryAll(".ref-hint").forEach(el=>hideRefHint(el));
}

function hideRefHint(refHint) {
    const link = refHint.forLink;
    link.setAttribute("aria-expanded", "false");
    if(refHint.teardownEventListeners) {
        refHint.teardownEventListeners();
    }
    refHint.remove();
}

function showRefHint(link) {
    if(link.classList.contains("dfn-link")) return;
    const url = link.getAttribute("href");
    const refHintKey = link.getAttribute("data-refhint-key");
    let key = url;
    if(refHintKey) {
        key = refHintKey + "_" + url;
    }
    const ref = refsData[key];
    if(!ref) return;

    hideAllRefHints(); // Only display one at this time.

    const refHint = mkRefHint(link, ref);
    append(document.body, refHint);
    link.setAttribute("aria-expanded", "true");
    positionRefHint(refHint);
}

function setupRefHintEventListeners(link, refHint) {
    if (refHint.teardownEventListeners) return;
    // Add event handlers to hide the refHint after the user moves away
    // from both the link and refHint, if not hovering either within one second.
    let timeout = null;
    const startHidingRefHint = (event) => {
        if (timeout) {
            clearTimeout(timeout);
        }
        timeout = setTimeout(() => {
            hideRefHint(refHint);
        }, 1000);
    }
    const resetHidingRefHint = (event) => {
        if (timeout) clearTimeout(timeout);
        timeout = null;
    };
    link.addEventListener("mouseleave", startHidingRefHint);
    link.addEventListener("mouseenter", resetHidingRefHint);
    link.addEventListener("blur", startHidingRefHint);
    link.addEventListener("focus", resetHidingRefHint);
    refHint.addEventListener("mouseleave", startHidingRefHint);
    refHint.addEventListener("mouseenter", resetHidingRefHint);
    refHint.addEventListener("blur", startHidingRefHint);
    refHint.addEventListener("focus", resetHidingRefHint);

    refHint.teardownEventListeners = () => {
        // remove event listeners
        resetHidingRefHint();
        link.removeEventListener("mouseleave", startHidingRefHint);
        link.removeEventListener("mouseenter", resetHidingRefHint);
        link.removeEventListener("blur", startHidingRefHint);
        link.removeEventListener("focus", resetHidingRefHint);
        refHint.removeEventListener("mouseleave", startHidingRefHint);
        refHint.removeEventListener("mouseenter", resetHidingRefHint);
        refHint.removeEventListener("blur", startHidingRefHint);
        refHint.removeEventListener("focus", resetHidingRefHint);
    };
}

function positionRefHint(refHint) {
    const link = refHint.forLink;
    const linkPos = getBounds(link);
    refHint.style.top = linkPos.bottom + "px";
    refHint.style.left = linkPos.left + "px";

    const panelPos = refHint.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
        refHint.style.left = newLeft + "px";
    }
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function showRefHintListener(e) {
    // If the target isn't in a link (or is a link),
    // just ignore it.
    let link = e.target.closest("a");
    if(!link) return;

    // If the target is in a ref-hint panel
    // (aka a link in the already-open one),
    // also just ignore it.
    if(link.closest(".ref-hint")) return;

    // Otherwise, show the panel for the link.
    showRefHint(link);
}

function hideAllHintsListener(e) {
    // If the click is inside a ref-hint panel, ignore it.
    if(e.target.closest(".ref-hint")) return;
    // Otherwise, close all the current panels.
    hideAllRefHints();
}

document.addEventListener("DOMContentLoaded", () => {
    document.body.addEventListener("mousedown", showRefHintListener);
    document.body.addEventListener("focus", showRefHintListener);

    document.body.addEventListener("click", hideAllHintsListener);
});

window.addEventListener("resize", () => {
    // Hide any open ref hint.
    hideAllRefHints();
});
}
</script>
<script>/* Boilerplate: script-var-click-highlighting */
"use strict";
{
/*
Color-choosing design:

* Colors are ordered by goodness.
* On clicking a var, give it the earliest color
    with the lowest usage in the algorithm.
* On re-clicking, re-use the var's most recent color
    if that's not currently being used elsewhere.
*/

const COLOR_COUNT = 7;

document.addEventListener("click", e=>{
    if(e.target.nodeName == "VAR") {
        highlightSameAlgoVars(e.target);
    }
});

function highlightSameAlgoVars(v) {
    // Find the algorithm container.
    let algoContainer = findAlgoContainer(v);

    // Not highlighting document-global vars,
    // too likely to be unrelated.
    if(algoContainer == null) return;

    const varName = nameFromVar(v);
    if(!v.hasAttribute("data-var-color")) {
        const newColor = chooseHighlightColor(algoContainer, v);
        for(const el of algoContainer.querySelectorAll("var")) {
            if(nameFromVar(el) == varName) {
                el.setAttribute("data-var-color", newColor);
                el.setAttribute("data-var-last-color", newColor);
            }
        }
    } else {
        for(const el of algoContainer.querySelectorAll("var")) {
            if(nameFromVar(el) == varName) {
                el.removeAttribute("data-var-color");
            }
        }
    }
}
function findAlgoContainer(el) {
    while(el != document.body) {
        if(el.hasAttribute("data-algorithm")) return el;
        el = el.parentNode;
    }
    return null;
}
function nameFromVar(el) {
    return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
}
function colorCountsFromContainer(container) {
    const namesFromColor = Array.from({length:COLOR_COUNT}, x=>new Set());
    for(let v of container.querySelectorAll("var[data-var-color]")) {
        let color = +v.getAttribute("data-var-color");
        namesFromColor[color].add(nameFromVar(v));
    }

    return namesFromColor.map(x=>x.size);
}
function leastUsedColor(colors) {
    // Find the earliest color with the lowest count.
    let minCount = Infinity;
    let minColor = null;
    for(var i = 0; i < colors.length; i++) {
        if(colors[i] < minCount) {
            minColor = i;
            minCount = colors[i];
        }
    }
    return minColor;
}
function chooseHighlightColor(container, v) {
    const colorCounts = colorCountsFromContainer(container);
    if(v.hasAttribute("data-var-last-color")) {
        let color = +v.getAttribute("data-var-last-color");
        if(colorCounts[color] == 0) return color;
    }
    return leastUsedColor(colorCounts);
}
}
</script>
<script>/* Boilerplate: script-wpt */
"use strict";
{
let wptData = {
"paths": ["/css/css-color/","/css/css-pseudo/","/html/canvas/"],
};

document.addEventListener("DOMContentLoaded", async ()=>{
    if(wptData.paths.length == 0) return;

    const runsUrl = "https://wpt.fyi/api/runs?label=master&label=stable&max-count=1&product=chrome&product=firefox&product=safari&product=edge";
    const runs = await (await fetch(runsUrl)).json();

    let testResults = [];
    for(const pathPrefix of wptData.paths) {
        const pathResults = await (await fetch("https://wpt.fyi/api/search", {
            method:"POST",
            headers:{
                "Content-Type":"application/json",
            },
            body: JSON.stringify({
                "run_ids": runs.map(x=>x.id),
                "query": {"path": pathPrefix},
            })
        })).json();
        testResults = testResults.concat(pathResults.results);
    }

    const browsers = runs.map(x=>({name:x.browser_name, version:x.browser_version, passes:0, total: 0}));
    const resultsFromPath = new Map(testResults.map(result=>{
        const testPath = result.test;
        const passes = result.legacy_status.map(x=>[x.passes, x.total]);
        return [testPath, passes];
    }));
    const seenTests = new Set();
    document.querySelectorAll(".wpt-name").forEach(nameEl=>{
        const passData = resultsFromPath.get("/" + nameEl.getAttribute("title"));
        if(!passData) {
            console.log("Couldn't find test in results:", nameEl);
            return
        }
        const numTests = passData[0][1];
        if(numTests > 1) {
            nameEl.insertAdjacentElement("beforeend",
                mk.small({}, ` (${numTests} tests)`));
        }
        if(passData == undefined) return;
        const resultsEl = mk.span({"class":"wpt-results"},
            ...passData.map((p,i) => mk.span(
            {
                "title": `${browsers[i].name} ${p[0]}/${p[1]}`,
                "class": "wpt-result",
                "style": `background: conic-gradient(forestgreen ${p[0]/p[1]*360}deg, darkred 0deg);`,
            })),
        );
        nameEl.insertAdjacentElement("afterend", resultsEl);

        // Only update the summary pass/total count if we haven't seen this
        // test before, to support authors listing the same test multiple times
        // in a spec.
        if (!seenTests.has(nameEl.getAttribute("title"))) {
            seenTests.add(nameEl.getAttribute("title"));
            passData.forEach((p,i) => {
                browsers[i].passes += p[0];
                browsers[i].total += p[1];
            });
        }
    });
    const overview = document.querySelector(".wpt-overview");
    if(overview) {
        overview.appendChild(mk.ul({}, ...browsers.map(formatWptResult)));
        document.head.appendChild(mk.style({},
            `.wpt-overview ul { display: flex; flex-flow: row wrap; gap: .2em; justify-content: start; list-style: none; padding: 0; margin: 0;}
             .wpt-overview li { padding: .25em 1em; color: black; text-align: center; }
             .wpt-overview img { height: 1.5em; height: max(1.5em, 32px); background: transparent; }
             .wpt-overview .browser { font-weight: bold; }
             .wpt-overview .passes-none { background: #e57373; }
             .wpt-overview .passes-hardly { background: #ffb74d; }
             .wpt-overview .passes-a-few { background: #ffd54f; }
             .wpt-overview .passes-half { background: #fff176; }
             .wpt-overview .passes-lots { background: #dce775; }
             .wpt-overview .passes-most { background: #aed581; }
             .wpt-overview .passes-all { background: #81c784; }`));
    }
});

function formatWptResult({name, version, passes, total}) {
    const passRate = passes/total;
    let passClass = "";
    if(passRate == 0)      passClass = "passes-none";
    else if(passRate < .2) passClass = "passes-hardly";
    else if(passRate < .4) passClass = "passes-a-few";
    else if(passRate < .6) passClass = "passes-half";
    else if(passRate < .8) passClass = "passes-lots";
    else if(passRate < 1)  passClass = "passes-most";
    else                   passClass = "passes-all";

    name = name[0].toUpperCase() + name.slice(1);
    const shortVersion = /^\d+/.exec(version);
    const icon = []

    if(name == "Chrome") icon.push(mk.img({alt:"", src:"https://wpt.fyi/static/chrome_64x64.png"}));
    if(name == "Edge") icon.push(mk.img({alt:"", src:"https://wpt.fyi/static/edge_64x64.png"}));
    if(name == "Safari") icon.push(mk.img({alt:"", src:"https://wpt.fyi/static/safari_64x64.png"}));
    if(name == "Firefox") icon.push(mk.img({alt:"", src:"https://wpt.fyi/static/firefox_64x64.png"}));

    return mk.li({"class":passClass},
        mk.nobr({'class':'browser'}, ...icon, ` ${name} ${shortVersion}`),
        mk.br(),
        mk.nobr({'class':'pass-rate'}, `${passes}/${total}`)
    );
}
}
</script>