<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>CSS View Transitions Module Level 2</title>
  <meta content="ED" name="w3c-status">
  <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-ED" rel="stylesheet">
  <meta content="Bikeshed version 3f621ba99, updated Mon Jul 28 15:38:36 2025 -0700" name="generator">
  <link href="https://www.w3.org/TR/css-view-transitions-2/" rel="canonical">
  <link href="https://drafts.csswg.org/csslogo.ico" rel="icon">
  <meta content="68d50efaa1ffe1d184fcca42850b33dae3f8a185" name="revision">
  <meta content="dark light" name="color-scheme">
  <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css">
<style>
	spec-scaler {
		display: block;
	}
	spec-scaler:not(:defined) > * {
		display: none;
	}
	.spec-slides {
		width: 100%;
		height: 100%;
		border: none;
		display: block;
	}
	.spec-slide-controls {
		text-align: center;
	}
	.main-example-video {
		display: block;
		width: 100%;
		max-width: 702px;
		height: auto;
		margin: 0 auto;
	}

	/* Put nice boxes around each algorithm. */
	[data-algorithm]:not(.heading) {
		padding: .5em;
		border: thin solid #ddd; border-radius: .5em;
		margin: .5em calc(-0.5em - 1px);
	}
	[data-algorithm]:not(.heading) > :first-child {
		margin-top: 0;
	}
	[data-algorithm]:not(.heading) > :last-child {
		margin-bottom: 0;
	}
	[data-algorithm] [data-algorithm] {
		margin: 1em 0;
	}
	pre {
		tab-size: 2;
	}
</style>
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */
/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
    --dfnpanel-target-bg: #ffc;
    --dfnpanel-target-outline: orange;
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
        --dfnpanel-target-bg: #333;
        --dfnpanel-target-outline: silver;
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel a:focus {
    outline: 5px auto Highlight;
    outline: 5px auto -webkit-focus-ring-color;
}
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: 8px;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
    transition: left 1s ease-out, bottom 1s ease-out;
}

.dfn-panel .link-item:hover {
    text-decoration: underline;
}
.dfn-panel .link-item .copy-icon {
    opacity: 0;
}
.dfn-panel .link-item:hover .copy-icon,
.dfn-panel .link-item .copy-icon:focus {
    opacity: 1;
}

.dfn-panel .copy-icon {
    display: inline-block;
    margin-right: 0.5em;
    width: 0.85em;
    height: 1em;
    border-radius: 3px;
    background-color: #ccc;
    cursor: pointer;
}

.dfn-panel .copy-icon .icon {
    width: 100%;
    height: 100%;
    background-color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
}

.dfn-panel .copy-icon .icon::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 1px solid black;
    background-color: #ccc;
    opacity: 0.25;
    transform: translate(3px, -3px);
}

.dfn-panel .copy-icon:active .icon::before {
    opacity: 1;
}

.dfn-paneled[role="button"] { cursor: help; }

.highlighted {
    animation: target-fade 3s;
}

@keyframes target-fade {
    from {
        background-color: var(--dfnpanel-target-bg);
        outline: 5px solid var(--dfnpanel-target-outline);
    }
    to {
        color: var(--a-normal-text);
        background-color: transparent;
        outline: transparent;
    }
}
</style>
<style>/* Boilerplate: style-idl-highlighting */
pre.idl.highlight {
    background: var(--borderedblock-bg, var(--def-bg));
}
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-mdn-anno */
:root {
	--mdn-bg: #EEE;
	--mdn-shadow: #999;
	--mdn-nosupport-text: #ccc;
	--mdn-pass: green;
	--mdn-fail: red;
}
@media (prefers-color-scheme: dark) {
	:root {
		--mdn-bg: #222;
		--mdn-shadow: #444;
		--mdn-nosupport-text: #666;
		--mdn-pass: #690;
		--mdn-fail: #d22;
	}
}
.mdn-anno {
	background: var(--mdn-bg, #EEE);
	border-radius: .25em;
	box-shadow: 0 0 3px var(--mdn-shadow, #999);
	color: var(--text, black);
	font: 1em sans-serif;
	hyphens: none;
	max-width: min-content;
	overflow: hidden;
	padding: 0.2em;
	position: absolute;
	right: 0.3em;
	top: auto;
	white-space: nowrap;
	word-wrap: normal;
	z-index: 8;
}
.mdn-anno.unpositioned {
	display: none;
}
.mdn-anno.overlapping-main {
	opacity: .2;
	transition: opacity .1s;
}
.mdn-anno[open] {
	opacity: 1;
	z-index: 9;
	min-width: 9em;
}
.mdn-anno:hover {
	opacity: 1;
	outline: var(--text, black) 1px solid;
}
.mdn-anno > summary {
	font-weight: normal;
	text-align: right;
	cursor: pointer;
	display: block;
}
.mdn-anno > summary > .less-than-two-engines-flag {
	color: var(--mdn-fail);
	padding-right: 2px;
}
.mdn-anno > summary > .all-engines-flag {
	color: var(--mdn-pass);
	padding-right: 2px;
}
.mdn-anno > summary > span {
	color: #fff;
	background-color: #000;
	font-weight: normal;
	font-family: zillaslab, Palatino, "Palatino Linotype", serif;
	padding: 2px 3px 0px 3px;
	line-height: 1.3em;
	vertical-align: top;
}
.mdn-anno > .feature {
	margin-top: 20px;
}
.mdn-anno > .feature:not(:first-of-type) {
	border-top: 1px solid #999;
	margin-top: 6px;
	padding-top: 2px;
}
.mdn-anno > .feature > .less-than-two-engines-text {
	color: var(--mdn-fail);
}
.mdn-anno > .feature > .all-engines-text {
	color: var(--mdn-pass);
}
.mdn-anno > .feature > p {
	font-size: .75em;
	margin-top: 6px;
	margin-bottom: 0;
}
.mdn-anno > .feature > p + p {
	margin-top: 3px;
}
.mdn-anno > .feature > .support {
	display: block;
	font-size: 0.6em;
	margin: 0;
	padding: 0;
	margin-top: 2px;
}
.mdn-anno > .feature > .support + div {
	padding-top: 0.5em;
}
.mdn-anno > .feature > .support > hr {
	display: block;
	border: none;
	border-top: 1px dotted #999;
	padding: 3px 0px 0px 0px;
	margin: 2px 3px 0px 3px;
}
.mdn-anno > .feature > .support > hr::before {
	content: "";
}
.mdn-anno > .feature > .support > span {
	padding: 0.2em 0;
	display: block;
	display: table;
}
.mdn-anno > .feature > .support > span.no {
	color: var(--mdn-nosupport-text);
	filter: grayscale(100%);
}
.mdn-anno > .feature > .support > span.no::before {
	opacity: 0.5;
}
.mdn-anno > .feature > .support > span:first-of-type {
	padding-top: 0.5em;
}
.mdn-anno > .feature > .support > span > span {
	padding: 0 0.5em;
	display: table-cell;
}
.mdn-anno > .feature > .support > span > span:first-child {
	width: 100%;
}
.mdn-anno > .feature > .support > span > span:last-child {
	width: 100%;
	white-space: pre;
	padding: 0;
}
.mdn-anno > .feature > .support > span::before {
	content: ' ';
	display: table-cell;
	min-width: 1.5em;
	height: 1.5em;
	background: no-repeat center center;
	background-size: contain;
	text-align: right;
	font-size: 0.75em;
	font-weight: bold;
}
.mdn-anno > .feature > .support > .chrome_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
}
.mdn-anno > .feature > .support > .firefox_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
}
.mdn-anno > .feature > .support > .chrome::before {
	background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
}
.mdn-anno > .feature > .support > .edge_blink::before {
	background-image: url(https://resources.whatwg.org/browser-logos/edge.svg);
}
.mdn-anno > .feature > .support > .edge::before {
	background-image: url(https://resources.whatwg.org/browser-logos/edge_legacy.svg);
}
.mdn-anno > .feature > .support > .firefox::before {
	background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
}
.mdn-anno > .feature > .support > .ie::before {
	background-image: url(https://resources.whatwg.org/browser-logos/ie.png);
}
.mdn-anno > .feature > .support > .safari_ios::before {
	background-image: url(https://resources.whatwg.org/browser-logos/safari-ios.svg);
}
.mdn-anno > .feature > .support > .nodejs::before {
	background-image: url(https://nodejs.org/favicon.ico);
}
.mdn-anno > .feature > .support > .opera_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
}
.mdn-anno > .feature > .support > .opera::before {
	background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
}
.mdn-anno > .feature > .support > .safari::before {
	background-image: url(https://resources.whatwg.org/browser-logos/safari.png);
}
.mdn-anno > .feature > .support > .samsunginternet_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/samsung.svg);
}
.mdn-anno > .feature > .support > .webview_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/android-webview.png);
}
.name-slug-mismatch {
	color: red;
}
.caniuse-status:hover {
	z-index: 9;
}
/* dt, li, .issue, .note, and .example are "position: relative", so to put annotation at right margin, must move to right of containing block */;
.h-entry:not(.status-LS) dt > .mdn-anno, .h-entry:not(.status-LS) li > .mdn-anno, .h-entry:not(.status-LS) .issue > .mdn-anno, .h-entry:not(.status-LS) .note > .mdn-anno, .h-entry:not(.status-LS) .example > .mdn-anno {
	right: -6.7em;
}
.h-entry p + .mdn-anno {
	margin-top: 0;
}
 h2 + .mdn-anno.after {
	margin: -48px 0 0 0;
}
 h3 + .mdn-anno.after {
	margin: -46px 0 0 0;
}
 h4 + .mdn-anno.after {
	margin: -42px 0 0 0;
}
 h5 + .mdn-anno.after {
	margin: -40px 0 0 0;
}
 h6 + .mdn-anno.after {
	margin: -40px 0 0 0;
}
</style>
<style>/* Boilerplate: style-ref-hints */
:root {
    --ref-hint-bg: #ddd;
    --ref-hint-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --ref-hint-bg: #222;
        --ref-hint-text: var(--text);
    }
}

.ref-hint {
    display: inline-block;
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.5em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--ref-hint-bg);
    color: var(--ref-hint-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}

.ref-hint * { margin: 0; padding: 0; text-indent: 0; }

.ref-hint ul { padding: 0 0 0 1em; list-style: none; }
</style>
<style>/* Boilerplate: style-selflinks */
:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
<style>/* Boilerplate: style-var-click-highlighting */
/*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)

For darkmode:
0 = oklab(50%   0%  108%)
1 = oklab(50% -51%   51%)
2 = oklab(50% -64%  -20%)
3 = oklab(50%   6%   19%)
4 = oklab(50% -12%  -64%)
5 = oklab(50%  44%  -19%)  
6 = oklab(50% 102%   38%)
*/

[data-algorithm] var { cursor: pointer; }
var[data-var-color] { background-color: var(--var-bg); box-shadow: 0 0 0 2px var(--var-bg); }

var[data-var-color] { --var-bg: #F4D200; }
var[data-var-color="1"] { --var-bg: #FF87A2; }
var[data-var-color="2"] { --var-bg: #96E885; }
var[data-var-color="3"] { --var-bg: #3EEED2; }
var[data-var-color="4"] { --var-bg: #EACFB6; }
var[data-var-color="5"] { --var-bg: #82DDFF; }
var[data-var-color="6"] { --var-vg: #FFBCF2; }

@media (prefers-color-scheme: dark) {
	var[data-var-color] { --var-bg: #bc1a00; }
	var[data-var-color="1"] { --var-bg: #007f00; }
	var[data-var-color="2"] { --var-bg: #008698; }
	var[data-var-color="3"] { --var-bg: #7f5b2b; }
	var[data-var-color="4"] { --var-bg: #004df3; }
	var[data-var-color="5"] { --var-bg: #a1248a; }
	var[data-var-color="6"] { --var-vg: #ff0000; }
}
</style>
<style>/* Boilerplate: style-wpt */
:root {
    --wpt-border: hsl(0, 0%, 60%);
    --wpt-bg: hsl(0, 0%, 95%);
    --wpt-text: var(--text);
    --wptheading-text: hsl(0, 0%, 30%);
}
@media (prefers-color-scheme: dark) {
    :root {
        --wpt-border: hsl(0, 0%, 30%);
        --wpt-bg: var(--borderedblock-bg);
        --wpt-text: var(--text);
        --wptheading-text: hsl(0, 0%, 60%);
    }
}
.wpt-tests-block {
    list-style: none;
    border-left: .5em solid var(--wpt-border);
    background: var(--wpt-bg);
    color: var(--wpt-text);
    margin: 1em auto;
    padding: .5em;
}
.wpt-tests-block summary {
    color: var(--wptheading-text);
    font-weight: normal;
    text-transform: uppercase;
}
.wpt-tests-block summary::marker{
    color: var(--wpt-border);
}
.wpt-tests-block summary:hover::marker{
    color: var(--wpt-text);
}
/*
   The only content  of a wpt test block in its closed state is the <summary>,
   which contains the word TESTS,
   and that is absolutely positioned.
   In that closed state, wpt test blocks are styled
   to have a top margin whose height is exactly equal
   to the height of the absolutely positioned <summary>,
   and no other background/padding/margin/border.
   The wpt test block elements will therefore allow the maring
   of the previous/next block elements
   to collapse through them;
   if this combined margin would be larger than its own top margin,
   it stays as is,
   and therefore the pre-existing vertical rhythm of the document is undisturbed.
   If that combined margin would be smaller, it is grown to that size.
   This means that the wpt test block ensures
   that there's always enough vertical space to insert the summary,
   without adding more than is needed.
*/
.wpt-tests-block:not([open]){
    padding: 0;
    border: none;
    background: none;
    font-size: 0.75em;
    line-height: 1;
    position: relative;
    margin: 1em 0 0;
}
.wpt-tests-block:not([open]) summary {
    position: absolute;
    right: 0;
    bottom: 0;
}
/*
   It is possible that both the last child of a block element
   and the block element itself
   would be annotated with a <wpt> block each.
   If the block element has a padding or a border,
   that's fine, but otherwise
   the bottom margin of the block and of its last child would collapse
   and both <wpt> elements would overlap, being both placed there.
   To avoid that, add 1px of padding to the <wpt> element annotating the last child
   to prevent the bottom margin of the block and of its last child from collapsing
   (and as much negative margin,
   as wel only want to prevent margin collapsing,
   but are not trying to actually take more space).
*/
.wpt-tests-block:not([open]):last-child {
    padding-bottom: 1px;
    margin-bottom: -1px;
}
/*
   Exception to the previous rule:
   don't do that in non-last list items,
   because it's not necessary,
   and would therefore consume more space than strictly needed.
   Lists must have list items as children, not <wpt> elements,
   so a <wpt> element cannot be a sibling of a list item,
   and the collision that the previous rule avoids cannot happen.
*/
li:not(:last-child) > .wpt-tests-block:not([open]):last-child,
dd:not(:last-child) > .wpt-tests-block:not([open]):last-child {
    padding-bottom: 0;
    margin-bottom: 0;
}
.wpt-tests-block:not([open]):not(:hover){
    opacity: 0.5;
}
.wpt-tests-list {
    list-style: none;
    display: grid;
    margin: 0;
    padding: 0;
    grid-template-columns: 1fr max-content auto auto;
    grid-column-gap: .5em;
}
.wpt-tests-block hr:last-child {
    display: none;
}
.wpt-test {
    display: contents;
}
.wpt-test > a {
    text-decoration: underline;
    border: none;
}
.wpt-test > .wpt-name { grid-column: 1; }
.wpt-test > .wpt-results { grid-column: 2; }
.wpt-test > .wpt-live { grid-column: 3; }
.wpt-test > .wpt-source { grid-column: 4; }

.wpt-test > .wpt-results {
    display: flex;
    gap: .1em;
}
.wpt-test .wpt-result {
    display: inline-block;
    height: 1em;
    width: 1em;
    border-radius: 50%;
    position: relative;
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/">
    <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
</a>
</p>
   <h1 class="p-name no-ref" id="title">CSS View Transitions Module Level 2</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types/#ED">Editor’s Draft</a>,
    <time class="dt-updated" datetime="2025-06-16">16 June 2025</time></p>
   <details open>
    <summary>More details about this document</summary>
    <div data-fill-with="spec-metadata">
     <dl>
      <dt>This version:
      <dd><a class="u-url" href="https://drafts.csswg.org/css-view-transitions-2/">https://drafts.csswg.org/css-view-transitions-2/</a>
      <dt>Latest published version:
      <dd><a href="https://www.w3.org/TR/css-view-transitions-2/">https://www.w3.org/TR/css-view-transitions-2/</a>
      <dt>Feedback:
      <dd><a href="https://github.com/w3c/csswg-drafts/labels/css-view-transitions-2">CSSWG Issues Repository</a>
      <dd><a href="#issues-index">Inline In Spec</a>
      <dt class="editor">Editors:
      <dd class="editor p-author h-card vcard" data-editor-id="121539"><span class="p-name fn">Noam Rosenthal</span> (<span class="p-org org">Google</span>)
      <dd class="editor p-author h-card vcard" data-editor-id="122787"><span class="p-name fn">Khushal Sagar</span> (<span class="p-org org">Google</span>)
      <dd class="editor p-author h-card vcard" data-editor-id="75295"><span class="p-name fn">Vladimir Levin</span> (<span class="p-org org">Google</span>)
      <dd class="editor p-author h-card vcard" data-editor-id="42199"><a class="p-name fn u-url url" href="http://xanthir.com/contact/">Tab Atkins-Bittner</a> (<span class="p-org org">Google</span>)
      <dt>Suggest an Edit for this Spec:
      <dd><a href="https://github.com/w3c/csswg-drafts/blob/main/css-view-transitions-2/Overview.bs">GitHub Editor</a>
     </dl>
    </div>
   </details>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> © 2025 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/copyright/software-license/" rel="license" title="W3C Software and Document License">permissive document license</a> rules apply.
</p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This module defines how the View Transition API works with cross-document navigations.</p>
   


<a href="https://www.w3.org/TR/CSS/">CSS</a> is a language for describing the rendering of structured documents
(such as HTML and XML)
on screen, on paper, etc.


  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p>
	This is a public copy of the editors’ draft.
	It is provided for discussion only and may change at any moment.
	Its publication here does not imply endorsement of its contents by W3C.
	Don’t cite this document other than as work in progress.

</p>
   <p>Please send feedback
	by <a href="https://github.com/w3c/csswg-drafts/issues">filing issues in GitHub</a> (preferred),
	including the spec code “css-view-transitions” in the title, like this:
	“[css-view-transitions] <i>…summary of comment…</i>”.
	All issues and comments are <a href="https://lists.w3.org/Archives/Public/public-css-archive/">archived</a>.
	Alternately, feedback can be sent to the (<a href="https://lists.w3.org/Archives/Public/www-style/">archived</a>) public mailing list
	<a href="mailto:www-style@w3.org?Subject=%5Bcss-view-transitions%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a>.

</p>
   <p>This document is governed by the
	<a href="https://www.w3.org/policies/process/20231103/" id="w3c_process_revision">03 November 2023 W3C Process Document</a>.

</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li>
     <a href="#cross-document-view-transitions"><span class="secno">2</span> <span class="content">Cross-document view transitions</span></a>
     <ol class="toc">
      <li>
       <a href="#cross-doc-overview"><span class="secno">2.1</span> <span class="content">Overview</span></a>
       <ol class="toc">
        <li><a href="#activating-cross-document-view-transition"><span class="secno">2.1.1</span> <span class="content">Activation</span></a>
        <li><a href="#waiting-for-stable-state"><span class="secno">2.1.2</span> <span class="content">Waiting for the new state to stabilize</span></a>
        <li>
         <a href="#customizing-cross-document-view-transitions"><span class="secno">2.1.3</span> <span class="content">Customization</span></a>
         <ol class="toc">
          <li><a href="#old-doc-event"><span class="secno">2.1.3.1</span> <span class="content">Handling the view transition in the old document</span></a>
          <li><a href="#new-doc-event"><span class="secno">2.1.3.2</span> <span class="content">Handling the view transition in the new document</span></a>
         </ol>
        <li><a href="#lifecycle"><span class="secno">2.1.4</span> <span class="content">Lifecycle</span></a>
       </ol>
      <li><a href="#cross-doc-examples"><span class="secno">2.2</span> <span class="content">Examples</span></a>
      <li>
       <a href="#cross-doc-opt-in"><span class="secno">2.3</span> <span class="content">Opting in to cross-document view transitions</span></a>
       <ol class="toc">
        <li><a href="#view-transition-rule"><span class="secno">2.3.1</span> <span class="content">The <span><span class="css">@view-transition</span></span> rule</span></a>
        <li><a href="#view-transition-navigation-descriptor"><span class="secno">2.3.2</span> <span class="content">The <span>navigation</span> descriptor</span></a>
        <li><a href="#cssom"><span class="secno">2.3.3</span> <span class="content">Accessing the <span class="css">@view-transition</span> rule using CSSOM</span></a>
       </ol>
     </ol>
    <li>
     <a href="#selective-vt"><span class="secno">3</span> <span class="content">Selective view transitions</span></a>
     <ol class="toc">
      <li><a href="#selective-vt-overview"><span class="secno">3.1</span> <span class="content">Overview</span></a>
      <li><a href="#active-view-transition-pseudo-examples"><span class="secno">3.2</span> <span class="content">Examples</span></a>
      <li>
       <a href="#pseudo-classes-for-selective-vt"><span class="secno">3.3</span> <span class="content">Selecting based on the active view transition</span></a>
       <ol class="toc">
        <li><a href="#the-active-view-transition-pseudo"><span class="secno">3.3.1</span> <span class="content">The <span class="css">:active-view-transition</span> pseudo-class</span></a>
        <li><a href="#the-active-view-transition-type-pseudo"><span class="secno">3.3.2</span> <span class="content">The <span class="css">:active-view-transition-type()</span> pseudo-class</span></a>
       </ol>
      <li><a href="#view-transitions-extension-types"><span class="secno">3.4</span> <span class="content">Changing the types of an ongoing view transition</span></a>
      <li><a href="#types-cross-doc"><span class="secno">3.5</span> <span class="content">Activating the transition type for cross-document view transitions</span></a>
     </ol>
    <li>
     <a href="#shared-style-with-vt-classes"><span class="secno">4</span> <span class="content">Sharing styles between view transition pseudo-elements</span></a>
     <ol class="toc">
      <li><a href="#shared-style-overview"><span class="secno">4.1</span> <span class="content">Overview</span></a>
      <li><a href="#vt-class-example"><span class="secno">4.2</span> <span class="content">Examples</span></a>
      <li><a href="#view-transition-class-prop"><span class="secno">4.3</span> <span class="content">The <span class="property">view-transition-class</span> property</span></a>
      <li><a href="#pseudo-element-class-additions"><span class="secno">4.4</span> <span class="content">Additions to named view transition pseudo-elements</span></a>
     </ol>
    <li><a href="#extend-document-types"><span class="secno">5</span> <span class="content">Extending <code class="idl"><span>document.startViewTransition()</span></code></span></a>
    <li>
     <a href="#auto-vt-name"><span class="secno">6</span> <span class="content">Determining <span class="property">view-transition-name</span> automatically</span></a>
     <ol class="toc">
      <li><a href="#auto-vt-name-overview"><span class="secno">6.1</span> <span class="content">Overview</span></a>
      <li><a href="#auto-vt-name-example"><span class="secno">6.2</span> <span class="content">Examples</span></a>
      <li><a href="#additions-to-vt-name"><span class="secno">6.3</span> <span class="content">Additions to <span class="property">view-transition-name</span></span></a>
     </ol>
    <li>
     <a href="#nested-view-transition-groups"><span class="secno">7</span> <span class="content">Nested view-transition groups</span></a>
     <ol class="toc">
      <li><a href="#nested-overview"><span class="secno">7.1</span> <span class="content">Overview</span></a>
      <li><a href="#nested-vt-example"><span class="secno">7.2</span> <span class="content">Examples</span></a>
      <li>
       <a href="#view-transition-group-prop"><span class="secno">7.3</span> <span class="content">The <span class="property">view-transition-group</span> property</span></a>
       <ol class="toc">
        <li><a href="#view-transition-group-children-pseudo"><span class="secno">7.3.1</span> <span class="content">View Transition Tree Root: the <span class="css">::view-transition-group-children</span> pseudo-element</span></a>
       </ol>
      <li><a href="#ua-styles"><span class="secno">7.4</span> <span class="content">User Agent Stylesheet # {#ua-styles}</span></a>
     </ol>
    <li>
     <a href="#algorithms"><span class="secno">8</span> <span class="content">Algorithms</span></a>
     <ol class="toc">
      <li>
       <a href="#cross-doc-data-structures"><span class="secno">8.1</span> <span class="content">Data structures</span></a>
       <ol class="toc">
        <li><a href="#cross-doc-data-structure-document"><span class="secno">8.1.1</span> <span class="content">Additions to <code class="idl"><span>Document</span></code></span></a>
        <li><a href="#cross-doc-data-structure-vt"><span class="secno">8.1.2</span> <span class="content">Additions to <code class="idl"><span>ViewTransition</span></code></span></a>
        <li><a href="#cross-doc-data-structure-serialization"><span class="secno">8.1.3</span> <span class="content">Serializable <span>view transition params</span></span></a>
       </ol>
      <li>
       <a href="#page-visibility-change-steps-additions"><span class="secno">8.2</span> <span class="content">Additions to the view transition page-visibility change steps</span></a>
       <ol class="toc">
        <li><a href="#capture-classes-data-structure"><span class="secno">8.2.1</span> <span class="content">Captured elements extension</span></a>
       </ol>
      <li><a href="#vt-rule-algo"><span class="secno">8.3</span> <span class="content">Resolving the <span class="css">@view-transition</span> rule</span></a>
      <li>
       <a href="#setup-old-document-vt"><span class="secno">8.4</span> <span class="content">Setting up the view transition in the old <code class="idl"><span>Document</span></code></span></a>
       <ol class="toc">
        <li><a href="#check-eligibility"><span class="secno">8.4.1</span> <span class="content">Check eligibility for outbound cross-document view transition</span></a>
        <li><a href="#setup-outbound-transition"><span class="secno">8.4.2</span> <span class="content">Setup the outbound transition when ready to swap pages</span></a>
        <li><a href="#update-opt-in"><span class="secno">8.4.3</span> <span class="content">Update the opt-in flag to reflect the current state</span></a>
        <li><a href="#proceed-if-skipped"><span class="secno">8.4.4</span> <span class="content">Proceed with navigation if view transition is skipped</span></a>
        <li><a href="#cross-doc-after-capture"><span class="secno">8.4.5</span> <span class="content">Proceed with cross-document view transition after capturing the old state</span></a>
       </ol>
      <li><a href="#access-view-transition-in-new-doc"><span class="secno">8.5</span> <span class="content">Activating the view transition in the new <code class="idl"><span>Document</span></code></span></a>
      <li><a href="#vt-class-algorithms"><span class="secno">8.6</span> <span class="content">Capturing the <span class="property">view-transition-class</span></span></a>
      <li>
       <a href="#vt-group-algorithm"><span class="secno">8.7</span> <span class="content">Capturing and applying <span class="property">view-transition-group</span></span></a>
       <ol class="toc">
        <li><a href="#vt-group-value-resolve"><span class="secno">8.7.1</span> <span class="content">Resolving the <span class="property">view-transition-group</span> value</span></a>
        <li><a href="#vt-containing-group-name-resolve"><span class="secno">8.7.2</span> <span class="content">Resolving the containing group name</span></a>
        <li><a href="#vt-group-name-resolve"><span class="secno">8.7.3</span> <span class="content">Resolving the group name</span></a>
        <li><a href="#vt-group-capture-old"><span class="secno">8.7.4</span> <span class="content">Compute the old <span class="property">view-transition-group</span></span></a>
        <li><a href="#vt-group-capture-new"><span class="secno">8.7.5</span> <span class="content">Compute the new <span class="property">view-transition-group</span></span></a>
        <li><a href="#vt-group-reparent"><span class="secno">8.7.6</span> <span class="content">Reparent a <span class="css">::view-transition-group()</span> to its specified containing group</span></a>
        <li><a href="#vt-group-transform-adjust"><span class="secno">8.7.7</span> <span class="content">Adjust the group’s <span class="property">transform</span> to be relative to its containing <span class="css">::view-transition-group()</span></span></a>
       </ol>
     </ol>
    <li><a href="#priv"><span class="secno"></span> <span class="content">Privacy Considerations</span></a>
    <li><a href="#sec"><span class="secno"></span> <span class="content">Security Considerations</span></a>
    <li>
     <a href="#changes"><span class="secno"></span> <span class="content">Appendix A. Changes</span></a>
     <ol class="toc">
      <li><a href="#changes-since-2024-05-16"><span class="secno"></span> <span class="content">
Changes from <span>2024-05-16 Working Draft</span>
</span></a>
     </ol>
    <li>
     <a href="#w3c-conformance"><span class="secno"></span> <span class="content">
Conformance</span></a>
     <ol class="toc">
      <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">
Document conventions</span></a>
      <li><a href="#w3c-conformance-classes"><span class="secno"></span> <span class="content">
Conformance classes</span></a>
      <li>
       <a href="#w3c-partial"><span class="secno"></span> <span class="content">
Partial implementations</span></a>
       <ol class="toc">
        <li><a href="#w3c-conform-future-proofing"><span class="secno"></span> <span class="content">
Implementations of Unstable and Proprietary Features</span></a>
       </ol>
      <li><a href="#w3c-testing"><span class="secno"></span> <span class="content">
Non-experimental implementations</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li>
     <a href="#property-index"><span class="secno"></span> <span class="content">Property Index</span></a>
     <ol class="toc">
      <li><a href="#view-transition-descriptor-table"><span class="secno"></span> <span class="content"><span>@view-transition</span> Descriptors</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <script async src="diagrams/resources/scaler.js" type="module"></script>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
   <p><em>This section is non-normative.</em></p>
   <p>View Transitions, as specified in <a data-link-type="biblio" href="#biblio-css-view-transitions-1" title="CSS View Transitions Module Level 1">[css-view-transitions-1]</a>, is a feature that allows developers
	to create animated transitions between visual states of the <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document" id="ref-for-concept-document">document</a>.</p>
   <p>Level 2 extends that specification, by adding the necessary API and lifecycle to enable
	transitions across a same-origin cross-document navigation, as well as a few additions that
	make it easier to author pages with richer view transitions.</p>
   <p>Level 2 defines the following:</p>
   <ul>
    <li data-md>
     <p><a href="#cross-document-view-transitions">Cross-document view transitions</a>, including the <a class="css" data-link-type="maybe" href="#at-view-transition-rule" id="ref-for-at-view-transition-rule">@view-transition</a> rule and the algorithms
that enable the cross-document view transition lifecycle.</p>
    <li data-md>
     <p><a href="#selective-vt">Selective view transitions</a>, a way to match styles based on the existence of an <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#document-active-view-transition" id="ref-for-document-active-view-transition">active view transition</a>,
and more specifically based on the active view transition being of a certain type.</p>
    <li data-md>
     <p><a href="#shared-style-with-vt-classes">Sharing styles between view transition pseudo-elements</a>, a way to declare a style once,
and use it for multiple view transition pseudo-elements. This includes the <a class="property css" data-link-type="property" href="#propdef-view-transition-class" id="ref-for-propdef-view-transition-class">view-transition-class</a> property, and <a href="#pseudo-element-class-additions">additions to named pseudo-elements</a></p>
   </ul>
   <h2 class="heading settled" data-level="2" id="cross-document-view-transitions"><span class="secno">2. </span><span class="content">Cross-document view transitions</span><a class="self-link" href="#cross-document-view-transitions"></a></h2>
   <h3 class="heading settled" data-level="2.1" id="cross-doc-overview"><span class="secno">2.1. </span><span class="content">Overview</span><a class="self-link" href="#cross-doc-overview"></a></h3>
   <p><em>This section is non-normative.</em></p>
   <h4 class="heading settled" data-level="2.1.1" id="activating-cross-document-view-transition"><span class="secno">2.1.1. </span><span class="content">Activation</span><a class="self-link" href="#activating-cross-document-view-transition"></a></h4>
   
With same-document view transitions, the author starts a view transition using JavaScript, by calling <code class="idl"><a data-link-type="idl" href="#dom-document-startviewtransition" id="ref-for-dom-document-startviewtransition">startViewTransition</a></code>.
In cross-document view transition, what triggers a view transition is a navigation between two documents, as long as the following conditions are met:


   <ul>
    <li data-md>
     <p>Both documents are of the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin">same origin</a>;</p>
    <li data-md>
     <p>The page is visible throughout the entire course of the navigation;</p>
    <li data-md>
     <p>The user initiates the navigation by interacting with the page, e.g. by clicking a link or submitting a form; or by interacting with the browser UI to do a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-navigationtype-traverse" id="ref-for-dom-navigationtype-traverse">traverse</a></code> navigation (back/forward). This excludes, for example, navigations initiated by the URL bar;</p>
    <li data-md>
     <p>the navigation didn’t include cross-origin redirects; and</p>
    <li data-md>
     <p>both documents opted in to cross-document view transitions, using the <a class="css" data-link-type="maybe" href="#at-view-transition-rule" id="ref-for-at-view-transition-rule①">@view-transition</a> rule.</p>
   </ul>
   <p>See the <a href="#lifecycle">lifecycle</a> section for more details.</p>
   <h4 class="heading settled" data-level="2.1.2" id="waiting-for-stable-state"><span class="secno">2.1.2. </span><span class="content">Waiting for the new state to stabilize</span><a class="self-link" href="#waiting-for-stable-state"></a></h4>
   
In same-document view transitions, the author can indicate when the new state of the transition is in a stable state by using the callback passed to <code class="idl"><a data-link-type="idl" href="#dom-document-startviewtransition" id="ref-for-dom-document-startviewtransition①">startViewTransition</a></code>.
Since cross-document view transitions are declarative, there is no such explicit promise. Instead, the user agent relies on the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#render-blocking-mechanism" id="ref-for-render-blocking-mechanism">render-blocking mechanism</a> to decide when the document has reached a stable state.
In this way, the author can use the <code data-x>blocking</code> attribute, to delay the transition until:

   <ul>
    <li data-md>
     <p>All expected scripts are executed, by using the script’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/scripting.html#dom-script-blocking" id="ref-for-dom-script-blocking">blocking</a></code> attribute on required scripts.</p>
    <li data-md>
     <p>All expected styles are executed, by using the style or link’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/semantics.html#dom-style-blocking" id="ref-for-dom-style-blocking">blocking</a></code> attribute on required styles.</p>
    <li data-md>
     <p>All expected HTML elements are seen by the parser, using an <code><a data-link-type="attr-value" href="https://html.spec.whatwg.org/multipage/links.html#link-type-expect" id="ref-for-link-type-expect">expect</a></code> <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/semantics.html#htmllinkelement" id="ref-for-htmllinkelement">HTMLLinkElement</a></code> element.</p>
   </ul>
   <p class="note" role="note"><span class="marker">Note:</span> overusing the render-blocking mechanism could make it so that the old state remains frozen for a long time, resulting in a jarring user experience.
To avoid this, it’s advised to ensure that the render-blocking elements are available in a timely manner.</p>
   <div class="example" id="example-2c826e50">
    <a class="self-link" href="#example-2c826e50"></a>


    <p>In this example, the last frame of the old document will be shown, and the animation will be delayed, until all the following conditions are met:</p>
    <ul>
     <li data-md>
      <p><code>style.css</code> is applied, to ensure the new state has the correct styles</p>
     <li data-md>
      <p><code>fixup.js</code> is run, to ensure the presentation is up to date with script-based fixups.</p>
     <li data-md>
      <p>The <code>main-article</code> section is seen and parsed, to ensure enough of the content is loaded before allowing the transition to proceed.</p>
    </ul>
<pre class="language-html highlight"><c- cp>&lt;!DOCTYPE html></c->
<c- p>&lt;</c-><c- f>html</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>head</c-><c- p>></c->
    &lt; !-- This will be render-blocking by default -->
    <c- p>&lt;</c-><c- f>link</c-> <c- e>rel</c-><c- o>=</c-><c- s>"stylesheet"</c-> <c- e>href</c-><c- o>=</c-><c- s>"style.css"</c-><c- p>></c->

    &lt; !-- Since this script fixes up the layout, marking it as render blocking will
        ensure it's run before the view transition is activated -->
    <c- p>&lt;</c-><c- f>script</c-> <c- e>async</c-> <c- e>href</c-><c- o>=</c-><c- s>"fixup.js"</c-> <c- e>blocking</c-><c- o>=</c-><c- s>"render"</c-><c- p>>&lt;/</c-><c- f>script</c-><c- p>></c->

    &lt; !-- Wait until the main-article element is seen and fully parsed before
        activating the transition -->
    <c- p>&lt;</c-><c- f>link</c-> <c- e>rel</c-><c- o>=</c-><c- s>"expect"</c-> <c- e>href</c-><c- o>=</c-><c- s>"#main-article"</c-> <c- e>blocking</c-><c- o>=</c-><c- s>"render"</c-><c- p>></c->
  <c- p>&lt;/</c-><c- f>head</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>body</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>header</c-><c- p>></c->...<c- p>&lt;/</c-><c- f>header</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>main</c-><c- p>></c->
      <c- p>&lt;</c-><c- f>article</c-> <c- e>id</c-><c- o>=</c-><c- s>"main-article"</c-><c- p>></c->...<c- p>&lt;/</c-><c- f>article</c-><c- p>></c->
    <c- p>&lt;/</c-><c- f>main</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>article</c-> <c- e>id</c-><c- o>=</c-><c- s>"secondary-article"</c-><c- p>></c->...<c- p>&lt;/</c-><c- f>article</c-><c- p>></c->
  <c- p>&lt;/</c-><c- f>body</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>html</c-><c- p>></c->
</pre>
   </div>
   <h4 class="heading settled" data-level="2.1.3" id="customizing-cross-document-view-transitions"><span class="secno">2.1.3. </span><span class="content">Customization</span><a class="self-link" href="#customizing-cross-document-view-transitions"></a></h4>
   
The <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition" id="ref-for-viewtransition">ViewTransition</a></code> object enables customizing the transition in script.
Same-document view transitions use a single <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition" id="ref-for-viewtransition①">ViewTransition</a></code> object returned from the <code class="idl"><a data-link-type="idl" href="#dom-document-startviewtransition" id="ref-for-dom-document-startviewtransition②">startViewTransition</a></code> call for the entire lifecycle.
Cross-document view transitions have two <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition" id="ref-for-viewtransition②">ViewTransition</a></code> objects, one in the old document and one in the new document.


   <h5 class="heading settled" data-level="2.1.3.1" id="old-doc-event"><span class="secno">2.1.3.1. </span><span class="content">Handling the view transition in the old document</span><a class="self-link" href="#old-doc-event"></a></h5>
   <p>The <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-pageswap" id="ref-for-event-pageswap">pageswap</a></code> event is fired at the last moment before a document is about to be unloaded and swapped by another document.
It can be used to find out whether a view transition is about to take place, customize it using <code class="idl"><a data-link-type="idl" href="#dom-viewtransition-types" id="ref-for-dom-viewtransition-types">types</a></code>, make last minute changes to the captured elements, or skip it if necessary.
The <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#pageswapevent" id="ref-for-pageswapevent">PageSwapEvent</a></code> interface has a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-pageswapevent-viewtransition" id="ref-for-dom-pageswapevent-viewtransition">viewTransition</a></code> object, which would be non-null when the navigation is eligible to a view transition,
and a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-pageswapevent-activation" id="ref-for-dom-pageswapevent-activation">activation</a></code> object, providing handy information about the navigation, like the URL after redirects.
The transition’s <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#dom-viewtransition-finished" id="ref-for-dom-viewtransition-finished">finished</a></code> promise can be used for cleaning up after the transition, in case the document is later restored from BFCache.</p>
   <h5 class="heading settled" data-level="2.1.3.2" id="new-doc-event"><span class="secno">2.1.3.2. </span><span class="content">Handling the view transition in the new document</span><a class="self-link" href="#new-doc-event"></a></h5>
   <p>The <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-pagereveal" id="ref-for-event-pagereveal">pagereveal</a></code> event is fired right before presenting the first frame of the new document.
It can be used to find out if the view transition is still valid, by querying the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-pagerevealevent-viewtransition" id="ref-for-dom-pagerevealevent-viewtransition">viewTransition</a></code> attribute.
Similar to a same-document view transition, the author can now select different <code class="idl"><a data-link-type="idl" href="#dom-viewtransition-types" id="ref-for-dom-viewtransition-types①">types</a></code>, make last minute changes to the captured elements, wait for the transition to be <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#dom-viewtransition-ready" id="ref-for-dom-viewtransition-ready">ready</a></code> in order to animate it, or skip it altogether.</p>
   <h4 class="heading settled" data-level="2.1.4" id="lifecycle"><span class="secno">2.1.4. </span><span class="content">Lifecycle</span><a class="self-link" href="#lifecycle"></a></h4>
   <p><em>This section is non-normative.</em></p>
   <p>A successful cross-document view transition goes through the following phases:</p>
   <ol>
    <li data-md>
     <p>In the old <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document">Document</a></code>:</p>
     <ol>
      <li data-md>
       <p>The user initiates a navigation, by clicking a link, submitting a form, pressing the browser’s back button, etc.</p>
       <p class="note" role="note"><span class="marker">Note:</span> some navigations do not trigger a view-transition, e.g. typing a new address in the URL bar.</p>
      <li data-md>
       <p>When the new <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①">Document</a></code> is ready to be activated, the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-pageswap" id="ref-for-event-pageswap①">pageswap</a></code> event is fired.</p>
      <li data-md>
       <p>If the navigation is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin①">same origin</a>, has no cross-origin redirects,
and the old <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document②">Document</a></code> has <a href="#cross-doc-opt-in">opted in to cross-document view transitions</a>, the event’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-pageswapevent-viewtransition" id="ref-for-dom-pageswapevent-viewtransition①">viewTransition</a></code> attribute would be
a <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition" id="ref-for-viewtransition③">ViewTransition</a></code> object.</p>
      <li data-md>
       <p>The author can now customize the transition, e.g. by mutating its <code class="idl"><a data-link-type="idl" href="#dom-viewtransition-types" id="ref-for-dom-viewtransition-types②">types</a></code>, or <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#dom-viewtransition-skiptransition" id="ref-for-dom-viewtransition-skiptransition">skip</a></code> it altogether.</p>
      <li data-md>
       <p>If the <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition" id="ref-for-viewtransition④">ViewTransition</a></code> is not skipped, the state of the old document is <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#capture-the-old-state" id="ref-for-capture-the-old-state">captured</a>.</p>
      <li data-md>
       <p>The navigation proceeds: the old <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document③">Document</a></code> is unloaded, and the new <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document④">Document</a></code> is now active.</p>
     </ol>
    <li data-md>
     <p>Then, in the new <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document⑤">Document</a></code>:</p>
     <ol>
      <li data-md>
       <p>When the new <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document⑥">Document</a></code> is ready for its first <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#rendering-opportunity" id="ref-for-rendering-opportunity">rendering opportunity</a>, an event named <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-pagereveal" id="ref-for-event-pagereveal①">pagereveal</a></code> is fired on the new <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document⑦">Document</a></code>, with a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-pagerevealevent-viewtransition" id="ref-for-dom-pagerevealevent-viewtransition①">viewTransition</a></code> attribute.</p>
      <li data-md>
       <p>This <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition" id="ref-for-viewtransition⑤">ViewTransition</a></code>’s <code><code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#dom-viewtransition-updatecallbackdone" id="ref-for-dom-viewtransition-updatecallbackdone">updateCallbackDone</a></code></code> promise is already resolved,
and its <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#captured-element" id="ref-for-captured-element">captured elements</a> are populated from the old <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document⑧">Document</a></code>.</p>
      <li data-md>
       <p>This is another opportunity for the author to customize the transition, e.g. by mutating its <code class="idl"><a data-link-type="idl" href="#dom-viewtransition-types" id="ref-for-dom-viewtransition-types③">types</a></code>, or <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#dom-viewtransition-skiptransition" id="ref-for-dom-viewtransition-skiptransition①">skip</a></code> it altogether.</p>
      <li data-md>
       <p>The state of the new document is <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#capture-the-new-state" id="ref-for-capture-the-new-state">captured</a> as the "new" state of the transition.</p>
      <li data-md>
       <p>From this point forward, the transition continues in a similar fashion to a same-document transition, as per <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#activate-view-transition" id="ref-for-activate-view-transition">activate view transition</a>.</p>
     </ol>
   </ol>
   <h3 class="heading settled" data-level="2.2" id="cross-doc-examples"><span class="secno">2.2. </span><span class="content">Examples</span><a class="self-link" href="#cross-doc-examples"></a></h3>
   <div class="example" id="example-5cf7b384">
    <a class="self-link" href="#example-5cf7b384"></a>
	To generate the same cross-fade as in the first example <a href="https://drafts.csswg.org/css-view-transitions-1/#examples"><cite>CSS View Transitions 1</cite> § 1.6 Examples</a>,
	but across documents, we don’t need JavaScript.


    <p>Instead, we opt in to triggering view-transitions on navigation in both page 1 and page 2:</p>
<pre class="language-css highlight">// in both documents:
<c- n>@view-transition</c-> <c- p>{</c->
  <c- k>navigation</c-><c- p>:</c-> auto<c- p>;</c->
<c- p>}</c->
</pre>
    <p>A link from page 1 to or from page 2 would generate a crossfade transition for example 1.
	To achieve the effect examples 2, 3 &amp; 4, simply put the CSS for the pseudo-elements in both
	documents.</p>
   </div>
   <div class="example" id="example-e5e29ee3">
    <a class="self-link" href="#example-e5e29ee3"></a>
	Note that the <a class="css" data-link-type="maybe" href="#at-view-transition-rule" id="ref-for-at-view-transition-rule②">@view-transition</a> rule can be used together with media queries.
	For example, this would only perform the transition when the screen width is greater than:

	
<pre class="language-css highlight"><c- n>@view-transition</c-> <c- p>{</c->
  <c- k>navigation</c-><c- p>:</c-> auto<c- p>;</c->
<c- p>}</c->

<c- n>@media</c-> <c- p>(</c->max-width: <c- m>600</c-><c- k>px</c-><c- p>)</c-> <c- p>{</c->
  <c- k>navigation</c-><c- p>:</c-> none<c- p>;</c->
<c- p>}</c->
</pre>
   </div>
   <div class="example" id="example-06131030">
    <a class="self-link" href="#example-06131030"></a>
	To achieve the effect in <a href="https://drafts.csswg.org/css-view-transitions-1/#examples">example 5</a>, we have to do several
	things:


    <ul>
     <li data-md>
      <p>Opt-in to navigation-triggered view-transitions in both pages.</p>
     <li data-md>
      <p>Pass the click location to the new document, e.g. via <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webstorage.html#dom-sessionstorage" id="ref-for-dom-sessionstorage">sessionStorage</a></code>.</p>
     <li data-md>
      <p>Intercept the <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition" id="ref-for-viewtransition⑥">ViewTransition</a></code> object in the new document, using the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-pagereveal" id="ref-for-event-pagereveal②">pagereveal</a></code> event.</p>
    </ul>
    <p>In both pages:</p>
<pre class="language-css highlight"><c- n>@view-transition</c-> <c- p>{</c->
  <c- k>navigation</c-><c- p>:</c-> auto<c- p>;</c->
<c- p>}</c->
</pre>
    <p>In the old page:</p>
<pre class="language-js highlight">addEventListener<c- p>(</c-><c- t>'click'</c-><c- p>,</c-> event <c- p>=></c-> <c- p>{</c->
  sessionStorage<c- p>.</c->setItem<c- p>(</c-><c- u>"lastClickX"</c-><c- p>,</c-> event<c- p>.</c->clientX<c- p>);</c->
  sessionStorage<c- p>.</c->setItem<c- p>(</c-><c- u>"lastClickY"</c-><c- p>,</c-> event<c- p>.</c->clientY<c- p>);</c->
<c- p>});</c->
</pre>
    <p>In the new page:</p>
<pre class="language-js highlight"><c- c1>// This would run both on initial load and on reactivation from BFCache.</c->
addEventListener<c- p>(</c-><c- u>"pagereveal"</c-><c- p>,</c-> <c- k>async</c-> event <c- p>=></c-> <c- p>{</c->
  <c- k>if</c-> <c- p>(</c-><c- o>!</c->event<c- p>.</c->viewTransition<c- p>)</c->
    <c- k>return</c-><c- p>;</c->

  <c- a>const</c-> x <c- o>=</c-> sessionStorage<c- p>.</c->getItem<c- p>(</c-><c- u>"lastClickX"</c-><c- p>)</c-> <c- o>??</c-> innerWidth <c- o>/</c-> <c- mf>2</c-><c- p>;</c->
  <c- a>const</c-> y <c- o>=</c-> sessionStorage<c- p>.</c->getItem<c- p>(</c-><c- u>"lastClickY"</c-><c- p>)</c-> <c- o>??</c-> innerHeight <c- o>/</c-> <c- mf>2</c-><c- p>;</c->

  <c- a>const</c-> endRadius <c- o>=</c-> Math<c- p>.</c->hypot<c- p>(</c->
    Math<c- p>.</c->max<c- p>(</c->x<c- p>,</c-> innerWidth <c- o>-</c-> x<c- p>),</c->
    Math<c- p>.</c->max<c- p>(</c->y<c- p>,</c-> innerHeight <c- o>-</c-> y<c- p>)</c->
  <c- p>);</c->

  <c- k>await</c-> event<c- p>.</c->viewTransition<c- p>.</c->ready<c- p>;</c->

  <c- c1>// Animate the new document's view</c->
  document<c- p>.</c->documentElement<c- p>.</c->animate<c- p>(</c->
    <c- p>{</c->
      clipPath<c- o>:</c-> <c- p>[</c->
        <c- sb>`circle(0 at </c-><c- si>${</c->x<c- si>}</c-><c- sb>px </c-><c- si>${</c->y<c- si>}</c-><c- sb>px)`</c-><c- p>,</c->
        <c- sb>`circle(</c-><c- si>${</c->endRadius<c- si>}</c-><c- sb>px at </c-><c- si>${</c->x<c- si>}</c-><c- sb>px </c-><c- si>${</c->y<c- si>}</c-><c- sb>px)`</c-><c- p>,</c->
      <c- p>],</c->
    <c- p>},</c->
    <c- p>{</c->
      duration<c- o>:</c-> <c- mf>500</c-><c- p>,</c->
      easing<c- o>:</c-> <c- t>'ease-in'</c-><c- p>,</c->
      pseudoElement<c- o>:</c-> <c- t>'::view-transition-new(root)'</c->
    <c- p>}</c->
  <c- p>);</c->
<c- p>})</c->
</pre>
   </div>
   <div class="example" id="example-926506d6">
    <a class="self-link" href="#example-926506d6"></a>
	To choose which elements are captured based on properties of the navigation, and whether certain images are loaded:


    <p>In the old page:</p>
<pre class="language-js highlight">window<c- p>.</c->addEventListener<c- p>(</c-><c- u>"pageswap"</c-><c- p>,</c-> event <c- p>=></c-> <c- p>{</c->
  <c- c1>// For example, the page was hidden, or the navigation is cross-document.</c->
  <c- k>if</c-> <c- p>(</c-><c- o>!</c->event<c- p>.</c->viewTransition<c- p>)</c->
    <c- k>return</c-><c- p>;</c->

  <c- c1>// If you don't want view transition for back/forward navigations...</c->
  <c- k>if</c-> <c- p>(</c->event<c- p>.</c->activation<c- p>.</c->navigationType <c- o>===</c-> <c- u>"traverse"</c-><c- p>)</c-> <c- p>{</c->
    event<c- p>.</c->viewTransition<c- p>.</c->skipTransition<c- p>();</c->
  <c- p>}</c->

  <c- a>const</c-> newURL <c- o>=</c-> <c- ow>new</c-> URL<c- p>(</c->event<c- p>.</c->activation<c- p>.</c->entry<c- p>.</c->url<c- p>);</c->
  <c- k>if</c-> <c- p>(</c->newURL<c- p>.</c->pathname <c- o>===</c-> <c- u>"/details"</c-> <c- o>&amp;&amp;</c-> thumbnail<c- p>.</c->complete<c- p>)</c-> <c- p>{</c->
    thumbnail<c- p>.</c->classList<c- p>.</c->add<c- p>(</c-><c- u>"transition-to-hero"</c-><c- p>);</c->

    <c- c1>// This will cleanup the state if the page is restored from BFCache.</c->
    event<c- p>.</c->viewTransition<c- p>.</c->finished<c- p>.</c->then<c- p>(()</c-> <c- p>=></c-> <c- p>{</c->
      thumbnail<c- p>.</c->classList<c- p>.</c->remove<c- p>(</c-><c- u>"transition-to-hero"</c-><c- p>);</c->
    <c- p>});</c->
  <c- p>}</c->

<c- p>});</c->
</pre>
    <p>In the new page:</p>
<pre class="language-js highlight">window<c- p>.</c->addEventListener<c- p>(</c-><c- u>"pagereveal"</c-><c- p>,</c-> event <c- p>=></c-> <c- p>{</c->
  <c- c1>// For example, the page was hidden, the navigation is cross-document, or the transition was skipped in the old document.</c->
  <c- k>if</c-> <c- p>(</c-><c- o>!</c->event<c- p>.</c->viewTransition<c- p>)</c->
    <c- k>return</c-><c- p>;</c->

  <c- a>const</c-> oldURL <c- o>=</c-> <c- ow>new</c-> URL<c- p>(</c->navigation<c- p>.</c->activation<c- p>.</c-><c- kr>from</c-><c- p>.</c->url<c- p>);</c->
  <c- k>if</c-> <c- p>(</c->newURL<c- p>.</c->pathname <c- o>===</c-> <c- u>"/list"</c-><c- p>)</c-> <c- p>{</c->
    event<c- p>.</c->viewTransition<c- p>.</c->types<c- p>.</c->add<c- p>(</c-><c- u>"coming-from-list"</c-><c- p>);</c->

    <c- c1>// This will show the thumbnail until the view transition is finished.</c->
    <c- k>if</c-> <c- p>(</c-><c- o>!</c->hero<c- p>.</c->complete<c- p>)</c-> <c- p>{</c->
      setToThumbnail<c- p>(</c->hero<c- p>);</c->
      event<c- p>.</c->viewTransition<c- p>.</c->finished<c- p>.</c->then<c- p>(()</c-> <c- p>=></c-> <c- p>{</c->
        setToFullResolution<c- p>(</c->hero<c- p>);</c->
      <c- p>})</c->
    <c- p>}</c->
  <c- p>}</c->
<c- p>});</c->
</pre>
   </div>
   <h3 class="heading settled" data-level="2.3" id="cross-doc-opt-in"><span class="secno">2.3. </span><span class="content">Opting in to cross-document view transitions</span><a class="self-link" href="#cross-doc-opt-in"></a></h3>
   <h4 class="heading settled" data-level="2.3.1" id="view-transition-rule"><span class="secno">2.3.1. </span><span class="content">The <dfn class="dfn-paneled css" data-dfn-type="at-rule" data-export id="at-view-transition-rule"><a class="css" data-link-type="maybe" href="#at-view-transition-rule" id="ref-for-at-view-transition-rule③">@view-transition</a></dfn> rule</span><a class="self-link" href="#view-transition-rule"></a></h4>
   <p>The <a class="css" data-link-type="maybe" href="#at-view-transition-rule" id="ref-for-at-view-transition-rule④">@view-transition</a> rule is used by a document to indicate that cross-document navigations
should setup and activate a <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition" id="ref-for-viewtransition⑦">ViewTransition</a></code>.</p>
   <p>The <a class="css" data-link-type="maybe" href="#at-view-transition-rule" id="ref-for-at-view-transition-rule⑤">@view-transition</a> rule has the following syntax:</p>
<pre class="prod">@view-transition {
  <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-syntax-3/#typedef-declaration-list" id="ref-for-typedef-declaration-list">&lt;declaration-list></a>
}
</pre>
   <p>The <a class="css" data-link-type="maybe" href="#at-view-transition-rule" id="ref-for-at-view-transition-rule⑥">@view-transition</a> rule accepts the <a data-link-type="dfn" href="#view-transition-navigation" id="ref-for-view-transition-navigation">navigation</a> and <a data-link-type="dfn" href="#view-transition-types" id="ref-for-view-transition-types">types</a> descriptors.</p>
   <p class="note" role="note"><span class="marker">Note:</span> as per default behavior, the <a class="css" data-link-type="maybe" href="#at-view-transition-rule" id="ref-for-at-view-transition-rule⑦">@view-transition</a> rule can be nested inside a
<a data-link-type="dfn" href="https://drafts.csswg.org/css-conditional-3/#conditional-group-rule" id="ref-for-conditional-group-rule">conditional group rule</a> such as <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-conditional-3/#at-ruledef-media" id="ref-for-at-ruledef-media">@media</a> or <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-conditional-3/#at-ruledef-supports" id="ref-for-at-ruledef-supports">@supports</a>.</p>
   <p>When the <a class="css" data-link-type="maybe" href="#at-view-transition-rule" id="ref-for-at-view-transition-rule⑧">@view-transition</a> rule changes for <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document⑨">Document</a></code> <var>document</var>, the user agent must <a data-link-type="dfn" href="#update-the-opt-in-state-for-outbound-transitions" id="ref-for-update-the-opt-in-state-for-outbound-transitions">update the opt-in state for outbound transitions</a> given <var>document</var>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> this needs to be cached in the boolean because the result needs to be read <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel">in parallel</a>, when navigating.</p>
   <h4 class="heading settled" data-level="2.3.2" id="view-transition-navigation-descriptor"><span class="secno">2.3.2. </span><span class="content">The <a data-link-type="dfn" href="#view-transition-navigation" id="ref-for-view-transition-navigation①">navigation</a> descriptor</span><a class="self-link" href="#view-transition-navigation-descriptor"></a></h4>
   <table class="def descdef">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-for="@view-transition" data-dfn-type="descriptor" data-export id="descdef-view-transition-navigation">navigation</dfn>
     <tr>
      <th>For:
      <td><a class="css" data-link-type="at-rule" href="#at-view-transition-rule" id="ref-for-at-view-transition-rule⑨">@view-transition</a>	
     <tr>
      <th>Value:
      <td class="prod">auto <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one">|</a> none	
     <tr>
      <th>Initial:
      <td>none	
   </table>
   <p>The '<dfn class="dfn-paneled" data-dfn-for="@view-transition" data-dfn-type="dfn" data-noexport id="view-transition-navigation">navigation</dfn>' descriptor opts in to automatically starting a view transition when performing a navigation of a certain type.
	Must be present on both the old and new document.</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled css" data-dfn-for="@view-transition/navigation" data-dfn-type="value" data-export id="valdef-view-transition-navigation-none">none</dfn>
    <dd data-md>
     <p>There will be no transition.</p>
    <dt data-md><dfn class="dfn-paneled css" data-dfn-for="@view-transition/navigation" data-dfn-type="value" data-export id="valdef-view-transition-navigation-auto">auto</dfn>
    <dd data-md>
     <p>The transition will be enabled if the navigation is same-origin, without cross-origin
redirects, and whose <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#navigationtype" id="ref-for-navigationtype">NavigationType</a></code> is</p>
     <ul>
      <li data-md>
       <p><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-navigationtype-traverse" id="ref-for-dom-navigationtype-traverse①">traverse</a></code>, or</p>
      <li data-md>
       <p><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-navigationtype-push" id="ref-for-dom-navigationtype-push">push</a></code> or <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-navigationtype-replace" id="ref-for-dom-navigationtype-replace">replace</a></code>, with <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#user-navigation-involvement">user navigation involvement</a> not equal to <code>"browser UI"</code>.</p>
     </ul>
     <p class="note" role="note"><span class="marker">Note:</span> Navigations excluded from <a class="css" data-link-type="maybe" href="#valdef-view-transition-navigation-auto" id="ref-for-valdef-view-transition-navigation-auto">auto</a> are for example, navigating
via the URL address bar or clicking a bookmark, as well as any form of user or script initiated <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-navigationtype-reload" id="ref-for-dom-navigationtype-reload">reload</a></code>.</p>
   </dl>
   <p>This at-rule conforms with the forward-compatible parsing requirement of CSS;
conformant parsers that don’t understand these rules will ignore them without error.
Any descriptors that are not recognized or implemented by a given user agent,
or whose value does not match the grammars given here or in a future version of this specification,
must be ignored in their entirety;
they do not make the <a class="css" data-link-type="maybe" href="#at-view-transition-rule" id="ref-for-at-view-transition-rule①⓪">@view-transition</a> rule invalid.</p>
   <h4 class="heading settled" data-level="2.3.3" id="cssom"><span class="secno">2.3.3. </span><span class="content">Accessing the <a class="css" data-link-type="maybe" href="#at-view-transition-rule" id="ref-for-at-view-transition-rule①①">@view-transition</a> rule using CSSOM</span><a class="self-link" href="#cssom"></a></h4>
   <p>The <code class="idl"><a data-link-type="idl" href="#cssviewtransitionrule" id="ref-for-cssviewtransitionrule">CSSViewTransitionRule</a></code> represents a <a class="css" data-link-type="maybe" href="#at-view-transition-rule" id="ref-for-at-view-transition-rule①②">@view-transition</a> rule.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="cssviewtransitionrule"><code><c- g>CSSViewTransitionRule</c-></code></dfn> : <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssrule" id="ref-for-cssrule"><c- n>CSSRule</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring"><c- n>CSSOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CSSViewTransitionRule" data-dfn-type="attribute" data-export data-readonly data-type="CSSOMString" id="dom-cssviewtransitionrule-navigation"><code><c- g>navigation</c-></code></dfn>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring①"><c- n>CSSOMString</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="CSSViewTransitionRule" data-dfn-type="attribute" data-export data-readonly data-type="FrozenArray<CSSOMString>" id="dom-cssviewtransitionrule-types"><code><c- g>types</c-></code></dfn>;
};
</pre>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-cssviewtransitionrule-navigation" id="ref-for-dom-cssviewtransitionrule-navigation">navigation</a></code> getter step is to return the value of the corresponding <span class="css">navigation</span> descriptor if one exists, otherwise the empty string.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-cssviewtransitionrule-types" id="ref-for-dom-cssviewtransitionrule-types">types</a></code> getter steps is to return the value of the corresponding <span class="css">types</span> descriptor if one exists, otherwise an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list">list</a>.</p>
   <h2 class="heading settled" data-level="3" id="selective-vt"><span class="secno">3. </span><span class="content">Selective view transitions</span><a class="self-link" href="#selective-vt"></a></h2>
   <h3 class="heading settled" data-level="3.1" id="selective-vt-overview"><span class="secno">3.1. </span><span class="content">Overview</span><a class="self-link" href="#selective-vt-overview"></a></h3>
   <p><em>This section is non-normative.</em></p>
   <p>For simple pages, with a single view transition, setting the <span class="css">view-transition-name</span> property on participating elements should be sufficient.
However, in more complex scenarios, the author might want to declare various view transitions, and only run one of them simultaneously.
For example, sliding the whole page when clicking on the navigation bar, and sorting a list when one of its items is dragged.</p>
   <p>To make sure each view transition only captures what it needs to, and different transitions don’t interfere with each other,
this spec introduces the concept of <a data-link-type="dfn" href="#viewtransition-active-types" id="ref-for-viewtransition-active-types">active types</a>, alongside the <a class="css" data-link-type="maybe" href="#active-view-transition-pseudo" id="ref-for-active-view-transition-pseudo">:active-view-transition</a> and <a class="css" data-link-type="maybe" href="#active-view-transition-type-pseudo" id="ref-for-active-view-transition-type-pseudo">:active-view-transition-type()</a> pseudo-classes.</p>
   <p><a class="css" data-link-type="maybe" href="#active-view-transition-pseudo" id="ref-for-active-view-transition-pseudo①">:active-view-transition</a> matches the <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#document-element" id="ref-for-document-element">document element</a> when it has an <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#document-active-view-transition" id="ref-for-document-active-view-transition①">active view transition</a>, and <a class="css" data-link-type="maybe" href="#active-view-transition-type-pseudo" id="ref-for-active-view-transition-type-pseudo①">:active-view-transition-type()</a>
matches the <span id="ref-for-document-element①">document element</span> if the types in the selectors match the <span id="ref-for-document-active-view-transition②">active view transition</span>’s <a data-link-type="dfn" href="#viewtransition-active-types" id="ref-for-viewtransition-active-types①">active types</a>.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition" id="ref-for-viewtransition⑧">ViewTransition</a></code>’s <a data-link-type="dfn" href="#viewtransition-active-types" id="ref-for-viewtransition-active-types②">active types</a> are populated in one of the following ways:</p>
   <ol>
    <li data-md>
     <p>Passed as part of the arguments to <code class="idl"><a data-link-type="idl" href="#dom-document-startviewtransition" id="ref-for-dom-document-startviewtransition③">startViewTransition(callbackOptions)</a></code></p>
    <li data-md>
     <p>Mutated at any time, using the transition’s <code class="idl"><a data-link-type="idl" href="#dom-viewtransition-types" id="ref-for-dom-viewtransition-types④">types</a></code></p>
    <li data-md>
     <p>Declared for a cross-document view transition, using the <a data-link-type="dfn" href="#view-transition-types" id="ref-for-view-transition-types①">types</a> descriptor.</p>
   </ol>
   <h3 class="heading settled" data-level="3.2" id="active-view-transition-pseudo-examples"><span class="secno">3.2. </span><span class="content">Examples</span><a class="self-link" href="#active-view-transition-pseudo-examples"></a></h3>
   <div class="example" id="example-fcb7f482">
    <a class="self-link" href="#example-fcb7f482"></a>
For example, the developer might start a transition in the following manner:

<pre class="language-js highlight">document<c- p>.</c->startViewTransition<c- p>({</c->update<c- o>:</c-> updateTheDOMSomehow<c- p>,</c-> types<c- o>:</c-> <c- p>[</c-><c- u>"slide-in"</c-><c- p>,</c-> <c- u>"reverse"</c-><c- p>]});</c->
</pre>
    <p>This will activate any of the following selectors:</p>
<pre class="language-css highlight">:root<c- nf>:active-view-transition-type</c-><c- p>(</c->slide-in<c- p>)</c-> <c- p>{}</c->
:root<c- nf>:active-view-transition-type</c-><c- p>(</c->reverse<c- p>)</c-> <c- p>{}</c->
:root<c- nf>:active-view-transition-type</c-><c- p>(</c->slide-in<c- p>,</c-> reverse<c- p>)</c-> <c- p>{}</c->
:root<c- nf>:active-view-transition-type</c-><c- p>(</c->slide-in<c- p>,</c-> something-else<c- p>)</c-> <c- p>{}</c->
:root:active-view-transition <c- p>{}</c->
</pre>
    <p>While starting a transition without providing transition types, would only activate ':active-view-transition'':</p>
<pre class="language-js highlight">document<c- p>.</c->startViewTransition<c- p>(</c->updateTheDOMSomehow<c- p>);</c->
<c- c1>// or</c->
document<c- p>.</c->startViewTransition<c- p>({</c->update<c- o>:</c-> updateTheDOMSomehow<c- p>});</c->
</pre>
<pre class="language-css highlight"><c- c>/* This would be active */</c->
:root <c- p>{</c-> <c- p>}</c->
:root:active-view-transition <c- p>{}</c->

<c- c>/* This would not be active */</c->
:root<c- nf>:active-view-transition-type</c-><c- p>(</c->slide-in<c- p>)</c-> <c- p>{}</c->
:root<c- nf>:active-view-transition-type</c-><c- p>(</c->any-type-at-all-except-star<c- p>)</c-> <c- p>{}</c->
</pre>
   </div>
   <h3 class="heading settled" data-level="3.3" id="pseudo-classes-for-selective-vt"><span class="secno">3.3. </span><span class="content">Selecting based on the active view transition</span><a class="self-link" href="#pseudo-classes-for-selective-vt"></a></h3>
   <h4 class="heading settled" data-level="3.3.1" id="the-active-view-transition-pseudo"><span class="secno">3.3.1. </span><span class="content">The <a class="css" data-link-type="maybe" href="#active-view-transition-pseudo" id="ref-for-active-view-transition-pseudo②">:active-view-transition</a> pseudo-class</span><a class="self-link" href="#the-active-view-transition-pseudo"></a></h4>
   <p>The <dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="active-view-transition-pseudo">:active-view-transition</dfn> pseudo-class applies to the root element of the document, if it has an <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#document-active-view-transition" id="ref-for-document-active-view-transition③">active view transition</a>.</p>
   <p>The <a data-link-type="dfn" href="https://drafts.csswg.org/selectors-4/#specificity" id="ref-for-specificity">specificity</a> of an <a class="css" data-link-type="maybe" href="#active-view-transition-pseudo" id="ref-for-active-view-transition-pseudo③">:active-view-transition</a> is one pseudo-class selector.</p>
   <p>An <a class="css" data-link-type="maybe" href="#active-view-transition-pseudo" id="ref-for-active-view-transition-pseudo④">:active-view-transition</a> pseudo-class matches the <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#document-element" id="ref-for-document-element②">document element</a> when its <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node-document" id="ref-for-concept-node-document">node document</a> has an non-null <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#document-active-view-transition" id="ref-for-document-active-view-transition④">active view transition</a>.</p>
   <h4 class="heading settled" data-level="3.3.2" id="the-active-view-transition-type-pseudo"><span class="secno">3.3.2. </span><span class="content">The <a class="css" data-link-type="maybe" href="#active-view-transition-type-pseudo" id="ref-for-active-view-transition-type-pseudo②">:active-view-transition-type()</a> pseudo-class</span><a class="self-link" href="#the-active-view-transition-type-pseudo"></a></h4>
   <p>The <dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="active-view-transition-type-pseudo">:active-view-transition-type()</dfn> pseudo-class applies to the root element of the document, if it has a matching <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#document-active-view-transition" id="ref-for-document-active-view-transition⑤">active view transition</a>.
It has the following syntax definition:</p>
<pre class="prod">:active-view-transition-type(<a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#identifier-value" id="ref-for-identifier-value">&lt;custom-ident></a><a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-comma" id="ref-for-mult-comma">#</a>)
</pre>
   <p>The <a data-link-type="dfn" href="https://drafts.csswg.org/selectors-4/#specificity" id="ref-for-specificity①">specificity</a> of an <a class="css" data-link-type="maybe" href="#active-view-transition-type-pseudo" id="ref-for-active-view-transition-type-pseudo③">:active-view-transition-type()</a> is one pseudo-class selector.</p>
   <p>An <a class="css" data-link-type="maybe" href="#active-view-transition-type-pseudo" id="ref-for-active-view-transition-type-pseudo④">:active-view-transition-type()</a> pseudo-class matches the <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#document-element" id="ref-for-document-element③">document element</a> when its <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node-document" id="ref-for-concept-node-document①">node document</a> has an non-null <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#document-active-view-transition" id="ref-for-document-active-view-transition⑥">active view transition</a>,
whose <a data-link-type="dfn" href="#viewtransition-active-types" id="ref-for-viewtransition-active-types③">active types</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain">contains</a> at least one of the <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#identifier-value" id="ref-for-identifier-value①">&lt;custom-ident></a> arguments.</p>
   <h3 class="heading settled" data-level="3.4" id="view-transitions-extension-types"><span class="secno">3.4. </span><span class="content">Changing the types of an ongoing view transition</span><a class="self-link" href="#view-transitions-extension-types"></a></h3>
   <p>The <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition" id="ref-for-viewtransition⑨">ViewTransition</a></code> interface is extended as follows:</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="viewtransitiontypeset"><code><c- g>ViewTransitionTypeSet</c-></code></dfn> {
  <c- b>setlike</c->&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a>>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition" id="ref-for-viewtransition①⓪"><c- g>ViewTransition</c-></a> {
  <c- b>attribute</c-> <a data-link-type="idl-name" href="#viewtransitiontypeset" id="ref-for-viewtransitiontypeset"><c- n>ViewTransitionTypeSet</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ViewTransition" data-dfn-type="attribute" data-export data-type="ViewTransitionTypeSet" id="dom-viewtransition-types"><code><c- g>types</c-></code></dfn>;
};
</pre>
   <p>The <code class="idl"><a data-link-type="idl" href="#viewtransitiontypeset" id="ref-for-viewtransitiontypeset①">ViewTransitionTypeSet</a></code> object represents a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set">set</a> of strings, without special semantics.</p>
   <p class="note" role="note"><span class="marker">Note:</span> a <code class="idl"><a data-link-type="idl" href="#viewtransitiontypeset" id="ref-for-viewtransitiontypeset②">ViewTransitionTypeSet</a></code> can contain strings that are invalid for <span class="css">:active-view-transition-type</span>, e.g.
strings that are not a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#identifier-value" id="ref-for-identifier-value②">&lt;custom-ident></a>.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-viewtransition-types" id="ref-for-dom-viewtransition-types⑤">types</a></code> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#getter-steps" id="ref-for-getter-steps">getter steps</a> are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this">this</a>’s <a data-link-type="dfn" href="#viewtransition-active-types" id="ref-for-viewtransition-active-types④">active types</a>.</p>
   <h3 class="heading settled" data-level="3.5" id="types-cross-doc"><span class="secno">3.5. </span><span class="content">Activating the transition type for cross-document view transitions</span><a class="self-link" href="#types-cross-doc"></a></h3>
   <p>The <a data-link-type="dfn" href="#view-transition-types" id="ref-for-view-transition-types②">types</a> descriptor</p>
   <table class="def descdef">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-for="@view-transition" data-dfn-type="descriptor" data-export id="descdef-view-transition-types">types</dfn>
     <tr>
      <th>For:
      <td><a class="css" data-link-type="at-rule" href="#at-view-transition-rule" id="ref-for-at-view-transition-rule①③">@view-transition</a>	
     <tr>
      <th>Value:
      <td class="prod">none <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①">|</a> <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#identifier-value" id="ref-for-identifier-value③">&lt;custom-ident></a><a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-one-plus" id="ref-for-mult-one-plus">+</a>	
     <tr>
      <th>Initial:
      <td>none	
   </table>
   <p>The '<dfn class="dfn-paneled" data-dfn-for="@view-transition" data-dfn-type="dfn" data-noexport id="view-transition-types">types</dfn>' descriptor sets the <a data-link-type="dfn" href="#viewtransition-active-types" id="ref-for-viewtransition-active-types⑤">active types</a> for the transition
	when capturing or performing the transition, equivalent to calling <code class="idl"><a data-link-type="idl" href="#dom-document-startviewtransition" id="ref-for-dom-document-startviewtransition④">startViewTransition(callbackOptions)</a></code> with that <code class="idl"><a data-link-type="idl" href="#dom-startviewtransitionoptions-types" id="ref-for-dom-startviewtransitionoptions-types">types</a></code>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> the <a data-link-type="dfn" href="#view-transition-types" id="ref-for-view-transition-types③">types</a> descriptor only applies to the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①⓪">Document</a></code> in which it is defined.
	The author is responsible for using their chosen set of types in both documents.</p>
   <h2 class="heading settled" data-level="4" id="shared-style-with-vt-classes"><span class="secno">4. </span><span class="content">Sharing styles between view transition pseudo-elements</span><a class="self-link" href="#shared-style-with-vt-classes"></a></h2>
   <h3 class="heading settled" data-level="4.1" id="shared-style-overview"><span class="secno">4.1. </span><span class="content">Overview</span><a class="self-link" href="#shared-style-overview"></a></h3>
   <p><em>This section is non-normative.</em></p>
   <p>When styling multiple elements in the DOM in a similar way, it is common to use the <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-class" id="ref-for-concept-class">class</a> attribute:
setting a name that’s shared across multiple elements, and then using the <a data-link-type="dfn" href="https://drafts.csswg.org/selectors-4/#class-selector" id="ref-for-class-selector">class selector</a> to declare the shared style.</p>
   <p><a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#named-view-transition-pseudo-elements" id="ref-for-named-view-transition-pseudo-elements">The view transition pseudo-elements</a> (e.g. <span class="css">view-transition-group()</span>) are not defined in the DOM, but rather by using the <span class="css">view-transition-name</span> property.
For that purpose, the <span class="css">view-transition-class</span>' CSS property provides view transitions with the equivalent of HTML <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-class" id="ref-for-concept-class①">classes</a>.
When an element with a <span class="css">view-transition-name</span> also has a <span class="css">view-transition-class</span> value, that class would be selectable by the pseudo-elements, as per the <a href="#vt-class-example">examples</a>.</p>
   <h3 class="heading settled" data-level="4.2" id="vt-class-example"><span class="secno">4.2. </span><span class="content">Examples</span><a class="self-link" href="#vt-class-example"></a></h3>
   <div class="example" id="example-f2466484">
    <a class="self-link" href="#example-f2466484"></a>
This example creates a transition with each box participating under its own name, while applying
a 1-second duration to the animation of all the boxes:


<pre class="language-html highlight"><c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"box"</c-> <c- e>id</c-><c- o>=</c-><c- s>"red-box"</c-><c- p>>&lt;/</c-><c- f>div</c-><c- p>></c->
<c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"box"</c-> <c- e>id</c-><c- o>=</c-><c- s>"green-box"</c-><c- p>>&lt;/</c-><c- f>div</c-><c- p>></c->
<c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"box"</c-> <c- e>id</c-><c- o>=</c-><c- s>"yellow-box"</c-><c- p>>&lt;/</c-><c- f>div</c-><c- p>></c->
</pre>
<pre class="language-css highlight">div.box <c- p>{</c->
  <c- k>view-transition-class</c-><c- p>:</c-> any-box<c- p>;</c->
  <c- k>width</c-><c- p>:</c-> <c- m>100</c-><c- k>px</c-><c- p>;</c->
  <c- k>height</c-><c- p>:</c-> <c- m>100</c-><c- k>px</c-><c- p>;</c->
<c- p>}</c->
#red-box <c- p>{</c->
  <c- k>view-transition-name</c-><c- p>:</c-> red-box<c- p>;</c->
  <c- k>background</c-><c- p>:</c-> red<c- p>;</c->
<c- p>}</c->
#green-box <c- p>{</c->
  <c- k>view-transition-name</c-><c- p>:</c-> green-box<c- p>;</c->
  <c- k>background</c-><c- p>:</c-> green<c- p>;</c->
<c- p>}</c->
#yellow-box <c- p>{</c->
  <c- k>view-transition-name</c-><c- p>:</c-> yellow-box<c- p>;</c->
  <c- k>background</c-><c- p>:</c-> yellow<c- p>;</c->
<c- p>}</c->

<c- c>/* The following style would apply to all the boxes, thanks to 'view-transition-class' */</c->
:<c- nf>:view-transition-group</c-><c- p>(</c->*.any-box<c- p>)</c-> <c- p>{</c->
  <c- k>animation-duration</c-><c- p>:</c-> <c- m>1</c-><c- k>s</c-><c- p>;</c->
<c- p>}</c->
</pre>
   </div>
   <h3 class="heading settled" data-level="4.3" id="view-transition-class-prop"><span class="secno">4.3. </span><span class="content">The <a class="property css" data-link-type="property" href="#propdef-view-transition-class" id="ref-for-propdef-view-transition-class①">view-transition-class</a> property</span><a class="self-link" href="#view-transition-class-prop"></a></h3>
   <table class="def propdef" data-link-for-hint="view-transition-class">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-view-transition-class">view-transition-class</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod">none <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one②">|</a> <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#identifier-value" id="ref-for-identifier-value④">&lt;custom-ident></a><a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-one-plus" id="ref-for-mult-one-plus①">+</a>	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>none	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td><a href="https://www.w3.org/TR/css-pseudo/#generated-content" title="Includes ::before and ::after pseudo-elements.">all elements</a>	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>no	
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>n/a	
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>as specified	
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar	
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      <td>discrete	
   </table>
   <p>The <a class="property css" data-link-type="property" href="#propdef-view-transition-class" id="ref-for-propdef-view-transition-class②">view-transition-class</a> can be used to apply the same style rule to multiple <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#named-view-transition-pseudo-elements" id="ref-for-named-view-transition-pseudo-elements①">named view transition pseudo-elements</a> which may have a different <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-view-transitions-1/#propdef-view-transition-name" id="ref-for-propdef-view-transition-name">view-transition-name</a>.
	While <span class="property" id="ref-for-propdef-view-transition-name①">view-transition-name</span> is used to match between the element in the old state with its corresponding element in the new state, <span class="property" id="ref-for-propdef-view-transition-class③">view-transition-class</span> is used
	only to apply styles using the view transition pseudo-elements
	(<a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition-group" id="ref-for-selectordef-view-transition-group">::view-transition-group()</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition-image-pair" id="ref-for-selectordef-view-transition-image-pair">::view-transition-image-pair()</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition-old" id="ref-for-selectordef-view-transition-old">::view-transition-old()</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition-new" id="ref-for-selectordef-view-transition-new">::view-transition-new()</a>).</p>
   <p>Note that <a class="property css" data-link-type="property" href="#propdef-view-transition-class" id="ref-for-propdef-view-transition-class④">view-transition-class</a> by itself doesn’t mark an element for capturing, it is only used as an additional
	way to style an element that already has a <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-view-transitions-1/#propdef-view-transition-name" id="ref-for-propdef-view-transition-name②">view-transition-name</a>.</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled css" data-dfn-for="view-transition-class" data-dfn-type="value" data-export id="valdef-view-transition-class-none">none</dfn>
    <dd data-md>
     <p>No class would apply to the <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#named-view-transition-pseudo-elements" id="ref-for-named-view-transition-pseudo-elements②">named view transition pseudo-elements</a> generated for this element.</p>
    <dt data-md><dfn class="dfn-paneled css" data-dfn-for="view-transition-class" data-dfn-type="value" data-export id="valdef-view-transition-class-custom-ident"><a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#identifier-value" id="ref-for-identifier-value⑤">&lt;custom-ident></a>+</dfn>
    <dd data-md>
     <p>All of the specified <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#identifier-value" id="ref-for-identifier-value⑥">&lt;custom-ident></a> values (apart from <span class="css">none</span>) are applied when used in <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#named-view-transition-pseudo-elements" id="ref-for-named-view-transition-pseudo-elements③">named view transition pseudo-element</a> selectors.
<span class="css">none</span> is an invalid <span class="production" id="ref-for-identifier-value⑦">&lt;custom-ident></span> for <a class="property css" data-link-type="property" href="#propdef-view-transition-class" id="ref-for-propdef-view-transition-class⑤">view-transition-class</a>, even when combined with another <span class="production" id="ref-for-identifier-value⑧">&lt;custom-ident></span>.</p>
     <p>Each 'view transition class' is a <a data-link-type="dfn" href="https://drafts.csswg.org/css-scoping-1/#css-tree-scoped-name" id="ref-for-css-tree-scoped-name">tree-scoped name</a>.</p>
     <p class="note" role="note"><span class="marker">Note:</span> If the same <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-view-transitions-1/#propdef-view-transition-name" id="ref-for-propdef-view-transition-name③">view-transition-name</a> is specified for an element both in the old and new states of the transition,
only the <a class="property css" data-link-type="property" href="#propdef-view-transition-class" id="ref-for-propdef-view-transition-class⑥">view-transition-class</a> values from the new state apply. This also applies for cross-document view transitions:
classes from the old document would only apply if their corresponding <span class="property" id="ref-for-propdef-view-transition-name④">view-transition-name</span> was not specified in the new document.</p>
   </dl>
   <h3 class="heading settled" data-level="4.4" id="pseudo-element-class-additions"><span class="secno">4.4. </span><span class="content">Additions to named view transition pseudo-elements</span><a class="self-link" href="#pseudo-element-class-additions"></a></h3>
   <p>The <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#named-view-transition-pseudo-elements" id="ref-for-named-view-transition-pseudo-elements④">named view transition pseudo-elements</a>
	(<span class="css">view-transition-group()</span>, <span class="css">view-transition-image-pair()</span>, <span class="css">view-transition-old()</span>, <span class="css">view-transition-new()</span>)
	are extended to support the following syntax:</p>
<pre class="prod">::view-transition-group(<a class="production" data-link-type="type" href="#typedef-pt-name-and-class-selector" id="ref-for-typedef-pt-name-and-class-selector">&lt;pt-name-and-class-selector></a>)
::view-transition-image-pair(<a class="production" data-link-type="type" href="#typedef-pt-name-and-class-selector" id="ref-for-typedef-pt-name-and-class-selector①">&lt;pt-name-and-class-selector></a>)
::view-transition-old(<a class="production" data-link-type="type" href="#typedef-pt-name-and-class-selector" id="ref-for-typedef-pt-name-and-class-selector②">&lt;pt-name-and-class-selector></a>)
::view-transition-new(<a class="production" data-link-type="type" href="#typedef-pt-name-and-class-selector" id="ref-for-typedef-pt-name-and-class-selector③">&lt;pt-name-and-class-selector></a>)
</pre>
   <p>where <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-view-transitions-1/#typedef-pt-name-selector" id="ref-for-typedef-pt-name-selector">&lt;pt-name-selector></a> works as previously defined, and
	<a class="production css" data-link-type="type" href="#typedef-pt-name-and-class-selector" id="ref-for-typedef-pt-name-and-class-selector④">&lt;pt-name-and-class-selector></a> has the following syntax definition:</p>
<pre class="prod"><dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-pt-name-and-class-selector">&lt;pt-name-and-class-selector></dfn> = <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-view-transitions-1/#typedef-pt-name-selector" id="ref-for-typedef-pt-name-selector①">&lt;pt-name-selector></a> <a class="production" data-link-type="type" href="#typedef-pt-class-selector" id="ref-for-typedef-pt-class-selector">&lt;pt-class-selector></a><a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt">?</a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one③">|</a> <a class="production" data-link-type="type" href="#typedef-pt-class-selector" id="ref-for-typedef-pt-class-selector①">&lt;pt-class-selector></a>
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-pt-class-selector">&lt;pt-class-selector></dfn> = ['.' <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#identifier-value" id="ref-for-identifier-value⑨">&lt;custom-ident></a>]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-one-plus" id="ref-for-mult-one-plus②">+</a>
</pre>
   <p>When interpreting the above grammar, white space is forbidden:</p>
   <ul>
    <li data-md>
     <p>Between <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-view-transitions-1/#typedef-pt-name-selector" id="ref-for-typedef-pt-name-selector②">&lt;pt-name-selector></a> and <a class="production css" data-link-type="type" href="#typedef-pt-class-selector" id="ref-for-typedef-pt-class-selector②">&lt;pt-class-selector></a></p>
    <li data-md>
     <p>Between any of the components of <a class="production css" data-link-type="type" href="#typedef-pt-class-selector" id="ref-for-typedef-pt-class-selector③">&lt;pt-class-selector></a>.</p>
   </ul>
   <p>A <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#named-view-transition-pseudo-elements" id="ref-for-named-view-transition-pseudo-elements⑤">named view transition pseudo-element</a> <a data-link-type="dfn" href="https://drafts.csswg.org/selectors-4/#selector" id="ref-for-selector">selector</a> which has one or more <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#identifier-value" id="ref-for-identifier-value①⓪">&lt;custom-ident></a> values
	in its <a class="production css" data-link-type="type" href="#typedef-pt-class-selector" id="ref-for-typedef-pt-class-selector④">&lt;pt-class-selector></a> would only match an element if the <a data-link-type="dfn" href="#captured-element-class-list" id="ref-for-captured-element-class-list">class list</a> value in
	<a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition-named-elements" id="ref-for-viewtransition-named-elements">named elements</a> for the pseudo-element’s <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-view-transitions-1/#propdef-view-transition-name" id="ref-for-propdef-view-transition-name⑤">view-transition-name</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain①">contains</a> all of those values.</p>
   <p>The <a data-link-type="dfn" href="https://drafts.csswg.org/selectors-4/#specificity" id="ref-for-specificity②">specificity</a> of a <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#named-view-transition-pseudo-elements" id="ref-for-named-view-transition-pseudo-elements⑥">named view transition pseudo-element</a> <a data-link-type="dfn" href="https://drafts.csswg.org/selectors-4/#selector" id="ref-for-selector①">selector</a> with either:</p>
   <ul>
    <li data-md>
     <p>a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-view-transitions-1/#typedef-pt-name-selector" id="ref-for-typedef-pt-name-selector③">&lt;pt-name-selector></a> with a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#identifier-value" id="ref-for-identifier-value①①">&lt;custom-ident></a>; or</p>
    <li data-md>
     <p>a <a class="production css" data-link-type="type" href="#typedef-pt-class-selector" id="ref-for-typedef-pt-class-selector⑤">&lt;pt-class-selector></a> with at least one <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#identifier-value" id="ref-for-identifier-value①②">&lt;custom-ident></a>,</p>
   </ul>
   <p>is equivalent to a <a data-link-type="dfn" href="https://drafts.csswg.org/selectors-4/#type-selector" id="ref-for-type-selector">type selector</a>.</p>
   <p>The <a data-link-type="dfn" href="https://drafts.csswg.org/selectors-4/#specificity" id="ref-for-specificity③">specificity</a> of a <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#named-view-transition-pseudo-elements" id="ref-for-named-view-transition-pseudo-elements⑦">named view transition pseudo-element</a> <a data-link-type="dfn" href="https://drafts.csswg.org/selectors-4/#selector" id="ref-for-selector②">selector</a>
	with a <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/selectors-3/#x" id="ref-for-x">*</a> argument and with an empty <a class="production css" data-link-type="type" href="#typedef-pt-class-selector" id="ref-for-typedef-pt-class-selector⑥">&lt;pt-class-selector></a> is zero.</p>
   <h2 class="heading settled" data-level="5" id="extend-document-types"><span class="secno">5. </span><span class="content">Extending <code class="idl"><a data-link-type="idl" href="#dom-document-startviewtransition" id="ref-for-dom-document-startviewtransition⑤">document.startViewTransition()</a></code></span><a class="self-link" href="#extend-document-types"></a></h2>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-startviewtransitionoptions"><code><c- g>StartViewTransitionOptions</c-></code></dfn> {
  <a data-link-type="idl-name" href="https://drafts.csswg.org/css-view-transitions-1/#callbackdef-viewtransitionupdatecallback" id="ref-for-callbackdef-viewtransitionupdatecallback"><c- n>ViewTransitionUpdateCallback</c-></a>? <dfn class="dfn-paneled idl-code" data-default="null" data-dfn-for="StartViewTransitionOptions" data-dfn-type="dict-member" data-export data-type="ViewTransitionUpdateCallback?" id="dom-startviewtransitionoptions-update"><code><c- g>update</c-></code></dfn> = <c- b>null</c->;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①"><c- b>DOMString</c-></a>>? <dfn class="dfn-paneled idl-code" data-default="null" data-dfn-for="StartViewTransitionOptions" data-dfn-type="dict-member" data-export data-type="sequence<DOMString>?" id="dom-startviewtransitionoptions-types"><code><c- g>types</c-></code></dfn> = <c- b>null</c->;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①①"><c- g>Document</c-></a> {
  <a data-link-type="idl-name" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition" id="ref-for-viewtransition①①"><c- n>ViewTransition</c-></a> <a class="idl-code" data-link-type="method" href="#dom-document-startviewtransition" id="ref-for-dom-document-startviewtransition⑥"><c- g>startViewTransition</c-></a>(<c- b>optional</c-> (<a data-link-type="idl-name" href="https://drafts.csswg.org/css-view-transitions-1/#callbackdef-viewtransitionupdatecallback" id="ref-for-callbackdef-viewtransitionupdatecallback①"><c- n>ViewTransitionUpdateCallback</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#dictdef-startviewtransitionoptions" id="ref-for-dictdef-startviewtransitionoptions"><c- n>StartViewTransitionOptions</c-></a>) <dfn class="dfn-paneled idl-code" data-dfn-for="Document/startViewTransition(callbackOptions), Document/startViewTransition()" data-dfn-type="argument" data-export id="dom-document-startviewtransition-callbackoptions-callbackoptions"><code><c- g>callbackOptions</c-></code></dfn> = {});
};
</pre>
   <div class="algorithm" data-algorithm="start-vt-with-options">
    
		The <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#method-steps" id="ref-for-method-steps">method steps</a> for <dfn class="dfn-paneled idl-code" data-dfn-for="Document" data-dfn-type="method" data-export data-lt="startViewTransition(callbackOptions)|startViewTransition()" id="dom-document-startviewtransition"><code>startViewTransition(<var>callbackOptions</var>)</code></dfn> are as follows:


    <ol>
     <li data-md>
      <p>Let <var>updateCallback</var> be null.</p>
     <li data-md>
      <p>If <var>callbackOptions</var> is a <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#callbackdef-viewtransitionupdatecallback" id="ref-for-callbackdef-viewtransitionupdatecallback②">ViewTransitionUpdateCallback</a></code>, set <var>updateCallback</var> to <var>callbackOptions</var>.</p>
     <li data-md>
      <p>Otherwise, if <var>callbackOptions</var> is a <code class="idl"><a data-link-type="idl" href="#dictdef-startviewtransitionoptions" id="ref-for-dictdef-startviewtransitionoptions①">StartViewTransitionOptions</a></code>, then set <var>updateCallback</var> to <var>callbackOptions</var>’s <code class="idl"><a data-link-type="idl" href="#dom-startviewtransitionoptions-update" id="ref-for-dom-startviewtransitionoptions-update">update</a></code>.</p>
     <li data-md>
      <p>If <var>this</var>’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#document-active-view-transition" id="ref-for-document-active-view-transition⑦">active view transition</a> is not null and its <a data-link-type="dfn" href="#viewtransition-outbound-post-capture-steps" id="ref-for-viewtransition-outbound-post-capture-steps">outbound post-capture steps</a> is not null,
then:</p>
      <ol>
       <li data-md>
        <p>Let <var>preSkippedTransition</var> be a new <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition" id="ref-for-viewtransition①②">ViewTransition</a></code> in <var>this</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm">relevant realm</a> whose <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition-update-callback" id="ref-for-viewtransition-update-callback">update callback</a> is <var>updateCallback</var>.</p>
        <p class="note" role="note"><span class="marker">Note:</span> The <var>preSkippedTransition</var>’s <code class="idl"><a data-link-type="idl" href="#dom-viewtransition-types" id="ref-for-dom-viewtransition-types⑥">types</a></code> are ignored here because the transition is never activated.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#skip-the-view-transition" id="ref-for-skip-the-view-transition">Skip</a> <var>preSkippedTransition</var> with an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code>.</p>
       <li data-md>
        <p>Return <var>preSkippedTransition</var>.</p>
      </ol>
      <p class="note" role="note"><span class="marker">Note:</span> This ensures that a same-document transition that started after firing <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-pageswap" id="ref-for-event-pageswap②">pageswap</a></code> is skipped.</p>
     <li data-md>
      <p>Let <var>viewTransition</var> be the result of running the <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#method-steps" id="ref-for-method-steps①">method steps</a> for <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#dom-document-startviewtransition" id="ref-for-dom-document-startviewtransition⑦">startViewTransition(updateCallback)</a></code> given <var>updateCallback</var>.</p>
     <li data-md>
      <p>If <var>callbackOptions</var> is a <code class="idl"><a data-link-type="idl" href="#dictdef-startviewtransitionoptions" id="ref-for-dictdef-startviewtransitionoptions②">StartViewTransitionOptions</a></code>, set <var>viewTransition</var>’s <a data-link-type="dfn" href="#viewtransition-active-types" id="ref-for-viewtransition-active-types⑥">active types</a> to a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-clone" id="ref-for-list-clone">clone</a> of <code class="idl"><a data-link-type="idl" href="#dom-startviewtransitionoptions-types" id="ref-for-dom-startviewtransitionoptions-types①">types</a></code> as a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①">set</a>.</p>
     <li data-md>
      <p>Return <var>viewTransition</var>.</p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="6" id="auto-vt-name"><span class="secno">6. </span><span class="content">Determining <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-view-transitions-1/#propdef-view-transition-name" id="ref-for-propdef-view-transition-name⑥">view-transition-name</a> automatically</span><a class="self-link" href="#auto-vt-name"></a></h2>
   <h3 class="heading settled" data-level="6.1" id="auto-vt-name-overview"><span class="secno">6.1. </span><span class="content">Overview</span><a class="self-link" href="#auto-vt-name-overview"></a></h3>
   <p><em>This section is non-normative.</em></p>
   <p>For an element to participate in a view transition, it needs to receive a unique <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-view-transitions-1/#propdef-view-transition-name" id="ref-for-propdef-view-transition-name⑦">view-transition-name</a>.
This can be tedious and verbose when multiple elements are involved in the same view transition, especially in cases where many of those are same-element transitions,
as in, the element has the same <span class="property" id="ref-for-propdef-view-transition-name⑧">view-transition-name</span> in the old and new state.</p>
   <p>To make this easier, setting the <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-view-transitions-1/#propdef-view-transition-name" id="ref-for-propdef-view-transition-name⑨">view-transition-name</a> to <span class="css">auto</span> would generate a <span class="property" id="ref-for-propdef-view-transition-name①⓪">view-transition-name</span> for the element, or take it from the element’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-id" id="ref-for-concept-id">id</a> if present.</p>
   <h3 class="heading settled" data-level="6.2" id="auto-vt-name-example"><span class="secno">6.2. </span><span class="content">Examples</span><a class="self-link" href="#auto-vt-name-example"></a></h3>
   <div class="example" id="example-f31454c8">
    <a class="self-link" href="#example-f31454c8"></a>
In this example, view transition is used to sort a list in an animated way:


<pre class="language-html highlight"><c- p>&lt;</c-><c- f>ul</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>li</c-><c- p>></c->Item 1<c- p>&lt;/</c-><c- f>li</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>li</c-><c- p>></c->Item 2<c- p>&lt;/</c-><c- f>li</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>li</c-><c- p>></c->Item 3<c- p>&lt;/</c-><c- f>li</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>li</c-><c- p>></c->Item 4<c- p>&lt;/</c-><c- f>li</c-><c- p>></c->
  ...
<c- p>&lt;/</c-><c- f>ul</c-><c- p>></c->
</pre>
    <p>Ordinarily, each of these items would have to receive a unique <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-view-transitions-1/#propdef-view-transition-name" id="ref-for-propdef-view-transition-name①①">view-transition-name</a>:</p>
<pre class="language-css highlight"><c- k>li</c-><c- p>:</c-><c- nf>nth-child</c-><c- p>(</c-><c- m>1</c-><c- p>)</c-> <c- p>{</c-> <c- k>view-transition-name</c-><c- p>:</c-> item1<c- p>;</c-> <c- p>}</c->
li<c- nf>:nth-child</c-><c- p>(</c-><c- m>2</c-><c- p>)</c-> <c- p>{</c-> <c- k>view-transition-name</c-><c- p>:</c-> item2<c- p>;</c-> <c- p>}</c->
li<c- nf>:nth-child</c-><c- p>(</c-><c- m>3</c-><c- p>)</c-> <c- p>{</c-> <c- k>view-transition-name</c-><c- p>:</c-> item3<c- p>;</c-> <c- p>}</c->
li<c- nf>:nth-child</c-><c- p>(</c-><c- m>4</c-><c- p>)</c-> <c- p>{</c-> <c- k>view-transition-name</c-><c- p>:</c-> item4<c- p>;</c-> <c- p>}</c->
...
</pre>
    <p>With <span class="css">auto</span> or <span class="css">match-element</span>, this CSS would work:</p>
<pre class="language-css highlight">li <c- p>{</c->
  <c- k>view-transition-name</c-><c- p>:</c-> auto<c- p>;</c->
  <c- c>/* or */</c->
  view-transition-name: match-element<c- p>;</c->
<c- p>}</c->
</pre>
    <p>The <span class="css">auto</span> and <span class="css">match-element</span> keywords have a minor
difference, where <span class="css">auto</span> would use the element’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-id" id="ref-for-concept-id①">id</a> as the <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-view-transitions-1/#propdef-view-transition-name" id="ref-for-propdef-view-transition-name①②">view-transition-name</a>
if it exists, making it potentially work across documents, while <span class="css">match-element</span> only matches
based on element identity.</p>
   </div>
   <h3 class="heading settled" data-level="6.3" id="additions-to-vt-name"><span class="secno">6.3. </span><span class="content">Additions to <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-view-transitions-1/#propdef-view-transition-name" id="ref-for-propdef-view-transition-name①③">view-transition-name</a></span><a class="self-link" href="#additions-to-vt-name"></a></h3>
   <p>In addition to the existing values, the <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-view-transitions-1/#propdef-view-transition-name" id="ref-for-propdef-view-transition-name①④">view-transition-name</a> also accepts an <dfn class="dfn-paneled" data-dfn-for="view-transition-name" data-dfn-type="dfn" data-export id="view-transition-name-auto">auto</dfn> keyword.
To resolve the <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#used-value" id="ref-for-used-value">used value</a> of <span class="property" id="ref-for-propdef-view-transition-name①⑤">view-transition-name</span> for <var>element</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>computed</var> be the <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#computed-value" id="ref-for-computed-value">computed value</a> of <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-view-transitions-1/#propdef-view-transition-name" id="ref-for-propdef-view-transition-name①⑥">view-transition-name</a>.</p>
    <li data-md>
     <p>If <var>computed</var> is <span class="css">none</span>, return null.</p>
    <li data-md>
     <p>If <var>computed</var> is a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#identifier-value" id="ref-for-identifier-value①③">&lt;custom-ident></a>, return <var>computed</var>.</p>
    <li data-md>
     <p class="assertion">Assert: <var>computed</var> is <span class="css">auto</span> or <span class="css">match-element</span>.</p>
    <li data-md>
     <p>If <var>computed</var> is <span class="css">auto</span>, <var>element</var> has an associated <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-id" id="ref-for-concept-id②">id</a>, and <var>computed</var> is associated with the same <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-tree-root" id="ref-for-concept-tree-root">root</a> as <var>element</var>’s <span id="ref-for-concept-tree-root①">root</span>, then return a unique string starting with "<code>-ua-</code>".
Two elements with the same <span id="ref-for-concept-id③">id</span> must return the same string, regardless of their <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node-document" id="ref-for-concept-node-document②">node document</a>.</p>
     <p class="note" role="note"><span class="marker">Note:</span> this means that a <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-shadow-parts-1/#selectordef-part" id="ref-for-selectordef-part">::part()</a> pseudo-element wouldn’t resolve to its matching element’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-id" id="ref-for-concept-id④">id</a>.</p>
    <li data-md>
     <p>Return a unique string starting with "<code>-ua-</code>". The string should remain consistent and unique for this element and <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①②">Document</a></code>, at least for the lifetime of <var>element</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node-document" id="ref-for-concept-node-document③">node document</a>’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#document-active-view-transition" id="ref-for-document-active-view-transition⑧">active view transition</a>.</p>
     <p class="note" role="note"><span class="marker">Note:</span> When used in a cross-document view transition, generated <span class="css">auto</span> values never match, resulting in separate <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition-group" id="ref-for-selectordef-view-transition-group①">::view-transition-group()</a> pseudo-elements, one exiting and one entering.</p>
   </ol>
   <p>A <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-view-transitions-1/#propdef-view-transition-name" id="ref-for-propdef-view-transition-name①⑦">view-transition-name</a> generated by <span class="css">auto</span> is a <a data-link-type="dfn" href="https://drafts.csswg.org/css-scoping-1/#css-tree-scoped-name" id="ref-for-css-tree-scoped-name①">tree-scoped name</a>.</p>
   <h2 class="heading settled" data-level="7" id="nested-view-transition-groups"><span class="secno">7. </span><span class="content">Nested view-transition groups</span><a class="self-link" href="#nested-view-transition-groups"></a></h2>
   <h3 class="heading settled" data-level="7.1" id="nested-overview"><span class="secno">7.1. </span><span class="content">Overview</span><a class="self-link" href="#nested-overview"></a></h3>
   <p><em>This section is non-normative.</em></p>
   <p>By default, setting <code>view-transition-name</code> on multiple elements generates a flat <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#view-transition-tree" id="ref-for-view-transition-tree">view transition tree</a>, where all the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition-group" id="ref-for-selectordef-view-transition-group②">::view-transition-group()</a> pseudo-elements are children of the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition" id="ref-for-selectordef-view-transition">::view-transition</a> pseudo-element.
This is sufficient for many simple use-cases, but there are some styling use-cases that cannot be achieved with a flat tree.
The most prominent use-case is clipping: with a flat tree, all pseudo-elements are clipped to the <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#snapshot-containing-block" id="ref-for-snapshot-containing-block">snapshot containing block</a>, so clipping elements in the normal tree would lose their clipping during the view-transition, resulting in a broken visual effect.
The effects that have can have an unexpected visual effect in a flat tree:</p>
   <ul>
    <li data-md>
     <p>Clipping (<a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-overflow-3/#propdef-overflow" id="ref-for-propdef-overflow">overflow</a>, <a class="property css" data-link-type="property" href="https://drafts.fxtf.org/css-masking-1/#propdef-clip-path" id="ref-for-propdef-clip-path">clip-path</a>, <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-borders-4/#propdef-border-radius" id="ref-for-propdef-border-radius">border-radius</a>): clipping affects the children of the element.</p>
    <li data-md>
     <p><a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-color-4/#propdef-opacity" id="ref-for-propdef-opacity">opacity</a>, <a class="property css" data-link-type="property" href="https://drafts.fxtf.org/css-masking-1/#propdef-mask-image" id="ref-for-propdef-mask-image">mask-image</a> and <a class="property css" data-link-type="property" href="https://drafts.fxtf.org/filter-effects-1/#propdef-filter" id="ref-for-propdef-filter">filter</a>: These effects that are designed to work on a fully rasterized image of a tree, rather than on each item individually.</p>
    <li data-md>
     <p>3D transforms (<a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-2/#propdef-transform-style" id="ref-for-propdef-transform-style">transform-style</a>, <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-1/#propdef-transform" id="ref-for-propdef-transform">transform</a>, <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-2/#propdef-perspective" id="ref-for-propdef-perspective">perspective</a>): to display the full range of 3D transform animations, some hierarchy needs to be kept.</p>
   </ul>
   <p>To enable these use cases, this specification introduces the concept of nesting view-transition pseudo-elements. By using the <a class="property css" data-link-type="property" href="#propdef-view-transition-group" id="ref-for-propdef-view-transition-group">view-transition-group</a> CSS property,
the author can assign a "parent group" for a generated <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition-group" id="ref-for-selectordef-view-transition-group③">::view-transition-group()</a> pseudo-element, creating a hierarchy in the <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#view-transition-tree" id="ref-for-view-transition-tree①">view transition tree</a>.</p>
   <h3 class="heading settled" data-level="7.2" id="nested-vt-example"><span class="secno">7.2. </span><span class="content">Examples</span><a class="self-link" href="#nested-vt-example"></a></h3>
   <div class="example" id="example-a7acb6e4">
    <a class="self-link" href="#example-a7acb6e4"></a>
This example creates a transition where the <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#view-transition-tree" id="ref-for-view-transition-tree②">view transition tree</a> is nested instead of flat:


<pre class="language-html highlight"><c- p>&lt;</c-><c- f>section</c-> <c- e>class</c-><c- o>=</c-><c- s>"container"</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>article</c-><c- p>></c->Content<c- p>&lt;/</c-><c- f>article</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>section</c-><c- p>></c->
</pre>
<pre class="language-css highlight">.container <c- p>{</c->
  <c- k>view-transition-name</c-><c- p>:</c-> container<c- p>;</c->
<c- p>}</c->

.container<c- p>,</c->
:<c- nf>:view-transition-group-children</c-><c- p>(</c->container<c- p>)</c-> <c- p>{</c->
  <c- k>clip-path</c-><c- p>:</c-> <c- nf>circle</c-><c- p>();</c->
<c- p>}</c->

article <c- p>{</c->
  <c- k>view-transition-name</c-><c- p>:</c-> article<c- p>;</c->
  <c- k>view-transition-group</c-><c- p>:</c-> container<c- p>;</c->
<c- p>}</c->
</pre>
    <p>The pseudo-element tree for this would be as follows:</p>
<pre>::view-transition
├─ ::view-transition-group(container)
│  ├─ ::view-transition-image-pair(container)
│  |  ├─ ::view-transition-old(container)
│  |  └─ ::view-transition-new(container)
│  └─ ::view-transition-group-children(container)
│     ├─ ::view-transition-group(article)
│     |  ├─ ::view-transition-old(article)
│     |  └─ ::view-transition-new(article)
│     └─ ...other nested groups...
└─ …other groups…
</pre>
    <p>By applying the <span class="css">clip-path</span> to both the containing element and its generated <a class="css" data-link-type="maybe" href="#selectordef-view-transition-group-children" id="ref-for-selectordef-view-transition-group-children">::view-transition-group-children()</a> pseudo-element, we preserve the clip during the transition,
and by applying <span class="css">view-transition-group</span> to the internal element referencing the container, we make the tree "nested" in a way that would apply this clipping.</p>
   </div>
  </main>
  <h3 class="heading settled" data-level="7.3" id="view-transition-group-prop"><span class="secno">7.3. </span><span class="content">The <a class="property css" data-link-type="property" href="#propdef-view-transition-group" id="ref-for-propdef-view-transition-group①">view-transition-group</a> property</span><a class="self-link" href="#view-transition-group-prop"></a></h3>
  <table class="def propdef" data-link-for-hint="view-transition-group">
   <tbody>
    <tr>
     <th>Name:
     <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-view-transition-group">view-transition-group</dfn>
    <tr class="value">
     <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
     <td class="prod">normal <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one④">|</a> contain <span id="ref-for-comb-one⑤">|</span> nearest <span id="ref-for-comb-one⑥">|</span> <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#identifier-value" id="ref-for-identifier-value①④">&lt;custom-ident></a>	
    <tr>
     <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
     <td>normal	
    <tr>
     <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
     <td><a href="https://www.w3.org/TR/css-pseudo/#generated-content" title="Includes ::before and ::after pseudo-elements.">all elements</a>	
    <tr>
     <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
     <td>no	
    <tr>
     <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
     <td>n/a	
    <tr>
     <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
     <td>as specified	
    <tr>
     <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
     <td>per grammar	
    <tr>
     <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
     <td>discrete	
  </table>
  <p>The <a class="property css" data-link-type="property" href="#propdef-view-transition-group" id="ref-for-propdef-view-transition-group②">view-transition-group</a> property can be used in conjuction with <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-view-transitions-1/#propdef-view-transition-name" id="ref-for-propdef-view-transition-name①⑧">view-transition-name</a> to generate a hierarchy of <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#named-view-transition-pseudo-elements" id="ref-for-named-view-transition-pseudo-elements⑧">named view transition pseudo-element</a>.</p>
  <p>The <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#used-value" id="ref-for-used-value①">used value</a> for <a class="property css" data-link-type="property" href="#propdef-view-transition-group" id="ref-for-propdef-view-transition-group③">view-transition-group</a> resolves to a <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-view-transitions-1/#propdef-view-transition-name" id="ref-for-propdef-view-transition-name①⑨">view-transition-name</a> in its ancestor chain, or to <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-view-transitions-1/#valdef-view-transition-name-none" id="ref-for-valdef-view-transition-name-none">none</a>. When generating the <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#named-view-transition-pseudo-elements" id="ref-for-named-view-transition-pseudo-elements⑨">named view transition pseudo-element</a>, the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition-group" id="ref-for-selectordef-view-transition-group④">::view-transition-group()</a> with that name
	would create a <a class="css" data-link-type="maybe" href="#selectordef-view-transition-group-children" id="ref-for-selectordef-view-transition-group-children①">::view-transition-group-children()</a> pseudo-element, which would be the parent of the <span class="css" id="ref-for-selectordef-view-transition-group⑤">::view-transition-group()</span> generated for this element’s <span class="property" id="ref-for-propdef-view-transition-name②⓪">view-transition-name</span>.</p>
  <h4 class="heading settled" data-level="7.3.1" id="view-transition-group-children-pseudo"><span class="secno">7.3.1. </span><span class="content">View Transition Tree Root: the <span class="css">::view-transition-group-children</span> pseudo-element</span><a class="self-link" href="#view-transition-group-children-pseudo"></a></h4>
  <p>The <dfn class="dfn-paneled css" data-dfn-type="selector" data-export id="selectordef-view-transition-group-children">::view-transition-group-children()</dfn> <a data-link-type="dfn" href="https://drafts.csswg.org/selectors-4/#pseudo-element" id="ref-for-pseudo-element">pseudo-element</a>
	is a <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#named-view-transition-pseudo-elements" id="ref-for-named-view-transition-pseudo-elements①⓪">named view transition pseudo-element</a>
	that represents a matching named <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#view-transitions" id="ref-for-view-transitions">view transition</a> capture.
	A <a class="css" data-link-type="maybe" href="#selectordef-view-transition-group-children" id="ref-for-selectordef-view-transition-group-children②">::view-transition-group-children()</a> <span id="ref-for-pseudo-element①">pseudo-element</span>
	is generated based on the <a class="property css" data-link-type="property" href="#propdef-view-transition-group" id="ref-for-propdef-view-transition-group④">view-transition-group</a> property,
	as a <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-tree-child" id="ref-for-concept-tree-child">child</a> of the corresponding <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition-group" id="ref-for-selectordef-view-transition-group⑥">::view-transition-group()</a> <span id="ref-for-pseudo-element②">pseudo-element</span>,
	and contains one or more <span class="css" id="ref-for-selectordef-view-transition-group⑦">::view-transition-group()</span> elements, corresponding to the nested groups.
	See the <a data-link-type="dfn" href="#used-group-name" id="ref-for-used-group-name">used group name</a> and related algorithms.</p>
  <p>The <a class="css" data-link-type="maybe" href="#selectordef-view-transition-group-children" id="ref-for-selectordef-view-transition-group-children③">::view-transition-group-children()</a> <a data-link-type="dfn" href="https://drafts.csswg.org/selectors-4/#pseudo-element" id="ref-for-pseudo-element③">pseudo-element</a> is positioned after its sibling <span class="css">view-transition-image-pair()</span>.
	It is used to control effects like clipping or masking of nested children.</p>
  <h3 class="heading settled" data-level="7.4" id="ua-styles"><span class="secno">7.4. </span><span class="content">User Agent Stylesheet # {#ua-styles}</span><a class="self-link" href="#ua-styles"></a></h3>
  <p>This specification extends the <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#global-view-transition-user-agent-style-sheet" id="ref-for-global-view-transition-user-agent-style-sheet">global view transition user agent style sheet</a> by adding the following rule:</p>
<pre class="language-css highlight">:root:<c- nf>:view-transition-group-children</c-><c- p>(</c->*<c- p>)</c-> <c- p>{</c->
  <c- k>position</c-><c- p>:</c-> absolute<c- p>;</c->
  <c- k>inset</c-><c- p>:</c-> <c- m>0</c-><c- p>;</c->
  <c- k>border-style</c-><c- p>:</c-> solid<c- p>;</c->
  <c- k>border-color</c-><c- p>:</c-> transparent<c- p>;</c->
<c- p>}</c->
</pre>
  <h2 class="heading settled" data-level="8" id="algorithms"><span class="secno">8. </span><span class="content">Algorithms</span><a class="self-link" href="#algorithms"></a></h2>
  <h3 class="heading settled" data-level="8.1" id="cross-doc-data-structures"><span class="secno">8.1. </span><span class="content">Data structures</span><a class="self-link" href="#cross-doc-data-structures"></a></h3>
  <h4 class="heading settled" data-level="8.1.1" id="cross-doc-data-structure-document"><span class="secno">8.1.1. </span><span class="content">Additions to <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①③">Document</a></code></span><a class="self-link" href="#cross-doc-data-structure-document"></a></h4>
  
A <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①④">Document</a></code> additionaly has:


  <dl>
   <dt data-md><dfn class="dfn-paneled" data-dfn-for="document" data-dfn-type="dfn" data-noexport id="document-inbound-view-transition-params">inbound view transition params</dfn>
   <dd data-md>
    <p>a <a data-link-type="dfn" href="#view-transition-params" id="ref-for-view-transition-params">view transition params</a>, or null.
Initially null.</p>
   <dt data-md><dfn class="dfn-paneled" data-dfn-for="document" data-dfn-type="dfn" data-noexport id="document-can-initiate-outbound-view-transition">can initiate outbound view transition</dfn>
   <dd data-md>
    <p>a boolean.
Initially false.</p>
    <p class="note" role="note"><span class="marker">Note:</span> this value can be read <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①">in parallel</a> while navigating.</p>
  </dl>
  <h4 class="heading settled" data-level="8.1.2" id="cross-doc-data-structure-vt"><span class="secno">8.1.2. </span><span class="content">Additions to <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition" id="ref-for-viewtransition①③">ViewTransition</a></code></span><a class="self-link" href="#cross-doc-data-structure-vt"></a></h4>
  
A <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition" id="ref-for-viewtransition①④">ViewTransition</a></code> additionally has:

  <dl>
   <dt data-md><dfn class="dfn-paneled" data-dfn-for="ViewTransition" data-dfn-type="dfn" data-noexport id="viewtransition-active-types">active types</dfn>
   <dd data-md>
    <p>A <code class="idl"><a data-link-type="idl" href="#viewtransitiontypeset" id="ref-for-viewtransitiontypeset③">ViewTransitionTypeSet</a></code>, initially empty.</p>
   <dt data-md><dfn class="dfn-paneled" data-dfn-for="ViewTransition" data-dfn-type="dfn" data-noexport id="viewtransition-outbound-post-capture-steps">outbound post-capture steps</dfn>
   <dd data-md>
    <p>Null or a set of steps, initially null.</p>
  </dl>
  <h4 class="heading settled" data-level="8.1.3" id="cross-doc-data-structure-serialization"><span class="secno">8.1.3. </span><span class="content">Serializable <a data-link-type="dfn" href="#view-transition-params" id="ref-for-view-transition-params①">view transition params</a></span><a class="self-link" href="#cross-doc-data-structure-serialization"></a></h4>
  
A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="view-transition-params">view transition params</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct">struct</a> whose purpose is to serialize view transition information across documents.
It has the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item">items</a>:


  <dl>
   <dt data-md><dfn class="dfn-paneled" data-dfn-for="view transition params" data-dfn-type="dfn" data-noexport id="view-transition-params-named-elements">named elements</dfn>
   <dd data-md>
    <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map">map</a>, whose keys are strings and whose values are <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#captured-element" id="ref-for-captured-element①">captured elements</a>.</p>
   <dt data-md><dfn class="dfn-paneled" data-dfn-for="view transition params" data-dfn-type="dfn" data-noexport id="view-transition-params-initial-snapshot-containing-block-size">initial snapshot containing block size</dfn>
   <dd data-md>
    <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#tuple" id="ref-for-tuple">tuple</a> of two numbers (width and height).</p>
  </dl>
  <h3 class="heading settled" data-level="8.2" id="page-visibility-change-steps-additions"><span class="secno">8.2. </span><span class="content">Additions to the view transition page-visibility change steps</span><a class="self-link" href="#page-visibility-change-steps-additions"></a></h3>
  <div class="algorithm" data-algorithm="visibility change step additions">
   
	The next steps are appended to the tasks <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#view-transition-page-visibility-change-steps" id="ref-for-view-transition-page-visibility-change-steps">view transition page-visibility change steps</a> given <var>document</var>, after the current steps in the queued task:


   <ol>
    <li data-md>
     <p>Set <var>document</var>’s <a data-link-type="dfn" href="#document-inbound-view-transition-params" id="ref-for-document-inbound-view-transition-params">inbound view transition params</a> to null.</p>
   </ol>
   <p class="note" role="note"><span class="marker">Note:</span> this is called from the HTML spec.</p>
  </div>
  <h4 class="heading settled" data-level="8.2.1" id="capture-classes-data-structure"><span class="secno">8.2.1. </span><span class="content">Captured elements extension</span><a class="self-link" href="#capture-classes-data-structure"></a></h4>
  
The <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#captured-element" id="ref-for-captured-element②">captured element</a> struct should contain these fields, in addition to the existing ones:
	
  <dl>
   <dt data-md><dfn class="dfn-paneled" data-dfn-for="captured element" data-dfn-type="dfn" data-noexport id="captured-element-class-list">class list</dfn>
   <dd data-md>
    <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①">list</a> of strings, initially empty.</p>
   <dt data-md><dfn class="dfn-paneled" data-dfn-for="captured element" data-dfn-type="dfn" data-noexport id="captured-element-containing-group-name">containing group name</dfn>
   <dd data-md>
    <p>Null or a string, initially null.</p>
   <dt data-md><dfn class="dfn-paneled" data-dfn-for="captured element" data-dfn-type="dfn" data-noexport id="captured-element-transform-from-snapshot-containing-block">transform from snapshot containing block</dfn>
   <dd data-md>
    <p>A <a data-link-type="dfn" href="https://drafts.fxtf.org/geometry-1/#matrix" id="ref-for-matrix">matrix</a> or null, initially null.</p>
   <dt data-md><dfn class="dfn-paneled" data-dfn-for="captured element" data-dfn-type="dfn" data-noexport id="captured-element-old-border-width">old border width</dfn>
   <dd data-md>
    <p><a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-backgrounds-3/#propdef-border-width" id="ref-for-propdef-border-width">border-width</a> <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#used-value" id="ref-for-used-value②">used value</a> (top, right, bottom and left pixel values) or null, initially null.</p>
  </dl>
  <h3 class="heading settled" data-level="8.3" id="vt-rule-algo"><span class="secno">8.3. </span><span class="content">Resolving the <a class="css" data-link-type="maybe" href="#at-view-transition-rule" id="ref-for-at-view-transition-rule①④">@view-transition</a> rule</span><a class="self-link" href="#vt-rule-algo"></a></h3>
  <div class="algorithm" data-algorithm="resolve @view-transition rule">
   
		To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="resolve-view-transition-rule">resolve @view-transition rule</dfn> for a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①⑤">Document</a></code> <var>document</var>:


   <p class="note" role="note"><span class="marker">Note:</span> this is called in both the old and new document.</p>
   <ol>
    <li data-md>
     <p>If <var>document</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#visibility-state" id="ref-for-visibility-state">visibility state</a> is "<code>hidden</code>",
then return "<code>skip transition</code>".</p>
    <li data-md>
     <p>Let <var>matchingRule</var> be the last <a class="css" data-link-type="maybe" href="#at-view-transition-rule" id="ref-for-at-view-transition-rule①⑤">@view-transition</a> rule in <var>document</var>.</p>
    <li data-md>
     <p>If <var>matchingRule</var> is not found, then return "<code>skip transition</code>".</p>
    <li data-md>
     <p>If <var>matchingRule</var>’s <a data-link-type="dfn" href="#view-transition-navigation" id="ref-for-view-transition-navigation②">navigation</a> descriptor’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#computed-value" id="ref-for-computed-value①">computed value</a> is <a class="css" data-link-type="maybe" href="#valdef-view-transition-navigation-none" id="ref-for-valdef-view-transition-navigation-none">none</a>, then return "<code>skip transition</code>".</p>
    <li data-md>
     <p class="assertion">Assert: <var>matchingRule</var>’s <a data-link-type="dfn" href="#view-transition-navigation" id="ref-for-view-transition-navigation③">navigation</a> descriptor’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#computed-value" id="ref-for-computed-value②">computed value</a> is <a class="css" data-link-type="maybe" href="#valdef-view-transition-navigation-auto" id="ref-for-valdef-view-transition-navigation-auto①">auto</a>.</p>
    <li data-md>
     <p>Let <var>typesDescriptor</var> be <var>matchingRule</var>’s <a data-link-type="dfn" href="#view-transition-types" id="ref-for-view-transition-types④">types</a> descriptor.</p>
    <li data-md>
     <p>If <var>typesDescriptor</var>’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#computed-value" id="ref-for-computed-value③">computed value</a> is <span class="css">none</span>, then return a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set②">set</a> « ».</p>
    <li data-md>
     <p>Return a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set③">set</a> of strings corresponding to <var>typesDescriptor</var>’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#computed-value" id="ref-for-computed-value④">computed value</a>.</p>
   </ol>
  </div>
  <h3 class="heading settled" data-level="8.4" id="setup-old-document-vt"><span class="secno">8.4. </span><span class="content">Setting up the view transition in the old <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①⑥">Document</a></code></span><a class="self-link" href="#setup-old-document-vt"></a></h3>
  <h4 class="heading settled" data-level="8.4.1" id="check-eligibility"><span class="secno">8.4.1. </span><span class="content">Check eligibility for outbound cross-document view transition</span><a class="self-link" href="#check-eligibility"></a></h4>
  <div class="algorithm" data-algorithm="navigation can trigger a cross-document view-transition?">
   
	To check if a <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="navigation-can-trigger-a-cross-document-view-transition">navigation can trigger a cross-document view-transition?</dfn> given
	a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①⑦">Document</a></code> <var>oldDocument</var>, a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①⑧">Document</a></code> <var>newDocument</var>, a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#navigationtype" id="ref-for-navigationtype①">NavigationType</a></code> <var>navigationType</var>, and a boolean <var>isBrowserUINavigation</var>:


   <p class="note" role="note"><span class="marker">Note:</span> this is called during navigation, potentially <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②">in parallel</a>.</p>
   <ol>
    <li data-md>
     <p>If the user agent decides to display an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined">implementation-defined</a> navigation experience, e.g. a gesture-based transition for a back navigation,
the user agent may ignore the author-defined view transition. If that is the case, return false.</p>
    <li data-md>
     <p>If <var>oldDocument</var>’s <a data-link-type="dfn" href="#document-can-initiate-outbound-view-transition" id="ref-for-document-can-initiate-outbound-view-transition">can initiate outbound view transition</a> is false, then return false.</p>
    <li data-md>
     <p>If <var>navigationType</var> is <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-navigationtype-reload" id="ref-for-dom-navigationtype-reload①">reload</a></code>, then return false.</p>
    <li data-md>
     <p>If <var>oldDocument</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document-origin" id="ref-for-concept-document-origin">origin</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin②">same origin</a> as <var>newDocument</var>’s <span id="ref-for-concept-document-origin①">origin</span>, then return false.</p>
    <li data-md>
     <p>If <var>newDocument</var> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#was-created-via-cross-origin-redirects" id="ref-for-was-created-via-cross-origin-redirects">was created via cross-origin redirects</a> and <var>newDocument</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#latest-entry" id="ref-for-latest-entry">latest entry</a> is null, then return false.</p>
     <p class="note" role="note"><span class="marker">Note:</span> A <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#clone-a-node-document" id="ref-for-clone-a-node-document">Document</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#latest-entry" id="ref-for-latest-entry①">latest entry</a> would be null if this is a new navigation, rather than a restore from BFCache.</p>
    <li data-md>
     <p>If <var>navigationType</var> is <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-navigationtype-traverse" id="ref-for-dom-navigationtype-traverse②">traverse</a></code>, then return true.</p>
    <li data-md>
     <p>If <var>isBrowserUINavigation</var> is true, then return false.</p>
    <li data-md>
     <p>Return true.</p>
   </ol>
  </div>
  <h4 class="heading settled" data-level="8.4.2" id="setup-outbound-transition"><span class="secno">8.4.2. </span><span class="content">Setup the outbound transition when ready to swap pages</span><a class="self-link" href="#setup-outbound-transition"></a></h4>
  <div class="algorithm" data-algorithm="setup cross-document view-transition">
   
	To <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="setup-cross-document-view-transition">setup cross-document view-transition</dfn> given a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①⑨">Document</a></code> <var>oldDocument</var>,
	a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document②⓪">Document</a></code> <var>newDocument</var>, and <var>proceedWithNavigation</var>, which is an algorithm accepting nothing:


   <p class="note" role="note"><span class="marker">Note:</span> This is called from the HTML spec.</p>
   <ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert">Assert</a>: These steps are running as part of a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" id="ref-for-concept-task">task</a> queued on <var>oldDocument</var>.</p>
    <li data-md>
     <p>If <var>oldDocument</var>’s <a data-link-type="dfn" href="#document-can-initiate-outbound-view-transition" id="ref-for-document-can-initiate-outbound-view-transition①">can initiate outbound view transition</a> is false, then return null.</p>
    <li data-md>
     <p>Let <var>transitionTypesFromRule</var> be the result of <a data-link-type="dfn" href="#resolve-view-transition-rule" id="ref-for-resolve-view-transition-rule">resolving the @view-transition rule</a> for <var>oldDocument</var>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①">Assert</a>: <var>transitionTypesFromRule</var> is not "<code>skip transition</code>".</p>
     <p class="note" role="note"><span class="marker">Note:</span> We don’t know yet if <var>newDocument</var> has opted in, as it might not be parsed yet.
We check the opt-in for <var>newDocument</var> when we fire the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-pagereveal" id="ref-for-event-pagereveal③">pagereveal</a></code> event.</p>
    <li data-md>
     <p>If <var>oldDocument</var>’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#document-active-view-transition" id="ref-for-document-active-view-transition⑨">active view transition</a> is not null,
then <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#skip-the-view-transition" id="ref-for-skip-the-view-transition①">skip</a> <var>oldDocument</var>’s <span id="ref-for-document-active-view-transition①⓪">active view transition</span>
with an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#aborterror" id="ref-for-aborterror">AbortError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①">DOMException</a></code> in <var>oldDocument</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm①">relevant Realm</a>.</p>
     <p class="note" role="note"><span class="marker">Note:</span> this means that any running transition would be skipped when the document is ready
to unload.</p>
    <li data-md>
     <p>Let <var>outboundTransition</var> be a new <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition" id="ref-for-viewtransition①⑤">ViewTransition</a></code> object in <var>oldDocument</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm②">relevant Realm</a>.</p>
    <li data-md>
     <p>Set <var>outboundTransition</var>’s <a data-link-type="dfn" href="#viewtransition-active-types" id="ref-for-viewtransition-active-types⑦">active types</a> to <var>transitionTypesFromRule</var>.</p>
     <p class="note" role="note"><span class="marker">Note:</span> the <a data-link-type="dfn" href="#viewtransition-active-types" id="ref-for-viewtransition-active-types⑧">active types</a> are not shared between documents.
Manipulating the <code class="idl"><a data-link-type="idl" href="#dom-viewtransition-types" id="ref-for-dom-viewtransition-types⑦">types</a></code> in the new document does not affect the types in <var>newDocument</var>,
which would be read from the <a data-link-type="dfn" href="#view-transition-types" id="ref-for-view-transition-types⑤">types</a> descriptor once <var>newDocument</var> is revealed.</p>
     <p class="note" role="note"><span class="marker">Note:</span> the <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition" id="ref-for-viewtransition①⑥">ViewTransition</a></code> is skipped once the old document is hidden.</p>
    <li data-md>
     <p>Set <var>outboundTransition</var>’s <a data-link-type="dfn" href="#viewtransition-outbound-post-capture-steps" id="ref-for-viewtransition-outbound-post-capture-steps①">outbound post-capture steps</a> to the following steps given a <a data-link-type="dfn" href="#view-transition-params" id="ref-for-view-transition-params②">view transition params</a>-or-null <var>params</var>:</p>
     <ol>
      <li data-md>
       <p>Set <var>newDocument</var>’s <a data-link-type="dfn" href="#document-inbound-view-transition-params" id="ref-for-document-inbound-view-transition-params①">inbound view transition params</a> to <var>params</var>.</p>
       <p class="note" role="note"><span class="marker">Note:</span> The inbound transition is activated after the dispatch of <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-pagereveal" id="ref-for-event-pagereveal④">pagereveal</a></code> to ensure mutations made in this event apply to the captured new state.</p>
      <li data-md>
       <p>To skip the transition after a timeout, the user agent may perform the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel③">in parallel</a>:</p>
       <ol>
        <li data-md>
         <p>Wait for an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined①">implementation-defined</a> <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration">duration</a>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task">Queue a global task</a> on the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source">DOM manipulation task source</a> given <var>newDocument</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global">relevant global object</a> to perform the following step:</p>
         <ol>
          <li data-md>
           <p>If <var>newDocument</var>’s <a data-link-type="dfn" href="#document-inbound-view-transition-params" id="ref-for-document-inbound-view-transition-params②">inbound view transition params</a> is <var>params</var>, then set <var>newDocument</var>’s <span id="ref-for-document-inbound-view-transition-params③">inbound view transition params</span> to null.</p>
         </ol>
       </ol>
      <li data-md>
       <p>Call <var>proceedWithNavigation</var>.</p>
     </ol>
    <li data-md>
     <p>Set <var>oldDocument</var>’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#document-active-view-transition" id="ref-for-document-active-view-transition①①">active view transition</a> to <var>outboundTransition</var>.</p>
     <p class="note" role="note"><span class="marker">Note:</span> The process continues in <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#perform-pending-transition-operations" id="ref-for-perform-pending-transition-operations">perform pending transition operations</a>.</p>
    <li data-md>
     <p>The user agent should display the currently displayed frame until either:</p>
     <ul>
      <li data-md>
       <p>The <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-pagereveal" id="ref-for-event-pagereveal⑤">pagereveal</a></code> event is fired.</p>
      <li data-md>
       <p>its <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#document-active-view-transition" id="ref-for-document-active-view-transition①②">active view transition</a>’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition-phase" id="ref-for-viewtransition-phase">phase</a> is "<code>done</code>".</p>
     </ul>
     <p class="note" role="note"><span class="marker">Note:</span> this is to ensure that there are no unintended flashes between displaying the old and new state, to keep the transition smooth.</p>
    <li data-md>
     <p>Return <var>outboundTransition</var>.</p>
   </ol>
  </div>
  <h4 class="heading settled" data-level="8.4.3" id="update-opt-in"><span class="secno">8.4.3. </span><span class="content">Update the opt-in flag to reflect the current state</span><a class="self-link" href="#update-opt-in"></a></h4>
  <div class="algorithm" data-algorithm="update-opt-in-for-outbound">
   
To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="update-the-opt-in-state-for-outbound-transitions">update the opt-in state for outbound transitions</dfn> for a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document②①">Document</a></code> <var>document</var>:

   <ol>
    <li data-md>
     <p>If <var>document</var> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#has-been-revealed" id="ref-for-has-been-revealed">has been revealed</a>, and the result of <a data-link-type="dfn" href="#resolve-view-transition-rule" id="ref-for-resolve-view-transition-rule①">resolving the @view-transition rule</a> is not "<code>skip transition</code>",
then set <var>document</var>’s <a data-link-type="dfn" href="#document-can-initiate-outbound-view-transition" id="ref-for-document-can-initiate-outbound-view-transition②">can initiate outbound view transition</a> to true.</p>
    <li data-md>
     <p>Otherwise, set <var>document</var>’s <a data-link-type="dfn" href="#document-can-initiate-outbound-view-transition" id="ref-for-document-can-initiate-outbound-view-transition③">can initiate outbound view transition</a> to false.</p>
   </ol>
  </div>
  <h4 class="heading settled" data-level="8.4.4" id="proceed-if-skipped"><span class="secno">8.4.4. </span><span class="content">Proceed with navigation if view transition is skipped</span><a class="self-link" href="#proceed-if-skipped"></a></h4>
  <div class="algorithm" data-algorithm="additional skip steps">
   
	Append the following steps to <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#skip-the-view-transition" id="ref-for-skip-the-view-transition②">skip the view transition</a> given a <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition" id="ref-for-viewtransition①⑦">ViewTransition</a></code> <var>transition</var>:

   <ol>
    <li data-md>
     <p>If <var>transition</var>’s <a data-link-type="dfn" href="#viewtransition-outbound-post-capture-steps" id="ref-for-viewtransition-outbound-post-capture-steps②">outbound post-capture steps</a> is not null, then run <var>transition</var>’s <span id="ref-for-viewtransition-outbound-post-capture-steps③">outbound post-capture steps</span> with null.</p>
   </ol>
   <p class="note" role="note"><span class="marker">Note:</span> This is written in a monkey-patch manner, and will be merged into the algorithm once the L1 spec graduates.</p>
  </div>
  <h4 class="heading settled" data-level="8.4.5" id="cross-doc-after-capture"><span class="secno">8.4.5. </span><span class="content">Proceed with cross-document view transition after capturing the old state</span><a class="self-link" href="#cross-doc-after-capture"></a></h4>
  <div class="algorithm" data-algorithm="additional transition operation">
   
Prepend the following step to the <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#perform-pending-transition-operations" id="ref-for-perform-pending-transition-operations①">Perform pending transition operations</a> algorithm given a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document②②">Document</a></code> <var>document</var>:

   <ol>
    <li data-md>
     <p>If <var>document</var>’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#document-active-view-transition" id="ref-for-document-active-view-transition①③">active view transition</a> is not null and its <a data-link-type="dfn" href="#viewtransition-outbound-post-capture-steps" id="ref-for-viewtransition-outbound-post-capture-steps④">outbound post-capture steps</a> is not null, then:</p>
     <ol>
      <li data-md>
       <p class="assertion">Assert: <var>document</var>’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#document-active-view-transition" id="ref-for-document-active-view-transition①④">active view transition</a>’s  <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition-phase" id="ref-for-viewtransition-phase①">phase</a> is "<code>pending-capture</code>".</p>
      <li data-md>
       <p>Let <var>viewTransitionParams</var> be null;</p>
      <li data-md>
       <p>Set <var>document</var>’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#document-rendering-suppression-for-view-transitions" id="ref-for-document-rendering-suppression-for-view-transitions">rendering suppression for view transitions</a> to true.</p>
       <p class="issue" id="issue-ca114a78"><a class="self-link" href="#issue-ca114a78"></a> Though <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#capture-the-old-state" id="ref-for-capture-the-old-state①">capture the old state</a> appears here as a synchronous step, it is in fact an asynchronous step
as rendering an element into an image cannot be done synchronously. This should be more explicit in the L1 spec.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#capture-the-old-state" id="ref-for-capture-the-old-state②">Capture the old state</a> for <var>transition</var>.</p>
      <li data-md>
       <p>If this succeeded, then set <var>viewTransitionParams</var> to a new <a data-link-type="dfn" href="#view-transition-params" id="ref-for-view-transition-params③">view transition params</a> whose
<a data-link-type="dfn" href="#view-transition-params-named-elements" id="ref-for-view-transition-params-named-elements">named elements</a> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-clone" id="ref-for-map-clone">clone</a> of <var>transition</var>’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition-named-elements" id="ref-for-viewtransition-named-elements①">named elements</a>,
and whose <a data-link-type="dfn" href="#view-transition-params-initial-snapshot-containing-block-size" id="ref-for-view-transition-params-initial-snapshot-containing-block-size">initial snapshot containing block size</a> is <var>transition</var>’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition-initial-snapshot-containing-block-size" id="ref-for-viewtransition-initial-snapshot-containing-block-size">initial snapshot containing block size</a>.</p>
      <li data-md>
       <p>Set <var>document</var>’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#document-rendering-suppression-for-view-transitions" id="ref-for-document-rendering-suppression-for-view-transitions①">rendering suppression for view transitions</a> to false.</p>
      <li data-md>
       <p>Call <var>transition</var>’s <a data-link-type="dfn" href="#viewtransition-outbound-post-capture-steps" id="ref-for-viewtransition-outbound-post-capture-steps⑤">outbound post-capture steps</a> given <var>viewTransitionParams</var>.</p>
     </ol>
   </ol>
   <p class="note" role="note"><span class="marker">Note:</span> This is written in a monkey-patch manner, and will be merged into the algorithm once the L1 spec graduates.</p>
  </div>
  <h3 class="heading settled" data-level="8.5" id="access-view-transition-in-new-doc"><span class="secno">8.5. </span><span class="content">Activating the view transition in the new <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document②③">Document</a></code></span><a class="self-link" href="#access-view-transition-in-new-doc"></a></h3>
  <div class="algorithm" data-algorithm="resolve inbound cross-document view-transition">
   
	To <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="resolve-inbound-cross-document-view-transition">resolve inbound cross-document view-transition</dfn> for <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document②④">Document</a></code> <var>document</var>:


   <ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert②">Assert</a>: <var>document</var> is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active" id="ref-for-fully-active">fully active</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert③">Assert</a>: <var>document</var> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#has-been-revealed" id="ref-for-has-been-revealed①">has been revealed</a> is true.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#update-the-opt-in-state-for-outbound-transitions" id="ref-for-update-the-opt-in-state-for-outbound-transitions①">Update the opt-in state for outbound transitions</a> for <var>document</var>.</p>
    <li data-md>
     <p>Let <var>inboundViewTransitionParams</var> be <var>document</var>’s <a data-link-type="dfn" href="#document-inbound-view-transition-params" id="ref-for-document-inbound-view-transition-params④">inbound view transition params</a>.</p>
    <li data-md>
     <p>If <var>inboundViewTransitionParams</var> is null, then return null.</p>
    <li data-md>
     <p>Set <var>document</var>’s <a data-link-type="dfn" href="#document-inbound-view-transition-params" id="ref-for-document-inbound-view-transition-params⑤">inbound view transition params</a> to null.</p>
    <li data-md>
     <p>If <var>document</var>’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#document-active-view-transition" id="ref-for-document-active-view-transition①⑤">active view transition</a> is not null, then return null.</p>
     <p class="note" role="note"><span class="marker">Note:</span> this means that starting a same-document transition before revealing the document would cancel a pending cross-document transition.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#resolve-view-transition-rule" id="ref-for-resolve-view-transition-rule②">Resolve @view-transition rule</a> for <var>document</var> and let <var>resolvedRule</var> be the result.</p>
    <li data-md>
     <p>If <var>resolvedRule</var> is "<code>skip transition</code>", then return null.</p>
    <li data-md>
     <p>Let <var>transition</var> be a new <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition" id="ref-for-viewtransition①⑧">ViewTransition</a></code> in <var>document</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm③">relevant Realm</a>,
whose <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition-named-elements" id="ref-for-viewtransition-named-elements②">named elements</a> is <var>inboundViewTransitionParams</var>’s <a data-link-type="dfn" href="#view-transition-params-named-elements" id="ref-for-view-transition-params-named-elements①">named elements</a>,
and <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition-initial-snapshot-containing-block-size" id="ref-for-viewtransition-initial-snapshot-containing-block-size①">initial snapshot containing block size</a> is <var>inboundViewTransitionParams</var>’s <a data-link-type="dfn" href="#view-transition-params-initial-snapshot-containing-block-size" id="ref-for-view-transition-params-initial-snapshot-containing-block-size①">initial snapshot containing block size</a>.</p>
    <li data-md>
     <p>Set <var>document</var>’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#document-active-view-transition" id="ref-for-document-active-view-transition①⑥">active view transition</a> to <var>transition</var>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve">Resolve</a> <var>transition</var>’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition-update-callback-done-promise" id="ref-for-viewtransition-update-callback-done-promise">update callback done promise</a> with undefined.</p>
    <li data-md>
     <p>Set <var>transition</var>’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition-phase" id="ref-for-viewtransition-phase②">phase</a> to "<code>update-callback-called</code>".</p>
    <li data-md>
     <p>Set <var>transition</var>’s <a data-link-type="dfn" href="#viewtransition-active-types" id="ref-for-viewtransition-active-types⑨">active types</a> to <var>resolvedRule</var>.</p>
    <li data-md>
     <p>Return <var>transition</var>.</p>
   </ol>
  </div>
  <h3 class="heading settled" data-level="8.6" id="vt-class-algorithms"><span class="secno">8.6. </span><span class="content">Capturing the <a class="property css" data-link-type="property" href="#propdef-view-transition-class" id="ref-for-propdef-view-transition-class⑦">view-transition-class</a></span><a class="self-link" href="#vt-class-algorithms"></a></h3>
  <div class="algorithm" data-algorithm="additional capture steps">
   
When capturing the old or new state for an element, perform the following steps given a <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#captured-element" id="ref-for-captured-element③">captured element</a> <var>capture</var> and an <u class="link-error" data-lt="element" title="LINK ERROR: No &apos;dfn&apos; refs found for &apos;element&apos; with spec &apos;css22&apos;.">element</u> <var>element</var>:


   <ol>
    <li data-md>
     <p>Set <var>capture</var>’s <a data-link-type="dfn" href="#captured-element-class-list" id="ref-for-captured-element-class-list①">class list</a> to the <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#computed-value" id="ref-for-computed-value⑤">computed value</a> of <var>element</var>’s <a class="property css" data-link-type="property" href="#propdef-view-transition-class" id="ref-for-propdef-view-transition-class⑧">view-transition-class</a>, if it is associated with <var>element</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node-document" id="ref-for-concept-node-document④">node document</a>.</p>
   </ol>
   <p class="note" role="note"><span class="marker">Note:</span> This is written in a monkey-patch manner, and will be merged into the algorithm once the L1 spec graduates.</p>
  </div>
  <h3 class="heading settled" data-level="8.7" id="vt-group-algorithm"><span class="secno">8.7. </span><span class="content">Capturing and applying <a class="property css" data-link-type="property" href="#propdef-view-transition-group" id="ref-for-propdef-view-transition-group⑤">view-transition-group</a></span><a class="self-link" href="#vt-group-algorithm"></a></h3>
  <h4 class="heading settled" data-level="8.7.1" id="vt-group-value-resolve"><span class="secno">8.7.1. </span><span class="content">Resolving the <a class="property css" data-link-type="property" href="#propdef-view-transition-group" id="ref-for-propdef-view-transition-group⑥">view-transition-group</a> value</span><a class="self-link" href="#vt-group-value-resolve"></a></h4>
  <div class="algorithm" data-algorithm="resolve the document-scoped view-transition-group">
   
To get the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="document-scoped-view-transition-group">document-scoped view transition group</dfn> of an <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element">Element</a></code> <var>element</var>, perform the following steps:


   <ol>
    <li data-md>
     <p>Let <var>computedGroup</var> be the <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#computed-value" id="ref-for-computed-value⑥">computed value</a> of element’s <a class="property css" data-link-type="property" href="#propdef-view-transition-group" id="ref-for-propdef-view-transition-group⑦">view-transition-group</a> property.</p>
    <li data-md>
     <p>If <var>computedGroup</var> is associated with <var>element</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node-document" id="ref-for-concept-node-document⑤">node document</a>, return <var>computedGroup</var>.</p>
    <li data-md>
     <p>Return <a class="css" data-link-type="maybe" href="#valdef-view-transition-group-normal" id="ref-for-valdef-view-transition-group-normal">normal</a>.</p>
   </ol>
  </div>
  <h4 class="heading settled" data-level="8.7.2" id="vt-containing-group-name-resolve"><span class="secno">8.7.2. </span><span class="content">Resolving the containing group name</span><a class="self-link" href="#vt-containing-group-name-resolve"></a></h4>
  <div class="algorithm" data-algorithm="resolve nearest containing group name">
   <p>To resolve the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="nearest-containing-group-name">nearest containing group name</dfn> of an <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element①">Element</a></code> <var>element</var>, perform the following steps given a <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition" id="ref-for-viewtransition①⑨">ViewTransition</a></code> <var>viewTransition</var>:</p>
   <ol>
    <li data-md>
     <p class="assertion">Assert: <var>element</var> participates in <var>viewTransition</var>.</p>
    <li data-md>
     <p>Let <var>ancestorGroup</var> be <var>element</var>’s nearest <a data-link-type="dfn" href="https://drafts.csswg.org/css-scoping-1/#flat-tree" id="ref-for-flat-tree">flat tree</a> <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-tree-ancestor" id="ref-for-concept-tree-ancestor">ancestor</a> who participates in <var>viewTransition</var> and whose <a data-link-type="dfn" href="#document-scoped-view-transition-group" id="ref-for-document-scoped-view-transition-group">document-scoped view transition group</a> is not <a class="css" data-link-type="maybe" href="#valdef-view-transition-group-normal" id="ref-for-valdef-view-transition-group-normal①">normal</a>.</p>
    <li data-md>
     <p>If <var>ancestorGroup</var> exists, return <var>ancestorGroup</var>’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#document-scoped-view-transition-name" id="ref-for-document-scoped-view-transition-name">document-scoped view transition name</a>.</p>
    <li data-md>
     <p>Return <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-view-transitions-1/#valdef-view-transition-name-none" id="ref-for-valdef-view-transition-name-none①">none</a>.</p>
   </ol>
  </div>
  <h4 class="heading settled" data-level="8.7.3" id="vt-group-name-resolve"><span class="secno">8.7.3. </span><span class="content">Resolving the group name</span><a class="self-link" href="#vt-group-name-resolve"></a></h4>
  <div class="algorithm" data-algorithm="resolve used group name">
   
To resolve the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="used-group-name">used group name</dfn> of an <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element②">Element</a></code> <var>element</var>, perform the following steps given a <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition" id="ref-for-viewtransition②⓪">ViewTransition</a></code> <var>transition</var>:


   <ol>
    <li data-md>
     <p class="assertion">Assert: <var>element</var> participates in <var>transition</var>.</p>
    <li data-md>
     <p>Let <var>group</var> be <var>element</var>’s <a data-link-type="dfn" href="#document-scoped-view-transition-group" id="ref-for-document-scoped-view-transition-group①">document-scoped view transition group</a>.</p>
    <li data-md>
     <p>Let <var>containingGroupName</var> be <var>element</var>’s <a data-link-type="dfn" href="#nearest-containing-group-name" id="ref-for-nearest-containing-group-name">nearest containing group name</a> given <var>transition</var>.</p>
    <li data-md>
     <p>Return the first matching statement, switching on <var>group</var>:</p>
   </ol>
   <dl>
    <dt data-md><dfn class="dfn-paneled css" data-dfn-for="view-transition-group" data-dfn-type="value" data-export id="valdef-view-transition-group-normal">normal</dfn>
    <dt data-md><dfn class="dfn-paneled css" data-dfn-for="view-transition-group" data-dfn-type="value" data-export id="valdef-view-transition-group-contain">contain</dfn>
    <dd data-md>
     <p><var>containingGroupName</var>.</p>
     <p class="note" role="note"><span class="marker">Note:</span> an element with <a class="css" data-link-type="maybe" href="#valdef-view-transition-group-contain" id="ref-for-valdef-view-transition-group-contain">contain</a> becomes the <a data-link-type="dfn" href="#nearest-containing-group-name" id="ref-for-nearest-containing-group-name①">nearest containing group name</a> for its descendants.</p>
    <dt data-md><dfn class="dfn-paneled css" data-dfn-for="view-transition-group" data-dfn-type="value" data-export id="valdef-view-transition-group-nearest">nearest</dfn>
    <dd data-md>
     <p>The <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#document-scoped-view-transition-name" id="ref-for-document-scoped-view-transition-name①">document-scoped view transition name</a> of the element’s nearest <a data-link-type="dfn" href="https://drafts.csswg.org/css-scoping-1/#flat-tree" id="ref-for-flat-tree①">flat tree</a> ancestor which participates in the <var>transition</var>.</p>
    <dt data-md><dfn class="dfn-paneled css" data-dfn-for="view-transition-group" data-dfn-type="value" data-export id="valdef-view-transition-group-custom-ident"><a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#identifier-value" id="ref-for-identifier-value①⑤">&lt;custom-ident></a></dfn>
    <dd data-md>
     <p><var>group</var> if the element has a <a data-link-type="dfn" href="https://drafts.csswg.org/css-scoping-1/#flat-tree" id="ref-for-flat-tree②">flat tree</a> <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-tree-ancestor" id="ref-for-concept-tree-ancestor①">ancestor</a> whose <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#document-scoped-view-transition-name" id="ref-for-document-scoped-view-transition-name②">document-scoped view transition name</a> is <var>group</var> and participates in <var>transition</var>; Otherwise <var>containingGroupName</var>.</p>
   </dl>
  </div>
  <h4 class="heading settled" data-level="8.7.4" id="vt-group-capture-old"><span class="secno">8.7.4. </span><span class="content">Compute the old <a class="property css" data-link-type="property" href="#propdef-view-transition-group" id="ref-for-propdef-view-transition-group⑧">view-transition-group</a></span><a class="self-link" href="#vt-group-capture-old"></a></h4>
  <div class="algorithm" data-algorithm="additional old capture steps (group)">
   
When  <a href="https://drafts.csswg.org/css-view-transitions-1/#capture-old-state-algorithm">capturing the old state for an element</a>, perform the following steps given a <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#captured-element" id="ref-for-captured-element④">captured element</a> <var>capturedElement</var>, a <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition" id="ref-for-viewtransition②①">ViewTransition</a></code> <var>transition</var>, and an <u class="link-error" data-lt="element" title="LINK ERROR: No &apos;dfn&apos; refs found for &apos;element&apos; with spec &apos;css22&apos;.">element</u> <var>element</var>:


   <ol>
    <li data-md>
     <p>Set <var>capturedElement</var>’s <a data-link-type="dfn" href="#captured-element-containing-group-name" id="ref-for-captured-element-containing-group-name">containing group name</a> to <var>element</var>’s <a data-link-type="dfn" href="#used-group-name" id="ref-for-used-group-name①">used group name</a> given <var>transition</var>.</p>
    <li data-md>
     <p>Set <var>capturedElement</var>’s <a data-link-type="dfn" href="#captured-element-old-border-width" id="ref-for-captured-element-old-border-width">old border width</a> to <var>element</var>’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#used-value" id="ref-for-used-value③">used</a> <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-backgrounds-3/#propdef-border-width" id="ref-for-propdef-border-width①">border-width</a>.</p>
   </ol>
  </div>
  <h4 class="heading settled" data-level="8.7.5" id="vt-group-capture-new"><span class="secno">8.7.5. </span><span class="content">Compute the new <a class="property css" data-link-type="property" href="#propdef-view-transition-group" id="ref-for-propdef-view-transition-group⑨">view-transition-group</a></span><a class="self-link" href="#vt-group-capture-new"></a></h4>
  <div class="algorithm" data-algorithm="additional new capture steps (group)">
   
When <a href="https://drafts.csswg.org/css-view-transitions-1/#capture-new-state-algorithm">capturing the new state for an element</a>, perform the following steps given a <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#captured-element" id="ref-for-captured-element⑤">captured element</a> <var>capturedElement</var> a <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition" id="ref-for-viewtransition②②">ViewTransition</a></code> <var>transition</var>, and an <u class="link-error" data-lt="element" title="LINK ERROR: No &apos;dfn&apos; refs found for &apos;element&apos; with spec &apos;css22&apos;.">element</u> <var>element</var>:


   <ol>
    <li data-md>
     <p>Set <var>capturedElement</var>’s <a data-link-type="dfn" href="#captured-element-containing-group-name" id="ref-for-captured-element-containing-group-name①">containing group name</a> to <var>element</var>’s <a data-link-type="dfn" href="#used-group-name" id="ref-for-used-group-name②">used group name</a> given <var>transition</var>.</p>
   </ol>
  </div>
  <h4 class="heading settled" data-level="8.7.6" id="vt-group-reparent"><span class="secno">8.7.6. </span><span class="content">Reparent a <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition-group" id="ref-for-selectordef-view-transition-group⑧">::view-transition-group()</a> to its specified containing group</span><a class="self-link" href="#vt-group-reparent"></a></h4>
  <div class="algorithm" data-algorithm="additional pseudo-element setup steps (group)">
   
When <a href="https://drafts.csswg.org/css-view-transitions-1/#setup-transition-pseudo-elements-algorithm">setting up the transition pseudo-element</a> for a <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#captured-element" id="ref-for-captured-element⑥">captured element</a> <var>capturedElement</var>, given a <var>transitionName</var> and a <var>transition</var>:


   <ol>
    <li data-md>
     <p>Let <var>containingGroupName</var> be <var>capturedElement</var>’s <a data-link-type="dfn" href="#captured-element-containing-group-name" id="ref-for-captured-element-containing-group-name②">containing group name</a>.</p>
    <li data-md>
     <p>If <var>containingGroupName</var> is null, return.</p>
    <li data-md>
     <p>Let <var>groupContainerElement</var> be <var>transition</var>’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition-named-elements" id="ref-for-viewtransition-named-elements③">named elements</a>[<var>containingGroupName</var>].</p>
    <li data-md>
     <p>Let <var>group</var> be the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition-group" id="ref-for-selectordef-view-transition-group⑨">::view-transition-group()</a>,
whose <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#view-transition-name" id="ref-for-view-transition-name">view transition name</a> is set to <var>transitionName</var>.</p>
    <li data-md>
     <p>Let <var>childrenContainerGroup</var> be the <a class="css" data-link-type="maybe" href="#selectordef-view-transition-group-children" id="ref-for-selectordef-view-transition-group-children④">::view-transition-group-children()</a> whose <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#view-transition-name" id="ref-for-view-transition-name①">view transition name</a> is set to <var>containingGroupName</var>.</p>
    <li data-md>
     <p>If <var>childrenContainerGroup</var> does not exist:
Generate it and append to the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition-group" id="ref-for-selectordef-view-transition-group①⓪">::view-transition-group()</a>,
whose <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#view-transition-name" id="ref-for-view-transition-name②">view transition name</a> is set to <var>containingGroupName</var>.</p>
    <li data-md>
     <p>Append <var>group</var> to <var>childrenContainerGroup</var>.</p>
    <li data-md>
     <p>When setting the animation keyframes given <var>transform</var>, <a data-link-type="dfn" href="#adjust-nested-view-transition-group-transform" id="ref-for-adjust-nested-view-transition-group-transform">adjust</a> <var>transform</var> given <var>groupContainerElement</var>.</p>
   </ol>
   <p class="note" role="note"><span class="marker">Note:</span> It is TBD how this is resolved when the old and new groups mismatch. See <a href="https://github.com/w3c/csswg-drafts/issues/10631">Issue 10631</a>.</p>
  </div>
  <h4 class="heading settled" data-level="8.7.7" id="vt-group-transform-adjust"><span class="secno">8.7.7. </span><span class="content">Adjust the group’s <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-1/#propdef-transform" id="ref-for-propdef-transform①">transform</a> to be relative to its containing <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition-group" id="ref-for-selectordef-view-transition-group①①">::view-transition-group()</a></span><a class="self-link" href="#vt-group-transform-adjust"></a></h4>
  <div class="algorithm" data-algorithm="additional pseudo-element style update steps (group)">
   
When <a href="https://drafts.csswg.org/css-view-transitions-1/#style-transition-pseudo-elements-algorithm">updating the style of the transition pseudo-element</a>, perform the following steps before setting the <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#captured-element-group-styles-rule" id="ref-for-captured-element-group-styles-rule">group styles rule</a>, given a <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#captured-element" id="ref-for-captured-element⑦">captured element</a> <var>capturedElement</var>, given a <var>transform</var> and a <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition" id="ref-for-viewtransition②③">ViewTransition</a></code> <var>transition</var>:


   <ol>
    <li data-md>
     <p>Let <var>childrenTransform</var> be <var>transform</var>.</p>
    <li data-md>
     <p>Set <var>capturedElement</var>’s <a data-link-type="dfn" href="#captured-element-transform-from-snapshot-containing-block" id="ref-for-captured-element-transform-from-snapshot-containing-block">transform from snapshot containing block</a> to <var>transform</var>.</p>
    <li data-md>
     <p>If <var>capturedElement</var>’s <a data-link-type="dfn" href="#captured-element-containing-group-name" id="ref-for-captured-element-containing-group-name③">containing group name</a> is not null, then:</p>
     <ol>
      <li data-md>
       <p>Let <var>groupContainerElement</var> be <var>transition</var>’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition-named-elements" id="ref-for-viewtransition-named-elements④">named elements</a>[<var>capturedElement</var>’s <a data-link-type="dfn" href="#captured-element-containing-group-name" id="ref-for-captured-element-containing-group-name④">containing group name</a>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="#adjust-nested-view-transition-group-transform" id="ref-for-adjust-nested-view-transition-group-transform①">Adjust</a> <var>transform</var> given <var>groupContainerElement</var>.</p>
     </ol>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="adjust-nested-view-transition-group-transform">adjust nested view transition group transform</dfn> given a <var>transform</var> and a <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#captured-element" id="ref-for-captured-element⑧">captured element</a> <var>groupContainerElement</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>childrenTransform</var> be <var>groupContainerElement</var>’s <a data-link-type="dfn" href="#captured-element-transform-from-snapshot-containing-block" id="ref-for-captured-element-transform-from-snapshot-containing-block①">transform from snapshot containing block</a>.</p>
    <li data-md>
     <p>If <var>childrenTransform</var> is null, set it to <var>groupContainerElement</var>’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#captured-element-old-transform" id="ref-for-captured-element-old-transform">old transform</a>.</p>
    <li data-md>
     <p>Translate <var>childrenTransform</var> by <var>groupContainerElement</var>’s <a data-link-type="dfn" href="#captured-element-old-border-width" id="ref-for-captured-element-old-border-width①">old border width</a>’s left and top components.</p>
    <li data-md>
     <p>Multiply <var>transform</var> by the inverse matrix of <var>childrenTransform</var>.</p>
   </ol>
  </div>
  <h2 class="no-num heading settled" id="priv"><span class="content">Privacy Considerations</span><a class="self-link" href="#priv"></a></h2>
  <p>This specification introduces no new privacy considerations.</p>
  <h2 class="no-num heading settled" id="sec"><span class="content">Security Considerations</span><a class="self-link" href="#sec"></a></h2>
  <p>To prevent cross-origin issues, at this point cross-document view transitions can only be enabled for
same-origin navigations. As discussed in <a href="https://github.com/WICG/view-transitions/issues/200">WICG/view-transitions#200</a>,
this still presents two potential threats:</p>
  <ol>
   <li data-md>
    <p>The <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-cross-origin-isolated-capability" id="ref-for-concept-settings-object-cross-origin-isolated-capability">cross-origin isolated capability</a> in both documents might be different.
This can cause a situation where a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document②⑤">Document</a></code> that is <span id="ref-for-concept-settings-object-cross-origin-isolated-capability①">cross-origin isolated</span>
can read image data from a document that is not cross-origin isolated. This is already mitigated in [[css-view-transitions-1#sec],
as the same restriction applies for captured cross-origin iframes.</p>
   <li data-md>
    <p>A same-origin navigation might still occur via a cross-origin redirect, e.g. <code>https://example.com</code>
links to <code>https://auth-provider.com/</code> which redirects back to <code>https://example.com/loggedin</code>.</p>
    <p>This can cause a (minor) situation where the cross-origin party would redirect the user to an
unexpected first-party URL, causing an unexpected transition and obfuscating that fact that there was a redirect.
To mitigate this, currently view transitions are disabled for navigations if the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document②⑥">Document</a></code> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#was-created-via-cross-origin-redirects" id="ref-for-was-created-via-cross-origin-redirects①">was created via cross-origin redirects</a>.
Note that this check doesn’t apply when the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document②⑦">Document</a></code> is being <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#reactivate-a-document" id="ref-for-reactivate-a-document">reactivated</a>, as in that case
the cross-origin redirect has already taken place.</p>
    <p class="note" role="note"><span class="marker">Note:</span> this only applies to server-side redirects. A client-side redirect, e.g. using
[^meta/http-equiv/refresh^], is equivalent to a new navigation.</p>
   <li data-md>
    <p>This feature exposes more information to CSS, as so far CSS was not aware of anything navigation-related.
This can raise concerns around safety 3rd-party CSS. However, as a general rule, 3rd-party stylesheets should come
from trusted sources to begin with, as CSS can learn about the document or change it in many ways.</p>
  </ol>
  <p>See <a href="https://github.com/w3c/csswg-drafts/issues/8684">Issue #8684</a> and
<a href="https://github.com/WICG/view-transitions/issues/200">WICG/view-transitions#200</a> for
detailed discussion.</p>
  <h2 class="no-num non-normative heading settled" id="changes"><span class="content">Appendix A. Changes</span><a class="self-link" href="#changes"></a></h2>
  <p>This appendix is <em>informative</em>.</p>
  <h3 class="heading settled" id="changes-since-2024-05-16"><span class="content">
Changes from <a href="https://www.w3.org/TR/2024/WD-css-view-transitions-2-20240516/">2024-05-16 Working Draft</a>
</span><a class="self-link" href="#changes-since-2024-05-16"></a></h3>
  <ul>
   <li data-md>
    <p>First pass at layered capture (<a href="https://github.com/w3c/csswg-drafts/issues/10585">#10585</a>)</p>
   <li data-md>
    <p>Allow transitions when traversing into a document that was created using cross-origin redirects (<a href="https://github.com/w3c/csswg-drafts/issues/11063">#11063</a>#11063)</p>
   <li data-md>
    <p>Clarify a few nesting details (<a href="https://github.com/w3c/csswg-drafts/issues/10780">#10780</a> and <a href="https://github.com/w3c/csswg-drafts/issues/10633">#10633</a>)</p>
   <li data-md>
    <p>Allow <code>auto</code> as a keyword for <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-view-transitions-1/#propdef-view-transition-name" id="ref-for-propdef-view-transition-name②①">view-transition-name</a> (<a href="https://github.com/w3c/csswg-drafts/issues/8320">#8320</a>)</p>
   <li data-md>
    <p>Clarify timeout behavior for inbound view transition (<a href="https://github.com/w3c/csswg-drafts/issues/10800">#10800</a>)</p>
   <li data-md>
    <p>When hiding the document, and inbound cross-document view transition should be skipped. (<a href="https://github.com/w3c/csswg-drafts/issues/9822">#9822</a>)</p>
   <li data-md>
    <p>Rename UpdateCallback to something more specific.</p>
   <li data-md>
    <p>Clarify that CSSViewTransitionRule returns an empty string for invalid/missing navigation descriptor (<a href="https://github.com/w3c/csswg-drafts/issues/10654">#10654</a>)</p>
   <li data-md>
    <p>Initial spec for nested view transitions (<a href="https://github.com/w3c/csswg-drafts/issues/10334">#10334</a>)</p>
   <li data-md>
    <p><code>view-transition-class</code> is a tree-scoped name (<a href="https://github.com/w3c/csswg-drafts/issues/10529">#10529</a>)</p>
   <li data-md>
    <p>Stop extending CSSRule with obsolete pattern (See <a href="https://github.com/w3c/csswg-drafts/issues/10606">#10606</a>)</p>
  </ul>
  <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">
Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>
  <h3 class="no-ref heading settled" id="w3c-conventions"><span class="content">
Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>
  <p>Conformance requirements are expressed with a combination of
    descriptive assertions and RFC 2119 terminology. The key words “MUST”,
    “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
    “RECOMMENDED”, “MAY”, and “OPTIONAL” in the normative parts of this
    document are to be interpreted as described in RFC 2119.
    However, for readability, these words do not appear in all uppercase
    letters in this specification.

    </p>
  <p>All of the text of this specification is normative except sections
    explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a></p>
  <p>Examples in this specification are introduced with the words “for example”
    or are set apart from the normative text with <code>class="example"</code>,
    like this:

    </p>
  <div class="example" id="w3c-example">
   <a class="self-link" href="#w3c-example"></a>
        
   <p>This is an example of an informative example.</p>
  </div>
  <p>Informative notes begin with the word “Note” and are set apart from the
    normative text with <code>class="note"</code>, like this:

    </p>
  <p class="note" role="note">Note, this is an informative note.</p>
  <p>Advisements are normative sections styled to evoke special attention and are
    set apart from other normative text with <code>&lt;strong class="advisement"></code>, like
    this:

    <strong class="advisement">
        UAs MUST provide an accessible alternative.
    </strong></p>
  <details class="wpt-tests-block" dir="ltr" lang="en" open>
   <summary>Tests</summary>
   <p>Tests relating to the content of this specification
                     may be documented in “Tests” blocks like this one.
                     Any such block is non-normative.</p>
   <ul class="wpt-tests-list"></ul>
   <hr>
  </details>
  <h3 class="no-ref heading settled" id="w3c-conformance-classes"><span class="content">
Conformance classes</span><a class="self-link" href="#w3c-conformance-classes"></a></h3>
  <p>Conformance to this specification
    is defined for three conformance classes:
    </p>
  <dl>
   <dt>style sheet
            
   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
            style sheet</a>.
        
   <dt>renderer
            
   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
            that interprets the semantics of a style sheet and renders
            documents that use them.
        
   <dt>authoring tool
            
   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
            that writes a style sheet.
    
  </dl>
  <p>A style sheet is conformant to this specification
    if all of its statements that use syntax defined in this module are valid
    according to the generic CSS grammar and the individual grammars of each
    feature defined in this module.

    </p>
  <p>A renderer is conformant to this specification
    if, in addition to interpreting the style sheet as defined by the
    appropriate specifications, it supports all the features defined
    by this specification by parsing them correctly
    and rendering the document accordingly. However, the inability of a
    UA to correctly render a document due to limitations of the device
    does not make the UA non-conformant. (For example, a UA is not
    required to render color on a monochrome monitor.)

    </p>
  <p>An authoring tool is conformant to this specification
    if it writes style sheets that are syntactically correct according to the
    generic CSS grammar and the individual grammars of each feature in
    this module, and meet all other conformance requirements of style sheets
    as described in this module.

</p>
  <h3 class="no-ref heading settled" id="w3c-partial"><span class="content">
Partial implementations</span><a class="self-link" href="#w3c-partial"></a></h3>
  <p>So that authors can exploit the forward-compatible parsing rules to
    assign fallback values, CSS renderers <strong>must</strong>
    treat as invalid (and <a href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignore
    as appropriate</a>) any at-rules, properties, property values, keywords,
    and other syntactic constructs for which they have no usable level of
    support. In particular, user agents <strong>must not</strong> selectively
    ignore unsupported component values and honor supported values in a single
    multi-value property declaration: if any value is considered invalid
    (as unsupported values must be), CSS requires that the entire declaration
    be ignored.</p>
  <h4 class="heading settled" id="w3c-conform-future-proofing"><span class="content">
Implementations of Unstable and Proprietary Features</span><a class="self-link" href="#w3c-conform-future-proofing"></a></h4>
  <p>To avoid clashes with future stable CSS features,
        the CSSWG recommends <a href="http://www.w3.org/TR/CSS/#future-proofing">following best practices</a> for the implementation of <a href="http://www.w3.org/TR/CSS/#unstable">unstable</a> features and <a href="http://www.w3.org/TR/CSS/#proprietary-extension">proprietary extensions</a> to CSS.

</p>
  <h3 class="no-ref heading settled" id="w3c-testing"><span class="content">
Non-experimental implementations</span><a class="self-link" href="#w3c-testing"></a></h3>
  <p>Once a specification reaches the Candidate Recommendation stage,
    non-experimental implementations are possible, and implementors should
    release an unprefixed implementation of any CR-level feature they
    can demonstrate to be correctly implemented according to spec.

    </p>
  <p>To establish and maintain the interoperability of CSS across
    implementations, the CSS Working Group requests that non-experimental
    CSS renderers submit an implementation report (and, if necessary, the
    testcases used for that implementation report) to the W3C before
    releasing an unprefixed implementation of any CSS features. Testcases
    submitted to W3C are subject to review and correction by the CSS
    Working Group.

    </p>
  <p>Further information on submitting testcases and implementation reports
    can be found from on the CSS Working Group’s website at
    <a href="http://www.w3.org/Style/CSS/Test/">http://www.w3.org/Style/CSS/Test/</a>.
    Questions should be directed to the
    <a href="http://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a>
    mailing list.</p>
  <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#viewtransition-active-types">active types</a><span>, in § 8.1.2</span>
   <li><a href="#active-view-transition-pseudo">:active-view-transition</a><span>, in § 3.3.1</span>
   <li><a href="#active-view-transition-type-pseudo">:active-view-transition-type()</a><span>, in § 3.3.2</span>
   <li><a href="#adjust-nested-view-transition-group-transform">adjust nested view transition group transform</a><span>, in § 8.7.7</span>
   <li>
    auto
    <ul>
     <li><a href="#view-transition-name-auto">dfn for view-transition-name</a><span>, in § 6.3</span>
     <li><a href="#valdef-view-transition-navigation-auto">value for @view-transition/navigation</a><span>, in § 2.3.2</span>
    </ul>
   <li><a href="#document-can-initiate-outbound-view-transition">can initiate outbound view transition</a><span>, in § 8.1.1</span>
   <li><a href="#captured-element-class-list">class list</a><span>, in § 8.2.1</span>
   <li><a href="#valdef-view-transition-group-contain">contain</a><span>, in § 8.7.3</span>
   <li><a href="#captured-element-containing-group-name">containing group name</a><span>, in § 8.2.1</span>
   <li><a href="#cssviewtransitionrule">CSSViewTransitionRule</a><span>, in § 2.3.3</span>
   <li><a href="#valdef-view-transition-group-custom-ident">&lt;custom-ident></a><span>, in § 8.7.3</span>
   <li><a href="#valdef-view-transition-class-custom-ident">&lt;custom-ident>+</a><span>, in § 4.3</span>
   <li><a href="#document-scoped-view-transition-group">document-scoped view transition group</a><span>, in § 8.7.1</span>
   <li><a href="#document-inbound-view-transition-params">inbound view transition params</a><span>, in § 8.1.1</span>
   <li><a href="#view-transition-params-initial-snapshot-containing-block-size">initial snapshot containing block size</a><span>, in § 8.1.3</span>
   <li><a href="#view-transition-params-named-elements">named elements</a><span>, in § 8.1.3</span>
   <li>
    navigation
    <ul>
     <li><a href="#dom-cssviewtransitionrule-navigation">attribute for CSSViewTransitionRule</a><span>, in § 2.3.3</span>
     <li><a href="#descdef-view-transition-navigation">descriptor for @view-transition</a><span>, in § 2.3.2</span>
     <li><a href="#view-transition-navigation">dfn for @view-transition</a><span>, in § 2.3.2</span>
    </ul>
   <li><a href="#navigation-can-trigger-a-cross-document-view-transition">navigation can trigger a cross-document view-transition?</a><span>, in § 8.4.1</span>
   <li><a href="#valdef-view-transition-group-nearest">nearest</a><span>, in § 8.7.3</span>
   <li><a href="#nearest-containing-group-name">nearest containing group name</a><span>, in § 8.7.2</span>
   <li>
    none
    <ul>
     <li><a href="#valdef-view-transition-navigation-none">value for @view-transition/navigation</a><span>, in § 2.3.2</span>
     <li><a href="#valdef-view-transition-class-none">value for view-transition-class</a><span>, in § 4.3</span>
    </ul>
   <li><a href="#valdef-view-transition-group-normal">normal</a><span>, in § 8.7.3</span>
   <li><a href="#captured-element-old-border-width">old border width</a><span>, in § 8.2.1</span>
   <li><a href="#viewtransition-outbound-post-capture-steps">outbound post-capture steps</a><span>, in § 8.1.2</span>
   <li><a href="#typedef-pt-class-selector">&lt;pt-class-selector></a><span>, in § 4.4</span>
   <li><a href="#typedef-pt-name-and-class-selector">&lt;pt-name-and-class-selector></a><span>, in § 4.4</span>
   <li><a href="#resolve-inbound-cross-document-view-transition">resolve inbound cross-document view-transition</a><span>, in § 8.5</span>
   <li><a href="#resolve-view-transition-rule">resolve @view-transition rule</a><span>, in § 8.3</span>
   <li><a href="#setup-cross-document-view-transition">setup cross-document view-transition</a><span>, in § 8.4.2</span>
   <li><a href="#dom-document-startviewtransition">startViewTransition()</a><span>, in § 5</span>
   <li><a href="#dom-document-startviewtransition">startViewTransition(callbackOptions)</a><span>, in § 5</span>
   <li><a href="#dictdef-startviewtransitionoptions">StartViewTransitionOptions</a><span>, in § 5</span>
   <li><a href="#captured-element-transform-from-snapshot-containing-block">transform from snapshot containing block</a><span>, in § 8.2.1</span>
   <li>
    types
    <ul>
     <li><a href="#dom-cssviewtransitionrule-types">attribute for CSSViewTransitionRule</a><span>, in § 2.3.3</span>
     <li><a href="#dom-viewtransition-types">attribute for ViewTransition</a><span>, in § 3.4</span>
     <li><a href="#descdef-view-transition-types">descriptor for @view-transition</a><span>, in § 3.5</span>
     <li><a href="#view-transition-types">dfn for @view-transition</a><span>, in § 3.5</span>
     <li><a href="#dom-startviewtransitionoptions-types">dict-member for StartViewTransitionOptions</a><span>, in § 5</span>
    </ul>
   <li><a href="#dom-startviewtransitionoptions-update">update</a><span>, in § 5</span>
   <li><a href="#update-the-opt-in-state-for-outbound-transitions">update the opt-in state for outbound transitions</a><span>, in § 8.4.3</span>
   <li><a href="#used-group-name">used group name</a><span>, in § 8.7.3</span>
   <li><a href="#at-view-transition-rule">@view-transition</a><span>, in § 2.3.1</span>
   <li><a href="#propdef-view-transition-class">view-transition-class</a><span>, in § 4.3</span>
   <li><a href="#propdef-view-transition-group">view-transition-group</a><span>, in § 7.3</span>
   <li><a href="#selectordef-view-transition-group-children">::view-transition-group-children()</a><span>, in § 7.3.1</span>
   <li><a href="#view-transition-params">view transition params</a><span>, in § 8.1.3</span>
   <li><a href="#viewtransitiontypeset">ViewTransitionTypeSet</a><span>, in § 3.4</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[CSS-BACKGROUNDS-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="c9ecad15">border-width</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-BORDERS-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="f24b672a">border-radius</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-CASCADE-5]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="9cd25054">computed value</span>
     <li><span class="dfn-paneled" id="a4eb3c57">used value</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-COLOR-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="91bfbe18">opacity</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-CONDITIONAL-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="5f1b7f60">@media</span>
     <li><span class="dfn-paneled" id="c1ebc639">@supports</span>
     <li><span class="dfn-paneled" id="bf3ca8a7">conditional group rule</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-MASKING-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="77f17203">clip-path</span>
     <li><span class="dfn-paneled" id="6821b177">mask-image</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-OVERFLOW-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="86928bde">overflow</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-SCOPING-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="22109b0e">flat tree</span>
     <li><span class="dfn-paneled" id="778f8dbd">tree-scoped name</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-SHADOW-PARTS-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="2988c385">::part()</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-SYNTAX-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="84252421">&lt;declaration-list></span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-TRANSFORMS-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="e2e08d07">transform</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-TRANSFORMS-2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="f73b681a">perspective</span>
     <li><span class="dfn-paneled" id="61fd84c3">transform-style</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-VALUES-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="68487d22">#</span>
     <li><span class="dfn-paneled" id="bedd9d42">+</span>
     <li><span class="dfn-paneled" id="e274345c">&lt;custom-ident></span>
     <li><span class="dfn-paneled" id="537cf076">?</span>
     <li><span class="dfn-paneled" id="6ec67710">|</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-VIEW-TRANSITIONS-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="5ebb2009">::view-transition</span>
     <li><span class="dfn-paneled" id="9814770c">::view-transition-group()</span>
     <li><span class="dfn-paneled" id="6c4d3172">::view-transition-image-pair()</span>
     <li><span class="dfn-paneled" id="fadeeede">::view-transition-new()</span>
     <li><span class="dfn-paneled" id="c5218d8b">::view-transition-old()</span>
     <li><span class="dfn-paneled" id="6cc8644a">&lt;pt-name-selector></span>
     <li><span class="dfn-paneled" id="a10a2aea">ViewTransition</span>
     <li><span class="dfn-paneled" id="ee751543">ViewTransitionUpdateCallback</span>
     <li><span class="dfn-paneled" id="6276ade8">activate view transition</span>
     <li><span class="dfn-paneled" id="2e7f3671">active view transition</span>
     <li><span class="dfn-paneled" id="23602f1b">capture the new state</span>
     <li><span class="dfn-paneled" id="305d5433">capture the old state</span>
     <li><span class="dfn-paneled" id="4f226624">captured element</span>
     <li><span class="dfn-paneled" id="be682052">document-scoped view transition name</span>
     <li><span class="dfn-paneled" id="ffb05a17">finished</span>
     <li><span class="dfn-paneled" id="16c25a9a">global view transition user agent style sheet</span>
     <li><span class="dfn-paneled" id="2bec68b0">group styles rule</span>
     <li><span class="dfn-paneled" id="aaad83a9">initial snapshot containing block size</span>
     <li><span class="dfn-paneled" id="e8cafa56">named elements</span>
     <li><span class="dfn-paneled" id="595edc27">named view transition pseudo-elements</span>
     <li><span class="dfn-paneled" id="91f28e34">none</span>
     <li><span class="dfn-paneled" id="41e15b0d">old transform</span>
     <li><span class="dfn-paneled" id="71fc2afb">perform pending transition operations</span>
     <li><span class="dfn-paneled" id="141739dd">phase</span>
     <li><span class="dfn-paneled" id="54b07ccc">ready</span>
     <li><span class="dfn-paneled" id="cec9f18b">rendering suppression for view transitions</span>
     <li><span class="dfn-paneled" id="f133e4b0">skip the view transition</span>
     <li><span class="dfn-paneled" id="e6497ee3">skipTransition()</span>
     <li><span class="dfn-paneled" id="6b429ea9">snapshot containing block</span>
     <li><span class="dfn-paneled" id="b37fbf45">startViewTransition(updateCallback)</span>
     <li><span class="dfn-paneled" id="b8cb4410">update callback</span>
     <li><span class="dfn-paneled" id="d30ba1d7">update callback done promise</span>
     <li><span class="dfn-paneled" id="4bbbd725">updateCallbackDone</span>
     <li><span class="dfn-paneled" id="0a4fa7a5">view transition name</span>
     <li><span class="dfn-paneled" id="bf38b6c1">view transition page-visibility change steps</span>
     <li><span class="dfn-paneled" id="d8558f07">view transition tree</span>
     <li><span class="dfn-paneled" id="f2415cbe">view transitions</span>
     <li><span class="dfn-paneled" id="ff8bd316">view-transition-name</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSSOM-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="5fced98b">CSSOMString</span>
     <li><span class="dfn-paneled" id="ebaeb088">CSSRule</span>
    </ul>
   <li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="85394472">Document</span>
     <li><span class="dfn-paneled" id="296f3551">Element</span>
     <li><span class="dfn-paneled" id="80159636">ancestor</span>
     <li><span class="dfn-paneled" id="84f47c16">child</span>
     <li><span class="dfn-paneled" id="705b4fd3">class</span>
     <li><span class="dfn-paneled" id="a973e0fe">document</span>
     <li><span class="dfn-paneled" id="a84c14c9">document <small>(for clone a node)</small></span>
     <li><span class="dfn-paneled" id="2f0ba72c">document element</span>
     <li><span class="dfn-paneled" id="6ea37aa1">ID</span>
     <li><span class="dfn-paneled" id="5216e1a0">node document</span>
     <li><span class="dfn-paneled" id="c62cd7cf">origin</span>
     <li><span class="dfn-paneled" id="f7960529">root</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FILTER-EFFECTS-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="9f184b64">filter</span>
    </ul>
   <li>
    <a data-link-type="biblio">[GEOMETRY-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="3fa202c4">matrix</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HR-TIME-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="4b2c8c72">duration</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="3560d057">HTMLLinkElement</span>
     <li><span class="dfn-paneled" id="a4c36929">NavigationType</span>
     <li><span class="dfn-paneled" id="1815821e">PageSwapEvent</span>
     <li><span class="dfn-paneled" id="0d02a1c8">activation</span>
     <li><span class="dfn-paneled" id="90c99c05">blocking <small>(for HTMLScriptElement)</small></span>
     <li><span class="dfn-paneled" id="787ad014">blocking <small>(for HTMLStyleElement)</small></span>
     <li><span class="dfn-paneled" id="473036cd">cross-origin isolated capability</span>
     <li><span class="dfn-paneled" id="e10e7eb7">DOM manipulation task source</span>
     <li><span class="dfn-paneled" id="265a80eb">expect</span>
     <li><span class="dfn-paneled" id="0e3ba9f8">fully active</span>
     <li><span class="dfn-paneled" id="6a40c011">has been revealed</span>
     <li><span class="dfn-paneled" id="a72449dd">in parallel</span>
     <li><span class="dfn-paneled" id="e8c066d1">latest entry</span>
     <li><span class="dfn-paneled" id="5a31d22c">pagereveal</span>
     <li><span class="dfn-paneled" id="1d314002">pageswap</span>
     <li><span class="dfn-paneled" id="c9ff317b">push</span>
     <li><span class="dfn-paneled" id="48438eb3">queue a global task</span>
     <li><span class="dfn-paneled" id="e93b877c">reactivate</span>
     <li><span class="dfn-paneled" id="e99bd18e">relevant global object</span>
     <li><span class="dfn-paneled" id="5991ccfb">relevant realm</span>
     <li><span class="dfn-paneled" id="6f5567e9">reload</span>
     <li><span class="dfn-paneled" id="43f1a6f1">render-blocking mechanism</span>
     <li><span class="dfn-paneled" id="6998ead7">rendering opportunity</span>
     <li><span class="dfn-paneled" id="6d273060">replace</span>
     <li><span class="dfn-paneled" id="7393da89">same origin</span>
     <li><span class="dfn-paneled" id="7a899a17">sessionStorage</span>
     <li><span class="dfn-paneled" id="e270bd2a">task</span>
     <li><span class="dfn-paneled" id="fa3348cc">traverse</span>
     <li><span class="dfn-paneled" id="55372230">viewTransition <small>(for PageRevealEvent)</small></span>
     <li><span class="dfn-paneled" id="34e73e3f">viewTransition <small>(for PageSwapEvent)</small></span>
     <li><span class="dfn-paneled" id="b4c365f8">visibility state</span>
     <li><span class="dfn-paneled" id="69516351">was created via cross-origin redirects</span>
    </ul>
   <li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="77b4c09a">assert</span>
     <li><span class="dfn-paneled" id="027e3e49">clone <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="ab3919d2">clone <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="ae8def21">contain</span>
     <li><span class="dfn-paneled" id="860300d4">implementation-defined</span>
     <li><span class="dfn-paneled" id="c88f3887">item</span>
     <li><span class="dfn-paneled" id="649608b9">list</span>
     <li><span class="dfn-paneled" id="3fca5a9e">map</span>
     <li><span class="dfn-paneled" id="15e48c39">set</span>
     <li><span class="dfn-paneled" id="984221ca">struct</span>
     <li><span class="dfn-paneled" id="0e8de730">tuple</span>
    </ul>
   <li>
    <a data-link-type="biblio">[SELECTORS-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="53a193f1">*</span>
    </ul>
   <li>
    <a data-link-type="biblio">[SELECTORS-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="223a826d">class selector</span>
     <li><span class="dfn-paneled" id="9bfc28f6">pseudo-element</span>
     <li><span class="dfn-paneled" id="33cbcfca">selector</span>
     <li><span class="dfn-paneled" id="bb2056aa">specificity</span>
     <li><span class="dfn-paneled" id="32c45571">type selector</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="d25dfb2c">AbortError</span>
     <li><span class="dfn-paneled" id="dca2de17">DOMException</span>
     <li><span class="dfn-paneled" id="8855a9aa">DOMString</span>
     <li><span class="dfn-paneled" id="889e932f">Exposed</span>
     <li><span class="dfn-paneled" id="dcf5fafa">FrozenArray</span>
     <li><span class="dfn-paneled" id="797018a7">InvalidStateError</span>
     <li><span class="dfn-paneled" id="a5c91173">SameObject</span>
     <li><span class="dfn-paneled" id="833154f2">getter steps</span>
     <li><span class="dfn-paneled" id="3024958b">method steps</span>
     <li><span class="dfn-paneled" id="3b90bdcd">resolve</span>
     <li><span class="dfn-paneled" id="9cce47fd">sequence</span>
     <li><span class="dfn-paneled" id="4013a022">this</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-css-backgrounds-3">[CSS-BACKGROUNDS-3]
   <dd>Elika Etemad; Brad Kemper. <a href="https://drafts.csswg.org/css-backgrounds/"><cite>CSS Backgrounds and Borders Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-backgrounds/">https://drafts.csswg.org/css-backgrounds/</a>
   <dt id="biblio-css-borders-4">[CSS-BORDERS-4]
   <dd>Elika Etemad; et al. <a href="https://drafts.csswg.org/css-borders-4/"><cite>CSS Borders and Box Decorations Module Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/css-borders-4/">https://drafts.csswg.org/css-borders-4/</a>
   <dt id="biblio-css-cascade-5">[CSS-CASCADE-5]
   <dd>Elika Etemad; Miriam Suzanne; Tab Atkins Jr.. <a href="https://drafts.csswg.org/css-cascade-5/"><cite>CSS Cascading and Inheritance Level 5</cite></a>. URL: <a href="https://drafts.csswg.org/css-cascade-5/">https://drafts.csswg.org/css-cascade-5/</a>
   <dt id="biblio-css-color-4">[CSS-COLOR-4]
   <dd>Chris Lilley; Tab Atkins Jr.; Lea Verou. <a href="https://drafts.csswg.org/css-color-4/"><cite>CSS Color Module Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/css-color-4/">https://drafts.csswg.org/css-color-4/</a>
   <dt id="biblio-css-masking-1">[CSS-MASKING-1]
   <dd>Dirk Schulze; Brian Birtles; Tab Atkins Jr.. <a href="https://drafts.fxtf.org/css-masking-1/"><cite>CSS Masking Module Level 1</cite></a>. URL: <a href="https://drafts.fxtf.org/css-masking-1/">https://drafts.fxtf.org/css-masking-1/</a>
   <dt id="biblio-css-overflow-3">[CSS-OVERFLOW-3]
   <dd>Elika Etemad; Florian Rivoal. <a href="https://drafts.csswg.org/css-overflow-3/"><cite>CSS Overflow Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-overflow-3/">https://drafts.csswg.org/css-overflow-3/</a>
   <dt id="biblio-css-scoping-1">[CSS-SCOPING-1]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://drafts.csswg.org/css-scoping/"><cite>CSS Scoping Module Level 1</cite></a>. URL: <a href="https://drafts.csswg.org/css-scoping/">https://drafts.csswg.org/css-scoping/</a>
   <dt id="biblio-css-syntax-3">[CSS-SYNTAX-3]
   <dd>Tab Atkins Jr.; Simon Sapin. <a href="https://drafts.csswg.org/css-syntax/"><cite>CSS Syntax Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-syntax/">https://drafts.csswg.org/css-syntax/</a>
   <dt id="biblio-css-transforms-1">[CSS-TRANSFORMS-1]
   <dd>Simon Fraser; et al. <a href="https://drafts.csswg.org/css-transforms/"><cite>CSS Transforms Module Level 1</cite></a>. URL: <a href="https://drafts.csswg.org/css-transforms/">https://drafts.csswg.org/css-transforms/</a>
   <dt id="biblio-css-transforms-2">[CSS-TRANSFORMS-2]
   <dd>Tab Atkins Jr.; et al. <a href="https://drafts.csswg.org/css-transforms-2/"><cite>CSS Transforms Module Level 2</cite></a>. URL: <a href="https://drafts.csswg.org/css-transforms-2/">https://drafts.csswg.org/css-transforms-2/</a>
   <dt id="biblio-css-values-4">[CSS-VALUES-4]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://drafts.csswg.org/css-values-4/"><cite>CSS Values and Units Module Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/css-values-4/">https://drafts.csswg.org/css-values-4/</a>
   <dt id="biblio-css-view-transitions-1">[CSS-VIEW-TRANSITIONS-1]
   <dd>Tab Atkins Jr.; Jake Archibald; Khushal Sagar. <a href="https://drafts.csswg.org/css-view-transitions-1/"><cite>CSS View Transitions Module Level 1</cite></a>. URL: <a href="https://drafts.csswg.org/css-view-transitions-1/">https://drafts.csswg.org/css-view-transitions-1/</a>
   <dt id="biblio-cssom-1">[CSSOM-1]
   <dd>Daniel Glazman; Emilio Cobos Álvarez. <a href="https://drafts.csswg.org/cssom/"><cite>CSS Object Model (CSSOM)</cite></a>. URL: <a href="https://drafts.csswg.org/cssom/">https://drafts.csswg.org/cssom/</a>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-filter-effects-1">[FILTER-EFFECTS-1]
   <dd>Dirk Schulze; Dean Jackson. <a href="https://drafts.fxtf.org/filter-effects-1/"><cite>Filter Effects Module Level 1</cite></a>. URL: <a href="https://drafts.fxtf.org/filter-effects-1/">https://drafts.fxtf.org/filter-effects-1/</a>
   <dt id="biblio-geometry-1">[GEOMETRY-1]
   <dd>Simon Pieters; Chris Harrelson. <a href="https://drafts.fxtf.org/geometry/"><cite>Geometry Interfaces Module Level 1</cite></a>. URL: <a href="https://drafts.fxtf.org/geometry/">https://drafts.fxtf.org/geometry/</a>
   <dt id="biblio-hr-time-3">[HR-TIME-3]
   <dd>Yoav Weiss. <a href="https://w3c.github.io/hr-time/"><cite>High Resolution Time</cite></a>. URL: <a href="https://w3c.github.io/hr-time/">https://w3c.github.io/hr-time/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
   <dt id="biblio-selectors-3">[SELECTORS-3]
   <dd>Tantek Çelik; et al. <a href="https://drafts.csswg.org/selectors-3/"><cite>Selectors Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/selectors-3/">https://drafts.csswg.org/selectors-3/</a>
   <dt id="biblio-selectors-4">[SELECTORS-4]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://drafts.csswg.org/selectors/"><cite>Selectors Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/selectors/">https://drafts.csswg.org/selectors/</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-css-conditional-3">[CSS-CONDITIONAL-3]
   <dd>Chris Lilley; David Baron; Elika Etemad. <a href="https://drafts.csswg.org/css-conditional-3/"><cite>CSS Conditional Rules Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-conditional-3/">https://drafts.csswg.org/css-conditional-3/</a>
   <dt id="biblio-css-shadow-parts-1">[CSS-SHADOW-PARTS-1]
   <dd>Tab Atkins Jr.; Fergal Daly. <a href="https://drafts.csswg.org/css-shadow-parts/"><cite>CSS Shadow Parts</cite></a>. URL: <a href="https://drafts.csswg.org/css-shadow-parts/">https://drafts.csswg.org/css-shadow-parts/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="property-index"><span class="content">Property Index</span><a class="self-link" href="#property-index"></a></h2>
  <div class="big-element-wrapper">
   <table class="index">
    <thead>
     <tr>
      <th scope="col">Name
      <th scope="col">Value
      <th scope="col">Initial
      <th scope="col">Applies to
      <th scope="col">Inh.
      <th scope="col">%ages
      <th scope="col">Anim­ation type
      <th scope="col">Canonical order
      <th scope="col">Com­puted value
    <tbody>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-view-transition-class" id="ref-for-propdef-view-transition-class⑨">view-transition-class</a>
      <td>none | &lt;custom-ident>+
      <td>none
      <td>all elements
      <td>no
      <td>n/a
      <td>discrete
      <td>per grammar
      <td>as specified
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-view-transition-group" id="ref-for-propdef-view-transition-group①⓪">view-transition-group</a>
      <td>normal | contain | nearest | &lt;custom-ident>
      <td>normal
      <td>all elements
      <td>no
      <td>n/a
      <td>discrete
      <td>per grammar
      <td>as specified
   </table>
  </div>
  <h3 class="no-num no-ref heading settled" id="view-transition-descriptor-table"><span class="content"><a class="css" data-link-type="at-rule" href="#at-view-transition-rule" id="ref-for-at-view-transition-rule①⑥">@view-transition</a> Descriptors</span><a class="self-link" href="#view-transition-descriptor-table"></a></h3>
  <div class="big-element-wrapper">
   <table class="index">
    <thead>
     <tr>
      <th scope="col">Name
      <th scope="col">Value
      <th scope="col">Initial
    <tbody>
     <tr>
      <th scope="row"><a class="css" data-link-type="descriptor" href="#descdef-view-transition-navigation" id="ref-for-descdef-view-transition-navigation">navigation</a>
      <td>auto | none
      <td>none
     <tr>
      <th scope="row"><a class="css" data-link-type="descriptor" href="#descdef-view-transition-types" id="ref-for-descdef-view-transition-types">types</a>
      <td>none | &lt;custom-ident>+
      <td>none
   </table>
  </div>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#cssviewtransitionrule"><code><c- g>CSSViewTransitionRule</c-></code></a> : <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssrule"><c- n>CSSRule</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a data-readonly data-type="CSSOMString" href="#dom-cssviewtransitionrule-navigation"><code><c- g>navigation</c-></code></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a>> <a data-readonly data-type="FrozenArray<CSSOMString>" href="#dom-cssviewtransitionrule-types"><code><c- g>types</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#viewtransitiontypeset"><code><c- g>ViewTransitionTypeSet</c-></code></a> {
  <c- b>setlike</c->&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition"><c- g>ViewTransition</c-></a> {
  <c- b>attribute</c-> <a data-link-type="idl-name" href="#viewtransitiontypeset"><c- n>ViewTransitionTypeSet</c-></a> <a data-type="ViewTransitionTypeSet" href="#dom-viewtransition-types"><code><c- g>types</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-startviewtransitionoptions"><code><c- g>StartViewTransitionOptions</c-></code></a> {
  <a data-link-type="idl-name" href="https://drafts.csswg.org/css-view-transitions-1/#callbackdef-viewtransitionupdatecallback"><c- n>ViewTransitionUpdateCallback</c-></a>? <a data-default="null" data-type="ViewTransitionUpdateCallback?" href="#dom-startviewtransitionoptions-update"><code><c- g>update</c-></code></a> = <c- b>null</c->;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>>? <a data-default="null" data-type="sequence<DOMString>?" href="#dom-startviewtransitionoptions-types"><code><c- g>types</c-></code></a> = <c- b>null</c->;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://dom.spec.whatwg.org/#document"><c- g>Document</c-></a> {
  <a data-link-type="idl-name" href="https://drafts.csswg.org/css-view-transitions-1/#viewtransition"><c- n>ViewTransition</c-></a> <a class="idl-code" data-link-type="method" href="#dom-document-startviewtransition"><c- g>startViewTransition</c-></a>(<c- b>optional</c-> (<a data-link-type="idl-name" href="https://drafts.csswg.org/css-view-transitions-1/#callbackdef-viewtransitionupdatecallback"><c- n>ViewTransitionUpdateCallback</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#dictdef-startviewtransitionoptions"><c- n>StartViewTransitionOptions</c-></a>) <a href="#dom-document-startviewtransition-callbackoptions-callbackoptions"><code><c- g>callbackOptions</c-></code></a> = {});
};

</pre>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> Though <a data-link-type="dfn" href="https://drafts.csswg.org/css-view-transitions-1/#capture-the-old-state">capture the old state</a> appears here as a synchronous step, it is in fact an asynchronous step
as rendering an element into an image cannot be done synchronously. This should be more explicit in the L1 spec. <a class="issue-return" href="#issue-ca114a78" title="Jump to section">↵</a></div>
  </div>
  <details class="mdn-anno unpositioned" data-anno-for="dom-document-startviewtransition">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/startViewTransition" title="The startViewTransition() method of the View Transitions API starts a new view transition and returns a ViewTransition object to represent it.">Document/startViewTransition</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>111+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>111+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
<script>/* Boilerplate: script-dom-helper */
"use strict";
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}</script>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
let dfnPanelData = {
"027e3e49": {"dfnID":"027e3e49","dfnText":"clone (for list)","external":true,"refSections":[{"refs":[{"id":"ref-for-list-clone"}],"title":"5. Extending document.startViewTransition()"}],"url":"https://infra.spec.whatwg.org/#list-clone"},
"0a4fa7a5": {"dfnID":"0a4fa7a5","dfnText":"view transition name","external":true,"refSections":[{"refs":[{"id":"ref-for-view-transition-name"},{"id":"ref-for-view-transition-name\u2460"},{"id":"ref-for-view-transition-name\u2461"}],"title":"8.7.6. Reparent a ::view-transition-group() to its specified containing group"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#view-transition-name"},
"0d02a1c8": {"dfnID":"0d02a1c8","dfnText":"activation","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-pageswapevent-activation"}],"title":"2.1.3.1. Handling the view transition in the old document"}],"url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-pageswapevent-activation"},
"0e3ba9f8": {"dfnID":"0e3ba9f8","dfnText":"fully active","external":true,"refSections":[{"refs":[{"id":"ref-for-fully-active"}],"title":"8.5. Activating the view transition in the new Document"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active"},
"0e8de730": {"dfnID":"0e8de730","dfnText":"tuple","external":true,"refSections":[{"refs":[{"id":"ref-for-tuple"}],"title":"8.1.3. Serializable view transition params"}],"url":"https://infra.spec.whatwg.org/#tuple"},
"141739dd": {"dfnID":"141739dd","dfnText":"phase","external":true,"refSections":[{"refs":[{"id":"ref-for-viewtransition-phase"}],"title":"8.4.2. Setup the outbound transition when ready to swap pages"},{"refs":[{"id":"ref-for-viewtransition-phase\u2460"}],"title":"8.4.5. Proceed with cross-document view transition after capturing the old state"},{"refs":[{"id":"ref-for-viewtransition-phase\u2461"}],"title":"8.5. Activating the view transition in the new Document"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#viewtransition-phase"},
"15e48c39": {"dfnID":"15e48c39","dfnText":"set","external":true,"refSections":[{"refs":[{"id":"ref-for-ordered-set"}],"title":"3.4. Changing the types of an ongoing view transition"},{"refs":[{"id":"ref-for-ordered-set\u2460"}],"title":"5. Extending document.startViewTransition()"},{"refs":[{"id":"ref-for-ordered-set\u2461"},{"id":"ref-for-ordered-set\u2462"}],"title":"8.3. Resolving the @view-transition rule"}],"url":"https://infra.spec.whatwg.org/#ordered-set"},
"16c25a9a": {"dfnID":"16c25a9a","dfnText":"global view transition user agent style sheet","external":true,"refSections":[{"refs":[{"id":"ref-for-global-view-transition-user-agent-style-sheet"}],"title":"7.4. User Agent Stylesheet # {#ua-styles}"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#global-view-transition-user-agent-style-sheet"},
"1815821e": {"dfnID":"1815821e","dfnText":"PageSwapEvent","external":true,"refSections":[{"refs":[{"id":"ref-for-pageswapevent"}],"title":"2.1.3.1. Handling the view transition in the old document"}],"url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#pageswapevent"},
"1d314002": {"dfnID":"1d314002","dfnText":"pageswap","external":true,"refSections":[{"refs":[{"id":"ref-for-event-pageswap"}],"title":"2.1.3.1. Handling the view transition in the old document"},{"refs":[{"id":"ref-for-event-pageswap\u2460"}],"title":"2.1.4. Lifecycle"},{"refs":[{"id":"ref-for-event-pageswap\u2461"}],"title":"5. Extending document.startViewTransition()"}],"url":"https://html.spec.whatwg.org/multipage/indices.html#event-pageswap"},
"22109b0e": {"dfnID":"22109b0e","dfnText":"flat tree","external":true,"refSections":[{"refs":[{"id":"ref-for-flat-tree"}],"title":"8.7.2. Resolving the containing group name"},{"refs":[{"id":"ref-for-flat-tree\u2460"},{"id":"ref-for-flat-tree\u2461"}],"title":"8.7.3. Resolving the group name"}],"url":"https://drafts.csswg.org/css-scoping-1/#flat-tree"},
"223a826d": {"dfnID":"223a826d","dfnText":"class selector","external":true,"refSections":[{"refs":[{"id":"ref-for-class-selector"}],"title":"4.1. Overview"}],"url":"https://drafts.csswg.org/selectors-4/#class-selector"},
"23602f1b": {"dfnID":"23602f1b","dfnText":"capture the new state","external":true,"refSections":[{"refs":[{"id":"ref-for-capture-the-new-state"}],"title":"2.1.4. Lifecycle"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#capture-the-new-state"},
"265a80eb": {"dfnID":"265a80eb","dfnText":"expect","external":true,"refSections":[{"refs":[{"id":"ref-for-link-type-expect"}],"title":"2.1.2. Waiting for the new state to stabilize"}],"url":"https://html.spec.whatwg.org/multipage/links.html#link-type-expect"},
"296f3551": {"dfnID":"296f3551","dfnText":"Element","external":true,"refSections":[{"refs":[{"id":"ref-for-element"}],"title":"8.7.1. Resolving the view-transition-group value"},{"refs":[{"id":"ref-for-element\u2460"}],"title":"8.7.2. Resolving the containing group name"},{"refs":[{"id":"ref-for-element\u2461"}],"title":"8.7.3. Resolving the group name"}],"url":"https://dom.spec.whatwg.org/#element"},
"2988c385": {"dfnID":"2988c385","dfnText":"::part()","external":true,"refSections":[{"refs":[{"id":"ref-for-selectordef-part"}],"title":"6.3. Additions to view-transition-name"}],"url":"https://drafts.csswg.org/css-shadow-parts-1/#selectordef-part"},
"2bec68b0": {"dfnID":"2bec68b0","dfnText":"group styles rule","external":true,"refSections":[{"refs":[{"id":"ref-for-captured-element-group-styles-rule"}],"title":"8.7.7. Adjust the group\u2019s transform to be relative to its containing ::view-transition-group()"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#captured-element-group-styles-rule"},
"2e7f3671": {"dfnID":"2e7f3671","dfnText":"active view transition","external":true,"refSections":[{"refs":[{"id":"ref-for-document-active-view-transition"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-document-active-view-transition\u2460"},{"id":"ref-for-document-active-view-transition\u2461"}],"title":"3.1. Overview"},{"refs":[{"id":"ref-for-document-active-view-transition\u2462"},{"id":"ref-for-document-active-view-transition\u2463"}],"title":"3.3.1. The :active-view-transition pseudo-class"},{"refs":[{"id":"ref-for-document-active-view-transition\u2464"},{"id":"ref-for-document-active-view-transition\u2465"}],"title":"3.3.2. The :active-view-transition-type() pseudo-class"},{"refs":[{"id":"ref-for-document-active-view-transition\u2466"}],"title":"5. Extending document.startViewTransition()"},{"refs":[{"id":"ref-for-document-active-view-transition\u2467"}],"title":"6.3. Additions to view-transition-name"},{"refs":[{"id":"ref-for-document-active-view-transition\u2468"},{"id":"ref-for-document-active-view-transition\u2460\u24ea"},{"id":"ref-for-document-active-view-transition\u2460\u2460"},{"id":"ref-for-document-active-view-transition\u2460\u2461"}],"title":"8.4.2. Setup the outbound transition when ready to swap pages"},{"refs":[{"id":"ref-for-document-active-view-transition\u2460\u2462"},{"id":"ref-for-document-active-view-transition\u2460\u2463"}],"title":"8.4.5. Proceed with cross-document view transition after capturing the old state"},{"refs":[{"id":"ref-for-document-active-view-transition\u2460\u2464"},{"id":"ref-for-document-active-view-transition\u2460\u2465"}],"title":"8.5. Activating the view transition in the new Document"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#document-active-view-transition"},
"2f0ba72c": {"dfnID":"2f0ba72c","dfnText":"document element","external":true,"refSections":[{"refs":[{"id":"ref-for-document-element"},{"id":"ref-for-document-element\u2460"}],"title":"3.1. Overview"},{"refs":[{"id":"ref-for-document-element\u2461"}],"title":"3.3.1. The :active-view-transition pseudo-class"},{"refs":[{"id":"ref-for-document-element\u2462"}],"title":"3.3.2. The :active-view-transition-type() pseudo-class"}],"url":"https://dom.spec.whatwg.org/#document-element"},
"3024958b": {"dfnID":"3024958b","dfnText":"method steps","external":true,"refSections":[{"refs":[{"id":"ref-for-method-steps"},{"id":"ref-for-method-steps\u2460"}],"title":"5. Extending document.startViewTransition()"}],"url":"https://webidl.spec.whatwg.org/#method-steps"},
"305d5433": {"dfnID":"305d5433","dfnText":"capture the old state","external":true,"refSections":[{"refs":[{"id":"ref-for-capture-the-old-state"}],"title":"2.1.4. Lifecycle"},{"refs":[{"id":"ref-for-capture-the-old-state\u2460"},{"id":"ref-for-capture-the-old-state\u2461"}],"title":"8.4.5. Proceed with cross-document view transition after capturing the old state"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#capture-the-old-state"},
"32c45571": {"dfnID":"32c45571","dfnText":"type selector","external":true,"refSections":[{"refs":[{"id":"ref-for-type-selector"}],"title":"4.4. Additions to named view transition pseudo-elements"}],"url":"https://drafts.csswg.org/selectors-4/#type-selector"},
"33cbcfca": {"dfnID":"33cbcfca","dfnText":"selector","external":true,"refSections":[{"refs":[{"id":"ref-for-selector"},{"id":"ref-for-selector\u2460"},{"id":"ref-for-selector\u2461"}],"title":"4.4. Additions to named view transition pseudo-elements"}],"url":"https://drafts.csswg.org/selectors-4/#selector"},
"34e73e3f": {"dfnID":"34e73e3f","dfnText":"viewTransition (for PageSwapEvent)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-pageswapevent-viewtransition"}],"title":"2.1.3.1. Handling the view transition in the old document"},{"refs":[{"id":"ref-for-dom-pageswapevent-viewtransition\u2460"}],"title":"2.1.4. Lifecycle"}],"url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-pageswapevent-viewtransition"},
"3560d057": {"dfnID":"3560d057","dfnText":"HTMLLinkElement","external":true,"refSections":[{"refs":[{"id":"ref-for-htmllinkelement"}],"title":"2.1.2. Waiting for the new state to stabilize"}],"url":"https://html.spec.whatwg.org/multipage/semantics.html#htmllinkelement"},
"3b90bdcd": {"dfnID":"3b90bdcd","dfnText":"resolve","external":true,"refSections":[{"refs":[{"id":"ref-for-resolve"}],"title":"8.5. Activating the view transition in the new Document"}],"url":"https://webidl.spec.whatwg.org/#resolve"},
"3fa202c4": {"dfnID":"3fa202c4","dfnText":"matrix","external":true,"refSections":[{"refs":[{"id":"ref-for-matrix"}],"title":"8.2.1. Captured elements extension"}],"url":"https://drafts.fxtf.org/geometry-1/#matrix"},
"3fca5a9e": {"dfnID":"3fca5a9e","dfnText":"map","external":true,"refSections":[{"refs":[{"id":"ref-for-ordered-map"}],"title":"8.1.3. Serializable view transition params"}],"url":"https://infra.spec.whatwg.org/#ordered-map"},
"4013a022": {"dfnID":"4013a022","dfnText":"this","external":true,"refSections":[{"refs":[{"id":"ref-for-this"}],"title":"3.4. Changing the types of an ongoing view transition"}],"url":"https://webidl.spec.whatwg.org/#this"},
"41e15b0d": {"dfnID":"41e15b0d","dfnText":"old transform","external":true,"refSections":[{"refs":[{"id":"ref-for-captured-element-old-transform"}],"title":"8.7.7. Adjust the group\u2019s transform to be relative to its containing ::view-transition-group()"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#captured-element-old-transform"},
"43f1a6f1": {"dfnID":"43f1a6f1","dfnText":"render-blocking mechanism","external":true,"refSections":[{"refs":[{"id":"ref-for-render-blocking-mechanism"}],"title":"2.1.2. Waiting for the new state to stabilize"}],"url":"https://html.spec.whatwg.org/multipage/dom.html#render-blocking-mechanism"},
"473036cd": {"dfnID":"473036cd","dfnText":"cross-origin isolated capability","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-settings-object-cross-origin-isolated-capability"},{"id":"ref-for-concept-settings-object-cross-origin-isolated-capability\u2460"}],"title":"Security Considerations"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-cross-origin-isolated-capability"},
"48438eb3": {"dfnID":"48438eb3","dfnText":"queue a global task","external":true,"refSections":[{"refs":[{"id":"ref-for-queue-a-global-task"}],"title":"8.4.2. Setup the outbound transition when ready to swap pages"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"},
"4b2c8c72": {"dfnID":"4b2c8c72","dfnText":"duration","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-duration"}],"title":"8.4.2. Setup the outbound transition when ready to swap pages"}],"url":"https://w3c.github.io/hr-time/#dfn-duration"},
"4bbbd725": {"dfnID":"4bbbd725","dfnText":"updateCallbackDone","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-viewtransition-updatecallbackdone"}],"title":"2.1.4. Lifecycle"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#dom-viewtransition-updatecallbackdone"},
"4f226624": {"dfnID":"4f226624","dfnText":"captured element","external":true,"refSections":[{"refs":[{"id":"ref-for-captured-element"}],"title":"2.1.4. Lifecycle"},{"refs":[{"id":"ref-for-captured-element\u2460"}],"title":"8.1.3. Serializable view transition params"},{"refs":[{"id":"ref-for-captured-element\u2461"}],"title":"8.2.1. Captured elements extension"},{"refs":[{"id":"ref-for-captured-element\u2462"}],"title":"8.6. Capturing the view-transition-class"},{"refs":[{"id":"ref-for-captured-element\u2463"}],"title":"8.7.4. Compute the old view-transition-group"},{"refs":[{"id":"ref-for-captured-element\u2464"}],"title":"8.7.5. Compute the new view-transition-group"},{"refs":[{"id":"ref-for-captured-element\u2465"}],"title":"8.7.6. Reparent a ::view-transition-group() to its specified containing group"},{"refs":[{"id":"ref-for-captured-element\u2466"},{"id":"ref-for-captured-element\u2467"}],"title":"8.7.7. Adjust the group\u2019s transform to be relative to its containing ::view-transition-group()"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#captured-element"},
"5216e1a0": {"dfnID":"5216e1a0","dfnText":"node document","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-node-document"}],"title":"3.3.1. The :active-view-transition pseudo-class"},{"refs":[{"id":"ref-for-concept-node-document\u2460"}],"title":"3.3.2. The :active-view-transition-type() pseudo-class"},{"refs":[{"id":"ref-for-concept-node-document\u2461"},{"id":"ref-for-concept-node-document\u2462"}],"title":"6.3. Additions to view-transition-name"},{"refs":[{"id":"ref-for-concept-node-document\u2463"}],"title":"8.6. Capturing the view-transition-class"},{"refs":[{"id":"ref-for-concept-node-document\u2464"}],"title":"8.7.1. Resolving the view-transition-group value"}],"url":"https://dom.spec.whatwg.org/#concept-node-document"},
"537cf076": {"dfnID":"537cf076","dfnText":"?","external":true,"refSections":[{"refs":[{"id":"ref-for-mult-opt"}],"title":"4.4. Additions to named view transition pseudo-elements"}],"url":"https://drafts.csswg.org/css-values-4/#mult-opt"},
"53a193f1": {"dfnID":"53a193f1","dfnText":"*","external":true,"refSections":[{"refs":[{"id":"ref-for-x"}],"title":"4.4. Additions to named view transition pseudo-elements"}],"url":"https://drafts.csswg.org/selectors-3/#x"},
"54b07ccc": {"dfnID":"54b07ccc","dfnText":"ready","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-viewtransition-ready"}],"title":"2.1.3.2. Handling the view transition in the new document"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#dom-viewtransition-ready"},
"55372230": {"dfnID":"55372230","dfnText":"viewTransition (for PageRevealEvent)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-pagerevealevent-viewtransition"}],"title":"2.1.3.2. Handling the view transition in the new document"},{"refs":[{"id":"ref-for-dom-pagerevealevent-viewtransition\u2460"}],"title":"2.1.4. Lifecycle"}],"url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-pagerevealevent-viewtransition"},
"595edc27": {"dfnID":"595edc27","dfnText":"named view transition pseudo-elements","external":true,"refSections":[{"refs":[{"id":"ref-for-named-view-transition-pseudo-elements"}],"title":"4.1. Overview"},{"refs":[{"id":"ref-for-named-view-transition-pseudo-elements\u2460"},{"id":"ref-for-named-view-transition-pseudo-elements\u2461"},{"id":"ref-for-named-view-transition-pseudo-elements\u2462"}],"title":"4.3. The view-transition-class property"},{"refs":[{"id":"ref-for-named-view-transition-pseudo-elements\u2463"},{"id":"ref-for-named-view-transition-pseudo-elements\u2464"},{"id":"ref-for-named-view-transition-pseudo-elements\u2465"},{"id":"ref-for-named-view-transition-pseudo-elements\u2466"}],"title":"4.4. Additions to named view transition pseudo-elements"},{"refs":[{"id":"ref-for-named-view-transition-pseudo-elements\u2467"},{"id":"ref-for-named-view-transition-pseudo-elements\u2468"}],"title":"7.3. The view-transition-group property"},{"refs":[{"id":"ref-for-named-view-transition-pseudo-elements\u2460\u24ea"}],"title":"7.3.1. View Transition Tree Root: the ::view-transition-group-children pseudo-element"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#named-view-transition-pseudo-elements"},
"5991ccfb": {"dfnID":"5991ccfb","dfnText":"relevant realm","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-relevant-realm"}],"title":"5. Extending document.startViewTransition()"},{"refs":[{"id":"ref-for-concept-relevant-realm\u2460"},{"id":"ref-for-concept-relevant-realm\u2461"}],"title":"8.4.2. Setup the outbound transition when ready to swap pages"},{"refs":[{"id":"ref-for-concept-relevant-realm\u2462"}],"title":"8.5. Activating the view transition in the new Document"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"},
"5a31d22c": {"dfnID":"5a31d22c","dfnText":"pagereveal","external":true,"refSections":[{"refs":[{"id":"ref-for-event-pagereveal"}],"title":"2.1.3.2. Handling the view transition in the new document"},{"refs":[{"id":"ref-for-event-pagereveal\u2460"}],"title":"2.1.4. Lifecycle"},{"refs":[{"id":"ref-for-event-pagereveal\u2461"}],"title":"2.2. Examples"},{"refs":[{"id":"ref-for-event-pagereveal\u2462"},{"id":"ref-for-event-pagereveal\u2463"},{"id":"ref-for-event-pagereveal\u2464"}],"title":"8.4.2. Setup the outbound transition when ready to swap pages"}],"url":"https://html.spec.whatwg.org/multipage/indices.html#event-pagereveal"},
"5ebb2009": {"dfnID":"5ebb2009","dfnText":"::view-transition","external":true,"refSections":[{"refs":[{"id":"ref-for-selectordef-view-transition"}],"title":"7.1. Overview"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition"},
"5f1b7f60": {"dfnID":"5f1b7f60","dfnText":"@media","external":true,"refSections":[{"refs":[{"id":"ref-for-at-ruledef-media"}],"title":"2.3.1. The @view-transition rule"}],"url":"https://drafts.csswg.org/css-conditional-3/#at-ruledef-media"},
"5fced98b": {"dfnID":"5fced98b","dfnText":"CSSOMString","external":true,"refSections":[{"refs":[{"id":"ref-for-cssomstring"},{"id":"ref-for-cssomstring\u2460"}],"title":"2.3.3. Accessing the @view-transition rule using CSSOM"}],"url":"https://drafts.csswg.org/cssom-1/#cssomstring"},
"61fd84c3": {"dfnID":"61fd84c3","dfnText":"transform-style","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-transform-style"}],"title":"7.1. Overview"}],"url":"https://drafts.csswg.org/css-transforms-2/#propdef-transform-style"},
"6276ade8": {"dfnID":"6276ade8","dfnText":"activate view transition","external":true,"refSections":[{"refs":[{"id":"ref-for-activate-view-transition"}],"title":"2.1.4. Lifecycle"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#activate-view-transition"},
"649608b9": {"dfnID":"649608b9","dfnText":"list","external":true,"refSections":[{"refs":[{"id":"ref-for-list"}],"title":"2.3.3. Accessing the @view-transition rule using CSSOM"},{"refs":[{"id":"ref-for-list\u2460"}],"title":"8.2.1. Captured elements extension"}],"url":"https://infra.spec.whatwg.org/#list"},
"6821b177": {"dfnID":"6821b177","dfnText":"mask-image","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-mask-image"}],"title":"7.1. Overview"}],"url":"https://drafts.fxtf.org/css-masking-1/#propdef-mask-image"},
"68487d22": {"dfnID":"68487d22","dfnText":"#","external":true,"refSections":[{"refs":[{"id":"ref-for-mult-comma"}],"title":"3.3.2. The :active-view-transition-type() pseudo-class"}],"url":"https://drafts.csswg.org/css-values-4/#mult-comma"},
"69516351": {"dfnID":"69516351","dfnText":"was created via cross-origin redirects","external":true,"refSections":[{"refs":[{"id":"ref-for-was-created-via-cross-origin-redirects"}],"title":"8.4.1. Check eligibility for outbound cross-document view transition"},{"refs":[{"id":"ref-for-was-created-via-cross-origin-redirects\u2460"}],"title":"Security Considerations"}],"url":"https://html.spec.whatwg.org/multipage/dom.html#was-created-via-cross-origin-redirects"},
"6998ead7": {"dfnID":"6998ead7","dfnText":"rendering opportunity","external":true,"refSections":[{"refs":[{"id":"ref-for-rendering-opportunity"}],"title":"2.1.4. Lifecycle"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#rendering-opportunity"},
"6a40c011": {"dfnID":"6a40c011","dfnText":"has been revealed","external":true,"refSections":[{"refs":[{"id":"ref-for-has-been-revealed"}],"title":"8.4.3. Update the opt-in flag to reflect the current state"},{"refs":[{"id":"ref-for-has-been-revealed\u2460"}],"title":"8.5. Activating the view transition in the new Document"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#has-been-revealed"},
"6b429ea9": {"dfnID":"6b429ea9","dfnText":"snapshot containing block","external":true,"refSections":[{"refs":[{"id":"ref-for-snapshot-containing-block"}],"title":"7.1. Overview"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#snapshot-containing-block"},
"6c4d3172": {"dfnID":"6c4d3172","dfnText":"::view-transition-image-pair()","external":true,"refSections":[{"refs":[{"id":"ref-for-selectordef-view-transition-image-pair"}],"title":"4.3. The view-transition-class property"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition-image-pair"},
"6cc8644a": {"dfnID":"6cc8644a","dfnText":"<pt-name-selector>","external":true,"refSections":[{"refs":[{"id":"ref-for-typedef-pt-name-selector"},{"id":"ref-for-typedef-pt-name-selector\u2460"},{"id":"ref-for-typedef-pt-name-selector\u2461"},{"id":"ref-for-typedef-pt-name-selector\u2462"}],"title":"4.4. Additions to named view transition pseudo-elements"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#typedef-pt-name-selector"},
"6d273060": {"dfnID":"6d273060","dfnText":"replace","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-navigationtype-replace"}],"title":"2.3.2. The navigation descriptor"}],"url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-navigationtype-replace"},
"6ea37aa1": {"dfnID":"6ea37aa1","dfnText":"ID","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-id"}],"title":"6.1. Overview"},{"refs":[{"id":"ref-for-concept-id\u2460"}],"title":"6.2. Examples"},{"refs":[{"id":"ref-for-concept-id\u2461"},{"id":"ref-for-concept-id\u2462"},{"id":"ref-for-concept-id\u2463"}],"title":"6.3. Additions to view-transition-name"}],"url":"https://dom.spec.whatwg.org/#concept-id"},
"6ec67710": {"dfnID":"6ec67710","dfnText":"|","external":true,"refSections":[{"refs":[{"id":"ref-for-comb-one"}],"title":"2.3.2. The navigation descriptor"},{"refs":[{"id":"ref-for-comb-one\u2460"}],"title":"3.5. Activating the transition type for cross-document view transitions"},{"refs":[{"id":"ref-for-comb-one\u2461"}],"title":"4.3. The view-transition-class property"},{"refs":[{"id":"ref-for-comb-one\u2462"}],"title":"4.4. Additions to named view transition pseudo-elements"},{"refs":[{"id":"ref-for-comb-one\u2463"},{"id":"ref-for-comb-one\u2464"},{"id":"ref-for-comb-one\u2465"}],"title":"7.3. The view-transition-group property"}],"url":"https://drafts.csswg.org/css-values-4/#comb-one"},
"6f5567e9": {"dfnID":"6f5567e9","dfnText":"reload","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-navigationtype-reload"}],"title":"2.3.2. The navigation descriptor"},{"refs":[{"id":"ref-for-dom-navigationtype-reload\u2460"}],"title":"8.4.1. Check eligibility for outbound cross-document view transition"}],"url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-navigationtype-reload"},
"705b4fd3": {"dfnID":"705b4fd3","dfnText":"class","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-class"},{"id":"ref-for-concept-class\u2460"}],"title":"4.1. Overview"}],"url":"https://dom.spec.whatwg.org/#concept-class"},
"71fc2afb": {"dfnID":"71fc2afb","dfnText":"perform pending transition operations","external":true,"refSections":[{"refs":[{"id":"ref-for-perform-pending-transition-operations"}],"title":"8.4.2. Setup the outbound transition when ready to swap pages"},{"refs":[{"id":"ref-for-perform-pending-transition-operations\u2460"}],"title":"8.4.5. Proceed with cross-document view transition after capturing the old state"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#perform-pending-transition-operations"},
"7393da89": {"dfnID":"7393da89","dfnText":"same origin","external":true,"refSections":[{"refs":[{"id":"ref-for-same-origin"}],"title":"2.1.1. Activation"},{"refs":[{"id":"ref-for-same-origin\u2460"}],"title":"2.1.4. Lifecycle"},{"refs":[{"id":"ref-for-same-origin\u2461"}],"title":"8.4.1. Check eligibility for outbound cross-document view transition"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#same-origin"},
"778f8dbd": {"dfnID":"778f8dbd","dfnText":"tree-scoped name","external":true,"refSections":[{"refs":[{"id":"ref-for-css-tree-scoped-name"}],"title":"4.3. The view-transition-class property"},{"refs":[{"id":"ref-for-css-tree-scoped-name\u2460"}],"title":"6.3. Additions to view-transition-name"}],"url":"https://drafts.csswg.org/css-scoping-1/#css-tree-scoped-name"},
"77b4c09a": {"dfnID":"77b4c09a","dfnText":"assert","external":true,"refSections":[{"refs":[{"id":"ref-for-assert"},{"id":"ref-for-assert\u2460"}],"title":"8.4.2. Setup the outbound transition when ready to swap pages"},{"refs":[{"id":"ref-for-assert\u2461"},{"id":"ref-for-assert\u2462"}],"title":"8.5. Activating the view transition in the new Document"}],"url":"https://infra.spec.whatwg.org/#assert"},
"77f17203": {"dfnID":"77f17203","dfnText":"clip-path","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-clip-path"}],"title":"7.1. Overview"}],"url":"https://drafts.fxtf.org/css-masking-1/#propdef-clip-path"},
"787ad014": {"dfnID":"787ad014","dfnText":"blocking (for HTMLStyleElement)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-style-blocking"}],"title":"2.1.2. Waiting for the new state to stabilize"}],"url":"https://html.spec.whatwg.org/multipage/semantics.html#dom-style-blocking"},
"797018a7": {"dfnID":"797018a7","dfnText":"InvalidStateError","external":true,"refSections":[{"refs":[{"id":"ref-for-invalidstateerror"}],"title":"5. Extending document.startViewTransition()"}],"url":"https://webidl.spec.whatwg.org/#invalidstateerror"},
"7a899a17": {"dfnID":"7a899a17","dfnText":"sessionStorage","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-sessionstorage"}],"title":"2.2. Examples"}],"url":"https://html.spec.whatwg.org/multipage/webstorage.html#dom-sessionstorage"},
"80159636": {"dfnID":"80159636","dfnText":"ancestor","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-tree-ancestor"}],"title":"8.7.2. Resolving the containing group name"},{"refs":[{"id":"ref-for-concept-tree-ancestor\u2460"}],"title":"8.7.3. Resolving the group name"}],"url":"https://dom.spec.whatwg.org/#concept-tree-ancestor"},
"833154f2": {"dfnID":"833154f2","dfnText":"getter steps","external":true,"refSections":[{"refs":[{"id":"ref-for-getter-steps"}],"title":"3.4. Changing the types of an ongoing view transition"}],"url":"https://webidl.spec.whatwg.org/#getter-steps"},
"84252421": {"dfnID":"84252421","dfnText":"<declaration-list>","external":true,"refSections":[{"refs":[{"id":"ref-for-typedef-declaration-list"}],"title":"2.3.1. The @view-transition rule"}],"url":"https://drafts.csswg.org/css-syntax-3/#typedef-declaration-list"},
"84f47c16": {"dfnID":"84f47c16","dfnText":"child","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-tree-child"}],"title":"7.3.1. View Transition Tree Root: the ::view-transition-group-children pseudo-element"}],"url":"https://dom.spec.whatwg.org/#concept-tree-child"},
"85394472": {"dfnID":"85394472","dfnText":"Document","external":true,"refSections":[{"refs":[{"id":"ref-for-document"},{"id":"ref-for-document\u2460"},{"id":"ref-for-document\u2461"},{"id":"ref-for-document\u2462"},{"id":"ref-for-document\u2463"},{"id":"ref-for-document\u2464"},{"id":"ref-for-document\u2465"},{"id":"ref-for-document\u2466"},{"id":"ref-for-document\u2467"}],"title":"2.1.4. Lifecycle"},{"refs":[{"id":"ref-for-document\u2468"}],"title":"2.3.1. The @view-transition rule"},{"refs":[{"id":"ref-for-document\u2460\u24ea"}],"title":"3.5. Activating the transition type for cross-document view transitions"},{"refs":[{"id":"ref-for-document\u2460\u2460"}],"title":"5. Extending document.startViewTransition()"},{"refs":[{"id":"ref-for-document\u2460\u2461"}],"title":"6.3. Additions to view-transition-name"},{"refs":[{"id":"ref-for-document\u2460\u2462"},{"id":"ref-for-document\u2460\u2463"}],"title":"8.1.1. Additions to Document"},{"refs":[{"id":"ref-for-document\u2460\u2464"}],"title":"8.3. Resolving the @view-transition rule"},{"refs":[{"id":"ref-for-document\u2460\u2465"}],"title":"8.4. Setting up the view transition in the old Document"},{"refs":[{"id":"ref-for-document\u2460\u2466"},{"id":"ref-for-document\u2460\u2467"}],"title":"8.4.1. Check eligibility for outbound cross-document view transition"},{"refs":[{"id":"ref-for-document\u2460\u2468"},{"id":"ref-for-document\u2461\u24ea"}],"title":"8.4.2. Setup the outbound transition when ready to swap pages"},{"refs":[{"id":"ref-for-document\u2461\u2460"}],"title":"8.4.3. Update the opt-in flag to reflect the current state"},{"refs":[{"id":"ref-for-document\u2461\u2461"}],"title":"8.4.5. Proceed with cross-document view transition after capturing the old state"},{"refs":[{"id":"ref-for-document\u2461\u2462"},{"id":"ref-for-document\u2461\u2463"}],"title":"8.5. Activating the view transition in the new Document"},{"refs":[{"id":"ref-for-document\u2461\u2464"},{"id":"ref-for-document\u2461\u2465"},{"id":"ref-for-document\u2461\u2466"}],"title":"Security Considerations"}],"url":"https://dom.spec.whatwg.org/#document"},
"860300d4": {"dfnID":"860300d4","dfnText":"implementation-defined","external":true,"refSections":[{"refs":[{"id":"ref-for-implementation-defined"}],"title":"8.4.1. Check eligibility for outbound cross-document view transition"},{"refs":[{"id":"ref-for-implementation-defined\u2460"}],"title":"8.4.2. Setup the outbound transition when ready to swap pages"}],"url":"https://infra.spec.whatwg.org/#implementation-defined"},
"86928bde": {"dfnID":"86928bde","dfnText":"overflow","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-overflow"}],"title":"7.1. Overview"}],"url":"https://drafts.csswg.org/css-overflow-3/#propdef-overflow"},
"8855a9aa": {"dfnID":"8855a9aa","dfnText":"DOMString","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-DOMString"}],"title":"3.4. Changing the types of an ongoing view transition"},{"refs":[{"id":"ref-for-idl-DOMString\u2460"}],"title":"5. Extending document.startViewTransition()"}],"url":"https://webidl.spec.whatwg.org/#idl-DOMString"},
"889e932f": {"dfnID":"889e932f","dfnText":"Exposed","external":true,"refSections":[{"refs":[{"id":"ref-for-Exposed"}],"title":"2.3.3. Accessing the @view-transition rule using CSSOM"},{"refs":[{"id":"ref-for-Exposed\u2460"},{"id":"ref-for-Exposed\u2461"}],"title":"3.4. Changing the types of an ongoing view transition"}],"url":"https://webidl.spec.whatwg.org/#Exposed"},
"90c99c05": {"dfnID":"90c99c05","dfnText":"blocking (for HTMLScriptElement)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-script-blocking"}],"title":"2.1.2. Waiting for the new state to stabilize"}],"url":"https://html.spec.whatwg.org/multipage/scripting.html#dom-script-blocking"},
"91bfbe18": {"dfnID":"91bfbe18","dfnText":"opacity","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-opacity"}],"title":"7.1. Overview"}],"url":"https://drafts.csswg.org/css-color-4/#propdef-opacity"},
"91f28e34": {"dfnID":"91f28e34","dfnText":"none","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-view-transition-name-none"}],"title":"7.3. The view-transition-group property"},{"refs":[{"id":"ref-for-valdef-view-transition-name-none\u2460"}],"title":"8.7.2. Resolving the containing group name"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#valdef-view-transition-name-none"},
"9814770c": {"dfnID":"9814770c","dfnText":"::view-transition-group()","external":true,"refSections":[{"refs":[{"id":"ref-for-selectordef-view-transition-group"}],"title":"4.3. The view-transition-class property"},{"refs":[{"id":"ref-for-selectordef-view-transition-group\u2460"}],"title":"6.3. Additions to view-transition-name"},{"refs":[{"id":"ref-for-selectordef-view-transition-group\u2461"},{"id":"ref-for-selectordef-view-transition-group\u2462"}],"title":"7.1. Overview"},{"refs":[{"id":"ref-for-selectordef-view-transition-group\u2463"},{"id":"ref-for-selectordef-view-transition-group\u2464"}],"title":"7.3. The view-transition-group property"},{"refs":[{"id":"ref-for-selectordef-view-transition-group\u2465"},{"id":"ref-for-selectordef-view-transition-group\u2466"}],"title":"7.3.1. View Transition Tree Root: the ::view-transition-group-children pseudo-element"},{"refs":[{"id":"ref-for-selectordef-view-transition-group\u2467"},{"id":"ref-for-selectordef-view-transition-group\u2468"},{"id":"ref-for-selectordef-view-transition-group\u2460\u24ea"}],"title":"8.7.6. Reparent a ::view-transition-group() to its specified containing group"},{"refs":[{"id":"ref-for-selectordef-view-transition-group\u2460\u2460"}],"title":"8.7.7. Adjust the group\u2019s transform to be relative to its containing ::view-transition-group()"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition-group"},
"984221ca": {"dfnID":"984221ca","dfnText":"struct","external":true,"refSections":[{"refs":[{"id":"ref-for-struct"}],"title":"8.1.3. Serializable view transition params"}],"url":"https://infra.spec.whatwg.org/#struct"},
"9bfc28f6": {"dfnID":"9bfc28f6","dfnText":"pseudo-element","external":true,"refSections":[{"refs":[{"id":"ref-for-pseudo-element"},{"id":"ref-for-pseudo-element\u2460"},{"id":"ref-for-pseudo-element\u2461"},{"id":"ref-for-pseudo-element\u2462"}],"title":"7.3.1. View Transition Tree Root: the ::view-transition-group-children pseudo-element"}],"url":"https://drafts.csswg.org/selectors-4/#pseudo-element"},
"9cce47fd": {"dfnID":"9cce47fd","dfnText":"sequence","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-sequence"}],"title":"5. Extending document.startViewTransition()"}],"url":"https://webidl.spec.whatwg.org/#idl-sequence"},
"9cd25054": {"dfnID":"9cd25054","dfnText":"computed value","external":true,"refSections":[{"refs":[{"id":"ref-for-computed-value"}],"title":"6.3. Additions to view-transition-name"},{"refs":[{"id":"ref-for-computed-value\u2460"},{"id":"ref-for-computed-value\u2461"},{"id":"ref-for-computed-value\u2462"},{"id":"ref-for-computed-value\u2463"}],"title":"8.3. Resolving the @view-transition rule"},{"refs":[{"id":"ref-for-computed-value\u2464"}],"title":"8.6. Capturing the view-transition-class"},{"refs":[{"id":"ref-for-computed-value\u2465"}],"title":"8.7.1. Resolving the view-transition-group value"}],"url":"https://drafts.csswg.org/css-cascade-5/#computed-value"},
"9f184b64": {"dfnID":"9f184b64","dfnText":"filter","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-filter"}],"title":"7.1. Overview"}],"url":"https://drafts.fxtf.org/filter-effects-1/#propdef-filter"},
"a10a2aea": {"dfnID":"a10a2aea","dfnText":"ViewTransition","external":true,"refSections":[{"refs":[{"id":"ref-for-viewtransition"},{"id":"ref-for-viewtransition\u2460"},{"id":"ref-for-viewtransition\u2461"}],"title":"2.1.3. Customization"},{"refs":[{"id":"ref-for-viewtransition\u2462"},{"id":"ref-for-viewtransition\u2463"},{"id":"ref-for-viewtransition\u2464"}],"title":"2.1.4. Lifecycle"},{"refs":[{"id":"ref-for-viewtransition\u2465"}],"title":"2.2. Examples"},{"refs":[{"id":"ref-for-viewtransition\u2466"}],"title":"2.3.1. The @view-transition rule"},{"refs":[{"id":"ref-for-viewtransition\u2467"}],"title":"3.1. Overview"},{"refs":[{"id":"ref-for-viewtransition\u2468"},{"id":"ref-for-viewtransition\u2460\u24ea"}],"title":"3.4. Changing the types of an ongoing view transition"},{"refs":[{"id":"ref-for-viewtransition\u2460\u2460"},{"id":"ref-for-viewtransition\u2460\u2461"}],"title":"5. Extending document.startViewTransition()"},{"refs":[{"id":"ref-for-viewtransition\u2460\u2462"},{"id":"ref-for-viewtransition\u2460\u2463"}],"title":"8.1.2. Additions to ViewTransition"},{"refs":[{"id":"ref-for-viewtransition\u2460\u2464"},{"id":"ref-for-viewtransition\u2460\u2465"}],"title":"8.4.2. Setup the outbound transition when ready to swap pages"},{"refs":[{"id":"ref-for-viewtransition\u2460\u2466"}],"title":"8.4.4. Proceed with navigation if view transition is skipped"},{"refs":[{"id":"ref-for-viewtransition\u2460\u2467"}],"title":"8.5. Activating the view transition in the new Document"},{"refs":[{"id":"ref-for-viewtransition\u2460\u2468"}],"title":"8.7.2. Resolving the containing group name"},{"refs":[{"id":"ref-for-viewtransition\u2461\u24ea"}],"title":"8.7.3. Resolving the group name"},{"refs":[{"id":"ref-for-viewtransition\u2461\u2460"}],"title":"8.7.4. Compute the old view-transition-group"},{"refs":[{"id":"ref-for-viewtransition\u2461\u2461"}],"title":"8.7.5. Compute the new view-transition-group"},{"refs":[{"id":"ref-for-viewtransition\u2461\u2462"}],"title":"8.7.7. Adjust the group\u2019s transform to be relative to its containing ::view-transition-group()"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#viewtransition"},
"a4c36929": {"dfnID":"a4c36929","dfnText":"NavigationType","external":true,"refSections":[{"refs":[{"id":"ref-for-navigationtype"}],"title":"2.3.2. The navigation descriptor"},{"refs":[{"id":"ref-for-navigationtype\u2460"}],"title":"8.4.1. Check eligibility for outbound cross-document view transition"}],"url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#navigationtype"},
"a4eb3c57": {"dfnID":"a4eb3c57","dfnText":"used value","external":true,"refSections":[{"refs":[{"id":"ref-for-used-value"}],"title":"6.3. Additions to view-transition-name"},{"refs":[{"id":"ref-for-used-value\u2460"}],"title":"7.3. The view-transition-group property"},{"refs":[{"id":"ref-for-used-value\u2461"}],"title":"8.2.1. Captured elements extension"},{"refs":[{"id":"ref-for-used-value\u2462"}],"title":"8.7.4. Compute the old view-transition-group"}],"url":"https://drafts.csswg.org/css-cascade-5/#used-value"},
"a5c91173": {"dfnID":"a5c91173","dfnText":"SameObject","external":true,"refSections":[{"refs":[{"id":"ref-for-SameObject"}],"title":"2.3.3. Accessing the @view-transition rule using CSSOM"}],"url":"https://webidl.spec.whatwg.org/#SameObject"},
"a72449dd": {"dfnID":"a72449dd","dfnText":"in parallel","external":true,"refSections":[{"refs":[{"id":"ref-for-in-parallel"}],"title":"2.3.1. The @view-transition rule"},{"refs":[{"id":"ref-for-in-parallel\u2460"}],"title":"8.1.1. Additions to Document"},{"refs":[{"id":"ref-for-in-parallel\u2461"}],"title":"8.4.1. Check eligibility for outbound cross-document view transition"},{"refs":[{"id":"ref-for-in-parallel\u2462"}],"title":"8.4.2. Setup the outbound transition when ready to swap pages"}],"url":"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"},
"a84c14c9": {"dfnID":"a84c14c9","dfnText":"document (for clone a node)","external":true,"refSections":[{"refs":[{"id":"ref-for-clone-a-node-document"}],"title":"8.4.1. Check eligibility for outbound cross-document view transition"}],"url":"https://dom.spec.whatwg.org/#clone-a-node-document"},
"a973e0fe": {"dfnID":"a973e0fe","dfnText":"document","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-document"}],"title":"1. Introduction"}],"url":"https://dom.spec.whatwg.org/#concept-document"},
"aaad83a9": {"dfnID":"aaad83a9","dfnText":"initial snapshot containing block size","external":true,"refSections":[{"refs":[{"id":"ref-for-viewtransition-initial-snapshot-containing-block-size"}],"title":"8.4.5. Proceed with cross-document view transition after capturing the old state"},{"refs":[{"id":"ref-for-viewtransition-initial-snapshot-containing-block-size\u2460"}],"title":"8.5. Activating the view transition in the new Document"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#viewtransition-initial-snapshot-containing-block-size"},
"ab3919d2": {"dfnID":"ab3919d2","dfnText":"clone (for map)","external":true,"refSections":[{"refs":[{"id":"ref-for-map-clone"}],"title":"8.4.5. Proceed with cross-document view transition after capturing the old state"}],"url":"https://infra.spec.whatwg.org/#map-clone"},
"active-view-transition-pseudo": {"dfnID":"active-view-transition-pseudo","dfnText":":active-view-transition","external":false,"refSections":[{"refs":[{"id":"ref-for-active-view-transition-pseudo"},{"id":"ref-for-active-view-transition-pseudo\u2460"}],"title":"3.1. Overview"},{"refs":[{"id":"ref-for-active-view-transition-pseudo\u2461"},{"id":"ref-for-active-view-transition-pseudo\u2462"},{"id":"ref-for-active-view-transition-pseudo\u2463"}],"title":"3.3.1. The :active-view-transition pseudo-class"}],"url":"#active-view-transition-pseudo"},
"active-view-transition-type-pseudo": {"dfnID":"active-view-transition-type-pseudo","dfnText":":active-view-transition-type()","external":false,"refSections":[{"refs":[{"id":"ref-for-active-view-transition-type-pseudo"},{"id":"ref-for-active-view-transition-type-pseudo\u2460"}],"title":"3.1. Overview"},{"refs":[{"id":"ref-for-active-view-transition-type-pseudo\u2461"},{"id":"ref-for-active-view-transition-type-pseudo\u2462"},{"id":"ref-for-active-view-transition-type-pseudo\u2463"}],"title":"3.3.2. The :active-view-transition-type() pseudo-class"}],"url":"#active-view-transition-type-pseudo"},
"adjust-nested-view-transition-group-transform": {"dfnID":"adjust-nested-view-transition-group-transform","dfnText":"adjust nested view transition group transform","external":false,"refSections":[{"refs":[{"id":"ref-for-adjust-nested-view-transition-group-transform"}],"title":"8.7.6. Reparent a ::view-transition-group() to its specified containing group"},{"refs":[{"id":"ref-for-adjust-nested-view-transition-group-transform\u2460"}],"title":"8.7.7. Adjust the group\u2019s transform to be relative to its containing ::view-transition-group()"}],"url":"#adjust-nested-view-transition-group-transform"},
"ae8def21": {"dfnID":"ae8def21","dfnText":"contain","external":true,"refSections":[{"refs":[{"id":"ref-for-list-contain"}],"title":"3.3.2. The :active-view-transition-type() pseudo-class"},{"refs":[{"id":"ref-for-list-contain\u2460"}],"title":"4.4. Additions to named view transition pseudo-elements"}],"url":"https://infra.spec.whatwg.org/#list-contain"},
"at-view-transition-rule": {"dfnID":"at-view-transition-rule","dfnText":"@view-transition","external":false,"refSections":[{"refs":[{"id":"ref-for-at-view-transition-rule"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-at-view-transition-rule\u2460"}],"title":"2.1.1. Activation"},{"refs":[{"id":"ref-for-at-view-transition-rule\u2461"}],"title":"2.2. Examples"},{"refs":[{"id":"ref-for-at-view-transition-rule\u2462"},{"id":"ref-for-at-view-transition-rule\u2463"},{"id":"ref-for-at-view-transition-rule\u2464"},{"id":"ref-for-at-view-transition-rule\u2465"},{"id":"ref-for-at-view-transition-rule\u2466"},{"id":"ref-for-at-view-transition-rule\u2467"}],"title":"2.3.1. The @view-transition rule"},{"refs":[{"id":"ref-for-at-view-transition-rule\u2468"},{"id":"ref-for-at-view-transition-rule\u2460\u24ea"}],"title":"2.3.2. The navigation descriptor"},{"refs":[{"id":"ref-for-at-view-transition-rule\u2460\u2460"},{"id":"ref-for-at-view-transition-rule\u2460\u2461"}],"title":"2.3.3. Accessing the @view-transition rule using CSSOM"},{"refs":[{"id":"ref-for-at-view-transition-rule\u2460\u2462"}],"title":"3.5. Activating the transition type for cross-document view transitions"},{"refs":[{"id":"ref-for-at-view-transition-rule\u2460\u2463"},{"id":"ref-for-at-view-transition-rule\u2460\u2464"}],"title":"8.3. Resolving the @view-transition rule"}],"url":"#at-view-transition-rule"},
"b37fbf45": {"dfnID":"b37fbf45","dfnText":"startViewTransition(updateCallback)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-document-startviewtransition\u2466"}],"title":"5. Extending document.startViewTransition()"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#dom-document-startviewtransition"},
"b4c365f8": {"dfnID":"b4c365f8","dfnText":"visibility state","external":true,"refSections":[{"refs":[{"id":"ref-for-visibility-state"}],"title":"8.3. Resolving the @view-transition rule"}],"url":"https://html.spec.whatwg.org/multipage/interaction.html#visibility-state"},
"b8cb4410": {"dfnID":"b8cb4410","dfnText":"update callback","external":true,"refSections":[{"refs":[{"id":"ref-for-viewtransition-update-callback"}],"title":"5. Extending document.startViewTransition()"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#viewtransition-update-callback"},
"bb2056aa": {"dfnID":"bb2056aa","dfnText":"specificity","external":true,"refSections":[{"refs":[{"id":"ref-for-specificity"}],"title":"3.3.1. The :active-view-transition pseudo-class"},{"refs":[{"id":"ref-for-specificity\u2460"}],"title":"3.3.2. The :active-view-transition-type() pseudo-class"},{"refs":[{"id":"ref-for-specificity\u2461"},{"id":"ref-for-specificity\u2462"}],"title":"4.4. Additions to named view transition pseudo-elements"}],"url":"https://drafts.csswg.org/selectors-4/#specificity"},
"be682052": {"dfnID":"be682052","dfnText":"document-scoped view transition name","external":true,"refSections":[{"refs":[{"id":"ref-for-document-scoped-view-transition-name"}],"title":"8.7.2. Resolving the containing group name"},{"refs":[{"id":"ref-for-document-scoped-view-transition-name\u2460"},{"id":"ref-for-document-scoped-view-transition-name\u2461"}],"title":"8.7.3. Resolving the group name"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#document-scoped-view-transition-name"},
"bedd9d42": {"dfnID":"bedd9d42","dfnText":"+","external":true,"refSections":[{"refs":[{"id":"ref-for-mult-one-plus"}],"title":"3.5. Activating the transition type for cross-document view transitions"},{"refs":[{"id":"ref-for-mult-one-plus\u2460"}],"title":"4.3. The view-transition-class property"},{"refs":[{"id":"ref-for-mult-one-plus\u2461"}],"title":"4.4. Additions to named view transition pseudo-elements"}],"url":"https://drafts.csswg.org/css-values-4/#mult-one-plus"},
"bf38b6c1": {"dfnID":"bf38b6c1","dfnText":"view transition page-visibility change steps","external":true,"refSections":[{"refs":[{"id":"ref-for-view-transition-page-visibility-change-steps"}],"title":"8.2. Additions to the view transition page-visibility change steps"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#view-transition-page-visibility-change-steps"},
"bf3ca8a7": {"dfnID":"bf3ca8a7","dfnText":"conditional group rule","external":true,"refSections":[{"refs":[{"id":"ref-for-conditional-group-rule"}],"title":"2.3.1. The @view-transition rule"}],"url":"https://drafts.csswg.org/css-conditional-3/#conditional-group-rule"},
"c1ebc639": {"dfnID":"c1ebc639","dfnText":"@supports","external":true,"refSections":[{"refs":[{"id":"ref-for-at-ruledef-supports"}],"title":"2.3.1. The @view-transition rule"}],"url":"https://drafts.csswg.org/css-conditional-3/#at-ruledef-supports"},
"c5218d8b": {"dfnID":"c5218d8b","dfnText":"::view-transition-old()","external":true,"refSections":[{"refs":[{"id":"ref-for-selectordef-view-transition-old"}],"title":"4.3. The view-transition-class property"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition-old"},
"c62cd7cf": {"dfnID":"c62cd7cf","dfnText":"origin","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-document-origin"},{"id":"ref-for-concept-document-origin\u2460"}],"title":"8.4.1. Check eligibility for outbound cross-document view transition"}],"url":"https://dom.spec.whatwg.org/#concept-document-origin"},
"c88f3887": {"dfnID":"c88f3887","dfnText":"item","external":true,"refSections":[{"refs":[{"id":"ref-for-struct-item"}],"title":"8.1.3. Serializable view transition params"}],"url":"https://infra.spec.whatwg.org/#struct-item"},
"c9ecad15": {"dfnID":"c9ecad15","dfnText":"border-width","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-border-width"}],"title":"8.2.1. Captured elements extension"},{"refs":[{"id":"ref-for-propdef-border-width\u2460"}],"title":"8.7.4. Compute the old view-transition-group"}],"url":"https://drafts.csswg.org/css-backgrounds-3/#propdef-border-width"},
"c9ff317b": {"dfnID":"c9ff317b","dfnText":"push","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-navigationtype-push"}],"title":"2.3.2. The navigation descriptor"}],"url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-navigationtype-push"},
"captured-element-class-list": {"dfnID":"captured-element-class-list","dfnText":"class list","external":false,"refSections":[{"refs":[{"id":"ref-for-captured-element-class-list"}],"title":"4.4. Additions to named view transition pseudo-elements"},{"refs":[{"id":"ref-for-captured-element-class-list\u2460"}],"title":"8.6. Capturing the view-transition-class"}],"url":"#captured-element-class-list"},
"captured-element-containing-group-name": {"dfnID":"captured-element-containing-group-name","dfnText":"containing group name","external":false,"refSections":[{"refs":[{"id":"ref-for-captured-element-containing-group-name"}],"title":"8.7.4. Compute the old view-transition-group"},{"refs":[{"id":"ref-for-captured-element-containing-group-name\u2460"}],"title":"8.7.5. Compute the new view-transition-group"},{"refs":[{"id":"ref-for-captured-element-containing-group-name\u2461"}],"title":"8.7.6. Reparent a ::view-transition-group() to its specified containing group"},{"refs":[{"id":"ref-for-captured-element-containing-group-name\u2462"},{"id":"ref-for-captured-element-containing-group-name\u2463"}],"title":"8.7.7. Adjust the group\u2019s transform to be relative to its containing ::view-transition-group()"}],"url":"#captured-element-containing-group-name"},
"captured-element-old-border-width": {"dfnID":"captured-element-old-border-width","dfnText":"old border width","external":false,"refSections":[{"refs":[{"id":"ref-for-captured-element-old-border-width"}],"title":"8.7.4. Compute the old view-transition-group"},{"refs":[{"id":"ref-for-captured-element-old-border-width\u2460"}],"title":"8.7.7. Adjust the group\u2019s transform to be relative to its containing ::view-transition-group()"}],"url":"#captured-element-old-border-width"},
"captured-element-transform-from-snapshot-containing-block": {"dfnID":"captured-element-transform-from-snapshot-containing-block","dfnText":"transform from snapshot containing block","external":false,"refSections":[{"refs":[{"id":"ref-for-captured-element-transform-from-snapshot-containing-block"},{"id":"ref-for-captured-element-transform-from-snapshot-containing-block\u2460"}],"title":"8.7.7. Adjust the group\u2019s transform to be relative to its containing ::view-transition-group()"}],"url":"#captured-element-transform-from-snapshot-containing-block"},
"cec9f18b": {"dfnID":"cec9f18b","dfnText":"rendering suppression for view transitions","external":true,"refSections":[{"refs":[{"id":"ref-for-document-rendering-suppression-for-view-transitions"},{"id":"ref-for-document-rendering-suppression-for-view-transitions\u2460"}],"title":"8.4.5. Proceed with cross-document view transition after capturing the old state"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#document-rendering-suppression-for-view-transitions"},
"cssviewtransitionrule": {"dfnID":"cssviewtransitionrule","dfnText":"CSSViewTransitionRule","external":false,"refSections":[{"refs":[{"id":"ref-for-cssviewtransitionrule"}],"title":"2.3.3. Accessing the @view-transition rule using CSSOM"}],"url":"#cssviewtransitionrule"},
"d25dfb2c": {"dfnID":"d25dfb2c","dfnText":"AbortError","external":true,"refSections":[{"refs":[{"id":"ref-for-aborterror"}],"title":"8.4.2. Setup the outbound transition when ready to swap pages"}],"url":"https://webidl.spec.whatwg.org/#aborterror"},
"d30ba1d7": {"dfnID":"d30ba1d7","dfnText":"update callback done promise","external":true,"refSections":[{"refs":[{"id":"ref-for-viewtransition-update-callback-done-promise"}],"title":"8.5. Activating the view transition in the new Document"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#viewtransition-update-callback-done-promise"},
"d8558f07": {"dfnID":"d8558f07","dfnText":"view transition tree","external":true,"refSections":[{"refs":[{"id":"ref-for-view-transition-tree"},{"id":"ref-for-view-transition-tree\u2460"}],"title":"7.1. Overview"},{"refs":[{"id":"ref-for-view-transition-tree\u2461"}],"title":"7.2. Examples"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#view-transition-tree"},
"dca2de17": {"dfnID":"dca2de17","dfnText":"DOMException","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-DOMException"}],"title":"5. Extending document.startViewTransition()"},{"refs":[{"id":"ref-for-idl-DOMException\u2460"}],"title":"8.4.2. Setup the outbound transition when ready to swap pages"}],"url":"https://webidl.spec.whatwg.org/#idl-DOMException"},
"dcf5fafa": {"dfnID":"dcf5fafa","dfnText":"FrozenArray","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-frozen-array"}],"title":"2.3.3. Accessing the @view-transition rule using CSSOM"}],"url":"https://webidl.spec.whatwg.org/#idl-frozen-array"},
"descdef-view-transition-navigation": {"dfnID":"descdef-view-transition-navigation","dfnText":"navigation","external":false,"refSections":[],"url":"#descdef-view-transition-navigation"},
"descdef-view-transition-types": {"dfnID":"descdef-view-transition-types","dfnText":"types","external":false,"refSections":[],"url":"#descdef-view-transition-types"},
"dictdef-startviewtransitionoptions": {"dfnID":"dictdef-startviewtransitionoptions","dfnText":"StartViewTransitionOptions","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-startviewtransitionoptions"},{"id":"ref-for-dictdef-startviewtransitionoptions\u2460"},{"id":"ref-for-dictdef-startviewtransitionoptions\u2461"}],"title":"5. Extending document.startViewTransition()"}],"url":"#dictdef-startviewtransitionoptions"},
"document-can-initiate-outbound-view-transition": {"dfnID":"document-can-initiate-outbound-view-transition","dfnText":"can initiate outbound view transition","external":false,"refSections":[{"refs":[{"id":"ref-for-document-can-initiate-outbound-view-transition"}],"title":"8.4.1. Check eligibility for outbound cross-document view transition"},{"refs":[{"id":"ref-for-document-can-initiate-outbound-view-transition\u2460"}],"title":"8.4.2. Setup the outbound transition when ready to swap pages"},{"refs":[{"id":"ref-for-document-can-initiate-outbound-view-transition\u2461"},{"id":"ref-for-document-can-initiate-outbound-view-transition\u2462"}],"title":"8.4.3. Update the opt-in flag to reflect the current state"}],"url":"#document-can-initiate-outbound-view-transition"},
"document-inbound-view-transition-params": {"dfnID":"document-inbound-view-transition-params","dfnText":"inbound view transition params","external":false,"refSections":[{"refs":[{"id":"ref-for-document-inbound-view-transition-params"}],"title":"8.2. Additions to the view transition page-visibility change steps"},{"refs":[{"id":"ref-for-document-inbound-view-transition-params\u2460"},{"id":"ref-for-document-inbound-view-transition-params\u2461"},{"id":"ref-for-document-inbound-view-transition-params\u2462"}],"title":"8.4.2. Setup the outbound transition when ready to swap pages"},{"refs":[{"id":"ref-for-document-inbound-view-transition-params\u2463"},{"id":"ref-for-document-inbound-view-transition-params\u2464"}],"title":"8.5. Activating the view transition in the new Document"}],"url":"#document-inbound-view-transition-params"},
"document-scoped-view-transition-group": {"dfnID":"document-scoped-view-transition-group","dfnText":"document-scoped view transition group","external":false,"refSections":[{"refs":[{"id":"ref-for-document-scoped-view-transition-group"}],"title":"8.7.2. Resolving the containing group name"},{"refs":[{"id":"ref-for-document-scoped-view-transition-group\u2460"}],"title":"8.7.3. Resolving the group name"}],"url":"#document-scoped-view-transition-group"},
"dom-cssviewtransitionrule-navigation": {"dfnID":"dom-cssviewtransitionrule-navigation","dfnText":"navigation","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-cssviewtransitionrule-navigation"}],"title":"2.3.3. Accessing the @view-transition rule using CSSOM"}],"url":"#dom-cssviewtransitionrule-navigation"},
"dom-cssviewtransitionrule-types": {"dfnID":"dom-cssviewtransitionrule-types","dfnText":"types","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-cssviewtransitionrule-types"}],"title":"2.3.3. Accessing the @view-transition rule using CSSOM"}],"url":"#dom-cssviewtransitionrule-types"},
"dom-document-startviewtransition": {"dfnID":"dom-document-startviewtransition","dfnText":"startViewTransition(callbackOptions)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-document-startviewtransition"}],"title":"2.1.1. Activation"},{"refs":[{"id":"ref-for-dom-document-startviewtransition\u2460"}],"title":"2.1.2. Waiting for the new state to stabilize"},{"refs":[{"id":"ref-for-dom-document-startviewtransition\u2461"}],"title":"2.1.3. Customization"},{"refs":[{"id":"ref-for-dom-document-startviewtransition\u2462"}],"title":"3.1. Overview"},{"refs":[{"id":"ref-for-dom-document-startviewtransition\u2463"}],"title":"3.5. Activating the transition type for cross-document view transitions"},{"refs":[{"id":"ref-for-dom-document-startviewtransition\u2464"},{"id":"ref-for-dom-document-startviewtransition\u2465"}],"title":"5. Extending document.startViewTransition()"}],"url":"#dom-document-startviewtransition"},
"dom-document-startviewtransition-callbackoptions-callbackoptions": {"dfnID":"dom-document-startviewtransition-callbackoptions-callbackoptions","dfnText":"callbackOptions","external":false,"refSections":[],"url":"#dom-document-startviewtransition-callbackoptions-callbackoptions"},
"dom-startviewtransitionoptions-types": {"dfnID":"dom-startviewtransitionoptions-types","dfnText":"types","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-startviewtransitionoptions-types"}],"title":"3.5. Activating the transition type for cross-document view transitions"},{"refs":[{"id":"ref-for-dom-startviewtransitionoptions-types\u2460"}],"title":"5. Extending document.startViewTransition()"}],"url":"#dom-startviewtransitionoptions-types"},
"dom-startviewtransitionoptions-update": {"dfnID":"dom-startviewtransitionoptions-update","dfnText":"update","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-startviewtransitionoptions-update"}],"title":"5. Extending document.startViewTransition()"}],"url":"#dom-startviewtransitionoptions-update"},
"dom-viewtransition-types": {"dfnID":"dom-viewtransition-types","dfnText":"types","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-viewtransition-types"}],"title":"2.1.3.1. Handling the view transition in the old document"},{"refs":[{"id":"ref-for-dom-viewtransition-types\u2460"}],"title":"2.1.3.2. Handling the view transition in the new document"},{"refs":[{"id":"ref-for-dom-viewtransition-types\u2461"},{"id":"ref-for-dom-viewtransition-types\u2462"}],"title":"2.1.4. Lifecycle"},{"refs":[{"id":"ref-for-dom-viewtransition-types\u2463"}],"title":"3.1. Overview"},{"refs":[{"id":"ref-for-dom-viewtransition-types\u2464"}],"title":"3.4. Changing the types of an ongoing view transition"},{"refs":[{"id":"ref-for-dom-viewtransition-types\u2465"}],"title":"5. Extending document.startViewTransition()"},{"refs":[{"id":"ref-for-dom-viewtransition-types\u2466"}],"title":"8.4.2. Setup the outbound transition when ready to swap pages"}],"url":"#dom-viewtransition-types"},
"e10e7eb7": {"dfnID":"e10e7eb7","dfnText":"DOM manipulation task source","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-manipulation-task-source"}],"title":"8.4.2. Setup the outbound transition when ready to swap pages"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"},
"e270bd2a": {"dfnID":"e270bd2a","dfnText":"task","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-task"}],"title":"8.4.2. Setup the outbound transition when ready to swap pages"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-task"},
"e274345c": {"dfnID":"e274345c","dfnText":"<custom-ident>","external":true,"refSections":[{"refs":[{"id":"ref-for-identifier-value"},{"id":"ref-for-identifier-value\u2460"}],"title":"3.3.2. The :active-view-transition-type() pseudo-class"},{"refs":[{"id":"ref-for-identifier-value\u2461"}],"title":"3.4. Changing the types of an ongoing view transition"},{"refs":[{"id":"ref-for-identifier-value\u2462"}],"title":"3.5. Activating the transition type for cross-document view transitions"},{"refs":[{"id":"ref-for-identifier-value\u2463"},{"id":"ref-for-identifier-value\u2464"},{"id":"ref-for-identifier-value\u2465"},{"id":"ref-for-identifier-value\u2466"},{"id":"ref-for-identifier-value\u2467"}],"title":"4.3. The view-transition-class property"},{"refs":[{"id":"ref-for-identifier-value\u2468"},{"id":"ref-for-identifier-value\u2460\u24ea"},{"id":"ref-for-identifier-value\u2460\u2460"},{"id":"ref-for-identifier-value\u2460\u2461"}],"title":"4.4. Additions to named view transition pseudo-elements"},{"refs":[{"id":"ref-for-identifier-value\u2460\u2462"}],"title":"6.3. Additions to view-transition-name"},{"refs":[{"id":"ref-for-identifier-value\u2460\u2463"}],"title":"7.3. The view-transition-group property"},{"refs":[{"id":"ref-for-identifier-value\u2460\u2464"}],"title":"8.7.3. Resolving the group name"}],"url":"https://drafts.csswg.org/css-values-4/#identifier-value"},
"e2e08d07": {"dfnID":"e2e08d07","dfnText":"transform","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-transform"}],"title":"7.1. Overview"},{"refs":[{"id":"ref-for-propdef-transform\u2460"}],"title":"8.7.7. Adjust the group\u2019s transform to be relative to its containing ::view-transition-group()"}],"url":"https://drafts.csswg.org/css-transforms-1/#propdef-transform"},
"e6497ee3": {"dfnID":"e6497ee3","dfnText":"skipTransition()","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-viewtransition-skiptransition"},{"id":"ref-for-dom-viewtransition-skiptransition\u2460"}],"title":"2.1.4. Lifecycle"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#dom-viewtransition-skiptransition"},
"e8c066d1": {"dfnID":"e8c066d1","dfnText":"latest entry","external":true,"refSections":[{"refs":[{"id":"ref-for-latest-entry"},{"id":"ref-for-latest-entry\u2460"}],"title":"8.4.1. Check eligibility for outbound cross-document view transition"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#latest-entry"},
"e8cafa56": {"dfnID":"e8cafa56","dfnText":"named elements","external":true,"refSections":[{"refs":[{"id":"ref-for-viewtransition-named-elements"}],"title":"4.4. Additions to named view transition pseudo-elements"},{"refs":[{"id":"ref-for-viewtransition-named-elements\u2460"}],"title":"8.4.5. Proceed with cross-document view transition after capturing the old state"},{"refs":[{"id":"ref-for-viewtransition-named-elements\u2461"}],"title":"8.5. Activating the view transition in the new Document"},{"refs":[{"id":"ref-for-viewtransition-named-elements\u2462"}],"title":"8.7.6. Reparent a ::view-transition-group() to its specified containing group"},{"refs":[{"id":"ref-for-viewtransition-named-elements\u2463"}],"title":"8.7.7. Adjust the group\u2019s transform to be relative to its containing ::view-transition-group()"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#viewtransition-named-elements"},
"e93b877c": {"dfnID":"e93b877c","dfnText":"reactivate","external":true,"refSections":[{"refs":[{"id":"ref-for-reactivate-a-document"}],"title":"Security Considerations"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#reactivate-a-document"},
"e99bd18e": {"dfnID":"e99bd18e","dfnText":"relevant global object","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-relevant-global"}],"title":"8.4.2. Setup the outbound transition when ready to swap pages"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"},
"ebaeb088": {"dfnID":"ebaeb088","dfnText":"CSSRule","external":true,"refSections":[{"refs":[{"id":"ref-for-cssrule"}],"title":"2.3.3. Accessing the @view-transition rule using CSSOM"}],"url":"https://drafts.csswg.org/cssom-1/#cssrule"},
"ee751543": {"dfnID":"ee751543","dfnText":"ViewTransitionUpdateCallback","external":true,"refSections":[{"refs":[{"id":"ref-for-callbackdef-viewtransitionupdatecallback"},{"id":"ref-for-callbackdef-viewtransitionupdatecallback\u2460"},{"id":"ref-for-callbackdef-viewtransitionupdatecallback\u2461"}],"title":"5. Extending document.startViewTransition()"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#callbackdef-viewtransitionupdatecallback"},
"f133e4b0": {"dfnID":"f133e4b0","dfnText":"skip the view transition","external":true,"refSections":[{"refs":[{"id":"ref-for-skip-the-view-transition"}],"title":"5. Extending document.startViewTransition()"},{"refs":[{"id":"ref-for-skip-the-view-transition\u2460"}],"title":"8.4.2. Setup the outbound transition when ready to swap pages"},{"refs":[{"id":"ref-for-skip-the-view-transition\u2461"}],"title":"8.4.4. Proceed with navigation if view transition is skipped"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#skip-the-view-transition"},
"f2415cbe": {"dfnID":"f2415cbe","dfnText":"view transitions","external":true,"refSections":[{"refs":[{"id":"ref-for-view-transitions"}],"title":"7.3.1. View Transition Tree Root: the ::view-transition-group-children pseudo-element"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#view-transitions"},
"f24b672a": {"dfnID":"f24b672a","dfnText":"border-radius","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-border-radius"}],"title":"7.1. Overview"}],"url":"https://drafts.csswg.org/css-borders-4/#propdef-border-radius"},
"f73b681a": {"dfnID":"f73b681a","dfnText":"perspective","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-perspective"}],"title":"7.1. Overview"}],"url":"https://drafts.csswg.org/css-transforms-2/#propdef-perspective"},
"f7960529": {"dfnID":"f7960529","dfnText":"root","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-tree-root"},{"id":"ref-for-concept-tree-root\u2460"}],"title":"6.3. Additions to view-transition-name"}],"url":"https://dom.spec.whatwg.org/#concept-tree-root"},
"fa3348cc": {"dfnID":"fa3348cc","dfnText":"traverse","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-navigationtype-traverse"}],"title":"2.1.1. Activation"},{"refs":[{"id":"ref-for-dom-navigationtype-traverse\u2460"}],"title":"2.3.2. The navigation descriptor"},{"refs":[{"id":"ref-for-dom-navigationtype-traverse\u2461"}],"title":"8.4.1. Check eligibility for outbound cross-document view transition"}],"url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-navigationtype-traverse"},
"fadeeede": {"dfnID":"fadeeede","dfnText":"::view-transition-new()","external":true,"refSections":[{"refs":[{"id":"ref-for-selectordef-view-transition-new"}],"title":"4.3. The view-transition-class property"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition-new"},
"ff8bd316": {"dfnID":"ff8bd316","dfnText":"view-transition-name","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-view-transition-name"},{"id":"ref-for-propdef-view-transition-name\u2460"},{"id":"ref-for-propdef-view-transition-name\u2461"},{"id":"ref-for-propdef-view-transition-name\u2462"},{"id":"ref-for-propdef-view-transition-name\u2463"}],"title":"4.3. The view-transition-class property"},{"refs":[{"id":"ref-for-propdef-view-transition-name\u2464"}],"title":"4.4. Additions to named view transition pseudo-elements"},{"refs":[{"id":"ref-for-propdef-view-transition-name\u2465"}],"title":"6. Determining view-transition-name automatically"},{"refs":[{"id":"ref-for-propdef-view-transition-name\u2466"},{"id":"ref-for-propdef-view-transition-name\u2467"},{"id":"ref-for-propdef-view-transition-name\u2468"},{"id":"ref-for-propdef-view-transition-name\u2460\u24ea"}],"title":"6.1. Overview"},{"refs":[{"id":"ref-for-propdef-view-transition-name\u2460\u2460"},{"id":"ref-for-propdef-view-transition-name\u2460\u2461"}],"title":"6.2. Examples"},{"refs":[{"id":"ref-for-propdef-view-transition-name\u2460\u2462"},{"id":"ref-for-propdef-view-transition-name\u2460\u2463"},{"id":"ref-for-propdef-view-transition-name\u2460\u2464"},{"id":"ref-for-propdef-view-transition-name\u2460\u2465"},{"id":"ref-for-propdef-view-transition-name\u2460\u2466"}],"title":"6.3. Additions to view-transition-name"},{"refs":[{"id":"ref-for-propdef-view-transition-name\u2460\u2467"},{"id":"ref-for-propdef-view-transition-name\u2460\u2468"},{"id":"ref-for-propdef-view-transition-name\u2461\u24ea"}],"title":"7.3. The view-transition-group property"},{"refs":[{"id":"ref-for-propdef-view-transition-name\u2461\u2460"}],"title":"\nChanges from 2024-05-16 Working Draft\n"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#propdef-view-transition-name"},
"ffb05a17": {"dfnID":"ffb05a17","dfnText":"finished","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-viewtransition-finished"}],"title":"2.1.3.1. Handling the view transition in the old document"}],"url":"https://drafts.csswg.org/css-view-transitions-1/#dom-viewtransition-finished"},
"navigation-can-trigger-a-cross-document-view-transition": {"dfnID":"navigation-can-trigger-a-cross-document-view-transition","dfnText":"navigation can trigger a cross-document view-transition?","external":false,"refSections":[],"url":"#navigation-can-trigger-a-cross-document-view-transition"},
"nearest-containing-group-name": {"dfnID":"nearest-containing-group-name","dfnText":"nearest containing group name","external":false,"refSections":[{"refs":[{"id":"ref-for-nearest-containing-group-name"},{"id":"ref-for-nearest-containing-group-name\u2460"}],"title":"8.7.3. Resolving the group name"}],"url":"#nearest-containing-group-name"},
"propdef-view-transition-class": {"dfnID":"propdef-view-transition-class","dfnText":"view-transition-class","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-view-transition-class"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-propdef-view-transition-class\u2460"},{"id":"ref-for-propdef-view-transition-class\u2461"},{"id":"ref-for-propdef-view-transition-class\u2462"},{"id":"ref-for-propdef-view-transition-class\u2463"},{"id":"ref-for-propdef-view-transition-class\u2464"},{"id":"ref-for-propdef-view-transition-class\u2465"}],"title":"4.3. The view-transition-class property"},{"refs":[{"id":"ref-for-propdef-view-transition-class\u2466"},{"id":"ref-for-propdef-view-transition-class\u2467"}],"title":"8.6. Capturing the view-transition-class"}],"url":"#propdef-view-transition-class"},
"propdef-view-transition-group": {"dfnID":"propdef-view-transition-group","dfnText":"view-transition-group","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-view-transition-group"}],"title":"7.1. Overview"},{"refs":[{"id":"ref-for-propdef-view-transition-group\u2460"},{"id":"ref-for-propdef-view-transition-group\u2461"},{"id":"ref-for-propdef-view-transition-group\u2462"}],"title":"7.3. The view-transition-group property"},{"refs":[{"id":"ref-for-propdef-view-transition-group\u2463"}],"title":"7.3.1. View Transition Tree Root: the ::view-transition-group-children pseudo-element"},{"refs":[{"id":"ref-for-propdef-view-transition-group\u2464"}],"title":"8.7. Capturing and applying view-transition-group"},{"refs":[{"id":"ref-for-propdef-view-transition-group\u2465"},{"id":"ref-for-propdef-view-transition-group\u2466"}],"title":"8.7.1. Resolving the view-transition-group value"},{"refs":[{"id":"ref-for-propdef-view-transition-group\u2467"}],"title":"8.7.4. Compute the old view-transition-group"},{"refs":[{"id":"ref-for-propdef-view-transition-group\u2468"}],"title":"8.7.5. Compute the new view-transition-group"}],"url":"#propdef-view-transition-group"},
"resolve-inbound-cross-document-view-transition": {"dfnID":"resolve-inbound-cross-document-view-transition","dfnText":"resolve inbound cross-document view-transition","external":false,"refSections":[],"url":"#resolve-inbound-cross-document-view-transition"},
"resolve-view-transition-rule": {"dfnID":"resolve-view-transition-rule","dfnText":"resolve @view-transition rule","external":false,"refSections":[{"refs":[{"id":"ref-for-resolve-view-transition-rule"}],"title":"8.4.2. Setup the outbound transition when ready to swap pages"},{"refs":[{"id":"ref-for-resolve-view-transition-rule\u2460"}],"title":"8.4.3. Update the opt-in flag to reflect the current state"},{"refs":[{"id":"ref-for-resolve-view-transition-rule\u2461"}],"title":"8.5. Activating the view transition in the new Document"}],"url":"#resolve-view-transition-rule"},
"selectordef-view-transition-group-children": {"dfnID":"selectordef-view-transition-group-children","dfnText":"::view-transition-group-children()","external":false,"refSections":[{"refs":[{"id":"ref-for-selectordef-view-transition-group-children"}],"title":"7.2. Examples"},{"refs":[{"id":"ref-for-selectordef-view-transition-group-children\u2460"}],"title":"7.3. The view-transition-group property"},{"refs":[{"id":"ref-for-selectordef-view-transition-group-children\u2461"},{"id":"ref-for-selectordef-view-transition-group-children\u2462"}],"title":"7.3.1. View Transition Tree Root: the ::view-transition-group-children pseudo-element"},{"refs":[{"id":"ref-for-selectordef-view-transition-group-children\u2463"}],"title":"8.7.6. Reparent a ::view-transition-group() to its specified containing group"}],"url":"#selectordef-view-transition-group-children"},
"setup-cross-document-view-transition": {"dfnID":"setup-cross-document-view-transition","dfnText":"setup cross-document view-transition","external":false,"refSections":[],"url":"#setup-cross-document-view-transition"},
"typedef-pt-class-selector": {"dfnID":"typedef-pt-class-selector","dfnText":"<pt-class-selector>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-pt-class-selector"},{"id":"ref-for-typedef-pt-class-selector\u2460"},{"id":"ref-for-typedef-pt-class-selector\u2461"},{"id":"ref-for-typedef-pt-class-selector\u2462"},{"id":"ref-for-typedef-pt-class-selector\u2463"},{"id":"ref-for-typedef-pt-class-selector\u2464"},{"id":"ref-for-typedef-pt-class-selector\u2465"}],"title":"4.4. Additions to named view transition pseudo-elements"}],"url":"#typedef-pt-class-selector"},
"typedef-pt-name-and-class-selector": {"dfnID":"typedef-pt-name-and-class-selector","dfnText":"<pt-name-and-class-selector>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-pt-name-and-class-selector"},{"id":"ref-for-typedef-pt-name-and-class-selector\u2460"},{"id":"ref-for-typedef-pt-name-and-class-selector\u2461"},{"id":"ref-for-typedef-pt-name-and-class-selector\u2462"},{"id":"ref-for-typedef-pt-name-and-class-selector\u2463"}],"title":"4.4. Additions to named view transition pseudo-elements"}],"url":"#typedef-pt-name-and-class-selector"},
"update-the-opt-in-state-for-outbound-transitions": {"dfnID":"update-the-opt-in-state-for-outbound-transitions","dfnText":"update the opt-in state for outbound transitions","external":false,"refSections":[{"refs":[{"id":"ref-for-update-the-opt-in-state-for-outbound-transitions"}],"title":"2.3.1. The @view-transition rule"},{"refs":[{"id":"ref-for-update-the-opt-in-state-for-outbound-transitions\u2460"}],"title":"8.5. Activating the view transition in the new Document"}],"url":"#update-the-opt-in-state-for-outbound-transitions"},
"used-group-name": {"dfnID":"used-group-name","dfnText":"used group name","external":false,"refSections":[{"refs":[{"id":"ref-for-used-group-name"}],"title":"7.3.1. View Transition Tree Root: the ::view-transition-group-children pseudo-element"},{"refs":[{"id":"ref-for-used-group-name\u2460"}],"title":"8.7.4. Compute the old view-transition-group"},{"refs":[{"id":"ref-for-used-group-name\u2461"}],"title":"8.7.5. Compute the new view-transition-group"}],"url":"#used-group-name"},
"valdef-view-transition-class-custom-ident": {"dfnID":"valdef-view-transition-class-custom-ident","dfnText":"<custom-ident>+","external":false,"refSections":[],"url":"#valdef-view-transition-class-custom-ident"},
"valdef-view-transition-class-none": {"dfnID":"valdef-view-transition-class-none","dfnText":"none","external":false,"refSections":[],"url":"#valdef-view-transition-class-none"},
"valdef-view-transition-group-contain": {"dfnID":"valdef-view-transition-group-contain","dfnText":"contain","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-view-transition-group-contain"}],"title":"8.7.3. Resolving the group name"}],"url":"#valdef-view-transition-group-contain"},
"valdef-view-transition-group-custom-ident": {"dfnID":"valdef-view-transition-group-custom-ident","dfnText":"<custom-ident>","external":false,"refSections":[],"url":"#valdef-view-transition-group-custom-ident"},
"valdef-view-transition-group-nearest": {"dfnID":"valdef-view-transition-group-nearest","dfnText":"nearest","external":false,"refSections":[],"url":"#valdef-view-transition-group-nearest"},
"valdef-view-transition-group-normal": {"dfnID":"valdef-view-transition-group-normal","dfnText":"normal","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-view-transition-group-normal"}],"title":"8.7.1. Resolving the view-transition-group value"},{"refs":[{"id":"ref-for-valdef-view-transition-group-normal\u2460"}],"title":"8.7.2. Resolving the containing group name"}],"url":"#valdef-view-transition-group-normal"},
"valdef-view-transition-navigation-auto": {"dfnID":"valdef-view-transition-navigation-auto","dfnText":"auto","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-view-transition-navigation-auto"}],"title":"2.3.2. The navigation descriptor"},{"refs":[{"id":"ref-for-valdef-view-transition-navigation-auto\u2460"}],"title":"8.3. Resolving the @view-transition rule"}],"url":"#valdef-view-transition-navigation-auto"},
"valdef-view-transition-navigation-none": {"dfnID":"valdef-view-transition-navigation-none","dfnText":"none","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-view-transition-navigation-none"}],"title":"8.3. Resolving the @view-transition rule"}],"url":"#valdef-view-transition-navigation-none"},
"view-transition-name-auto": {"dfnID":"view-transition-name-auto","dfnText":"auto","external":false,"refSections":[],"url":"#view-transition-name-auto"},
"view-transition-navigation": {"dfnID":"view-transition-navigation","dfnText":"navigation","external":false,"refSections":[{"refs":[{"id":"ref-for-view-transition-navigation"}],"title":"2.3.1. The @view-transition rule"},{"refs":[{"id":"ref-for-view-transition-navigation\u2460"}],"title":"2.3.2. The navigation descriptor"},{"refs":[{"id":"ref-for-view-transition-navigation\u2461"},{"id":"ref-for-view-transition-navigation\u2462"}],"title":"8.3. Resolving the @view-transition rule"}],"url":"#view-transition-navigation"},
"view-transition-params": {"dfnID":"view-transition-params","dfnText":"view transition params","external":false,"refSections":[{"refs":[{"id":"ref-for-view-transition-params"}],"title":"8.1.1. Additions to Document"},{"refs":[{"id":"ref-for-view-transition-params\u2460"}],"title":"8.1.3. Serializable view transition params"},{"refs":[{"id":"ref-for-view-transition-params\u2461"}],"title":"8.4.2. Setup the outbound transition when ready to swap pages"},{"refs":[{"id":"ref-for-view-transition-params\u2462"}],"title":"8.4.5. Proceed with cross-document view transition after capturing the old state"}],"url":"#view-transition-params"},
"view-transition-params-initial-snapshot-containing-block-size": {"dfnID":"view-transition-params-initial-snapshot-containing-block-size","dfnText":"initial snapshot containing block size","external":false,"refSections":[{"refs":[{"id":"ref-for-view-transition-params-initial-snapshot-containing-block-size"}],"title":"8.4.5. Proceed with cross-document view transition after capturing the old state"},{"refs":[{"id":"ref-for-view-transition-params-initial-snapshot-containing-block-size\u2460"}],"title":"8.5. Activating the view transition in the new Document"}],"url":"#view-transition-params-initial-snapshot-containing-block-size"},
"view-transition-params-named-elements": {"dfnID":"view-transition-params-named-elements","dfnText":"named elements","external":false,"refSections":[{"refs":[{"id":"ref-for-view-transition-params-named-elements"}],"title":"8.4.5. Proceed with cross-document view transition after capturing the old state"},{"refs":[{"id":"ref-for-view-transition-params-named-elements\u2460"}],"title":"8.5. Activating the view transition in the new Document"}],"url":"#view-transition-params-named-elements"},
"view-transition-types": {"dfnID":"view-transition-types","dfnText":"types","external":false,"refSections":[{"refs":[{"id":"ref-for-view-transition-types"}],"title":"2.3.1. The @view-transition rule"},{"refs":[{"id":"ref-for-view-transition-types\u2460"}],"title":"3.1. Overview"},{"refs":[{"id":"ref-for-view-transition-types\u2461"},{"id":"ref-for-view-transition-types\u2462"}],"title":"3.5. Activating the transition type for cross-document view transitions"},{"refs":[{"id":"ref-for-view-transition-types\u2463"}],"title":"8.3. Resolving the @view-transition rule"},{"refs":[{"id":"ref-for-view-transition-types\u2464"}],"title":"8.4.2. Setup the outbound transition when ready to swap pages"}],"url":"#view-transition-types"},
"viewtransition-active-types": {"dfnID":"viewtransition-active-types","dfnText":"active types","external":false,"refSections":[{"refs":[{"id":"ref-for-viewtransition-active-types"},{"id":"ref-for-viewtransition-active-types\u2460"},{"id":"ref-for-viewtransition-active-types\u2461"}],"title":"3.1. Overview"},{"refs":[{"id":"ref-for-viewtransition-active-types\u2462"}],"title":"3.3.2. The :active-view-transition-type() pseudo-class"},{"refs":[{"id":"ref-for-viewtransition-active-types\u2463"}],"title":"3.4. Changing the types of an ongoing view transition"},{"refs":[{"id":"ref-for-viewtransition-active-types\u2464"}],"title":"3.5. Activating the transition type for cross-document view transitions"},{"refs":[{"id":"ref-for-viewtransition-active-types\u2465"}],"title":"5. Extending document.startViewTransition()"},{"refs":[{"id":"ref-for-viewtransition-active-types\u2466"},{"id":"ref-for-viewtransition-active-types\u2467"}],"title":"8.4.2. Setup the outbound transition when ready to swap pages"},{"refs":[{"id":"ref-for-viewtransition-active-types\u2468"}],"title":"8.5. Activating the view transition in the new Document"}],"url":"#viewtransition-active-types"},
"viewtransition-outbound-post-capture-steps": {"dfnID":"viewtransition-outbound-post-capture-steps","dfnText":"outbound post-capture steps","external":false,"refSections":[{"refs":[{"id":"ref-for-viewtransition-outbound-post-capture-steps"}],"title":"5. Extending document.startViewTransition()"},{"refs":[{"id":"ref-for-viewtransition-outbound-post-capture-steps\u2460"}],"title":"8.4.2. Setup the outbound transition when ready to swap pages"},{"refs":[{"id":"ref-for-viewtransition-outbound-post-capture-steps\u2461"},{"id":"ref-for-viewtransition-outbound-post-capture-steps\u2462"}],"title":"8.4.4. Proceed with navigation if view transition is skipped"},{"refs":[{"id":"ref-for-viewtransition-outbound-post-capture-steps\u2463"},{"id":"ref-for-viewtransition-outbound-post-capture-steps\u2464"}],"title":"8.4.5. Proceed with cross-document view transition after capturing the old state"}],"url":"#viewtransition-outbound-post-capture-steps"},
"viewtransitiontypeset": {"dfnID":"viewtransitiontypeset","dfnText":"ViewTransitionTypeSet","external":false,"refSections":[{"refs":[{"id":"ref-for-viewtransitiontypeset"},{"id":"ref-for-viewtransitiontypeset\u2460"},{"id":"ref-for-viewtransitiontypeset\u2461"}],"title":"3.4. Changing the types of an ongoing view transition"},{"refs":[{"id":"ref-for-viewtransitiontypeset\u2462"}],"title":"8.1.2. Additions to ViewTransition"}],"url":"#viewtransitiontypeset"},
};

document.addEventListener("DOMContentLoaded", ()=>{
    genAllDfnPanels();

    document.body.addEventListener("click", (e) => {
        // If not handled already, just hide all dfn panels.
        hideAllDfnPanels();
    });
});

window.addEventListener("resize", () => {
    // Pin any visible dfn panel
    queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>positionDfnPanel(el));
});

function genAllDfnPanels() {
    for(const panelData of Object.values(dfnPanelData)) {
        const dfnID = panelData.dfnID;
        const dfn = document.getElementById(dfnID);
        if(!dfn) {
            console.log(`Can't find dfn#${dfnID}.`, panelData);
            continue;
        }
        dfn.panelData = panelData;
        insertDfnPopupAction(dfn);
    }
}

function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
    const dfnPanel = mk.aside({
        class: "dfn-panel on",
        id: `infopanel-for-${dfnID}`,
        "data-for": dfnID,
        "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
        },
        mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
            `Info about the '${dfnText}' ${external?"external":""} reference.`),
        mk.a({href:url, class:"dfn-link"}, url),
        refSections.length == 0 ? [] :
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({ href: `#${ref.id}` },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        genLinkingSyntaxes(dfn),
    );

    dfnPanel.addEventListener('click', (event) => {
        if (event.target.nodeName == 'A') {
            scrollToTargetAndHighlight(event);
            pinDfnPanel(dfnPanel);
        }
        event.stopPropagation();
        refocusOnTarget(event);
    });
    dfnPanel.addEventListener('keydown', (event) => {
        if(event.keyCode == 27) { // Escape key
            hideDfnPanel({dfnPanel});
            event.stopPropagation();
            event.preventDefault();
        }
    });

    dfnPanel.dfn = dfn;
    dfn.dfnPanel = dfnPanel;
    return dfnPanel;
}



function hideAllDfnPanels() {
    // Delete the currently-active dfn panel.
    queryAll(".dfn-panel").forEach(dfnPanel=>hideDfnPanel({dfnPanel}));
}

function showDfnPanel(dfn) {
    hideAllDfnPanels(); // Only display one at a time.

    dfn.setAttribute("aria-expanded", "true");

    const dfnPanel = genDfnPanel(dfn, dfn.panelData);

    // Give the dfn a unique tabindex, and then
    // give all the tabbable panel bits successive indexes.
    let tabIndex = 100;
    dfn.tabIndex = tabIndex++;
    const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
    for (const el of tabbable) {
        el.tabIndex = tabIndex++;
    }

    append(document.body, dfnPanel);
    positionDfnPanel(dfnPanel);
}

function positionDfnPanel(dfnPanel) {
    const dfn = dfnPanel.dfn;
    const dfnPos = getBounds(dfn);
    dfnPanel.style.top = dfnPos.bottom + "px";
    dfnPanel.style.left = dfnPos.left + "px";

    const panelPos = dfnPanel.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
        dfnPanel.style.left = newLeft + "px";
    }
}

function pinDfnPanel(dfnPanel) {
    // Switch it to "activated" state, which pins it.
    dfnPanel.classList.add("activated");
    dfnPanel.style.position = "fixed";
    dfnPanel.style.left = null;
    dfnPanel.style.top = null;
}

function hideDfnPanel({dfn, dfnPanel}) {
    if(!dfnPanel) dfnPanel = dfn.dfnPanel;
    if(!dfn) dfn = dfnPanel.dfn;
    dfn.dfnPanel = undefined;
    dfnPanel.dfn = undefined;
    dfn.setAttribute("aria-expanded", "false");
    dfn.tabIndex = undefined;
    dfnPanel.remove()
}

function toggleDfnPanel(dfn) {
    if(dfn.dfnPanel) {
        hideDfnPanel(dfn);
    } else {
        showDfnPanel(dfn);
    }
}

function insertDfnPopupAction(dfn) {
    dfn.setAttribute('role', 'button');
    dfn.setAttribute('aria-expanded', 'false')
    dfn.tabIndex = 0;
    dfn.classList.add('has-dfn-panel');
    dfn.addEventListener('click', (event) => {
        toggleDfnPanel(dfn);
        event.stopPropagation();
    });
    dfn.addEventListener('keypress', (event) => {
        const kc = event.keyCode;
        // 32->Space, 13->Enter
        if(kc == 32 || kc == 13) {
            toggleDfnPanel(dfn);
            event.stopPropagation();
            event.preventDefault();
        }
    });
}

function refocusOnTarget(event) {
    const target = event.target;
    setTimeout(() => {
        // Refocus on the event.target element.
        // This is needed after browser scrolls to the destination.
        target.focus();
    });
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function scrollToTargetAndHighlight(event) {
    let hash = event.target.hash;
    if (hash) {
        hash = decodeURIComponent(hash.substring(1));
        const dest = document.getElementById(hash);
        if (dest) {
            dest.classList.add('highlighted');
            setTimeout(() => dest.classList.remove('highlighted'), 1000);
        }
    }
}

// Functions, divided by link type, that wrap an autolink's
// contents with the appropriate outer syntax.
// Alternately, a string naming another type they format
// the same as.
function needsFor(type) {
    switch(type) {
        case "descriptor":
        case "value":
        case "element-attr":
        case "attr-value":
        case "element-state":
        case "method":
        case "constructor":
        case "argument":
        case "attribute":
        case "const":
        case "dict-member":
        case "event":
        case "enum-value":
        case "stringifier":
        case "serializer":
        case "iterator":
        case "maplike":
        case "setlike":
        case "state":
        case "mode":
        case "context":
        case "facet": return true;

        default: return false;
    }
}
function refusesFor(type) {
    switch(type) {
        case "property":
        case "element":
        case "interface":
        case "namespace":
        case "callback":
        case "dictionary":
        case "enum":
        case "exception":
        case "typedef":
        case "http-header":
        case "permission": return true;

        default: return false;
    }
}
function linkFormatterFromType(type) {
    switch(type) {
        case 'scheme':
        case 'permission':
        case 'dfn': return (text) => `[=${text}=]`;

        case 'abstract-op': return (text) => `[\$${text}\$]`;

        case 'function':
        case 'at-rule':
        case 'selector':
        case 'value': return (text) => `''${text}''`;

        case 'http-header': return (text) => `[:${text}:]`;

        case 'interface':
        case 'constructor':
        case 'method':
        case 'argument':
        case 'attribute':
        case 'callback':
        case 'dictionary':
        case 'dict-member':
        case 'enum':
        case 'enum-value':
        case 'exception':
        case 'const':
        case 'typedef':
        case 'stringifier':
        case 'serializer':
        case 'iterator':
        case 'maplike':
        case 'setlike':
        case 'extended-attribute':
        case 'event':
        case 'idl': return (text) => `{{${text}}}`;

        case 'element-state':
        case 'element-attr':
        case 'attr-value':
        case 'element': return (element) => `<{${element}}>`;

        case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

        case 'type': return (text)=> `<<${text}>>`;

        case 'descriptor':
        case 'property': return (text) => `'${text}'`;

        default: return;
    };
};

function genLinkingSyntaxes(dfn) {
    if(dfn.tagName != "DFN") return;

    const type = dfn.getAttribute('data-dfn-type');
    if(!type) {
        console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
        return [];
    }

    // Return a function that wraps link text based on the type
    const linkFormatter = linkFormatterFromType(type);
    if(!linkFormatter) {
        console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
        return [];
    }

    let ltAlts;
    if(dfn.hasAttribute('data-lt')) {
        ltAlts = dfn.getAttribute('data-lt')
            .split("|")
            .map(x=>x.trim());
    } else {
        ltAlts = [dfn.textContent.trim()];
    }
    if(type == "type") {
        // lt of "<foo>", but "foo" is the interior;
        // <<foo/bar>> is how you write it with a for,
        // not <foo/<bar>> or whatever.
        for(var i = 0; i < ltAlts.length; i++) {
            const lt = ltAlts[i];
            const match = /<(.*)>/.exec(lt);
            if(match) { ltAlts[i] = match[1]; }
        }
    }

    let forAlts;
    if(dfn.hasAttribute('data-dfn-for')) {
        forAlts = dfn.getAttribute('data-dfn-for')
            .split(",")
            .map(x=>x.trim());
    } else {
        forAlts = [''];
    }

    let linkingSyntaxes = [];
    if(!needsFor(type)) {
        for(const lt of ltAlts) {
            linkingSyntaxes.push(linkFormatter(lt));
        }
    }
    if(!refusesFor(type)) {
        for(const f of forAlts) {
            linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
        }
    }
    return [
        mk.b({}, 'Possible linking syntaxes:'),
        mk.ul({},
            ...linkingSyntaxes.map(link => {
                const copyLink = async () =>
                    await navigator.clipboard.writeText(link);
                return mk.li({},
                    mk.div({ class: 'link-item' },
                        mk.button({
                            class: 'copy-icon', title: 'Copy',
                            type: 'button',
                            _onclick: copyLink,
                            tabindex: 0,
                        }, mk.span({ class: 'icon' }) ),
                        mk.span({}, link)
                    )
                );
            })
        )
    ];
}
}
</script>
<script>/* Boilerplate: script-position-annos */
"use strict";
{
function repositionAnnoPanels(){
    const panels = [...document.querySelectorAll("[data-anno-for]")];
    hydratePanels(panels);
    let vSoFar = 0;
    for(const panel of panels.sort(cmpTops)) {
        if(panel.top < vSoFar) {
            panel.top = vSoFar;
            panel.style.top = vSoFar + "px";
        }
        vSoFar = panel.top + panel.height + 15;
    }
}
function hydratePanels(panels) {
    const main = document.querySelector("main");
    let mainRect;
    if(main) mainRect = main.getBoundingClientRect();
    // First display them all, if they're not already visible.
    for(const panel of panels) {
        panel.classList.remove("unpositioned");
    }
    // Measure them all
    for(const panel of panels) {
        const dfn = document.getElementById(panel.getAttribute("data-anno-for"));
        if(!dfn) {
            console.log("Can't find the annotation panel target:", panel);
            continue;
        }
        panel.dfn = dfn;
        panel.top = window.scrollY + dfn.getBoundingClientRect().top;
        let panelRect = panel.getBoundingClientRect();
        panel.height = panelRect.height;
        if(main) {
            panel.overlappingMain = panelRect.left < mainRect.right;
        } else {
            panel.overlappingMain = false;
        }
    }
    // And finally position them
    for(const panel of panels) {
        const dfn = panel.dfn;
        if(!dfn) continue;
        panel.style.top = panel.top + "px";
        panel.classList.toggle("overlapping-main", panel.overlappingMain);
    }
}

function cmpTops(a,b) {
    return a.top - b.top;
}

window.addEventListener("load", repositionAnnoPanels);
window.addEventListener("resize", repositionAnnoPanels);
}
</script>
<script>/* Boilerplate: script-ref-hints */
"use strict";
{
let refsData = {
"#active-view-transition-pseudo": {"displayText":":active-view-transition","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":":active-view-transition","type":"selector","url":"#active-view-transition-pseudo"},
"#active-view-transition-type-pseudo": {"displayText":":active-view-transition-type()","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":":active-view-transition-type()","type":"selector","url":"#active-view-transition-type-pseudo"},
"#adjust-nested-view-transition-group-transform": {"displayText":"adjust nested view transition group transform","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"adjust nested view transition group transform","type":"dfn","url":"#adjust-nested-view-transition-group-transform"},
"#at-view-transition-rule": {"displayText":"@view-transition","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"@view-transition","type":"at-rule","url":"#at-view-transition-rule"},
"#captured-element-class-list": {"displayText":"class list","export":true,"for_":["captured element"],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"class list","type":"dfn","url":"#captured-element-class-list"},
"#captured-element-containing-group-name": {"displayText":"containing group name","export":true,"for_":["captured element"],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"containing group name","type":"dfn","url":"#captured-element-containing-group-name"},
"#captured-element-old-border-width": {"displayText":"old border width","export":true,"for_":["captured element"],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"old border width","type":"dfn","url":"#captured-element-old-border-width"},
"#captured-element-transform-from-snapshot-containing-block": {"displayText":"transform from snapshot containing block","export":true,"for_":["captured element"],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"transform from snapshot containing block","type":"dfn","url":"#captured-element-transform-from-snapshot-containing-block"},
"#cssviewtransitionrule": {"displayText":"CSSViewTransitionRule","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"CSSViewTransitionRule","type":"interface","url":"#cssviewtransitionrule"},
"#descdef-view-transition-navigation": {"displayText":"navigation","export":true,"for_":["@view-transition"],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"navigation","type":"descriptor","url":"#descdef-view-transition-navigation"},
"#descdef-view-transition-types": {"displayText":"types","export":true,"for_":["@view-transition"],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"types","type":"descriptor","url":"#descdef-view-transition-types"},
"#dictdef-startviewtransitionoptions": {"displayText":"StartViewTransitionOptions","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"StartViewTransitionOptions","type":"dictionary","url":"#dictdef-startviewtransitionoptions"},
"#document-can-initiate-outbound-view-transition": {"displayText":"can initiate outbound view transition","export":true,"for_":["document"],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"can initiate outbound view transition","type":"dfn","url":"#document-can-initiate-outbound-view-transition"},
"#document-inbound-view-transition-params": {"displayText":"inbound view transition params","export":true,"for_":["document"],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"inbound view transition params","type":"dfn","url":"#document-inbound-view-transition-params"},
"#document-scoped-view-transition-group": {"displayText":"document-scoped view transition group","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"document-scoped view transition group","type":"dfn","url":"#document-scoped-view-transition-group"},
"#dom-cssviewtransitionrule-navigation": {"displayText":"navigation","export":true,"for_":["CSSViewTransitionRule"],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"navigation","type":"attribute","url":"#dom-cssviewtransitionrule-navigation"},
"#dom-cssviewtransitionrule-types": {"displayText":"types","export":true,"for_":["CSSViewTransitionRule"],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"types","type":"attribute","url":"#dom-cssviewtransitionrule-types"},
"#dom-document-startviewtransition": {"displayText":"startViewTransition()","export":true,"for_":["Document"],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"startViewTransition()","type":"method","url":"#dom-document-startviewtransition"},
"#dom-startviewtransitionoptions-types": {"displayText":"types","export":true,"for_":["StartViewTransitionOptions"],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"types","type":"dict-member","url":"#dom-startviewtransitionoptions-types"},
"#dom-startviewtransitionoptions-update": {"displayText":"update","export":true,"for_":["StartViewTransitionOptions"],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"update","type":"dict-member","url":"#dom-startviewtransitionoptions-update"},
"#dom-viewtransition-types": {"displayText":"types","export":true,"for_":["ViewTransition"],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"types","type":"attribute","url":"#dom-viewtransition-types"},
"#nearest-containing-group-name": {"displayText":"nearest containing group name","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"nearest containing group name","type":"dfn","url":"#nearest-containing-group-name"},
"#propdef-view-transition-class": {"displayText":"view-transition-class","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"view-transition-class","type":"property","url":"#propdef-view-transition-class"},
"#propdef-view-transition-group": {"displayText":"view-transition-group","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"view-transition-group","type":"property","url":"#propdef-view-transition-group"},
"#resolve-view-transition-rule": {"displayText":"resolve @view-transition rule","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"resolve @view-transition rule","type":"dfn","url":"#resolve-view-transition-rule"},
"#selectordef-view-transition-group-children": {"displayText":"::view-transition-group-children()","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"::view-transition-group-children()","type":"selector","url":"#selectordef-view-transition-group-children"},
"#typedef-pt-class-selector": {"displayText":"<pt-class-selector>","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"<pt-class-selector>","type":"type","url":"#typedef-pt-class-selector"},
"#typedef-pt-name-and-class-selector": {"displayText":"<pt-name-and-class-selector>","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"<pt-name-and-class-selector>","type":"type","url":"#typedef-pt-name-and-class-selector"},
"#update-the-opt-in-state-for-outbound-transitions": {"displayText":"update the opt-in state for outbound transitions","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"update the opt-in state for outbound transitions","type":"dfn","url":"#update-the-opt-in-state-for-outbound-transitions"},
"#used-group-name": {"displayText":"used group name","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"used group name","type":"dfn","url":"#used-group-name"},
"#valdef-view-transition-group-contain": {"displayText":"contain","export":true,"for_":["view-transition-group"],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"contain","type":"value","url":"#valdef-view-transition-group-contain"},
"#valdef-view-transition-group-normal": {"displayText":"normal","export":true,"for_":["view-transition-group"],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"normal","type":"value","url":"#valdef-view-transition-group-normal"},
"#valdef-view-transition-navigation-auto": {"displayText":"auto","export":true,"for_":["@view-transition/navigation","navigation"],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"auto","type":"value","url":"#valdef-view-transition-navigation-auto"},
"#valdef-view-transition-navigation-none": {"displayText":"none","export":true,"for_":["@view-transition/navigation","navigation"],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"none","type":"value","url":"#valdef-view-transition-navigation-none"},
"#view-transition-navigation": {"displayText":"navigation","export":true,"for_":["@view-transition"],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"navigation","type":"dfn","url":"#view-transition-navigation"},
"#view-transition-params": {"displayText":"view transition params","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"view transition params","type":"dfn","url":"#view-transition-params"},
"#view-transition-params-initial-snapshot-containing-block-size": {"displayText":"initial snapshot containing block size","export":true,"for_":["view transition params"],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"initial snapshot containing block size","type":"dfn","url":"#view-transition-params-initial-snapshot-containing-block-size"},
"#view-transition-params-named-elements": {"displayText":"named elements","export":true,"for_":["view transition params"],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"named elements","type":"dfn","url":"#view-transition-params-named-elements"},
"#view-transition-types": {"displayText":"types","export":true,"for_":["@view-transition"],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"types","type":"dfn","url":"#view-transition-types"},
"#viewtransition-active-types": {"displayText":"active types","export":true,"for_":["ViewTransition"],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"active types","type":"dfn","url":"#viewtransition-active-types"},
"#viewtransition-outbound-post-capture-steps": {"displayText":"outbound post-capture steps","export":true,"for_":["ViewTransition"],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"outbound post-capture steps","type":"dfn","url":"#viewtransition-outbound-post-capture-steps"},
"#viewtransitiontypeset": {"displayText":"ViewTransitionTypeSet","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-2","status":"local","text":"ViewTransitionTypeSet","type":"interface","url":"#viewtransitiontypeset"},
"https://dom.spec.whatwg.org/#clone-a-node-document": {"displayText":"document","export":true,"for_":["clone a node"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"document","type":"dfn","url":"https://dom.spec.whatwg.org/#clone-a-node-document"},
"https://dom.spec.whatwg.org/#concept-class": {"displayText":"class","export":true,"for_":["Element"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"class","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-class"},
"https://dom.spec.whatwg.org/#concept-document": {"displayText":"document","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"document","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-document"},
"https://dom.spec.whatwg.org/#concept-document-origin": {"displayText":"origin","export":true,"for_":["Document"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"origin","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-document-origin"},
"https://dom.spec.whatwg.org/#concept-id": {"displayText":"ID","export":true,"for_":["Element"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"id","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-id"},
"https://dom.spec.whatwg.org/#concept-node-document": {"displayText":"node document","export":true,"for_":["Node"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"node document","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-node-document"},
"https://dom.spec.whatwg.org/#concept-tree-ancestor": {"displayText":"ancestor","export":true,"for_":["tree"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"ancestor","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-tree-ancestor"},
"https://dom.spec.whatwg.org/#concept-tree-child": {"displayText":"child","export":true,"for_":["tree"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"child","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-tree-child"},
"https://dom.spec.whatwg.org/#concept-tree-root": {"displayText":"root","export":true,"for_":["tree"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"root","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-tree-root"},
"https://dom.spec.whatwg.org/#document": {"displayText":"Document","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"Document","type":"interface","url":"https://dom.spec.whatwg.org/#document"},
"https://dom.spec.whatwg.org/#document-element": {"displayText":"document element","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"document element","type":"dfn","url":"https://dom.spec.whatwg.org/#document-element"},
"https://dom.spec.whatwg.org/#element": {"displayText":"Element","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"Element","type":"interface","url":"https://dom.spec.whatwg.org/#element"},
"https://drafts.csswg.org/css-backgrounds-3/#propdef-border-width": {"displayText":"border-width","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-backgrounds","spec":"css-backgrounds-3","status":"current","text":"border-width","type":"property","url":"https://drafts.csswg.org/css-backgrounds-3/#propdef-border-width"},
"https://drafts.csswg.org/css-borders-4/#propdef-border-radius": {"displayText":"border-radius","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-borders","spec":"css-borders-4","status":"current","text":"border-radius","type":"property","url":"https://drafts.csswg.org/css-borders-4/#propdef-border-radius"},
"https://drafts.csswg.org/css-cascade-5/#computed-value": {"displayText":"computed value","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-cascade","spec":"css-cascade-5","status":"current","text":"computed value","type":"dfn","url":"https://drafts.csswg.org/css-cascade-5/#computed-value"},
"https://drafts.csswg.org/css-cascade-5/#used-value": {"displayText":"used value","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-cascade","spec":"css-cascade-5","status":"current","text":"used value","type":"dfn","url":"https://drafts.csswg.org/css-cascade-5/#used-value"},
"https://drafts.csswg.org/css-color-4/#propdef-opacity": {"displayText":"opacity","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"opacity","type":"property","url":"https://drafts.csswg.org/css-color-4/#propdef-opacity"},
"https://drafts.csswg.org/css-conditional-3/#at-ruledef-media": {"displayText":"@media","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-conditional","spec":"css-conditional-3","status":"current","text":"@media","type":"at-rule","url":"https://drafts.csswg.org/css-conditional-3/#at-ruledef-media"},
"https://drafts.csswg.org/css-conditional-3/#at-ruledef-supports": {"displayText":"@supports","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-conditional","spec":"css-conditional-3","status":"current","text":"@supports","type":"at-rule","url":"https://drafts.csswg.org/css-conditional-3/#at-ruledef-supports"},
"https://drafts.csswg.org/css-conditional-3/#conditional-group-rule": {"displayText":"conditional group rule","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-conditional","spec":"css-conditional-3","status":"current","text":"conditional group rule","type":"dfn","url":"https://drafts.csswg.org/css-conditional-3/#conditional-group-rule"},
"https://drafts.csswg.org/css-overflow-3/#propdef-overflow": {"displayText":"overflow","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-overflow","spec":"css-overflow-3","status":"current","text":"overflow","type":"property","url":"https://drafts.csswg.org/css-overflow-3/#propdef-overflow"},
"https://drafts.csswg.org/css-scoping-1/#css-tree-scoped-name": {"displayText":"tree-scoped name","export":true,"for_":["CSS"],"level":"1","normative":true,"shortname":"css-scoping","spec":"css-scoping-1","status":"current","text":"tree-scoped name","type":"dfn","url":"https://drafts.csswg.org/css-scoping-1/#css-tree-scoped-name"},
"https://drafts.csswg.org/css-scoping-1/#flat-tree": {"displayText":"flat tree","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-scoping","spec":"css-scoping-1","status":"current","text":"flat tree","type":"dfn","url":"https://drafts.csswg.org/css-scoping-1/#flat-tree"},
"https://drafts.csswg.org/css-shadow-parts-1/#selectordef-part": {"displayText":"::part()","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-shadow-parts","spec":"css-shadow-parts-1","status":"current","text":"::part()","type":"selector","url":"https://drafts.csswg.org/css-shadow-parts-1/#selectordef-part"},
"https://drafts.csswg.org/css-syntax-3/#typedef-declaration-list": {"displayText":"<declaration-list>","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-syntax","spec":"css-syntax-3","status":"current","text":"<declaration-list>","type":"type","url":"https://drafts.csswg.org/css-syntax-3/#typedef-declaration-list"},
"https://drafts.csswg.org/css-transforms-1/#propdef-transform": {"displayText":"transform","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-transforms","spec":"css-transforms-1","status":"current","text":"transform","type":"property","url":"https://drafts.csswg.org/css-transforms-1/#propdef-transform"},
"https://drafts.csswg.org/css-transforms-2/#propdef-perspective": {"displayText":"perspective","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"current","text":"perspective","type":"property","url":"https://drafts.csswg.org/css-transforms-2/#propdef-perspective"},
"https://drafts.csswg.org/css-transforms-2/#propdef-transform-style": {"displayText":"transform-style","export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"current","text":"transform-style","type":"property","url":"https://drafts.csswg.org/css-transforms-2/#propdef-transform-style"},
"https://drafts.csswg.org/css-values-4/#comb-one": {"displayText":"|","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"|","type":"grammar","url":"https://drafts.csswg.org/css-values-4/#comb-one"},
"https://drafts.csswg.org/css-values-4/#identifier-value": {"displayText":"<custom-ident>","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"<custom-ident>","type":"type","url":"https://drafts.csswg.org/css-values-4/#identifier-value"},
"https://drafts.csswg.org/css-values-4/#mult-comma": {"displayText":"#","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"#","type":"grammar","url":"https://drafts.csswg.org/css-values-4/#mult-comma"},
"https://drafts.csswg.org/css-values-4/#mult-one-plus": {"displayText":"+","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"+","type":"grammar","url":"https://drafts.csswg.org/css-values-4/#mult-one-plus"},
"https://drafts.csswg.org/css-values-4/#mult-opt": {"displayText":"?","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"?","type":"grammar","url":"https://drafts.csswg.org/css-values-4/#mult-opt"},
"https://drafts.csswg.org/css-view-transitions-1/#activate-view-transition": {"displayText":"activate view transition","export":false,"for_":[],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"activate view transition","type":"dfn","url":"https://drafts.csswg.org/css-view-transitions-1/#activate-view-transition"},
"https://drafts.csswg.org/css-view-transitions-1/#callbackdef-viewtransitionupdatecallback": {"displayText":"ViewTransitionUpdateCallback","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"ViewTransitionUpdateCallback","type":"callback","url":"https://drafts.csswg.org/css-view-transitions-1/#callbackdef-viewtransitionupdatecallback"},
"https://drafts.csswg.org/css-view-transitions-1/#capture-the-new-state": {"displayText":"capture the new state","export":false,"for_":[],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"capture the new state","type":"dfn","url":"https://drafts.csswg.org/css-view-transitions-1/#capture-the-new-state"},
"https://drafts.csswg.org/css-view-transitions-1/#capture-the-old-state": {"displayText":"capture the old state","export":false,"for_":[],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"capture the old state","type":"dfn","url":"https://drafts.csswg.org/css-view-transitions-1/#capture-the-old-state"},
"https://drafts.csswg.org/css-view-transitions-1/#captured-element": {"displayText":"captured element","export":false,"for_":[],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"captured element","type":"dfn","url":"https://drafts.csswg.org/css-view-transitions-1/#captured-element"},
"https://drafts.csswg.org/css-view-transitions-1/#captured-element-group-styles-rule": {"displayText":"group styles rule","export":false,"for_":["captured element"],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"group styles rule","type":"dfn","url":"https://drafts.csswg.org/css-view-transitions-1/#captured-element-group-styles-rule"},
"https://drafts.csswg.org/css-view-transitions-1/#captured-element-old-transform": {"displayText":"old transform","export":false,"for_":["captured element"],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"old transform","type":"dfn","url":"https://drafts.csswg.org/css-view-transitions-1/#captured-element-old-transform"},
"https://drafts.csswg.org/css-view-transitions-1/#document-active-view-transition": {"displayText":"active view transition","export":false,"for_":["document"],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"active view transition","type":"dfn","url":"https://drafts.csswg.org/css-view-transitions-1/#document-active-view-transition"},
"https://drafts.csswg.org/css-view-transitions-1/#document-rendering-suppression-for-view-transitions": {"displayText":"rendering suppression for view transitions","export":false,"for_":["document"],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"rendering suppression for view transitions","type":"dfn","url":"https://drafts.csswg.org/css-view-transitions-1/#document-rendering-suppression-for-view-transitions"},
"https://drafts.csswg.org/css-view-transitions-1/#document-scoped-view-transition-name": {"displayText":"document-scoped view transition name","export":false,"for_":[],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"document-scoped view transition name","type":"dfn","url":"https://drafts.csswg.org/css-view-transitions-1/#document-scoped-view-transition-name"},
"https://drafts.csswg.org/css-view-transitions-1/#dom-document-startviewtransition": {"displayText":"startViewTransition(updateCallback)","export":true,"for_":["Document"],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"startViewTransition(updateCallback)","type":"method","url":"https://drafts.csswg.org/css-view-transitions-1/#dom-document-startviewtransition"},
"https://drafts.csswg.org/css-view-transitions-1/#dom-viewtransition-finished": {"displayText":"finished","export":true,"for_":["ViewTransition"],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"finished","type":"attribute","url":"https://drafts.csswg.org/css-view-transitions-1/#dom-viewtransition-finished"},
"https://drafts.csswg.org/css-view-transitions-1/#dom-viewtransition-ready": {"displayText":"ready","export":true,"for_":["ViewTransition"],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"ready","type":"attribute","url":"https://drafts.csswg.org/css-view-transitions-1/#dom-viewtransition-ready"},
"https://drafts.csswg.org/css-view-transitions-1/#dom-viewtransition-skiptransition": {"displayText":"skipTransition()","export":true,"for_":["ViewTransition"],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"skipTransition()","type":"method","url":"https://drafts.csswg.org/css-view-transitions-1/#dom-viewtransition-skiptransition"},
"https://drafts.csswg.org/css-view-transitions-1/#dom-viewtransition-updatecallbackdone": {"displayText":"updateCallbackDone","export":true,"for_":["ViewTransition"],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"updateCallbackDone","type":"attribute","url":"https://drafts.csswg.org/css-view-transitions-1/#dom-viewtransition-updatecallbackdone"},
"https://drafts.csswg.org/css-view-transitions-1/#global-view-transition-user-agent-style-sheet": {"displayText":"global view transition user agent style sheet","export":false,"for_":[],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"global view transition user agent style sheet","type":"dfn","url":"https://drafts.csswg.org/css-view-transitions-1/#global-view-transition-user-agent-style-sheet"},
"https://drafts.csswg.org/css-view-transitions-1/#named-view-transition-pseudo-elements": {"displayText":"named view transition pseudo-elements","export":false,"for_":[],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"named view transition pseudo-elements","type":"dfn","url":"https://drafts.csswg.org/css-view-transitions-1/#named-view-transition-pseudo-elements"},
"https://drafts.csswg.org/css-view-transitions-1/#perform-pending-transition-operations": {"displayText":"perform pending transition operations","export":false,"for_":[],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"perform pending transition operations","type":"dfn","url":"https://drafts.csswg.org/css-view-transitions-1/#perform-pending-transition-operations"},
"https://drafts.csswg.org/css-view-transitions-1/#propdef-view-transition-name": {"displayText":"view-transition-name","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"view-transition-name","type":"property","url":"https://drafts.csswg.org/css-view-transitions-1/#propdef-view-transition-name"},
"https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition": {"displayText":"::view-transition","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"::view-transition","type":"selector","url":"https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition"},
"https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition-group": {"displayText":"::view-transition-group()","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"::view-transition-group()","type":"selector","url":"https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition-group"},
"https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition-image-pair": {"displayText":"::view-transition-image-pair()","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"::view-transition-image-pair()","type":"selector","url":"https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition-image-pair"},
"https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition-new": {"displayText":"::view-transition-new()","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"::view-transition-new()","type":"selector","url":"https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition-new"},
"https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition-old": {"displayText":"::view-transition-old()","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"::view-transition-old()","type":"selector","url":"https://drafts.csswg.org/css-view-transitions-1/#selectordef-view-transition-old"},
"https://drafts.csswg.org/css-view-transitions-1/#skip-the-view-transition": {"displayText":"skip the view transition","export":false,"for_":[],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"skip the view transition","type":"dfn","url":"https://drafts.csswg.org/css-view-transitions-1/#skip-the-view-transition"},
"https://drafts.csswg.org/css-view-transitions-1/#snapshot-containing-block": {"displayText":"snapshot containing block","export":false,"for_":[],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"snapshot containing block","type":"dfn","url":"https://drafts.csswg.org/css-view-transitions-1/#snapshot-containing-block"},
"https://drafts.csswg.org/css-view-transitions-1/#typedef-pt-name-selector": {"displayText":"<pt-name-selector>","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"<pt-name-selector>","type":"type","url":"https://drafts.csswg.org/css-view-transitions-1/#typedef-pt-name-selector"},
"https://drafts.csswg.org/css-view-transitions-1/#valdef-view-transition-name-none": {"displayText":"none","export":true,"for_":["view-transition-name"],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"none","type":"value","url":"https://drafts.csswg.org/css-view-transitions-1/#valdef-view-transition-name-none"},
"https://drafts.csswg.org/css-view-transitions-1/#view-transition-name": {"displayText":"view transition name","export":false,"for_":[],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"view transition name","type":"dfn","url":"https://drafts.csswg.org/css-view-transitions-1/#view-transition-name"},
"https://drafts.csswg.org/css-view-transitions-1/#view-transition-page-visibility-change-steps": {"displayText":"view transition page-visibility change steps","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"view transition page-visibility change steps","type":"dfn","url":"https://drafts.csswg.org/css-view-transitions-1/#view-transition-page-visibility-change-steps"},
"https://drafts.csswg.org/css-view-transitions-1/#view-transition-tree": {"displayText":"view transition tree","export":false,"for_":[],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"view transition tree","type":"dfn","url":"https://drafts.csswg.org/css-view-transitions-1/#view-transition-tree"},
"https://drafts.csswg.org/css-view-transitions-1/#view-transitions": {"displayText":"view transitions","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"view transitions","type":"dfn","url":"https://drafts.csswg.org/css-view-transitions-1/#view-transitions"},
"https://drafts.csswg.org/css-view-transitions-1/#viewtransition": {"displayText":"ViewTransition","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"ViewTransition","type":"interface","url":"https://drafts.csswg.org/css-view-transitions-1/#viewtransition"},
"https://drafts.csswg.org/css-view-transitions-1/#viewtransition-initial-snapshot-containing-block-size": {"displayText":"initial snapshot containing block size","export":false,"for_":["ViewTransition"],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"initial snapshot containing block size","type":"dfn","url":"https://drafts.csswg.org/css-view-transitions-1/#viewtransition-initial-snapshot-containing-block-size"},
"https://drafts.csswg.org/css-view-transitions-1/#viewtransition-named-elements": {"displayText":"named elements","export":false,"for_":["ViewTransition"],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"named elements","type":"dfn","url":"https://drafts.csswg.org/css-view-transitions-1/#viewtransition-named-elements"},
"https://drafts.csswg.org/css-view-transitions-1/#viewtransition-phase": {"displayText":"phase","export":false,"for_":["ViewTransition"],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"phase","type":"dfn","url":"https://drafts.csswg.org/css-view-transitions-1/#viewtransition-phase"},
"https://drafts.csswg.org/css-view-transitions-1/#viewtransition-update-callback": {"displayText":"update callback","export":false,"for_":["ViewTransition"],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"update callback","type":"dfn","url":"https://drafts.csswg.org/css-view-transitions-1/#viewtransition-update-callback"},
"https://drafts.csswg.org/css-view-transitions-1/#viewtransition-update-callback-done-promise": {"displayText":"update callback done promise","export":false,"for_":["ViewTransition"],"level":"1","normative":true,"shortname":"css-view-transitions","spec":"css-view-transitions-1","status":"current","text":"update callback done promise","type":"dfn","url":"https://drafts.csswg.org/css-view-transitions-1/#viewtransition-update-callback-done-promise"},
"https://drafts.csswg.org/cssom-1/#cssomstring": {"displayText":"CSSOMString","export":true,"for_":[],"level":"1","normative":true,"shortname":"cssom","spec":"cssom-1","status":"current","text":"CSSOMString","type":"interface","url":"https://drafts.csswg.org/cssom-1/#cssomstring"},
"https://drafts.csswg.org/cssom-1/#cssrule": {"displayText":"CSSRule","export":true,"for_":[],"level":"1","normative":true,"shortname":"cssom","spec":"cssom-1","status":"current","text":"CSSRule","type":"interface","url":"https://drafts.csswg.org/cssom-1/#cssrule"},
"https://drafts.csswg.org/selectors-3/#x": {"displayText":"*","export":true,"for_":[],"level":"3","normative":true,"shortname":"selectors","spec":"selectors-3","status":"current","text":"*","type":"selector","url":"https://drafts.csswg.org/selectors-3/#x"},
"https://drafts.csswg.org/selectors-4/#class-selector": {"displayText":"class selector","export":true,"for_":[],"level":"4","normative":true,"shortname":"selectors","spec":"selectors-4","status":"current","text":"class selector","type":"dfn","url":"https://drafts.csswg.org/selectors-4/#class-selector"},
"https://drafts.csswg.org/selectors-4/#pseudo-element": {"displayText":"pseudo-element","export":true,"for_":[],"level":"4","normative":true,"shortname":"selectors","spec":"selectors-4","status":"current","text":"pseudo-element","type":"dfn","url":"https://drafts.csswg.org/selectors-4/#pseudo-element"},
"https://drafts.csswg.org/selectors-4/#selector": {"displayText":"selector","export":true,"for_":[],"level":"4","normative":true,"shortname":"selectors","spec":"selectors-4","status":"current","text":"selector","type":"dfn","url":"https://drafts.csswg.org/selectors-4/#selector"},
"https://drafts.csswg.org/selectors-4/#specificity": {"displayText":"specificity","export":true,"for_":[],"level":"4","normative":true,"shortname":"selectors","spec":"selectors-4","status":"current","text":"specificity","type":"dfn","url":"https://drafts.csswg.org/selectors-4/#specificity"},
"https://drafts.csswg.org/selectors-4/#type-selector": {"displayText":"type selector","export":true,"for_":[],"level":"4","normative":true,"shortname":"selectors","spec":"selectors-4","status":"current","text":"type selector","type":"dfn","url":"https://drafts.csswg.org/selectors-4/#type-selector"},
"https://drafts.fxtf.org/css-masking-1/#propdef-clip-path": {"displayText":"clip-path","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-masking","spec":"css-masking-1","status":"current","text":"clip-path","type":"property","url":"https://drafts.fxtf.org/css-masking-1/#propdef-clip-path"},
"https://drafts.fxtf.org/css-masking-1/#propdef-mask-image": {"displayText":"mask-image","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-masking","spec":"css-masking-1","status":"current","text":"mask-image","type":"property","url":"https://drafts.fxtf.org/css-masking-1/#propdef-mask-image"},
"https://drafts.fxtf.org/filter-effects-1/#propdef-filter": {"displayText":"filter","export":true,"for_":[],"level":"1","normative":true,"shortname":"filter-effects","spec":"filter-effects-1","status":"current","text":"filter","type":"property","url":"https://drafts.fxtf.org/filter-effects-1/#propdef-filter"},
"https://drafts.fxtf.org/geometry-1/#matrix": {"displayText":"matrix","export":false,"for_":[],"level":"1","normative":true,"shortname":"geometry","spec":"geometry-1","status":"current","text":"matrix","type":"dfn","url":"https://drafts.fxtf.org/geometry-1/#matrix"},
"https://html.spec.whatwg.org/multipage/browsers.html#same-origin": {"displayText":"same origin","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"same origin","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#same-origin"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#has-been-revealed": {"displayText":"has been revealed","export":false,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"has been revealed","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#has-been-revealed"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#latest-entry": {"displayText":"latest entry","export":false,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"latest entry","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#latest-entry"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#reactivate-a-document": {"displayText":"reactivate","export":true,"for_":["Document"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"reactivate","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#reactivate-a-document"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active": {"displayText":"fully active","export":true,"for_":["Document"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"fully active","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active"},
"https://html.spec.whatwg.org/multipage/dom.html#render-blocking-mechanism": {"displayText":"render-blocking mechanism","export":false,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"render-blocking mechanism","type":"dfn","url":"https://html.spec.whatwg.org/multipage/dom.html#render-blocking-mechanism"},
"https://html.spec.whatwg.org/multipage/dom.html#was-created-via-cross-origin-redirects": {"displayText":"was created via cross-origin redirects","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"was created via cross-origin redirects","type":"dfn","url":"https://html.spec.whatwg.org/multipage/dom.html#was-created-via-cross-origin-redirects"},
"https://html.spec.whatwg.org/multipage/indices.html#event-pagereveal": {"displayText":"pagereveal","export":true,"for_":["Window"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"pagereveal","type":"event","url":"https://html.spec.whatwg.org/multipage/indices.html#event-pagereveal"},
"https://html.spec.whatwg.org/multipage/indices.html#event-pageswap": {"displayText":"pageswap","export":true,"for_":["Window"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"pageswap","type":"event","url":"https://html.spec.whatwg.org/multipage/indices.html#event-pageswap"},
"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel": {"displayText":"in parallel","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"in parallel","type":"dfn","url":"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"},
"https://html.spec.whatwg.org/multipage/interaction.html#visibility-state": {"displayText":"visibility state","export":true,"for_":["Document"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"visibility state","type":"dfn","url":"https://html.spec.whatwg.org/multipage/interaction.html#visibility-state"},
"https://html.spec.whatwg.org/multipage/links.html#link-type-expect": {"displayText":"expect","export":true,"for_":["link/rel"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"expect","type":"attr-value","url":"https://html.spec.whatwg.org/multipage/links.html#link-type-expect"},
"https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-navigationtype-push": {"displayText":"push","export":true,"for_":["NavigationType"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"push","type":"enum-value","url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-navigationtype-push"},
"https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-navigationtype-reload": {"displayText":"reload","export":true,"for_":["NavigationType"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"reload","type":"enum-value","url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-navigationtype-reload"},
"https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-navigationtype-replace": {"displayText":"replace","export":true,"for_":["NavigationType"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"replace","type":"enum-value","url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-navigationtype-replace"},
"https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-navigationtype-traverse": {"displayText":"traverse","export":true,"for_":["NavigationType"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"traverse","type":"enum-value","url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-navigationtype-traverse"},
"https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-pagerevealevent-viewtransition": {"displayText":"viewTransition","export":true,"for_":["PageRevealEvent"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"viewTransition","type":"attribute","url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-pagerevealevent-viewtransition"},
"https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-pageswapevent-activation": {"displayText":"activation","export":true,"for_":["PageSwapEvent"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"activation","type":"attribute","url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-pageswapevent-activation"},
"https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-pageswapevent-viewtransition": {"displayText":"viewTransition","export":true,"for_":["PageSwapEvent"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"viewTransition","type":"attribute","url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-pageswapevent-viewtransition"},
"https://html.spec.whatwg.org/multipage/nav-history-apis.html#navigationtype": {"displayText":"NavigationType","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"NavigationType","type":"enum","url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#navigationtype"},
"https://html.spec.whatwg.org/multipage/nav-history-apis.html#pageswapevent": {"displayText":"PageSwapEvent","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"PageSwapEvent","type":"interface","url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#pageswapevent"},
"https://html.spec.whatwg.org/multipage/scripting.html#dom-script-blocking": {"displayText":"blocking","export":true,"for_":["HTMLScriptElement"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"blocking","type":"attribute","url":"https://html.spec.whatwg.org/multipage/scripting.html#dom-script-blocking"},
"https://html.spec.whatwg.org/multipage/semantics.html#dom-style-blocking": {"displayText":"blocking","export":true,"for_":["HTMLStyleElement"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"blocking","type":"attribute","url":"https://html.spec.whatwg.org/multipage/semantics.html#dom-style-blocking"},
"https://html.spec.whatwg.org/multipage/semantics.html#htmllinkelement": {"displayText":"HTMLLinkElement","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"HTMLLinkElement","type":"interface","url":"https://html.spec.whatwg.org/multipage/semantics.html#htmllinkelement"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global": {"displayText":"relevant global object","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"relevant global object","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm": {"displayText":"relevant realm","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"relevant realm","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-cross-origin-isolated-capability": {"displayText":"cross-origin isolated capability","export":true,"for_":["environment settings object"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"cross-origin isolated capability","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-cross-origin-isolated-capability"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-task": {"displayText":"task","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"task","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-task"},
"https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source": {"displayText":"DOM manipulation task source","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"dom manipulation task source","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"},
"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task": {"displayText":"queue a global task","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"queue a global task","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"},
"https://html.spec.whatwg.org/multipage/webappapis.html#rendering-opportunity": {"displayText":"rendering opportunity","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"rendering opportunity","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#rendering-opportunity"},
"https://html.spec.whatwg.org/multipage/webstorage.html#dom-sessionstorage": {"displayText":"sessionStorage","export":true,"for_":["WindowSessionStorage"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"sessionStorage","type":"attribute","url":"https://html.spec.whatwg.org/multipage/webstorage.html#dom-sessionstorage"},
"https://infra.spec.whatwg.org/#assert": {"displayText":"assert","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"assert","type":"dfn","url":"https://infra.spec.whatwg.org/#assert"},
"https://infra.spec.whatwg.org/#implementation-defined": {"displayText":"implementation-defined","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"implementation-defined","type":"dfn","url":"https://infra.spec.whatwg.org/#implementation-defined"},
"https://infra.spec.whatwg.org/#list": {"displayText":"list","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"list","type":"dfn","url":"https://infra.spec.whatwg.org/#list"},
"https://infra.spec.whatwg.org/#list-clone": {"displayText":"clone","export":true,"for_":["list","stack","queue","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"clone","type":"dfn","url":"https://infra.spec.whatwg.org/#list-clone"},
"https://infra.spec.whatwg.org/#list-contain": {"displayText":"contain","export":true,"for_":["list","stack","queue","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"contain","type":"dfn","url":"https://infra.spec.whatwg.org/#list-contain"},
"https://infra.spec.whatwg.org/#map-clone": {"displayText":"clone","export":true,"for_":["map"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"clone","type":"dfn","url":"https://infra.spec.whatwg.org/#map-clone"},
"https://infra.spec.whatwg.org/#ordered-map": {"displayText":"map","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"map","type":"dfn","url":"https://infra.spec.whatwg.org/#ordered-map"},
"https://infra.spec.whatwg.org/#ordered-set": {"displayText":"set","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"set","type":"dfn","url":"https://infra.spec.whatwg.org/#ordered-set"},
"https://infra.spec.whatwg.org/#struct": {"displayText":"struct","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"struct","type":"dfn","url":"https://infra.spec.whatwg.org/#struct"},
"https://infra.spec.whatwg.org/#struct-item": {"displayText":"item","export":true,"for_":["struct","tuple"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"item","type":"dfn","url":"https://infra.spec.whatwg.org/#struct-item"},
"https://infra.spec.whatwg.org/#tuple": {"displayText":"tuple","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"tuple","type":"dfn","url":"https://infra.spec.whatwg.org/#tuple"},
"https://w3c.github.io/hr-time/#dfn-duration": {"displayText":"duration","export":true,"for_":[],"level":"3","normative":true,"shortname":"hr-time","spec":"hr-time-3","status":"current","text":"duration","type":"dfn","url":"https://w3c.github.io/hr-time/#dfn-duration"},
"https://webidl.spec.whatwg.org/#Exposed": {"displayText":"Exposed","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"Exposed","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#Exposed"},
"https://webidl.spec.whatwg.org/#SameObject": {"displayText":"SameObject","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"SameObject","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#SameObject"},
"https://webidl.spec.whatwg.org/#aborterror": {"displayText":"AbortError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"AbortError","type":"exception","url":"https://webidl.spec.whatwg.org/#aborterror"},
"https://webidl.spec.whatwg.org/#getter-steps": {"displayText":"getter steps","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"getter steps","type":"dfn","url":"https://webidl.spec.whatwg.org/#getter-steps"},
"https://webidl.spec.whatwg.org/#idl-DOMException": {"displayText":"DOMException","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"DOMException","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-DOMException"},
"https://webidl.spec.whatwg.org/#idl-DOMString": {"displayText":"DOMString","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"DOMString","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-DOMString"},
"https://webidl.spec.whatwg.org/#idl-frozen-array": {"displayText":"FrozenArray","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"FrozenArray","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-frozen-array"},
"https://webidl.spec.whatwg.org/#idl-sequence": {"displayText":"sequence","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"sequence","type":"dfn","url":"https://webidl.spec.whatwg.org/#idl-sequence"},
"https://webidl.spec.whatwg.org/#invalidstateerror": {"displayText":"InvalidStateError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"InvalidStateError","type":"exception","url":"https://webidl.spec.whatwg.org/#invalidstateerror"},
"https://webidl.spec.whatwg.org/#method-steps": {"displayText":"method steps","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"method steps","type":"dfn","url":"https://webidl.spec.whatwg.org/#method-steps"},
"https://webidl.spec.whatwg.org/#resolve": {"displayText":"resolve","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"resolve","type":"dfn","url":"https://webidl.spec.whatwg.org/#resolve"},
"https://webidl.spec.whatwg.org/#this": {"displayText":"this","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"this","type":"dfn","url":"https://webidl.spec.whatwg.org/#this"},
};

function mkRefHint(link, ref) {
    const linkText = link.textContent;
    let dfnTextElements = '';
    if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
        // Give the original term if it's being displayed in a different way.
        // But allow casing differences, they're insignificant.
        dfnTextElements =
            mk.li({},
                mk.b({}, "Term: "),
                mk.span({}, ref.displayText)
            );
    }
    const forList = ref.for_;
    let forListElements;
    if(forList.length == 0) {
        forListElements = [];
    } else if(forList.length == 1) {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.span({}, forList[0]),
        );
    } else {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.ul({},
                ...forList.map(forItem =>
                    mk.li({},
                        mk.span({}, forItem)
                    ),
                ),
            ),
        );
    }
    const url = ref.url;
    const safeUrl = encodeURIComponent(url);
    const hintPanel = mk.aside({
        class: "ref-hint",
        id: `ref-hint-for-${safeUrl}`,
        "data-for": url,
        "aria-labelled-by": `ref-hint-for-${safeUrl}`,
    },
        mk.ul({},
            dfnTextElements,
            mk.li({},
                mk.b({}, "URL: "),
                mk.a({ href: url, class: "ref" }, url),
            ),
            mk.li({},
                mk.b({}, "Type: "),
                mk.span({}, `${ref.type}`),
            ),
            mk.li({},
                mk.b({}, "Spec: "),
                mk.span({}, `${ref.spec ? ref.spec : ''}`),
            ),
            forListElements
        ),
    );
    hintPanel.forLink = link;
    setupRefHintEventListeners(link, hintPanel);
    return hintPanel;
}

function hideAllRefHints() {
    queryAll(".ref-hint").forEach(el=>hideRefHint(el));
}

function hideRefHint(refHint) {
    const link = refHint.forLink;
    link.setAttribute("aria-expanded", "false");
    if(refHint.teardownEventListeners) {
        refHint.teardownEventListeners();
    }
    refHint.remove();
}

function showRefHint(link) {
    if(link.classList.contains("dfn-link")) return;
    const url = link.getAttribute("href");
    const refHintKey = link.getAttribute("data-refhint-key");
    let key = url;
    if(refHintKey) {
        key = refHintKey + "_" + url;
    }
    const ref = refsData[key];
    if(!ref) return;

    hideAllRefHints(); // Only display one at this time.

    const refHint = mkRefHint(link, ref);
    append(document.body, refHint);
    link.setAttribute("aria-expanded", "true");
    positionRefHint(refHint);
}

function setupRefHintEventListeners(link, refHint) {
    if (refHint.teardownEventListeners) return;
    // Add event handlers to hide the refHint after the user moves away
    // from both the link and refHint, if not hovering either within one second.
    let timeout = null;
    const startHidingRefHint = (event) => {
        if (timeout) {
            clearTimeout(timeout);
        }
        timeout = setTimeout(() => {
            hideRefHint(refHint);
        }, 1000);
    }
    const resetHidingRefHint = (event) => {
        if (timeout) clearTimeout(timeout);
        timeout = null;
    };
    link.addEventListener("mouseleave", startHidingRefHint);
    link.addEventListener("mouseenter", resetHidingRefHint);
    link.addEventListener("blur", startHidingRefHint);
    link.addEventListener("focus", resetHidingRefHint);
    refHint.addEventListener("mouseleave", startHidingRefHint);
    refHint.addEventListener("mouseenter", resetHidingRefHint);
    refHint.addEventListener("blur", startHidingRefHint);
    refHint.addEventListener("focus", resetHidingRefHint);

    refHint.teardownEventListeners = () => {
        // remove event listeners
        resetHidingRefHint();
        link.removeEventListener("mouseleave", startHidingRefHint);
        link.removeEventListener("mouseenter", resetHidingRefHint);
        link.removeEventListener("blur", startHidingRefHint);
        link.removeEventListener("focus", resetHidingRefHint);
        refHint.removeEventListener("mouseleave", startHidingRefHint);
        refHint.removeEventListener("mouseenter", resetHidingRefHint);
        refHint.removeEventListener("blur", startHidingRefHint);
        refHint.removeEventListener("focus", resetHidingRefHint);
    };
}

function positionRefHint(refHint) {
    const link = refHint.forLink;
    const linkPos = getBounds(link);
    refHint.style.top = linkPos.bottom + "px";
    refHint.style.left = linkPos.left + "px";

    const panelPos = refHint.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
        refHint.style.left = newLeft + "px";
    }
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function showRefHintListener(e) {
    // If the target isn't in a link (or is a link),
    // just ignore it.
    let link = e.target.closest("a");
    if(!link) return;

    // If the target is in a ref-hint panel
    // (aka a link in the already-open one),
    // also just ignore it.
    if(link.closest(".ref-hint")) return;

    // Otherwise, show the panel for the link.
    showRefHint(link);
}

function hideAllHintsListener(e) {
    // If the click is inside a ref-hint panel, ignore it.
    if(e.target.closest(".ref-hint")) return;
    // Otherwise, close all the current panels.
    hideAllRefHints();
}

document.addEventListener("DOMContentLoaded", () => {
    document.body.addEventListener("mousedown", showRefHintListener);
    document.body.addEventListener("focus", showRefHintListener);

    document.body.addEventListener("click", hideAllHintsListener);
});

window.addEventListener("resize", () => {
    // Hide any open ref hint.
    hideAllRefHints();
});
}
</script>
<script>/* Boilerplate: script-var-click-highlighting */
"use strict";
{
/*
Color-choosing design:

* Colors are ordered by goodness.
* On clicking a var, give it the earliest color
    with the lowest usage in the algorithm.
* On re-clicking, re-use the var's most recent color
    if that's not currently being used elsewhere.
*/

const COLOR_COUNT = 7;

document.addEventListener("click", e=>{
    if(e.target.nodeName == "VAR") {
        highlightSameAlgoVars(e.target);
    }
});

function highlightSameAlgoVars(v) {
    // Find the algorithm container.
    let algoContainer = findAlgoContainer(v);

    // Not highlighting document-global vars,
    // too likely to be unrelated.
    if(algoContainer == null) return;

    const varName = nameFromVar(v);
    if(!v.hasAttribute("data-var-color")) {
        const newColor = chooseHighlightColor(algoContainer, v);
        for(const el of algoContainer.querySelectorAll("var")) {
            if(nameFromVar(el) == varName) {
                el.setAttribute("data-var-color", newColor);
                el.setAttribute("data-var-last-color", newColor);
            }
        }
    } else {
        for(const el of algoContainer.querySelectorAll("var")) {
            if(nameFromVar(el) == varName) {
                el.removeAttribute("data-var-color");
            }
        }
    }
}
function findAlgoContainer(el) {
    while(el != document.body) {
        if(el.hasAttribute("data-algorithm")) return el;
        el = el.parentNode;
    }
    return null;
}
function nameFromVar(el) {
    return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
}
function colorCountsFromContainer(container) {
    const namesFromColor = Array.from({length:COLOR_COUNT}, x=>new Set());
    for(let v of container.querySelectorAll("var[data-var-color]")) {
        let color = +v.getAttribute("data-var-color");
        namesFromColor[color].add(nameFromVar(v));
    }

    return namesFromColor.map(x=>x.size);
}
function leastUsedColor(colors) {
    // Find the earliest color with the lowest count.
    let minCount = Infinity;
    let minColor = null;
    for(var i = 0; i < colors.length; i++) {
        if(colors[i] < minCount) {
            minColor = i;
            minCount = colors[i];
        }
    }
    return minColor;
}
function chooseHighlightColor(container, v) {
    const colorCounts = colorCountsFromContainer(container);
    if(v.hasAttribute("data-var-last-color")) {
        let color = +v.getAttribute("data-var-last-color");
        if(colorCounts[color] == 0) return color;
    }
    return leastUsedColor(colorCounts);
}
}
</script>